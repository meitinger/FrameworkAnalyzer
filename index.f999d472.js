function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}
function $parcel$interopDefault(a) {
  return a && a.__esModule ? a.default : a;
}
var $parcel$global =
typeof globalThis !== 'undefined'
  ? globalThis
  : typeof self !== 'undefined'
  ? self
  : typeof window !== 'undefined'
  ? window
  : typeof global !== 'undefined'
  ? global
  : {};
var $parcel$modules = {};
var $parcel$inits = {};

var parcelRequire = $parcel$global["parcelRequire3aa6"];
if (parcelRequire == null) {
  parcelRequire = function(id) {
    if (id in $parcel$modules) {
      return $parcel$modules[id].exports;
    }
    if (id in $parcel$inits) {
      var init = $parcel$inits[id];
      delete $parcel$inits[id];
      var module = {id: id, exports: {}};
      $parcel$modules[id] = module;
      init.call(module.exports, module, module.exports);
      return module.exports;
    }
    var err = new Error("Cannot find module '" + id + "'");
    err.code = 'MODULE_NOT_FOUND';
    throw err;
  };

  parcelRequire.register = function register(id, init) {
    $parcel$inits[id] = init;
  };

  $parcel$global["parcelRequire3aa6"] = parcelRequire;
}
parcelRequire.register("kyEFX", function(module, exports) {

$parcel$export(module.exports, "register", function () { return $ef7689007096c8a0$export$6503ec6e8aabbaf; }, function (v) { return $ef7689007096c8a0$export$6503ec6e8aabbaf = v; });
$parcel$export(module.exports, "resolve", function () { return $ef7689007096c8a0$export$f7ad0328861e2f03; }, function (v) { return $ef7689007096c8a0$export$f7ad0328861e2f03 = v; });
var $ef7689007096c8a0$export$6503ec6e8aabbaf;
var $ef7689007096c8a0$export$f7ad0328861e2f03;
"use strict";
var $ef7689007096c8a0$var$mapping = {};
function $ef7689007096c8a0$var$register(pairs) {
    var keys = Object.keys(pairs);
    for(var i = 0; i < keys.length; i++)$ef7689007096c8a0$var$mapping[keys[i]] = pairs[keys[i]];
}
function $ef7689007096c8a0$var$resolve(id) {
    var resolved = $ef7689007096c8a0$var$mapping[id];
    if (resolved == null) throw new Error('Could not resolve bundle with id ' + id);
    return resolved;
}
$ef7689007096c8a0$export$6503ec6e8aabbaf = $ef7689007096c8a0$var$register;
$ef7689007096c8a0$export$f7ad0328861e2f03 = $ef7689007096c8a0$var$resolve;

});

parcelRequire.register("0qhf8", function(module, exports) {

$parcel$export(module.exports, "Fragment", function () { return $0014624a040e5105$export$ffb0004e005737fa; }, function (v) { return $0014624a040e5105$export$ffb0004e005737fa = v; });
$parcel$export(module.exports, "jsx", function () { return $0014624a040e5105$export$34b9dba7ce09269b; }, function (v) { return $0014624a040e5105$export$34b9dba7ce09269b = v; });
$parcel$export(module.exports, "jsxs", function () { return $0014624a040e5105$export$25062201e9e25d76; }, function (v) { return $0014624a040e5105$export$25062201e9e25d76 = v; });
var $0014624a040e5105$export$ffb0004e005737fa;
var $0014624a040e5105$export$34b9dba7ce09269b;
var $0014624a040e5105$export$25062201e9e25d76;
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ 'use strict';
parcelRequire("4yvvI");

var $bh6RR = parcelRequire("bh6RR");
var $0014624a040e5105$var$g = 60103;
$0014624a040e5105$export$ffb0004e005737fa = 60107;
if ("function" === typeof Symbol && Symbol.for) {
    var $0014624a040e5105$var$h = Symbol.for;
    $0014624a040e5105$var$g = $0014624a040e5105$var$h("react.element");
    $0014624a040e5105$export$ffb0004e005737fa = $0014624a040e5105$var$h("react.fragment");
}
var $0014624a040e5105$var$m = $bh6RR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, $0014624a040e5105$var$n = Object.prototype.hasOwnProperty, $0014624a040e5105$var$p = {
    key: !0,
    ref: !0,
    __self: !0,
    __source: !0
};
function $0014624a040e5105$var$q(c, a, k) {
    var b, d = {}, e = null, l = null;
    void 0 !== k && (e = "" + k);
    void 0 !== a.key && (e = "" + a.key);
    void 0 !== a.ref && (l = a.ref);
    for(b in a)$0014624a040e5105$var$n.call(a, b) && !$0014624a040e5105$var$p.hasOwnProperty(b) && (d[b] = a[b]);
    if (c && c.defaultProps) for(b in a = c.defaultProps, a)void 0 === d[b] && (d[b] = a[b]);
    return {
        $$typeof: $0014624a040e5105$var$g,
        type: c,
        key: e,
        ref: l,
        props: d,
        _owner: $0014624a040e5105$var$m.current
    };
}
$0014624a040e5105$export$34b9dba7ce09269b = $0014624a040e5105$var$q;
$0014624a040e5105$export$25062201e9e25d76 = $0014624a040e5105$var$q;

});
parcelRequire.register("4yvvI", function(module, exports) {
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/ 'use strict';
/* eslint-disable no-unused-vars */ var $3512c7c00a4083d8$var$getOwnPropertySymbols = Object.getOwnPropertySymbols;
var $3512c7c00a4083d8$var$hasOwnProperty = Object.prototype.hasOwnProperty;
var $3512c7c00a4083d8$var$propIsEnumerable = Object.prototype.propertyIsEnumerable;
function $3512c7c00a4083d8$var$toObject(val) {
    if (val === null || val === undefined) throw new TypeError('Object.assign cannot be called with null or undefined');
    return Object(val);
}
function $3512c7c00a4083d8$var$shouldUseNative() {
    try {
        if (!Object.assign) return false;
        // Detect buggy property enumeration order in older V8 versions.
        // https://bugs.chromium.org/p/v8/issues/detail?id=4118
        var test1 = new String('abc'); // eslint-disable-line no-new-wrappers
        test1[5] = 'de';
        if (Object.getOwnPropertyNames(test1)[0] === '5') return false;
        // https://bugs.chromium.org/p/v8/issues/detail?id=3056
        var test2 = {};
        for(var i = 0; i < 10; i++)test2['_' + String.fromCharCode(i)] = i;
        var order2 = Object.getOwnPropertyNames(test2).map(function(n) {
            return test2[n];
        });
        if (order2.join('') !== '0123456789') return false;
        // https://bugs.chromium.org/p/v8/issues/detail?id=3056
        var test3 = {};
        'abcdefghijklmnopqrst'.split('').forEach(function(letter) {
            test3[letter] = letter;
        });
        if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') return false;
        return true;
    } catch (err) {
        // We don't expect any of the above to throw, but better to be safe.
        return false;
    }
}
module.exports = $3512c7c00a4083d8$var$shouldUseNative() ? Object.assign : function(target, source) {
    var from;
    var to = $3512c7c00a4083d8$var$toObject(target);
    var symbols;
    for(var s = 1; s < arguments.length; s++){
        from = Object(arguments[s]);
        for(var key in from)if ($3512c7c00a4083d8$var$hasOwnProperty.call(from, key)) to[key] = from[key];
        if ($3512c7c00a4083d8$var$getOwnPropertySymbols) {
            symbols = $3512c7c00a4083d8$var$getOwnPropertySymbols(from);
            for(var i = 0; i < symbols.length; i++)if ($3512c7c00a4083d8$var$propIsEnumerable.call(from, symbols[i])) to[symbols[i]] = from[symbols[i]];
        }
    }
    return to;
};

});

parcelRequire.register("bh6RR", function(module, exports) {
'use strict';

module.exports = (parcelRequire("cCfq4"));

});
parcelRequire.register("cCfq4", function(module, exports) {

$parcel$export(module.exports, "Fragment", function () { return $92f4fea5bc247620$export$ffb0004e005737fa; }, function (v) { return $92f4fea5bc247620$export$ffb0004e005737fa = v; });
$parcel$export(module.exports, "StrictMode", function () { return $92f4fea5bc247620$export$5f8d39834fd61797; }, function (v) { return $92f4fea5bc247620$export$5f8d39834fd61797 = v; });
$parcel$export(module.exports, "Profiler", function () { return $92f4fea5bc247620$export$e2c29f18771995cb; }, function (v) { return $92f4fea5bc247620$export$e2c29f18771995cb = v; });
$parcel$export(module.exports, "Suspense", function () { return $92f4fea5bc247620$export$74bf444e3cd11ea5; }, function (v) { return $92f4fea5bc247620$export$74bf444e3cd11ea5 = v; });
$parcel$export(module.exports, "Children", function () { return $92f4fea5bc247620$export$dca3b0875bd9a954; }, function (v) { return $92f4fea5bc247620$export$dca3b0875bd9a954 = v; });
$parcel$export(module.exports, "Component", function () { return $92f4fea5bc247620$export$16fa2f45be04daa8; }, function (v) { return $92f4fea5bc247620$export$16fa2f45be04daa8 = v; });
$parcel$export(module.exports, "PureComponent", function () { return $92f4fea5bc247620$export$221d75b3f55bb0bd; }, function (v) { return $92f4fea5bc247620$export$221d75b3f55bb0bd = v; });
$parcel$export(module.exports, "__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED", function () { return $92f4fea5bc247620$export$ae55be85d98224ed; }, function (v) { return $92f4fea5bc247620$export$ae55be85d98224ed = v; });
$parcel$export(module.exports, "cloneElement", function () { return $92f4fea5bc247620$export$e530037191fcd5d7; }, function (v) { return $92f4fea5bc247620$export$e530037191fcd5d7 = v; });
$parcel$export(module.exports, "createContext", function () { return $92f4fea5bc247620$export$fd42f52fd3ae1109; }, function (v) { return $92f4fea5bc247620$export$fd42f52fd3ae1109 = v; });
$parcel$export(module.exports, "createElement", function () { return $92f4fea5bc247620$export$c8a8987d4410bf2d; }, function (v) { return $92f4fea5bc247620$export$c8a8987d4410bf2d = v; });
$parcel$export(module.exports, "createFactory", function () { return $92f4fea5bc247620$export$d38cd72104c1f0e9; }, function (v) { return $92f4fea5bc247620$export$d38cd72104c1f0e9 = v; });
$parcel$export(module.exports, "createRef", function () { return $92f4fea5bc247620$export$7d1e3a5e95ceca43; }, function (v) { return $92f4fea5bc247620$export$7d1e3a5e95ceca43 = v; });
$parcel$export(module.exports, "forwardRef", function () { return $92f4fea5bc247620$export$257a8862b851cb5b; }, function (v) { return $92f4fea5bc247620$export$257a8862b851cb5b = v; });
$parcel$export(module.exports, "isValidElement", function () { return $92f4fea5bc247620$export$a8257692ac88316c; }, function (v) { return $92f4fea5bc247620$export$a8257692ac88316c = v; });
$parcel$export(module.exports, "lazy", function () { return $92f4fea5bc247620$export$488013bae63b21da; }, function (v) { return $92f4fea5bc247620$export$488013bae63b21da = v; });
$parcel$export(module.exports, "memo", function () { return $92f4fea5bc247620$export$7c73462e0d25e514; }, function (v) { return $92f4fea5bc247620$export$7c73462e0d25e514 = v; });
$parcel$export(module.exports, "useCallback", function () { return $92f4fea5bc247620$export$35808ee640e87ca7; }, function (v) { return $92f4fea5bc247620$export$35808ee640e87ca7 = v; });
$parcel$export(module.exports, "useContext", function () { return $92f4fea5bc247620$export$fae74005e78b1a27; }, function (v) { return $92f4fea5bc247620$export$fae74005e78b1a27 = v; });
$parcel$export(module.exports, "useDebugValue", function () { return $92f4fea5bc247620$export$dc8fbce3eb94dc1e; }, function (v) { return $92f4fea5bc247620$export$dc8fbce3eb94dc1e = v; });
$parcel$export(module.exports, "useEffect", function () { return $92f4fea5bc247620$export$6d9c69b0de29b591; }, function (v) { return $92f4fea5bc247620$export$6d9c69b0de29b591 = v; });
$parcel$export(module.exports, "useImperativeHandle", function () { return $92f4fea5bc247620$export$d5a552a76deda3c2; }, function (v) { return $92f4fea5bc247620$export$d5a552a76deda3c2 = v; });
$parcel$export(module.exports, "useLayoutEffect", function () { return $92f4fea5bc247620$export$e5c5a5f917a5871c; }, function (v) { return $92f4fea5bc247620$export$e5c5a5f917a5871c = v; });
$parcel$export(module.exports, "useMemo", function () { return $92f4fea5bc247620$export$1538c33de8887b59; }, function (v) { return $92f4fea5bc247620$export$1538c33de8887b59 = v; });
$parcel$export(module.exports, "useReducer", function () { return $92f4fea5bc247620$export$13e3392192263954; }, function (v) { return $92f4fea5bc247620$export$13e3392192263954 = v; });
$parcel$export(module.exports, "useRef", function () { return $92f4fea5bc247620$export$b8f5890fc79d6aca; }, function (v) { return $92f4fea5bc247620$export$b8f5890fc79d6aca = v; });
$parcel$export(module.exports, "useState", function () { return $92f4fea5bc247620$export$60241385465d0a34; }, function (v) { return $92f4fea5bc247620$export$60241385465d0a34 = v; });
$parcel$export(module.exports, "version", function () { return $92f4fea5bc247620$export$83d89fbfd8236492; }, function (v) { return $92f4fea5bc247620$export$83d89fbfd8236492 = v; });
var $92f4fea5bc247620$export$ffb0004e005737fa;
var $92f4fea5bc247620$export$5f8d39834fd61797;
var $92f4fea5bc247620$export$e2c29f18771995cb;
var $92f4fea5bc247620$export$74bf444e3cd11ea5;
var $92f4fea5bc247620$export$dca3b0875bd9a954;
var $92f4fea5bc247620$export$16fa2f45be04daa8;
var $92f4fea5bc247620$export$221d75b3f55bb0bd;
var $92f4fea5bc247620$export$ae55be85d98224ed;
var $92f4fea5bc247620$export$e530037191fcd5d7;
var $92f4fea5bc247620$export$fd42f52fd3ae1109;
var $92f4fea5bc247620$export$c8a8987d4410bf2d;
var $92f4fea5bc247620$export$d38cd72104c1f0e9;
var $92f4fea5bc247620$export$7d1e3a5e95ceca43;
var $92f4fea5bc247620$export$257a8862b851cb5b;
var $92f4fea5bc247620$export$a8257692ac88316c;
var $92f4fea5bc247620$export$488013bae63b21da;
var $92f4fea5bc247620$export$7c73462e0d25e514;
var $92f4fea5bc247620$export$35808ee640e87ca7;
var $92f4fea5bc247620$export$fae74005e78b1a27;
var $92f4fea5bc247620$export$dc8fbce3eb94dc1e;
var $92f4fea5bc247620$export$6d9c69b0de29b591;
var $92f4fea5bc247620$export$d5a552a76deda3c2;
var $92f4fea5bc247620$export$e5c5a5f917a5871c;
var $92f4fea5bc247620$export$1538c33de8887b59;
var $92f4fea5bc247620$export$13e3392192263954;
var $92f4fea5bc247620$export$b8f5890fc79d6aca;
var $92f4fea5bc247620$export$60241385465d0a34;
var $92f4fea5bc247620$export$83d89fbfd8236492;
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ 'use strict';

var $4yvvI = parcelRequire("4yvvI");
var $92f4fea5bc247620$var$n = 60103, $92f4fea5bc247620$var$p = 60106;
$92f4fea5bc247620$export$ffb0004e005737fa = 60107;
$92f4fea5bc247620$export$5f8d39834fd61797 = 60108;
$92f4fea5bc247620$export$e2c29f18771995cb = 60114;
var $92f4fea5bc247620$var$q = 60109, $92f4fea5bc247620$var$r = 60110, $92f4fea5bc247620$var$t = 60112;
$92f4fea5bc247620$export$74bf444e3cd11ea5 = 60113;
var $92f4fea5bc247620$var$u = 60115, $92f4fea5bc247620$var$v = 60116;
if ("function" === typeof Symbol && Symbol.for) {
    var $92f4fea5bc247620$var$w = Symbol.for;
    $92f4fea5bc247620$var$n = $92f4fea5bc247620$var$w("react.element");
    $92f4fea5bc247620$var$p = $92f4fea5bc247620$var$w("react.portal");
    $92f4fea5bc247620$export$ffb0004e005737fa = $92f4fea5bc247620$var$w("react.fragment");
    $92f4fea5bc247620$export$5f8d39834fd61797 = $92f4fea5bc247620$var$w("react.strict_mode");
    $92f4fea5bc247620$export$e2c29f18771995cb = $92f4fea5bc247620$var$w("react.profiler");
    $92f4fea5bc247620$var$q = $92f4fea5bc247620$var$w("react.provider");
    $92f4fea5bc247620$var$r = $92f4fea5bc247620$var$w("react.context");
    $92f4fea5bc247620$var$t = $92f4fea5bc247620$var$w("react.forward_ref");
    $92f4fea5bc247620$export$74bf444e3cd11ea5 = $92f4fea5bc247620$var$w("react.suspense");
    $92f4fea5bc247620$var$u = $92f4fea5bc247620$var$w("react.memo");
    $92f4fea5bc247620$var$v = $92f4fea5bc247620$var$w("react.lazy");
}
var $92f4fea5bc247620$var$x = "function" === typeof Symbol && Symbol.iterator;
function $92f4fea5bc247620$var$y(a) {
    if (null === a || "object" !== typeof a) return null;
    a = $92f4fea5bc247620$var$x && a[$92f4fea5bc247620$var$x] || a["@@iterator"];
    return "function" === typeof a ? a : null;
}
function $92f4fea5bc247620$var$z(a) {
    for(var b = "https://reactjs.org/docs/error-decoder.html?invariant=" + a, c = 1; c < arguments.length; c++)b += "&args[]=" + encodeURIComponent(arguments[c]);
    return "Minified React error #" + a + "; visit " + b + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
}
var $92f4fea5bc247620$var$A = {
    isMounted: function() {
        return !1;
    },
    enqueueForceUpdate: function() {},
    enqueueReplaceState: function() {},
    enqueueSetState: function() {}
}, $92f4fea5bc247620$var$B = {};
function $92f4fea5bc247620$var$C(a, b, c) {
    this.props = a;
    this.context = b;
    this.refs = $92f4fea5bc247620$var$B;
    this.updater = c || $92f4fea5bc247620$var$A;
}
$92f4fea5bc247620$var$C.prototype.isReactComponent = {};
$92f4fea5bc247620$var$C.prototype.setState = function(a, b) {
    if ("object" !== typeof a && "function" !== typeof a && null != a) throw Error($92f4fea5bc247620$var$z(85));
    this.updater.enqueueSetState(this, a, b, "setState");
};
$92f4fea5bc247620$var$C.prototype.forceUpdate = function(a) {
    this.updater.enqueueForceUpdate(this, a, "forceUpdate");
};
function $92f4fea5bc247620$var$D() {}
$92f4fea5bc247620$var$D.prototype = $92f4fea5bc247620$var$C.prototype;
function $92f4fea5bc247620$var$E(a, b, c) {
    this.props = a;
    this.context = b;
    this.refs = $92f4fea5bc247620$var$B;
    this.updater = c || $92f4fea5bc247620$var$A;
}
var $92f4fea5bc247620$var$F = $92f4fea5bc247620$var$E.prototype = new $92f4fea5bc247620$var$D;
$92f4fea5bc247620$var$F.constructor = $92f4fea5bc247620$var$E;
$4yvvI($92f4fea5bc247620$var$F, $92f4fea5bc247620$var$C.prototype);
$92f4fea5bc247620$var$F.isPureReactComponent = !0;
var $92f4fea5bc247620$var$G = {
    current: null
}, $92f4fea5bc247620$var$H = Object.prototype.hasOwnProperty, $92f4fea5bc247620$var$I = {
    key: !0,
    ref: !0,
    __self: !0,
    __source: !0
};
function $92f4fea5bc247620$var$J(a, b, c) {
    var e, d = {}, k = null, h = null;
    if (null != b) for(e in void 0 !== b.ref && (h = b.ref), void 0 !== b.key && (k = "" + b.key), b)$92f4fea5bc247620$var$H.call(b, e) && !$92f4fea5bc247620$var$I.hasOwnProperty(e) && (d[e] = b[e]);
    var g = arguments.length - 2;
    if (1 === g) d.children = c;
    else if (1 < g) {
        for(var f = Array(g), m = 0; m < g; m++)f[m] = arguments[m + 2];
        d.children = f;
    }
    if (a && a.defaultProps) for(e in g = a.defaultProps, g)void 0 === d[e] && (d[e] = g[e]);
    return {
        $$typeof: $92f4fea5bc247620$var$n,
        type: a,
        key: k,
        ref: h,
        props: d,
        _owner: $92f4fea5bc247620$var$G.current
    };
}
function $92f4fea5bc247620$var$K(a, b) {
    return {
        $$typeof: $92f4fea5bc247620$var$n,
        type: a.type,
        key: b,
        ref: a.ref,
        props: a.props,
        _owner: a._owner
    };
}
function $92f4fea5bc247620$var$L(a) {
    return "object" === typeof a && null !== a && a.$$typeof === $92f4fea5bc247620$var$n;
}
function $92f4fea5bc247620$var$escape(a1) {
    var b = {
        "=": "=0",
        ":": "=2"
    };
    return "$" + a1.replace(/[=:]/g, function(a) {
        return b[a];
    });
}
var $92f4fea5bc247620$var$M = /\/+/g;
function $92f4fea5bc247620$var$N(a, b) {
    return "object" === typeof a && null !== a && null != a.key ? $92f4fea5bc247620$var$escape("" + a.key) : b.toString(36);
}
function $92f4fea5bc247620$var$O(a2, b, c, e, d) {
    var k = typeof a2;
    if ("undefined" === k || "boolean" === k) a2 = null;
    var h = !1;
    if (null === a2) h = !0;
    else switch(k){
        case "string":
        case "number":
            h = !0;
            break;
        case "object":
            switch(a2.$$typeof){
                case $92f4fea5bc247620$var$n:
                case $92f4fea5bc247620$var$p:
                    h = !0;
            }
    }
    if (h) return h = a2, d = d(h), a2 = "" === e ? "." + $92f4fea5bc247620$var$N(h, 0) : e, Array.isArray(d) ? (c = "", null != a2 && (c = a2.replace($92f4fea5bc247620$var$M, "$&/") + "/"), $92f4fea5bc247620$var$O(d, b, c, "", function(a) {
        return a;
    })) : null != d && ($92f4fea5bc247620$var$L(d) && (d = $92f4fea5bc247620$var$K(d, c + (!d.key || h && h.key === d.key ? "" : ("" + d.key).replace($92f4fea5bc247620$var$M, "$&/") + "/") + a2)), b.push(d)), 1;
    h = 0;
    e = "" === e ? "." : e + ":";
    if (Array.isArray(a2)) for(var g = 0; g < a2.length; g++){
        k = a2[g];
        var f = e + $92f4fea5bc247620$var$N(k, g);
        h += $92f4fea5bc247620$var$O(k, b, c, f, d);
    }
    else if (f = $92f4fea5bc247620$var$y(a2), "function" === typeof f) for(a2 = f.call(a2), g = 0; !(k = a2.next()).done;)k = k.value, f = e + $92f4fea5bc247620$var$N(k, g++), h += $92f4fea5bc247620$var$O(k, b, c, f, d);
    else if ("object" === k) throw b = "" + a2, Error($92f4fea5bc247620$var$z(31, "[object Object]" === b ? "object with keys {" + Object.keys(a2).join(", ") + "}" : b));
    return h;
}
function $92f4fea5bc247620$var$P(a3, b, c) {
    if (null == a3) return a3;
    var e = [], d = 0;
    $92f4fea5bc247620$var$O(a3, e, "", "", function(a) {
        return b.call(c, a, d++);
    });
    return e;
}
function $92f4fea5bc247620$var$Q(a) {
    if (-1 === a._status) {
        var b1 = a._result;
        b1 = b1();
        a._status = 0;
        a._result = b1;
        b1.then(function(b) {
            0 === a._status && (b = b.default, a._status = 1, a._result = b);
        }, function(b) {
            0 === a._status && (a._status = 2, a._result = b);
        });
    }
    if (1 === a._status) return a._result;
    throw a._result;
}
var $92f4fea5bc247620$var$R = {
    current: null
};
function $92f4fea5bc247620$var$S() {
    var a = $92f4fea5bc247620$var$R.current;
    if (null === a) throw Error($92f4fea5bc247620$var$z(321));
    return a;
}
var $92f4fea5bc247620$var$T = {
    ReactCurrentDispatcher: $92f4fea5bc247620$var$R,
    ReactCurrentBatchConfig: {
        transition: 0
    },
    ReactCurrentOwner: $92f4fea5bc247620$var$G,
    IsSomeRendererActing: {
        current: !1
    },
    assign: $4yvvI
};
$92f4fea5bc247620$export$dca3b0875bd9a954 = {
    map: $92f4fea5bc247620$var$P,
    forEach: function(a, b, c) {
        $92f4fea5bc247620$var$P(a, function() {
            b.apply(this, arguments);
        }, c);
    },
    count: function(a) {
        var b = 0;
        $92f4fea5bc247620$var$P(a, function() {
            b++;
        });
        return b;
    },
    toArray: function(a4) {
        return $92f4fea5bc247620$var$P(a4, function(a) {
            return a;
        }) || [];
    },
    only: function(a) {
        if (!$92f4fea5bc247620$var$L(a)) throw Error($92f4fea5bc247620$var$z(143));
        return a;
    }
};
$92f4fea5bc247620$export$16fa2f45be04daa8 = $92f4fea5bc247620$var$C;
$92f4fea5bc247620$export$221d75b3f55bb0bd = $92f4fea5bc247620$var$E;
$92f4fea5bc247620$export$ae55be85d98224ed = $92f4fea5bc247620$var$T;
$92f4fea5bc247620$export$e530037191fcd5d7 = function(a, b, c) {
    if (null === a || void 0 === a) throw Error($92f4fea5bc247620$var$z(267, a));
    var e = $4yvvI({}, a.props), d = a.key, k = a.ref, h = a._owner;
    if (null != b) {
        void 0 !== b.ref && (k = b.ref, h = $92f4fea5bc247620$var$G.current);
        void 0 !== b.key && (d = "" + b.key);
        if (a.type && a.type.defaultProps) var g = a.type.defaultProps;
        for(f in b)$92f4fea5bc247620$var$H.call(b, f) && !$92f4fea5bc247620$var$I.hasOwnProperty(f) && (e[f] = void 0 === b[f] && void 0 !== g ? g[f] : b[f]);
    }
    var f = arguments.length - 2;
    if (1 === f) e.children = c;
    else if (1 < f) {
        g = Array(f);
        for(var m = 0; m < f; m++)g[m] = arguments[m + 2];
        e.children = g;
    }
    return {
        $$typeof: $92f4fea5bc247620$var$n,
        type: a.type,
        key: d,
        ref: k,
        props: e,
        _owner: h
    };
};
$92f4fea5bc247620$export$fd42f52fd3ae1109 = function(a, b) {
    void 0 === b && (b = null);
    a = {
        $$typeof: $92f4fea5bc247620$var$r,
        _calculateChangedBits: b,
        _currentValue: a,
        _currentValue2: a,
        _threadCount: 0,
        Provider: null,
        Consumer: null
    };
    a.Provider = {
        $$typeof: $92f4fea5bc247620$var$q,
        _context: a
    };
    return a.Consumer = a;
};
$92f4fea5bc247620$export$c8a8987d4410bf2d = $92f4fea5bc247620$var$J;
$92f4fea5bc247620$export$d38cd72104c1f0e9 = function(a) {
    var b = $92f4fea5bc247620$var$J.bind(null, a);
    b.type = a;
    return b;
};
$92f4fea5bc247620$export$7d1e3a5e95ceca43 = function() {
    return {
        current: null
    };
};
$92f4fea5bc247620$export$257a8862b851cb5b = function(a) {
    return {
        $$typeof: $92f4fea5bc247620$var$t,
        render: a
    };
};
$92f4fea5bc247620$export$a8257692ac88316c = $92f4fea5bc247620$var$L;
$92f4fea5bc247620$export$488013bae63b21da = function(a) {
    return {
        $$typeof: $92f4fea5bc247620$var$v,
        _payload: {
            _status: -1,
            _result: a
        },
        _init: $92f4fea5bc247620$var$Q
    };
};
$92f4fea5bc247620$export$7c73462e0d25e514 = function(a, b) {
    return {
        $$typeof: $92f4fea5bc247620$var$u,
        type: a,
        compare: void 0 === b ? null : b
    };
};
$92f4fea5bc247620$export$35808ee640e87ca7 = function(a, b) {
    return $92f4fea5bc247620$var$S().useCallback(a, b);
};
$92f4fea5bc247620$export$fae74005e78b1a27 = function(a, b) {
    return $92f4fea5bc247620$var$S().useContext(a, b);
};
$92f4fea5bc247620$export$dc8fbce3eb94dc1e = function() {};
$92f4fea5bc247620$export$6d9c69b0de29b591 = function(a, b) {
    return $92f4fea5bc247620$var$S().useEffect(a, b);
};
$92f4fea5bc247620$export$d5a552a76deda3c2 = function(a, b, c) {
    return $92f4fea5bc247620$var$S().useImperativeHandle(a, b, c);
};
$92f4fea5bc247620$export$e5c5a5f917a5871c = function(a, b) {
    return $92f4fea5bc247620$var$S().useLayoutEffect(a, b);
};
$92f4fea5bc247620$export$1538c33de8887b59 = function(a, b) {
    return $92f4fea5bc247620$var$S().useMemo(a, b);
};
$92f4fea5bc247620$export$13e3392192263954 = function(a, b, c) {
    return $92f4fea5bc247620$var$S().useReducer(a, b, c);
};
$92f4fea5bc247620$export$b8f5890fc79d6aca = function(a) {
    return $92f4fea5bc247620$var$S().useRef(a);
};
$92f4fea5bc247620$export$60241385465d0a34 = function(a) {
    return $92f4fea5bc247620$var$S().useState(a);
};
$92f4fea5bc247620$export$83d89fbfd8236492 = "17.0.2";

});



parcelRequire.register("foRq4", function(module, exports) {

$parcel$export(module.exports, "__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED", function () { return $b36288e2db101ba3$export$ae55be85d98224ed; }, function (v) { return $b36288e2db101ba3$export$ae55be85d98224ed = v; });
$parcel$export(module.exports, "createPortal", function () { return $b36288e2db101ba3$export$d39a5bbd09211389; }, function (v) { return $b36288e2db101ba3$export$d39a5bbd09211389 = v; });
$parcel$export(module.exports, "findDOMNode", function () { return $b36288e2db101ba3$export$466bfc07425424d5; }, function (v) { return $b36288e2db101ba3$export$466bfc07425424d5 = v; });
$parcel$export(module.exports, "flushSync", function () { return $b36288e2db101ba3$export$cd75ccfd720a3cd4; }, function (v) { return $b36288e2db101ba3$export$cd75ccfd720a3cd4 = v; });
$parcel$export(module.exports, "hydrate", function () { return $b36288e2db101ba3$export$fa8d919ba61d84db; }, function (v) { return $b36288e2db101ba3$export$fa8d919ba61d84db = v; });
$parcel$export(module.exports, "render", function () { return $b36288e2db101ba3$export$b3890eb0ae9dca99; }, function (v) { return $b36288e2db101ba3$export$b3890eb0ae9dca99 = v; });
$parcel$export(module.exports, "unmountComponentAtNode", function () { return $b36288e2db101ba3$export$502457920280e6be; }, function (v) { return $b36288e2db101ba3$export$502457920280e6be = v; });
$parcel$export(module.exports, "unstable_batchedUpdates", function () { return $b36288e2db101ba3$export$c78a37762a8d58e1; }, function (v) { return $b36288e2db101ba3$export$c78a37762a8d58e1 = v; });
$parcel$export(module.exports, "unstable_createPortal", function () { return $b36288e2db101ba3$export$2577ef5d2565d52f; }, function (v) { return $b36288e2db101ba3$export$2577ef5d2565d52f = v; });
$parcel$export(module.exports, "unstable_renderSubtreeIntoContainer", function () { return $b36288e2db101ba3$export$dc54d992c10e8a18; }, function (v) { return $b36288e2db101ba3$export$dc54d992c10e8a18 = v; });
$parcel$export(module.exports, "version", function () { return $b36288e2db101ba3$export$83d89fbfd8236492; }, function (v) { return $b36288e2db101ba3$export$83d89fbfd8236492 = v; });
var $b36288e2db101ba3$export$ae55be85d98224ed;
var $b36288e2db101ba3$export$d39a5bbd09211389;
var $b36288e2db101ba3$export$466bfc07425424d5;
var $b36288e2db101ba3$export$cd75ccfd720a3cd4;
var $b36288e2db101ba3$export$fa8d919ba61d84db;
var $b36288e2db101ba3$export$b3890eb0ae9dca99;
var $b36288e2db101ba3$export$502457920280e6be;
var $b36288e2db101ba3$export$c78a37762a8d58e1;
var $b36288e2db101ba3$export$2577ef5d2565d52f;
var $b36288e2db101ba3$export$dc54d992c10e8a18;
var $b36288e2db101ba3$export$83d89fbfd8236492;
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ /*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/ 'use strict';

var $bh6RR = parcelRequire("bh6RR");

var $4yvvI = parcelRequire("4yvvI");

var $4LCdk = parcelRequire("4LCdk");
function $b36288e2db101ba3$var$y(a) {
    for(var b = "https://reactjs.org/docs/error-decoder.html?invariant=" + a, c = 1; c < arguments.length; c++)b += "&args[]=" + encodeURIComponent(arguments[c]);
    return "Minified React error #" + a + "; visit " + b + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
}
if (!$bh6RR) throw Error($b36288e2db101ba3$var$y(227));
var $b36288e2db101ba3$var$ba = new Set, $b36288e2db101ba3$var$ca = {};
function $b36288e2db101ba3$var$da(a, b) {
    $b36288e2db101ba3$var$ea(a, b);
    $b36288e2db101ba3$var$ea(a + "Capture", b);
}
function $b36288e2db101ba3$var$ea(a, b) {
    $b36288e2db101ba3$var$ca[a] = b;
    for(a = 0; a < b.length; a++)$b36288e2db101ba3$var$ba.add(b[a]);
}
var $b36288e2db101ba3$var$fa = !("undefined" === typeof window || "undefined" === typeof window.document || "undefined" === typeof window.document.createElement), $b36288e2db101ba3$var$ha = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/, $b36288e2db101ba3$var$ia = Object.prototype.hasOwnProperty, $b36288e2db101ba3$var$ja = {}, $b36288e2db101ba3$var$ka = {};
function $b36288e2db101ba3$var$la(a) {
    if ($b36288e2db101ba3$var$ia.call($b36288e2db101ba3$var$ka, a)) return !0;
    if ($b36288e2db101ba3$var$ia.call($b36288e2db101ba3$var$ja, a)) return !1;
    if ($b36288e2db101ba3$var$ha.test(a)) return $b36288e2db101ba3$var$ka[a] = !0;
    $b36288e2db101ba3$var$ja[a] = !0;
    return !1;
}
function $b36288e2db101ba3$var$ma(a, b, c, d) {
    if (null !== c && 0 === c.type) return !1;
    switch(typeof b){
        case "function":
        case "symbol":
            return !0;
        case "boolean":
            if (d) return !1;
            if (null !== c) return !c.acceptsBooleans;
            a = a.toLowerCase().slice(0, 5);
            return "data-" !== a && "aria-" !== a;
        default:
            return !1;
    }
}
function $b36288e2db101ba3$var$na(a, b, c, d) {
    if (null === b || "undefined" === typeof b || $b36288e2db101ba3$var$ma(a, b, c, d)) return !0;
    if (d) return !1;
    if (null !== c) switch(c.type){
        case 3:
            return !b;
        case 4:
            return !1 === b;
        case 5:
            return isNaN(b);
        case 6:
            return isNaN(b) || 1 > b;
    }
    return !1;
}
function $b36288e2db101ba3$var$B(a, b, c, d, e, f, g) {
    this.acceptsBooleans = 2 === b || 3 === b || 4 === b;
    this.attributeName = d;
    this.attributeNamespace = e;
    this.mustUseProperty = c;
    this.propertyName = a;
    this.type = b;
    this.sanitizeURL = f;
    this.removeEmptyString = g;
}
var $b36288e2db101ba3$var$D = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 0, !1, a, null, !1, !1);
});
[
    [
        "acceptCharset",
        "accept-charset"
    ],
    [
        "className",
        "class"
    ],
    [
        "htmlFor",
        "for"
    ],
    [
        "httpEquiv",
        "http-equiv"
    ]
].forEach(function(a) {
    var b = a[0];
    $b36288e2db101ba3$var$D[b] = new $b36288e2db101ba3$var$B(b, 1, !1, a[1], null, !1, !1);
});
[
    "contentEditable",
    "draggable",
    "spellCheck",
    "value"
].forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 2, !1, a.toLowerCase(), null, !1, !1);
});
[
    "autoReverse",
    "externalResourcesRequired",
    "focusable",
    "preserveAlpha"
].forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 2, !1, a, null, !1, !1);
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 3, !1, a.toLowerCase(), null, !1, !1);
});
[
    "checked",
    "multiple",
    "muted",
    "selected"
].forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 3, !0, a, null, !1, !1);
});
[
    "capture",
    "download"
].forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 4, !1, a, null, !1, !1);
});
[
    "cols",
    "rows",
    "size",
    "span"
].forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 6, !1, a, null, !1, !1);
});
[
    "rowSpan",
    "start"
].forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 5, !1, a.toLowerCase(), null, !1, !1);
});
var $b36288e2db101ba3$var$oa = /[\-:]([a-z])/g;
function $b36288e2db101ba3$var$pa(a) {
    return a[1].toUpperCase();
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a) {
    var b = a.replace($b36288e2db101ba3$var$oa, $b36288e2db101ba3$var$pa);
    $b36288e2db101ba3$var$D[b] = new $b36288e2db101ba3$var$B(b, 1, !1, a, null, !1, !1);
});
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a) {
    var b = a.replace($b36288e2db101ba3$var$oa, $b36288e2db101ba3$var$pa);
    $b36288e2db101ba3$var$D[b] = new $b36288e2db101ba3$var$B(b, 1, !1, a, "http://www.w3.org/1999/xlink", !1, !1);
});
[
    "xml:base",
    "xml:lang",
    "xml:space"
].forEach(function(a) {
    var b = a.replace($b36288e2db101ba3$var$oa, $b36288e2db101ba3$var$pa);
    $b36288e2db101ba3$var$D[b] = new $b36288e2db101ba3$var$B(b, 1, !1, a, "http://www.w3.org/XML/1998/namespace", !1, !1);
});
[
    "tabIndex",
    "crossOrigin"
].forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 1, !1, a.toLowerCase(), null, !1, !1);
});
$b36288e2db101ba3$var$D.xlinkHref = new $b36288e2db101ba3$var$B("xlinkHref", 1, !1, "xlink:href", "http://www.w3.org/1999/xlink", !0, !1);
[
    "src",
    "href",
    "action",
    "formAction"
].forEach(function(a) {
    $b36288e2db101ba3$var$D[a] = new $b36288e2db101ba3$var$B(a, 1, !1, a.toLowerCase(), null, !0, !0);
});
function $b36288e2db101ba3$var$qa(a, b, c, d) {
    var e = $b36288e2db101ba3$var$D.hasOwnProperty(b) ? $b36288e2db101ba3$var$D[b] : null;
    var f = null !== e ? 0 === e.type : d ? !1 : !(2 < b.length) || "o" !== b[0] && "O" !== b[0] || "n" !== b[1] && "N" !== b[1] ? !1 : !0;
    f || ($b36288e2db101ba3$var$na(b, c, e, d) && (c = null), d || null === e ? $b36288e2db101ba3$var$la(b) && (null === c ? a.removeAttribute(b) : a.setAttribute(b, "" + c)) : e.mustUseProperty ? a[e.propertyName] = null === c ? 3 === e.type ? !1 : "" : c : (b = e.attributeName, d = e.attributeNamespace, null === c ? a.removeAttribute(b) : (e = e.type, c = 3 === e || 4 === e && !0 === c ? "" : "" + c, d ? a.setAttributeNS(d, b, c) : a.setAttribute(b, c))));
}
var $b36288e2db101ba3$var$ra = $bh6RR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, $b36288e2db101ba3$var$sa = 60103, $b36288e2db101ba3$var$ta = 60106, $b36288e2db101ba3$var$ua = 60107, $b36288e2db101ba3$var$wa = 60108, $b36288e2db101ba3$var$xa = 60114, $b36288e2db101ba3$var$ya = 60109, $b36288e2db101ba3$var$za = 60110, $b36288e2db101ba3$var$Aa = 60112, $b36288e2db101ba3$var$Ba = 60113, $b36288e2db101ba3$var$Ca = 60120, $b36288e2db101ba3$var$Da = 60115, $b36288e2db101ba3$var$Ea = 60116, $b36288e2db101ba3$var$Fa = 60121, $b36288e2db101ba3$var$Ga = 60128, $b36288e2db101ba3$var$Ha = 60129, $b36288e2db101ba3$var$Ia = 60130, $b36288e2db101ba3$var$Ja = 60131;
if ("function" === typeof Symbol && Symbol.for) {
    var $b36288e2db101ba3$var$E = Symbol.for;
    $b36288e2db101ba3$var$sa = $b36288e2db101ba3$var$E("react.element");
    $b36288e2db101ba3$var$ta = $b36288e2db101ba3$var$E("react.portal");
    $b36288e2db101ba3$var$ua = $b36288e2db101ba3$var$E("react.fragment");
    $b36288e2db101ba3$var$wa = $b36288e2db101ba3$var$E("react.strict_mode");
    $b36288e2db101ba3$var$xa = $b36288e2db101ba3$var$E("react.profiler");
    $b36288e2db101ba3$var$ya = $b36288e2db101ba3$var$E("react.provider");
    $b36288e2db101ba3$var$za = $b36288e2db101ba3$var$E("react.context");
    $b36288e2db101ba3$var$Aa = $b36288e2db101ba3$var$E("react.forward_ref");
    $b36288e2db101ba3$var$Ba = $b36288e2db101ba3$var$E("react.suspense");
    $b36288e2db101ba3$var$Ca = $b36288e2db101ba3$var$E("react.suspense_list");
    $b36288e2db101ba3$var$Da = $b36288e2db101ba3$var$E("react.memo");
    $b36288e2db101ba3$var$Ea = $b36288e2db101ba3$var$E("react.lazy");
    $b36288e2db101ba3$var$Fa = $b36288e2db101ba3$var$E("react.block");
    $b36288e2db101ba3$var$E("react.scope");
    $b36288e2db101ba3$var$Ga = $b36288e2db101ba3$var$E("react.opaque.id");
    $b36288e2db101ba3$var$Ha = $b36288e2db101ba3$var$E("react.debug_trace_mode");
    $b36288e2db101ba3$var$Ia = $b36288e2db101ba3$var$E("react.offscreen");
    $b36288e2db101ba3$var$Ja = $b36288e2db101ba3$var$E("react.legacy_hidden");
}
var $b36288e2db101ba3$var$Ka = "function" === typeof Symbol && Symbol.iterator;
function $b36288e2db101ba3$var$La(a) {
    if (null === a || "object" !== typeof a) return null;
    a = $b36288e2db101ba3$var$Ka && a[$b36288e2db101ba3$var$Ka] || a["@@iterator"];
    return "function" === typeof a ? a : null;
}
var $b36288e2db101ba3$var$Ma;
function $b36288e2db101ba3$var$Na(a) {
    if (void 0 === $b36288e2db101ba3$var$Ma) try {
        throw Error();
    } catch (c) {
        var b = c.stack.trim().match(/\n( *(at )?)/);
        $b36288e2db101ba3$var$Ma = b && b[1] || "";
    }
    return "\n" + $b36288e2db101ba3$var$Ma + a;
}
var $b36288e2db101ba3$var$Oa = !1;
function $b36288e2db101ba3$var$Pa(a, b) {
    if (!a || $b36288e2db101ba3$var$Oa) return "";
    $b36288e2db101ba3$var$Oa = !0;
    var c = Error.prepareStackTrace;
    Error.prepareStackTrace = void 0;
    try {
        if (b) {
            if (b = function() {
                throw Error();
            }, Object.defineProperty(b.prototype, "props", {
                set: function() {
                    throw Error();
                }
            }), "object" === typeof Reflect && Reflect.construct) {
                try {
                    Reflect.construct(b, []);
                } catch (k) {
                    var d = k;
                }
                Reflect.construct(a, [], b);
            } else {
                try {
                    b.call();
                } catch (k) {
                    d = k;
                }
                a.call(b.prototype);
            }
        } else {
            try {
                throw Error();
            } catch (k) {
                d = k;
            }
            a();
        }
    } catch (k) {
        if (k && d && "string" === typeof k.stack) {
            for(var e = k.stack.split("\n"), f = d.stack.split("\n"), g = e.length - 1, h = f.length - 1; 1 <= g && 0 <= h && e[g] !== f[h];)h--;
            for(; 1 <= g && 0 <= h; g--, h--)if (e[g] !== f[h]) {
                if (1 !== g || 1 !== h) {
                    do if (g--, h--, 0 > h || e[g] !== f[h]) return "\n" + e[g].replace(" at new ", " at ");
                    while (1 <= g && 0 <= h)
                }
                break;
            }
        }
    } finally{
        $b36288e2db101ba3$var$Oa = !1, Error.prepareStackTrace = c;
    }
    return (a = a ? a.displayName || a.name : "") ? $b36288e2db101ba3$var$Na(a) : "";
}
function $b36288e2db101ba3$var$Qa(a) {
    switch(a.tag){
        case 5:
            return $b36288e2db101ba3$var$Na(a.type);
        case 16:
            return $b36288e2db101ba3$var$Na("Lazy");
        case 13:
            return $b36288e2db101ba3$var$Na("Suspense");
        case 19:
            return $b36288e2db101ba3$var$Na("SuspenseList");
        case 0:
        case 2:
        case 15:
            return a = $b36288e2db101ba3$var$Pa(a.type, !1), a;
        case 11:
            return a = $b36288e2db101ba3$var$Pa(a.type.render, !1), a;
        case 22:
            return a = $b36288e2db101ba3$var$Pa(a.type._render, !1), a;
        case 1:
            return a = $b36288e2db101ba3$var$Pa(a.type, !0), a;
        default:
            return "";
    }
}
function $b36288e2db101ba3$var$Ra(a) {
    if (null == a) return null;
    if ("function" === typeof a) return a.displayName || a.name || null;
    if ("string" === typeof a) return a;
    switch(a){
        case $b36288e2db101ba3$var$ua:
            return "Fragment";
        case $b36288e2db101ba3$var$ta:
            return "Portal";
        case $b36288e2db101ba3$var$xa:
            return "Profiler";
        case $b36288e2db101ba3$var$wa:
            return "StrictMode";
        case $b36288e2db101ba3$var$Ba:
            return "Suspense";
        case $b36288e2db101ba3$var$Ca:
            return "SuspenseList";
    }
    if ("object" === typeof a) switch(a.$$typeof){
        case $b36288e2db101ba3$var$za:
            return (a.displayName || "Context") + ".Consumer";
        case $b36288e2db101ba3$var$ya:
            return (a._context.displayName || "Context") + ".Provider";
        case $b36288e2db101ba3$var$Aa:
            var b = a.render;
            b = b.displayName || b.name || "";
            return a.displayName || ("" !== b ? "ForwardRef(" + b + ")" : "ForwardRef");
        case $b36288e2db101ba3$var$Da:
            return $b36288e2db101ba3$var$Ra(a.type);
        case $b36288e2db101ba3$var$Fa:
            return $b36288e2db101ba3$var$Ra(a._render);
        case $b36288e2db101ba3$var$Ea:
            b = a._payload;
            a = a._init;
            try {
                return $b36288e2db101ba3$var$Ra(a(b));
            } catch (c) {}
    }
    return null;
}
function $b36288e2db101ba3$var$Sa(a) {
    switch(typeof a){
        case "boolean":
        case "number":
        case "object":
        case "string":
        case "undefined":
            return a;
        default:
            return "";
    }
}
function $b36288e2db101ba3$var$Ta(a) {
    var b = a.type;
    return (a = a.nodeName) && "input" === a.toLowerCase() && ("checkbox" === b || "radio" === b);
}
function $b36288e2db101ba3$var$Ua(a1) {
    var b = $b36288e2db101ba3$var$Ta(a1) ? "checked" : "value", c = Object.getOwnPropertyDescriptor(a1.constructor.prototype, b), d = "" + a1[b];
    if (!a1.hasOwnProperty(b) && "undefined" !== typeof c && "function" === typeof c.get && "function" === typeof c.set) {
        var e = c.get, f = c.set;
        Object.defineProperty(a1, b, {
            configurable: !0,
            get: function() {
                return e.call(this);
            },
            set: function(a) {
                d = "" + a;
                f.call(this, a);
            }
        });
        Object.defineProperty(a1, b, {
            enumerable: c.enumerable
        });
        return {
            getValue: function() {
                return d;
            },
            setValue: function(a) {
                d = "" + a;
            },
            stopTracking: function() {
                a1._valueTracker = null;
                delete a1[b];
            }
        };
    }
}
function $b36288e2db101ba3$var$Va(a) {
    a._valueTracker || (a._valueTracker = $b36288e2db101ba3$var$Ua(a));
}
function $b36288e2db101ba3$var$Wa(a) {
    if (!a) return !1;
    var b = a._valueTracker;
    if (!b) return !0;
    var c = b.getValue();
    var d = "";
    a && (d = $b36288e2db101ba3$var$Ta(a) ? a.checked ? "true" : "false" : a.value);
    a = d;
    return a !== c ? (b.setValue(a), !0) : !1;
}
function $b36288e2db101ba3$var$Xa(a) {
    a = a || ("undefined" !== typeof document ? document : void 0);
    if ("undefined" === typeof a) return null;
    try {
        return a.activeElement || a.body;
    } catch (b) {
        return a.body;
    }
}
function $b36288e2db101ba3$var$Ya(a, b) {
    var c = b.checked;
    return $4yvvI({}, b, {
        defaultChecked: void 0,
        defaultValue: void 0,
        value: void 0,
        checked: null != c ? c : a._wrapperState.initialChecked
    });
}
function $b36288e2db101ba3$var$Za(a, b) {
    var c = null == b.defaultValue ? "" : b.defaultValue, d = null != b.checked ? b.checked : b.defaultChecked;
    c = $b36288e2db101ba3$var$Sa(null != b.value ? b.value : c);
    a._wrapperState = {
        initialChecked: d,
        initialValue: c,
        controlled: "checkbox" === b.type || "radio" === b.type ? null != b.checked : null != b.value
    };
}
function $b36288e2db101ba3$var$$a(a, b) {
    b = b.checked;
    null != b && $b36288e2db101ba3$var$qa(a, "checked", b, !1);
}
function $b36288e2db101ba3$var$ab(a, b) {
    $b36288e2db101ba3$var$$a(a, b);
    var c = $b36288e2db101ba3$var$Sa(b.value), d = b.type;
    if (null != c) {
        if ("number" === d) {
            if (0 === c && "" === a.value || a.value != c) a.value = "" + c;
        } else a.value !== "" + c && (a.value = "" + c);
    } else if ("submit" === d || "reset" === d) {
        a.removeAttribute("value");
        return;
    }
    b.hasOwnProperty("value") ? $b36288e2db101ba3$var$bb(a, b.type, c) : b.hasOwnProperty("defaultValue") && $b36288e2db101ba3$var$bb(a, b.type, $b36288e2db101ba3$var$Sa(b.defaultValue));
    null == b.checked && null != b.defaultChecked && (a.defaultChecked = !!b.defaultChecked);
}
function $b36288e2db101ba3$var$cb(a, b, c) {
    if (b.hasOwnProperty("value") || b.hasOwnProperty("defaultValue")) {
        var d = b.type;
        if (!("submit" !== d && "reset" !== d || void 0 !== b.value && null !== b.value)) return;
        b = "" + a._wrapperState.initialValue;
        c || b === a.value || (a.value = b);
        a.defaultValue = b;
    }
    c = a.name;
    "" !== c && (a.name = "");
    a.defaultChecked = !!a._wrapperState.initialChecked;
    "" !== c && (a.name = c);
}
function $b36288e2db101ba3$var$bb(a, b, c) {
    if ("number" !== b || $b36288e2db101ba3$var$Xa(a.ownerDocument) !== a) null == c ? a.defaultValue = "" + a._wrapperState.initialValue : a.defaultValue !== "" + c && (a.defaultValue = "" + c);
}
function $b36288e2db101ba3$var$db(a2) {
    var b = "";
    $bh6RR.Children.forEach(a2, function(a) {
        null != a && (b += a);
    });
    return b;
}
function $b36288e2db101ba3$var$eb(a, b) {
    a = $4yvvI({
        children: void 0
    }, b);
    if (b = $b36288e2db101ba3$var$db(b.children)) a.children = b;
    return a;
}
function $b36288e2db101ba3$var$fb(a, b, c, d) {
    a = a.options;
    if (b) {
        b = {};
        for(var e = 0; e < c.length; e++)b["$" + c[e]] = !0;
        for(c = 0; c < a.length; c++)e = b.hasOwnProperty("$" + a[c].value), a[c].selected !== e && (a[c].selected = e), e && d && (a[c].defaultSelected = !0);
    } else {
        c = "" + $b36288e2db101ba3$var$Sa(c);
        b = null;
        for(e = 0; e < a.length; e++){
            if (a[e].value === c) {
                a[e].selected = !0;
                d && (a[e].defaultSelected = !0);
                return;
            }
            null !== b || a[e].disabled || (b = a[e]);
        }
        null !== b && (b.selected = !0);
    }
}
function $b36288e2db101ba3$var$gb(a, b) {
    if (null != b.dangerouslySetInnerHTML) throw Error($b36288e2db101ba3$var$y(91));
    return $4yvvI({}, b, {
        value: void 0,
        defaultValue: void 0,
        children: "" + a._wrapperState.initialValue
    });
}
function $b36288e2db101ba3$var$hb(a, b) {
    var c = b.value;
    if (null == c) {
        c = b.children;
        b = b.defaultValue;
        if (null != c) {
            if (null != b) throw Error($b36288e2db101ba3$var$y(92));
            if (Array.isArray(c)) {
                if (!(1 >= c.length)) throw Error($b36288e2db101ba3$var$y(93));
                c = c[0];
            }
            b = c;
        }
        null == b && (b = "");
        c = b;
    }
    a._wrapperState = {
        initialValue: $b36288e2db101ba3$var$Sa(c)
    };
}
function $b36288e2db101ba3$var$ib(a, b) {
    var c = $b36288e2db101ba3$var$Sa(b.value), d = $b36288e2db101ba3$var$Sa(b.defaultValue);
    null != c && (c = "" + c, c !== a.value && (a.value = c), null == b.defaultValue && a.defaultValue !== c && (a.defaultValue = c));
    null != d && (a.defaultValue = "" + d);
}
function $b36288e2db101ba3$var$jb(a) {
    var b = a.textContent;
    b === a._wrapperState.initialValue && "" !== b && null !== b && (a.value = b);
}
var $b36288e2db101ba3$var$kb = {
    html: "http://www.w3.org/1999/xhtml",
    mathml: "http://www.w3.org/1998/Math/MathML",
    svg: "http://www.w3.org/2000/svg"
};
function $b36288e2db101ba3$var$lb(a) {
    switch(a){
        case "svg":
            return "http://www.w3.org/2000/svg";
        case "math":
            return "http://www.w3.org/1998/Math/MathML";
        default:
            return "http://www.w3.org/1999/xhtml";
    }
}
function $b36288e2db101ba3$var$mb(a, b) {
    return null == a || "http://www.w3.org/1999/xhtml" === a ? $b36288e2db101ba3$var$lb(b) : "http://www.w3.org/2000/svg" === a && "foreignObject" === b ? "http://www.w3.org/1999/xhtml" : a;
}
var $b36288e2db101ba3$var$nb, $b36288e2db101ba3$var$ob = function(a) {
    return "undefined" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function(b, c, d, e) {
        MSApp.execUnsafeLocalFunction(function() {
            return a(b, c, d, e);
        });
    } : a;
}(function(a, b) {
    if (a.namespaceURI !== $b36288e2db101ba3$var$kb.svg || "innerHTML" in a) a.innerHTML = b;
    else {
        $b36288e2db101ba3$var$nb = $b36288e2db101ba3$var$nb || document.createElement("div");
        $b36288e2db101ba3$var$nb.innerHTML = "<svg>" + b.valueOf().toString() + "</svg>";
        for(b = $b36288e2db101ba3$var$nb.firstChild; a.firstChild;)a.removeChild(a.firstChild);
        for(; b.firstChild;)a.appendChild(b.firstChild);
    }
});
function $b36288e2db101ba3$var$pb(a, b) {
    if (b) {
        var c = a.firstChild;
        if (c && c === a.lastChild && 3 === c.nodeType) {
            c.nodeValue = b;
            return;
        }
    }
    a.textContent = b;
}
var $b36288e2db101ba3$var$qb = {
    animationIterationCount: !0,
    borderImageOutset: !0,
    borderImageSlice: !0,
    borderImageWidth: !0,
    boxFlex: !0,
    boxFlexGroup: !0,
    boxOrdinalGroup: !0,
    columnCount: !0,
    columns: !0,
    flex: !0,
    flexGrow: !0,
    flexPositive: !0,
    flexShrink: !0,
    flexNegative: !0,
    flexOrder: !0,
    gridArea: !0,
    gridRow: !0,
    gridRowEnd: !0,
    gridRowSpan: !0,
    gridRowStart: !0,
    gridColumn: !0,
    gridColumnEnd: !0,
    gridColumnSpan: !0,
    gridColumnStart: !0,
    fontWeight: !0,
    lineClamp: !0,
    lineHeight: !0,
    opacity: !0,
    order: !0,
    orphans: !0,
    tabSize: !0,
    widows: !0,
    zIndex: !0,
    zoom: !0,
    fillOpacity: !0,
    floodOpacity: !0,
    stopOpacity: !0,
    strokeDasharray: !0,
    strokeDashoffset: !0,
    strokeMiterlimit: !0,
    strokeOpacity: !0,
    strokeWidth: !0
}, $b36288e2db101ba3$var$rb = [
    "Webkit",
    "ms",
    "Moz",
    "O"
];
Object.keys($b36288e2db101ba3$var$qb).forEach(function(a) {
    $b36288e2db101ba3$var$rb.forEach(function(b) {
        b = b + a.charAt(0).toUpperCase() + a.substring(1);
        $b36288e2db101ba3$var$qb[b] = $b36288e2db101ba3$var$qb[a];
    });
});
function $b36288e2db101ba3$var$sb(a, b, c) {
    return null == b || "boolean" === typeof b || "" === b ? "" : c || "number" !== typeof b || 0 === b || $b36288e2db101ba3$var$qb.hasOwnProperty(a) && $b36288e2db101ba3$var$qb[a] ? ("" + b).trim() : b + "px";
}
function $b36288e2db101ba3$var$tb(a, b) {
    a = a.style;
    for(var c in b)if (b.hasOwnProperty(c)) {
        var d = 0 === c.indexOf("--"), e = $b36288e2db101ba3$var$sb(c, b[c], d);
        "float" === c && (c = "cssFloat");
        d ? a.setProperty(c, e) : a[c] = e;
    }
}
var $b36288e2db101ba3$var$ub = $4yvvI({
    menuitem: !0
}, {
    area: !0,
    base: !0,
    br: !0,
    col: !0,
    embed: !0,
    hr: !0,
    img: !0,
    input: !0,
    keygen: !0,
    link: !0,
    meta: !0,
    param: !0,
    source: !0,
    track: !0,
    wbr: !0
});
function $b36288e2db101ba3$var$vb(a, b) {
    if (b) {
        if ($b36288e2db101ba3$var$ub[a] && (null != b.children || null != b.dangerouslySetInnerHTML)) throw Error($b36288e2db101ba3$var$y(137, a));
        if (null != b.dangerouslySetInnerHTML) {
            if (null != b.children) throw Error($b36288e2db101ba3$var$y(60));
            if (!("object" === typeof b.dangerouslySetInnerHTML && "__html" in b.dangerouslySetInnerHTML)) throw Error($b36288e2db101ba3$var$y(61));
        }
        if (null != b.style && "object" !== typeof b.style) throw Error($b36288e2db101ba3$var$y(62));
    }
}
function $b36288e2db101ba3$var$wb(a, b) {
    if (-1 === a.indexOf("-")) return "string" === typeof b.is;
    switch(a){
        case "annotation-xml":
        case "color-profile":
        case "font-face":
        case "font-face-src":
        case "font-face-uri":
        case "font-face-format":
        case "font-face-name":
        case "missing-glyph":
            return !1;
        default:
            return !0;
    }
}
function $b36288e2db101ba3$var$xb(a) {
    a = a.target || a.srcElement || window;
    a.correspondingUseElement && (a = a.correspondingUseElement);
    return 3 === a.nodeType ? a.parentNode : a;
}
var $b36288e2db101ba3$var$yb = null, $b36288e2db101ba3$var$zb = null, $b36288e2db101ba3$var$Ab = null;
function $b36288e2db101ba3$var$Bb(a) {
    if (a = $b36288e2db101ba3$var$Cb(a)) {
        if ("function" !== typeof $b36288e2db101ba3$var$yb) throw Error($b36288e2db101ba3$var$y(280));
        var b = a.stateNode;
        b && (b = $b36288e2db101ba3$var$Db(b), $b36288e2db101ba3$var$yb(a.stateNode, a.type, b));
    }
}
function $b36288e2db101ba3$var$Eb(a) {
    $b36288e2db101ba3$var$zb ? $b36288e2db101ba3$var$Ab ? $b36288e2db101ba3$var$Ab.push(a) : $b36288e2db101ba3$var$Ab = [
        a
    ] : $b36288e2db101ba3$var$zb = a;
}
function $b36288e2db101ba3$var$Fb() {
    if ($b36288e2db101ba3$var$zb) {
        var a = $b36288e2db101ba3$var$zb, b = $b36288e2db101ba3$var$Ab;
        $b36288e2db101ba3$var$Ab = $b36288e2db101ba3$var$zb = null;
        $b36288e2db101ba3$var$Bb(a);
        if (b) for(a = 0; a < b.length; a++)$b36288e2db101ba3$var$Bb(b[a]);
    }
}
function $b36288e2db101ba3$var$Gb(a, b) {
    return a(b);
}
function $b36288e2db101ba3$var$Hb(a, b, c, d, e) {
    return a(b, c, d, e);
}
function $b36288e2db101ba3$var$Ib() {}
var $b36288e2db101ba3$var$Jb = $b36288e2db101ba3$var$Gb, $b36288e2db101ba3$var$Kb = !1, $b36288e2db101ba3$var$Lb = !1;
function $b36288e2db101ba3$var$Mb() {
    if (null !== $b36288e2db101ba3$var$zb || null !== $b36288e2db101ba3$var$Ab) $b36288e2db101ba3$var$Ib(), $b36288e2db101ba3$var$Fb();
}
function $b36288e2db101ba3$var$Nb(a, b, c) {
    if ($b36288e2db101ba3$var$Lb) return a(b, c);
    $b36288e2db101ba3$var$Lb = !0;
    try {
        return $b36288e2db101ba3$var$Jb(a, b, c);
    } finally{
        $b36288e2db101ba3$var$Lb = !1, $b36288e2db101ba3$var$Mb();
    }
}
function $b36288e2db101ba3$var$Ob(a, b) {
    var c = a.stateNode;
    if (null === c) return null;
    var d = $b36288e2db101ba3$var$Db(c);
    if (null === d) return null;
    c = d[b];
    a: switch(b){
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
        case "onMouseEnter":
            (d = !d.disabled) || (a = a.type, d = !("button" === a || "input" === a || "select" === a || "textarea" === a));
            a = !d;
            break a;
        default:
            a = !1;
    }
    if (a) return null;
    if (c && "function" !== typeof c) throw Error($b36288e2db101ba3$var$y(231, b, typeof c));
    return c;
}
var $b36288e2db101ba3$var$Pb = !1;
if ($b36288e2db101ba3$var$fa) try {
    var $b36288e2db101ba3$var$Qb = {};
    Object.defineProperty($b36288e2db101ba3$var$Qb, "passive", {
        get: function() {
            $b36288e2db101ba3$var$Pb = !0;
        }
    });
    window.addEventListener("test", $b36288e2db101ba3$var$Qb, $b36288e2db101ba3$var$Qb);
    window.removeEventListener("test", $b36288e2db101ba3$var$Qb, $b36288e2db101ba3$var$Qb);
} catch (a) {
    $b36288e2db101ba3$var$Pb = !1;
}
function $b36288e2db101ba3$var$Rb(a, b, c, d, e, f, g, h, k) {
    var l = Array.prototype.slice.call(arguments, 3);
    try {
        b.apply(c, l);
    } catch (n) {
        this.onError(n);
    }
}
var $b36288e2db101ba3$var$Sb = !1, $b36288e2db101ba3$var$Tb = null, $b36288e2db101ba3$var$Ub = !1, $b36288e2db101ba3$var$Vb = null, $b36288e2db101ba3$var$Wb = {
    onError: function(a3) {
        $b36288e2db101ba3$var$Sb = !0;
        $b36288e2db101ba3$var$Tb = a3;
    }
};
function $b36288e2db101ba3$var$Xb(a, b, c, d, e, f, g, h, k) {
    $b36288e2db101ba3$var$Sb = !1;
    $b36288e2db101ba3$var$Tb = null;
    $b36288e2db101ba3$var$Rb.apply($b36288e2db101ba3$var$Wb, arguments);
}
function $b36288e2db101ba3$var$Yb(a, b, c, d, e, f, g, h, k) {
    $b36288e2db101ba3$var$Xb.apply(this, arguments);
    if ($b36288e2db101ba3$var$Sb) {
        if ($b36288e2db101ba3$var$Sb) {
            var l = $b36288e2db101ba3$var$Tb;
            $b36288e2db101ba3$var$Sb = !1;
            $b36288e2db101ba3$var$Tb = null;
        } else throw Error($b36288e2db101ba3$var$y(198));
        $b36288e2db101ba3$var$Ub || ($b36288e2db101ba3$var$Ub = !0, $b36288e2db101ba3$var$Vb = l);
    }
}
function $b36288e2db101ba3$var$Zb(a4) {
    var b = a4, c = a4;
    if (a4.alternate) for(; b.return;)b = b.return;
    else {
        a4 = b;
        do b = a4, 0 !== (b.flags & 1026) && (c = b.return), a4 = b.return;
        while (a4)
    }
    return 3 === b.tag ? c : null;
}
function $b36288e2db101ba3$var$$b(a5) {
    if (13 === a5.tag) {
        var b = a5.memoizedState;
        null === b && (a5 = a5.alternate, null !== a5 && (b = a5.memoizedState));
        if (null !== b) return b.dehydrated;
    }
    return null;
}
function $b36288e2db101ba3$var$ac(a6) {
    if ($b36288e2db101ba3$var$Zb(a6) !== a6) throw Error($b36288e2db101ba3$var$y(188));
}
function $b36288e2db101ba3$var$bc(a7) {
    var b = a7.alternate;
    if (!b) {
        b = $b36288e2db101ba3$var$Zb(a7);
        if (null === b) throw Error($b36288e2db101ba3$var$y(188));
        return b !== a7 ? null : a7;
    }
    for(var c = a7, d = b;;){
        var e = c.return;
        if (null === e) break;
        var f = e.alternate;
        if (null === f) {
            d = e.return;
            if (null !== d) {
                c = d;
                continue;
            }
            break;
        }
        if (e.child === f.child) {
            for(f = e.child; f;){
                if (f === c) return $b36288e2db101ba3$var$ac(e), a7;
                if (f === d) return $b36288e2db101ba3$var$ac(e), b;
                f = f.sibling;
            }
            throw Error($b36288e2db101ba3$var$y(188));
        }
        if (c.return !== d.return) c = e, d = f;
        else {
            for(var g = !1, h = e.child; h;){
                if (h === c) {
                    g = !0;
                    c = e;
                    d = f;
                    break;
                }
                if (h === d) {
                    g = !0;
                    d = e;
                    c = f;
                    break;
                }
                h = h.sibling;
            }
            if (!g) {
                for(h = f.child; h;){
                    if (h === c) {
                        g = !0;
                        c = f;
                        d = e;
                        break;
                    }
                    if (h === d) {
                        g = !0;
                        d = f;
                        c = e;
                        break;
                    }
                    h = h.sibling;
                }
                if (!g) throw Error($b36288e2db101ba3$var$y(189));
            }
        }
        if (c.alternate !== d) throw Error($b36288e2db101ba3$var$y(190));
    }
    if (3 !== c.tag) throw Error($b36288e2db101ba3$var$y(188));
    return c.stateNode.current === c ? a7 : b;
}
function $b36288e2db101ba3$var$cc(a8) {
    a8 = $b36288e2db101ba3$var$bc(a8);
    if (!a8) return null;
    for(var b = a8;;){
        if (5 === b.tag || 6 === b.tag) return b;
        if (b.child) b.child.return = b, b = b.child;
        else {
            if (b === a8) break;
            for(; !b.sibling;){
                if (!b.return || b.return === a8) return null;
                b = b.return;
            }
            b.sibling.return = b.return;
            b = b.sibling;
        }
    }
    return null;
}
function $b36288e2db101ba3$var$dc(a9, b) {
    for(var c = a9.alternate; null !== b;){
        if (b === a9 || b === c) return !0;
        b = b.return;
    }
    return !1;
}
var $b36288e2db101ba3$var$ec, $b36288e2db101ba3$var$fc, $b36288e2db101ba3$var$gc, $b36288e2db101ba3$var$hc, $b36288e2db101ba3$var$ic = !1, $b36288e2db101ba3$var$jc = [], $b36288e2db101ba3$var$kc = null, $b36288e2db101ba3$var$lc = null, $b36288e2db101ba3$var$mc = null, $b36288e2db101ba3$var$nc = new Map, $b36288e2db101ba3$var$oc = new Map, $b36288e2db101ba3$var$pc = [], $b36288e2db101ba3$var$qc = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
function $b36288e2db101ba3$var$rc(a10, b, c, d, e) {
    return {
        blockedOn: a10,
        domEventName: b,
        eventSystemFlags: c | 16,
        nativeEvent: e,
        targetContainers: [
            d
        ]
    };
}
function $b36288e2db101ba3$var$sc(a11, b) {
    switch(a11){
        case "focusin":
        case "focusout":
            $b36288e2db101ba3$var$kc = null;
            break;
        case "dragenter":
        case "dragleave":
            $b36288e2db101ba3$var$lc = null;
            break;
        case "mouseover":
        case "mouseout":
            $b36288e2db101ba3$var$mc = null;
            break;
        case "pointerover":
        case "pointerout":
            $b36288e2db101ba3$var$nc.delete(b.pointerId);
            break;
        case "gotpointercapture":
        case "lostpointercapture":
            $b36288e2db101ba3$var$oc.delete(b.pointerId);
    }
}
function $b36288e2db101ba3$var$tc(a12, b, c, d, e, f) {
    if (null === a12 || a12.nativeEvent !== f) return a12 = $b36288e2db101ba3$var$rc(b, c, d, e, f), null !== b && (b = $b36288e2db101ba3$var$Cb(b), null !== b && $b36288e2db101ba3$var$fc(b)), a12;
    a12.eventSystemFlags |= d;
    b = a12.targetContainers;
    null !== e && -1 === b.indexOf(e) && b.push(e);
    return a12;
}
function $b36288e2db101ba3$var$uc(a13, b, c, d, e) {
    switch(b){
        case "focusin":
            return $b36288e2db101ba3$var$kc = $b36288e2db101ba3$var$tc($b36288e2db101ba3$var$kc, a13, b, c, d, e), !0;
        case "dragenter":
            return $b36288e2db101ba3$var$lc = $b36288e2db101ba3$var$tc($b36288e2db101ba3$var$lc, a13, b, c, d, e), !0;
        case "mouseover":
            return $b36288e2db101ba3$var$mc = $b36288e2db101ba3$var$tc($b36288e2db101ba3$var$mc, a13, b, c, d, e), !0;
        case "pointerover":
            var f = e.pointerId;
            $b36288e2db101ba3$var$nc.set(f, $b36288e2db101ba3$var$tc($b36288e2db101ba3$var$nc.get(f) || null, a13, b, c, d, e));
            return !0;
        case "gotpointercapture":
            return f = e.pointerId, $b36288e2db101ba3$var$oc.set(f, $b36288e2db101ba3$var$tc($b36288e2db101ba3$var$oc.get(f) || null, a13, b, c, d, e)), !0;
    }
    return !1;
}
function $b36288e2db101ba3$var$vc(a14) {
    var b = $b36288e2db101ba3$var$wc(a14.target);
    if (null !== b) {
        var c = $b36288e2db101ba3$var$Zb(b);
        if (null !== c) {
            if (b = c.tag, 13 === b) {
                if (b = $b36288e2db101ba3$var$$b(c), null !== b) {
                    a14.blockedOn = b;
                    $b36288e2db101ba3$var$hc(a14.lanePriority, function() {
                        $4LCdk.unstable_runWithPriority(a14.priority, function() {
                            $b36288e2db101ba3$var$gc(c);
                        });
                    });
                    return;
                }
            } else if (3 === b && c.stateNode.hydrate) {
                a14.blockedOn = 3 === c.tag ? c.stateNode.containerInfo : null;
                return;
            }
        }
    }
    a14.blockedOn = null;
}
function $b36288e2db101ba3$var$xc(a15) {
    if (null !== a15.blockedOn) return !1;
    for(var b = a15.targetContainers; 0 < b.length;){
        var c = $b36288e2db101ba3$var$yc(a15.domEventName, a15.eventSystemFlags, b[0], a15.nativeEvent);
        if (null !== c) return b = $b36288e2db101ba3$var$Cb(c), null !== b && $b36288e2db101ba3$var$fc(b), a15.blockedOn = c, !1;
        b.shift();
    }
    return !0;
}
function $b36288e2db101ba3$var$zc(a16, b, c) {
    $b36288e2db101ba3$var$xc(a16) && c.delete(b);
}
function $b36288e2db101ba3$var$Ac() {
    for($b36288e2db101ba3$var$ic = !1; 0 < $b36288e2db101ba3$var$jc.length;){
        var a17 = $b36288e2db101ba3$var$jc[0];
        if (null !== a17.blockedOn) {
            a17 = $b36288e2db101ba3$var$Cb(a17.blockedOn);
            null !== a17 && $b36288e2db101ba3$var$ec(a17);
            break;
        }
        for(var b = a17.targetContainers; 0 < b.length;){
            var c = $b36288e2db101ba3$var$yc(a17.domEventName, a17.eventSystemFlags, b[0], a17.nativeEvent);
            if (null !== c) {
                a17.blockedOn = c;
                break;
            }
            b.shift();
        }
        null === a17.blockedOn && $b36288e2db101ba3$var$jc.shift();
    }
    null !== $b36288e2db101ba3$var$kc && $b36288e2db101ba3$var$xc($b36288e2db101ba3$var$kc) && ($b36288e2db101ba3$var$kc = null);
    null !== $b36288e2db101ba3$var$lc && $b36288e2db101ba3$var$xc($b36288e2db101ba3$var$lc) && ($b36288e2db101ba3$var$lc = null);
    null !== $b36288e2db101ba3$var$mc && $b36288e2db101ba3$var$xc($b36288e2db101ba3$var$mc) && ($b36288e2db101ba3$var$mc = null);
    $b36288e2db101ba3$var$nc.forEach($b36288e2db101ba3$var$zc);
    $b36288e2db101ba3$var$oc.forEach($b36288e2db101ba3$var$zc);
}
function $b36288e2db101ba3$var$Bc(a18, b) {
    a18.blockedOn === b && (a18.blockedOn = null, $b36288e2db101ba3$var$ic || ($b36288e2db101ba3$var$ic = !0, $4LCdk.unstable_scheduleCallback($4LCdk.unstable_NormalPriority, $b36288e2db101ba3$var$Ac)));
}
function $b36288e2db101ba3$var$Cc(a19) {
    function b1(b) {
        return $b36288e2db101ba3$var$Bc(b, a19);
    }
    if (0 < $b36288e2db101ba3$var$jc.length) {
        $b36288e2db101ba3$var$Bc($b36288e2db101ba3$var$jc[0], a19);
        for(var c = 1; c < $b36288e2db101ba3$var$jc.length; c++){
            var d = $b36288e2db101ba3$var$jc[c];
            d.blockedOn === a19 && (d.blockedOn = null);
        }
    }
    null !== $b36288e2db101ba3$var$kc && $b36288e2db101ba3$var$Bc($b36288e2db101ba3$var$kc, a19);
    null !== $b36288e2db101ba3$var$lc && $b36288e2db101ba3$var$Bc($b36288e2db101ba3$var$lc, a19);
    null !== $b36288e2db101ba3$var$mc && $b36288e2db101ba3$var$Bc($b36288e2db101ba3$var$mc, a19);
    $b36288e2db101ba3$var$nc.forEach(b1);
    $b36288e2db101ba3$var$oc.forEach(b1);
    for(c = 0; c < $b36288e2db101ba3$var$pc.length; c++)d = $b36288e2db101ba3$var$pc[c], d.blockedOn === a19 && (d.blockedOn = null);
    for(; 0 < $b36288e2db101ba3$var$pc.length && (c = $b36288e2db101ba3$var$pc[0], null === c.blockedOn);)$b36288e2db101ba3$var$vc(c), null === c.blockedOn && $b36288e2db101ba3$var$pc.shift();
}
function $b36288e2db101ba3$var$Dc(a20, b) {
    var c = {};
    c[a20.toLowerCase()] = b.toLowerCase();
    c["Webkit" + a20] = "webkit" + b;
    c["Moz" + a20] = "moz" + b;
    return c;
}
var $b36288e2db101ba3$var$Ec = {
    animationend: $b36288e2db101ba3$var$Dc("Animation", "AnimationEnd"),
    animationiteration: $b36288e2db101ba3$var$Dc("Animation", "AnimationIteration"),
    animationstart: $b36288e2db101ba3$var$Dc("Animation", "AnimationStart"),
    transitionend: $b36288e2db101ba3$var$Dc("Transition", "TransitionEnd")
}, $b36288e2db101ba3$var$Fc = {}, $b36288e2db101ba3$var$Gc = {};
$b36288e2db101ba3$var$fa && ($b36288e2db101ba3$var$Gc = document.createElement("div").style, "AnimationEvent" in window || (delete $b36288e2db101ba3$var$Ec.animationend.animation, delete $b36288e2db101ba3$var$Ec.animationiteration.animation, delete $b36288e2db101ba3$var$Ec.animationstart.animation), "TransitionEvent" in window || delete $b36288e2db101ba3$var$Ec.transitionend.transition);
function $b36288e2db101ba3$var$Hc(a21) {
    if ($b36288e2db101ba3$var$Fc[a21]) return $b36288e2db101ba3$var$Fc[a21];
    if (!$b36288e2db101ba3$var$Ec[a21]) return a21;
    var b = $b36288e2db101ba3$var$Ec[a21], c;
    for(c in b)if (b.hasOwnProperty(c) && c in $b36288e2db101ba3$var$Gc) return $b36288e2db101ba3$var$Fc[a21] = b[c];
    return a21;
}
var $b36288e2db101ba3$var$Ic = $b36288e2db101ba3$var$Hc("animationend"), $b36288e2db101ba3$var$Jc = $b36288e2db101ba3$var$Hc("animationiteration"), $b36288e2db101ba3$var$Kc = $b36288e2db101ba3$var$Hc("animationstart"), $b36288e2db101ba3$var$Lc = $b36288e2db101ba3$var$Hc("transitionend"), $b36288e2db101ba3$var$Mc = new Map, $b36288e2db101ba3$var$Nc = new Map, $b36288e2db101ba3$var$Oc = [
    "abort",
    "abort",
    $b36288e2db101ba3$var$Ic,
    "animationEnd",
    $b36288e2db101ba3$var$Jc,
    "animationIteration",
    $b36288e2db101ba3$var$Kc,
    "animationStart",
    "canplay",
    "canPlay",
    "canplaythrough",
    "canPlayThrough",
    "durationchange",
    "durationChange",
    "emptied",
    "emptied",
    "encrypted",
    "encrypted",
    "ended",
    "ended",
    "error",
    "error",
    "gotpointercapture",
    "gotPointerCapture",
    "load",
    "load",
    "loadeddata",
    "loadedData",
    "loadedmetadata",
    "loadedMetadata",
    "loadstart",
    "loadStart",
    "lostpointercapture",
    "lostPointerCapture",
    "playing",
    "playing",
    "progress",
    "progress",
    "seeking",
    "seeking",
    "stalled",
    "stalled",
    "suspend",
    "suspend",
    "timeupdate",
    "timeUpdate",
    $b36288e2db101ba3$var$Lc,
    "transitionEnd",
    "waiting",
    "waiting"
];
function $b36288e2db101ba3$var$Pc(a22, b) {
    for(var c = 0; c < a22.length; c += 2){
        var d = a22[c], e = a22[c + 1];
        e = "on" + (e[0].toUpperCase() + e.slice(1));
        $b36288e2db101ba3$var$Nc.set(d, b);
        $b36288e2db101ba3$var$Mc.set(d, e);
        $b36288e2db101ba3$var$da(e, [
            d
        ]);
    }
}
var $b36288e2db101ba3$var$Qc = $4LCdk.unstable_now;
$b36288e2db101ba3$var$Qc();
var $b36288e2db101ba3$var$F = 8;
function $b36288e2db101ba3$var$Rc(a23) {
    if (0 !== (1 & a23)) return $b36288e2db101ba3$var$F = 15, 1;
    if (0 !== (2 & a23)) return $b36288e2db101ba3$var$F = 14, 2;
    if (0 !== (4 & a23)) return $b36288e2db101ba3$var$F = 13, 4;
    var b = 24 & a23;
    if (0 !== b) return $b36288e2db101ba3$var$F = 12, b;
    if (0 !== (a23 & 32)) return $b36288e2db101ba3$var$F = 11, 32;
    b = 192 & a23;
    if (0 !== b) return $b36288e2db101ba3$var$F = 10, b;
    if (0 !== (a23 & 256)) return $b36288e2db101ba3$var$F = 9, 256;
    b = 3584 & a23;
    if (0 !== b) return $b36288e2db101ba3$var$F = 8, b;
    if (0 !== (a23 & 4096)) return $b36288e2db101ba3$var$F = 7, 4096;
    b = 4186112 & a23;
    if (0 !== b) return $b36288e2db101ba3$var$F = 6, b;
    b = 62914560 & a23;
    if (0 !== b) return $b36288e2db101ba3$var$F = 5, b;
    if (a23 & 67108864) return $b36288e2db101ba3$var$F = 4, 67108864;
    if (0 !== (a23 & 134217728)) return $b36288e2db101ba3$var$F = 3, 134217728;
    b = 805306368 & a23;
    if (0 !== b) return $b36288e2db101ba3$var$F = 2, b;
    if (0 !== (1073741824 & a23)) return $b36288e2db101ba3$var$F = 1, 1073741824;
    $b36288e2db101ba3$var$F = 8;
    return a23;
}
function $b36288e2db101ba3$var$Sc(a24) {
    switch(a24){
        case 99:
            return 15;
        case 98:
            return 10;
        case 97:
        case 96:
            return 8;
        case 95:
            return 2;
        default:
            return 0;
    }
}
function $b36288e2db101ba3$var$Tc(a25) {
    switch(a25){
        case 15:
        case 14:
            return 99;
        case 13:
        case 12:
        case 11:
        case 10:
            return 98;
        case 9:
        case 8:
        case 7:
        case 6:
        case 4:
        case 5:
            return 97;
        case 3:
        case 2:
        case 1:
            return 95;
        case 0:
            return 90;
        default:
            throw Error($b36288e2db101ba3$var$y(358, a25));
    }
}
function $b36288e2db101ba3$var$Uc(a26, b) {
    var c = a26.pendingLanes;
    if (0 === c) return $b36288e2db101ba3$var$F = 0;
    var d = 0, e = 0, f = a26.expiredLanes, g = a26.suspendedLanes, h = a26.pingedLanes;
    if (0 !== f) d = f, e = $b36288e2db101ba3$var$F = 15;
    else if (f = c & 134217727, 0 !== f) {
        var k = f & ~g;
        0 !== k ? (d = $b36288e2db101ba3$var$Rc(k), e = $b36288e2db101ba3$var$F) : (h &= f, 0 !== h && (d = $b36288e2db101ba3$var$Rc(h), e = $b36288e2db101ba3$var$F));
    } else f = c & ~g, 0 !== f ? (d = $b36288e2db101ba3$var$Rc(f), e = $b36288e2db101ba3$var$F) : 0 !== h && (d = $b36288e2db101ba3$var$Rc(h), e = $b36288e2db101ba3$var$F);
    if (0 === d) return 0;
    d = 31 - $b36288e2db101ba3$var$Vc(d);
    d = c & ((0 > d ? 0 : 1 << d) << 1) - 1;
    if (0 !== b && b !== d && 0 === (b & g)) {
        $b36288e2db101ba3$var$Rc(b);
        if (e <= $b36288e2db101ba3$var$F) return b;
        $b36288e2db101ba3$var$F = e;
    }
    b = a26.entangledLanes;
    if (0 !== b) for(a26 = a26.entanglements, b &= d; 0 < b;)c = 31 - $b36288e2db101ba3$var$Vc(b), e = 1 << c, d |= a26[c], b &= ~e;
    return d;
}
function $b36288e2db101ba3$var$Wc(a27) {
    a27 = a27.pendingLanes & -1073741825;
    return 0 !== a27 ? a27 : a27 & 1073741824 ? 1073741824 : 0;
}
function $b36288e2db101ba3$var$Xc(a28, b) {
    switch(a28){
        case 15:
            return 1;
        case 14:
            return 2;
        case 12:
            return a28 = $b36288e2db101ba3$var$Yc(24 & ~b), 0 === a28 ? $b36288e2db101ba3$var$Xc(10, b) : a28;
        case 10:
            return a28 = $b36288e2db101ba3$var$Yc(192 & ~b), 0 === a28 ? $b36288e2db101ba3$var$Xc(8, b) : a28;
        case 8:
            return a28 = $b36288e2db101ba3$var$Yc(3584 & ~b), 0 === a28 && (a28 = $b36288e2db101ba3$var$Yc(4186112 & ~b), 0 === a28 && (a28 = 512)), a28;
        case 2:
            return b = $b36288e2db101ba3$var$Yc(805306368 & ~b), 0 === b && (b = 268435456), b;
    }
    throw Error($b36288e2db101ba3$var$y(358, a28));
}
function $b36288e2db101ba3$var$Yc(a29) {
    return a29 & -a29;
}
function $b36288e2db101ba3$var$Zc(a30) {
    for(var b = [], c = 0; 31 > c; c++)b.push(a30);
    return b;
}
function $b36288e2db101ba3$var$$c(a31, b, c) {
    a31.pendingLanes |= b;
    var d = b - 1;
    a31.suspendedLanes &= d;
    a31.pingedLanes &= d;
    a31 = a31.eventTimes;
    b = 31 - $b36288e2db101ba3$var$Vc(b);
    a31[b] = c;
}
var $b36288e2db101ba3$var$Vc = Math.clz32 ? Math.clz32 : $b36288e2db101ba3$var$ad, $b36288e2db101ba3$var$bd = Math.log, $b36288e2db101ba3$var$cd = Math.LN2;
function $b36288e2db101ba3$var$ad(a32) {
    return 0 === a32 ? 32 : 31 - ($b36288e2db101ba3$var$bd(a32) / $b36288e2db101ba3$var$cd | 0) | 0;
}
var $b36288e2db101ba3$var$dd = $4LCdk.unstable_UserBlockingPriority, $b36288e2db101ba3$var$ed = $4LCdk.unstable_runWithPriority, $b36288e2db101ba3$var$fd = !0;
function $b36288e2db101ba3$var$gd(a33, b, c, d) {
    $b36288e2db101ba3$var$Kb || $b36288e2db101ba3$var$Ib();
    var e = $b36288e2db101ba3$var$hd, f = $b36288e2db101ba3$var$Kb;
    $b36288e2db101ba3$var$Kb = !0;
    try {
        $b36288e2db101ba3$var$Hb(e, a33, b, c, d);
    } finally{
        ($b36288e2db101ba3$var$Kb = f) || $b36288e2db101ba3$var$Mb();
    }
}
function $b36288e2db101ba3$var$id(a34, b, c, d) {
    $b36288e2db101ba3$var$ed($b36288e2db101ba3$var$dd, $b36288e2db101ba3$var$hd.bind(null, a34, b, c, d));
}
function $b36288e2db101ba3$var$hd(a35, b, c, d) {
    if ($b36288e2db101ba3$var$fd) {
        var e;
        if ((e = 0 === (b & 4)) && 0 < $b36288e2db101ba3$var$jc.length && -1 < $b36288e2db101ba3$var$qc.indexOf(a35)) a35 = $b36288e2db101ba3$var$rc(null, a35, b, c, d), $b36288e2db101ba3$var$jc.push(a35);
        else {
            var f = $b36288e2db101ba3$var$yc(a35, b, c, d);
            if (null === f) e && $b36288e2db101ba3$var$sc(a35, d);
            else {
                if (e) {
                    if (-1 < $b36288e2db101ba3$var$qc.indexOf(a35)) {
                        a35 = $b36288e2db101ba3$var$rc(f, a35, b, c, d);
                        $b36288e2db101ba3$var$jc.push(a35);
                        return;
                    }
                    if ($b36288e2db101ba3$var$uc(f, a35, b, c, d)) return;
                    $b36288e2db101ba3$var$sc(a35, d);
                }
                $b36288e2db101ba3$var$jd(a35, b, d, null, c);
            }
        }
    }
}
function $b36288e2db101ba3$var$yc(a36, b, c, d) {
    var e = $b36288e2db101ba3$var$xb(d);
    e = $b36288e2db101ba3$var$wc(e);
    if (null !== e) {
        var f = $b36288e2db101ba3$var$Zb(e);
        if (null === f) e = null;
        else {
            var g = f.tag;
            if (13 === g) {
                e = $b36288e2db101ba3$var$$b(f);
                if (null !== e) return e;
                e = null;
            } else if (3 === g) {
                if (f.stateNode.hydrate) return 3 === f.tag ? f.stateNode.containerInfo : null;
                e = null;
            } else f !== e && (e = null);
        }
    }
    $b36288e2db101ba3$var$jd(a36, b, d, e, c);
    return null;
}
var $b36288e2db101ba3$var$kd = null, $b36288e2db101ba3$var$ld = null, $b36288e2db101ba3$var$md = null;
function $b36288e2db101ba3$var$nd() {
    if ($b36288e2db101ba3$var$md) return $b36288e2db101ba3$var$md;
    var a37, b = $b36288e2db101ba3$var$ld, c = b.length, d, e = "value" in $b36288e2db101ba3$var$kd ? $b36288e2db101ba3$var$kd.value : $b36288e2db101ba3$var$kd.textContent, f = e.length;
    for(a37 = 0; a37 < c && b[a37] === e[a37]; a37++);
    var g = c - a37;
    for(d = 1; d <= g && b[c - d] === e[f - d]; d++);
    return $b36288e2db101ba3$var$md = e.slice(a37, 1 < d ? 1 - d : void 0);
}
function $b36288e2db101ba3$var$od(a38) {
    var b = a38.keyCode;
    "charCode" in a38 ? (a38 = a38.charCode, 0 === a38 && 13 === b && (a38 = 13)) : a38 = b;
    10 === a38 && (a38 = 13);
    return 32 <= a38 || 13 === a38 ? a38 : 0;
}
function $b36288e2db101ba3$var$pd() {
    return !0;
}
function $b36288e2db101ba3$var$qd() {
    return !1;
}
function $b36288e2db101ba3$var$rd(a39) {
    function b2(b, d, e, f, g) {
        this._reactName = b;
        this._targetInst = e;
        this.type = d;
        this.nativeEvent = f;
        this.target = g;
        this.currentTarget = null;
        for(var c in a39)a39.hasOwnProperty(c) && (b = a39[c], this[c] = b ? b(f) : f[c]);
        this.isDefaultPrevented = (null != f.defaultPrevented ? f.defaultPrevented : !1 === f.returnValue) ? $b36288e2db101ba3$var$pd : $b36288e2db101ba3$var$qd;
        this.isPropagationStopped = $b36288e2db101ba3$var$qd;
        return this;
    }
    $4yvvI(b2.prototype, {
        preventDefault: function() {
            this.defaultPrevented = !0;
            var a40 = this.nativeEvent;
            a40 && (a40.preventDefault ? a40.preventDefault() : "unknown" !== typeof a40.returnValue && (a40.returnValue = !1), this.isDefaultPrevented = $b36288e2db101ba3$var$pd);
        },
        stopPropagation: function() {
            var a41 = this.nativeEvent;
            a41 && (a41.stopPropagation ? a41.stopPropagation() : "unknown" !== typeof a41.cancelBubble && (a41.cancelBubble = !0), this.isPropagationStopped = $b36288e2db101ba3$var$pd);
        },
        persist: function() {},
        isPersistent: $b36288e2db101ba3$var$pd
    });
    return b2;
}
var $b36288e2db101ba3$var$sd = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function(a42) {
        return a42.timeStamp || Date.now();
    },
    defaultPrevented: 0,
    isTrusted: 0
}, $b36288e2db101ba3$var$td = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$sd), $b36288e2db101ba3$var$ud = $4yvvI({}, $b36288e2db101ba3$var$sd, {
    view: 0,
    detail: 0
}), $b36288e2db101ba3$var$vd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$ud), $b36288e2db101ba3$var$wd, $b36288e2db101ba3$var$xd, $b36288e2db101ba3$var$yd, $b36288e2db101ba3$var$Ad = $4yvvI({}, $b36288e2db101ba3$var$ud, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: $b36288e2db101ba3$var$zd,
    button: 0,
    buttons: 0,
    relatedTarget: function(a43) {
        return void 0 === a43.relatedTarget ? a43.fromElement === a43.srcElement ? a43.toElement : a43.fromElement : a43.relatedTarget;
    },
    movementX: function(a44) {
        if ("movementX" in a44) return a44.movementX;
        a44 !== $b36288e2db101ba3$var$yd && ($b36288e2db101ba3$var$yd && "mousemove" === a44.type ? ($b36288e2db101ba3$var$wd = a44.screenX - $b36288e2db101ba3$var$yd.screenX, $b36288e2db101ba3$var$xd = a44.screenY - $b36288e2db101ba3$var$yd.screenY) : $b36288e2db101ba3$var$xd = $b36288e2db101ba3$var$wd = 0, $b36288e2db101ba3$var$yd = a44);
        return $b36288e2db101ba3$var$wd;
    },
    movementY: function(a45) {
        return "movementY" in a45 ? a45.movementY : $b36288e2db101ba3$var$xd;
    }
}), $b36288e2db101ba3$var$Bd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Ad), $b36288e2db101ba3$var$Cd = $4yvvI({}, $b36288e2db101ba3$var$Ad, {
    dataTransfer: 0
}), $b36288e2db101ba3$var$Dd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Cd), $b36288e2db101ba3$var$Ed = $4yvvI({}, $b36288e2db101ba3$var$ud, {
    relatedTarget: 0
}), $b36288e2db101ba3$var$Fd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Ed), $b36288e2db101ba3$var$Gd = $4yvvI({}, $b36288e2db101ba3$var$sd, {
    animationName: 0,
    elapsedTime: 0,
    pseudoElement: 0
}), $b36288e2db101ba3$var$Hd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Gd), $b36288e2db101ba3$var$Id = $4yvvI({}, $b36288e2db101ba3$var$sd, {
    clipboardData: function(a46) {
        return "clipboardData" in a46 ? a46.clipboardData : window.clipboardData;
    }
}), $b36288e2db101ba3$var$Jd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Id), $b36288e2db101ba3$var$Kd = $4yvvI({}, $b36288e2db101ba3$var$sd, {
    data: 0
}), $b36288e2db101ba3$var$Ld = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Kd), $b36288e2db101ba3$var$Md = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified"
}, $b36288e2db101ba3$var$Nd = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta"
}, $b36288e2db101ba3$var$Od = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey"
};
function $b36288e2db101ba3$var$Pd(a47) {
    var b = this.nativeEvent;
    return b.getModifierState ? b.getModifierState(a47) : (a47 = $b36288e2db101ba3$var$Od[a47]) ? !!b[a47] : !1;
}
function $b36288e2db101ba3$var$zd() {
    return $b36288e2db101ba3$var$Pd;
}
var $b36288e2db101ba3$var$Qd = $4yvvI({}, $b36288e2db101ba3$var$ud, {
    key: function(a48) {
        if (a48.key) {
            var b = $b36288e2db101ba3$var$Md[a48.key] || a48.key;
            if ("Unidentified" !== b) return b;
        }
        return "keypress" === a48.type ? (a48 = $b36288e2db101ba3$var$od(a48), 13 === a48 ? "Enter" : String.fromCharCode(a48)) : "keydown" === a48.type || "keyup" === a48.type ? $b36288e2db101ba3$var$Nd[a48.keyCode] || "Unidentified" : "";
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: $b36288e2db101ba3$var$zd,
    charCode: function(a49) {
        return "keypress" === a49.type ? $b36288e2db101ba3$var$od(a49) : 0;
    },
    keyCode: function(a50) {
        return "keydown" === a50.type || "keyup" === a50.type ? a50.keyCode : 0;
    },
    which: function(a51) {
        return "keypress" === a51.type ? $b36288e2db101ba3$var$od(a51) : "keydown" === a51.type || "keyup" === a51.type ? a51.keyCode : 0;
    }
}), $b36288e2db101ba3$var$Rd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Qd), $b36288e2db101ba3$var$Sd = $4yvvI({}, $b36288e2db101ba3$var$Ad, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0
}), $b36288e2db101ba3$var$Td = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Sd), $b36288e2db101ba3$var$Ud = $4yvvI({}, $b36288e2db101ba3$var$ud, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: $b36288e2db101ba3$var$zd
}), $b36288e2db101ba3$var$Vd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Ud), $b36288e2db101ba3$var$Wd = $4yvvI({}, $b36288e2db101ba3$var$sd, {
    propertyName: 0,
    elapsedTime: 0,
    pseudoElement: 0
}), $b36288e2db101ba3$var$Xd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Wd), $b36288e2db101ba3$var$Yd = $4yvvI({}, $b36288e2db101ba3$var$Ad, {
    deltaX: function(a52) {
        return "deltaX" in a52 ? a52.deltaX : "wheelDeltaX" in a52 ? -a52.wheelDeltaX : 0;
    },
    deltaY: function(a53) {
        return "deltaY" in a53 ? a53.deltaY : "wheelDeltaY" in a53 ? -a53.wheelDeltaY : "wheelDelta" in a53 ? -a53.wheelDelta : 0;
    },
    deltaZ: 0,
    deltaMode: 0
}), $b36288e2db101ba3$var$Zd = $b36288e2db101ba3$var$rd($b36288e2db101ba3$var$Yd), $b36288e2db101ba3$var$$d = [
    9,
    13,
    27,
    32
], $b36288e2db101ba3$var$ae = $b36288e2db101ba3$var$fa && "CompositionEvent" in window, $b36288e2db101ba3$var$be = null;
$b36288e2db101ba3$var$fa && "documentMode" in document && ($b36288e2db101ba3$var$be = document.documentMode);
var $b36288e2db101ba3$var$ce = $b36288e2db101ba3$var$fa && "TextEvent" in window && !$b36288e2db101ba3$var$be, $b36288e2db101ba3$var$de = $b36288e2db101ba3$var$fa && (!$b36288e2db101ba3$var$ae || $b36288e2db101ba3$var$be && 8 < $b36288e2db101ba3$var$be && 11 >= $b36288e2db101ba3$var$be), $b36288e2db101ba3$var$ee = String.fromCharCode(32), $b36288e2db101ba3$var$fe = !1;
function $b36288e2db101ba3$var$ge(a54, b) {
    switch(a54){
        case "keyup":
            return -1 !== $b36288e2db101ba3$var$$d.indexOf(b.keyCode);
        case "keydown":
            return 229 !== b.keyCode;
        case "keypress":
        case "mousedown":
        case "focusout":
            return !0;
        default:
            return !1;
    }
}
function $b36288e2db101ba3$var$he(a55) {
    a55 = a55.detail;
    return "object" === typeof a55 && "data" in a55 ? a55.data : null;
}
var $b36288e2db101ba3$var$ie = !1;
function $b36288e2db101ba3$var$je(a56, b) {
    switch(a56){
        case "compositionend":
            return $b36288e2db101ba3$var$he(b);
        case "keypress":
            if (32 !== b.which) return null;
            $b36288e2db101ba3$var$fe = !0;
            return $b36288e2db101ba3$var$ee;
        case "textInput":
            return a56 = b.data, a56 === $b36288e2db101ba3$var$ee && $b36288e2db101ba3$var$fe ? null : a56;
        default:
            return null;
    }
}
function $b36288e2db101ba3$var$ke(a57, b) {
    if ($b36288e2db101ba3$var$ie) return "compositionend" === a57 || !$b36288e2db101ba3$var$ae && $b36288e2db101ba3$var$ge(a57, b) ? (a57 = $b36288e2db101ba3$var$nd(), $b36288e2db101ba3$var$md = $b36288e2db101ba3$var$ld = $b36288e2db101ba3$var$kd = null, $b36288e2db101ba3$var$ie = !1, a57) : null;
    switch(a57){
        case "paste":
            return null;
        case "keypress":
            if (!(b.ctrlKey || b.altKey || b.metaKey) || b.ctrlKey && b.altKey) {
                if (b.char && 1 < b.char.length) return b.char;
                if (b.which) return String.fromCharCode(b.which);
            }
            return null;
        case "compositionend":
            return $b36288e2db101ba3$var$de && "ko" !== b.locale ? null : b.data;
        default:
            return null;
    }
}
var $b36288e2db101ba3$var$le = {
    color: !0,
    date: !0,
    datetime: !0,
    "datetime-local": !0,
    email: !0,
    month: !0,
    number: !0,
    password: !0,
    range: !0,
    search: !0,
    tel: !0,
    text: !0,
    time: !0,
    url: !0,
    week: !0
};
function $b36288e2db101ba3$var$me(a58) {
    var b = a58 && a58.nodeName && a58.nodeName.toLowerCase();
    return "input" === b ? !!$b36288e2db101ba3$var$le[a58.type] : "textarea" === b ? !0 : !1;
}
function $b36288e2db101ba3$var$ne(a59, b, c, d) {
    $b36288e2db101ba3$var$Eb(d);
    b = $b36288e2db101ba3$var$oe(b, "onChange");
    0 < b.length && (c = new $b36288e2db101ba3$var$td("onChange", "change", null, c, d), a59.push({
        event: c,
        listeners: b
    }));
}
var $b36288e2db101ba3$var$pe = null, $b36288e2db101ba3$var$qe = null;
function $b36288e2db101ba3$var$re(a60) {
    $b36288e2db101ba3$var$se(a60, 0);
}
function $b36288e2db101ba3$var$te(a61) {
    var b = $b36288e2db101ba3$var$ue(a61);
    if ($b36288e2db101ba3$var$Wa(b)) return a61;
}
function $b36288e2db101ba3$var$ve(a62, b) {
    if ("change" === a62) return b;
}
var $b36288e2db101ba3$var$we = !1;
if ($b36288e2db101ba3$var$fa) {
    var $b36288e2db101ba3$var$xe;
    if ($b36288e2db101ba3$var$fa) {
        var $b36288e2db101ba3$var$ye = "oninput" in document;
        if (!$b36288e2db101ba3$var$ye) {
            var $b36288e2db101ba3$var$ze = document.createElement("div");
            $b36288e2db101ba3$var$ze.setAttribute("oninput", "return;");
            $b36288e2db101ba3$var$ye = "function" === typeof $b36288e2db101ba3$var$ze.oninput;
        }
        $b36288e2db101ba3$var$xe = $b36288e2db101ba3$var$ye;
    } else $b36288e2db101ba3$var$xe = !1;
    $b36288e2db101ba3$var$we = $b36288e2db101ba3$var$xe && (!document.documentMode || 9 < document.documentMode);
}
function $b36288e2db101ba3$var$Ae() {
    $b36288e2db101ba3$var$pe && ($b36288e2db101ba3$var$pe.detachEvent("onpropertychange", $b36288e2db101ba3$var$Be), $b36288e2db101ba3$var$qe = $b36288e2db101ba3$var$pe = null);
}
function $b36288e2db101ba3$var$Be(a63) {
    if ("value" === a63.propertyName && $b36288e2db101ba3$var$te($b36288e2db101ba3$var$qe)) {
        var b = [];
        $b36288e2db101ba3$var$ne(b, $b36288e2db101ba3$var$qe, a63, $b36288e2db101ba3$var$xb(a63));
        a63 = $b36288e2db101ba3$var$re;
        if ($b36288e2db101ba3$var$Kb) a63(b);
        else {
            $b36288e2db101ba3$var$Kb = !0;
            try {
                $b36288e2db101ba3$var$Gb(a63, b);
            } finally{
                $b36288e2db101ba3$var$Kb = !1, $b36288e2db101ba3$var$Mb();
            }
        }
    }
}
function $b36288e2db101ba3$var$Ce(a64, b, c) {
    "focusin" === a64 ? ($b36288e2db101ba3$var$Ae(), $b36288e2db101ba3$var$pe = b, $b36288e2db101ba3$var$qe = c, $b36288e2db101ba3$var$pe.attachEvent("onpropertychange", $b36288e2db101ba3$var$Be)) : "focusout" === a64 && $b36288e2db101ba3$var$Ae();
}
function $b36288e2db101ba3$var$De(a65) {
    if ("selectionchange" === a65 || "keyup" === a65 || "keydown" === a65) return $b36288e2db101ba3$var$te($b36288e2db101ba3$var$qe);
}
function $b36288e2db101ba3$var$Ee(a66, b) {
    if ("click" === a66) return $b36288e2db101ba3$var$te(b);
}
function $b36288e2db101ba3$var$Fe(a67, b) {
    if ("input" === a67 || "change" === a67) return $b36288e2db101ba3$var$te(b);
}
function $b36288e2db101ba3$var$Ge(a68, b) {
    return a68 === b && (0 !== a68 || 1 / a68 === 1 / b) || a68 !== a68 && b !== b;
}
var $b36288e2db101ba3$var$He = "function" === typeof Object.is ? Object.is : $b36288e2db101ba3$var$Ge, $b36288e2db101ba3$var$Ie = Object.prototype.hasOwnProperty;
function $b36288e2db101ba3$var$Je(a69, b) {
    if ($b36288e2db101ba3$var$He(a69, b)) return !0;
    if ("object" !== typeof a69 || null === a69 || "object" !== typeof b || null === b) return !1;
    var c = Object.keys(a69), d = Object.keys(b);
    if (c.length !== d.length) return !1;
    for(d = 0; d < c.length; d++)if (!$b36288e2db101ba3$var$Ie.call(b, c[d]) || !$b36288e2db101ba3$var$He(a69[c[d]], b[c[d]])) return !1;
    return !0;
}
function $b36288e2db101ba3$var$Ke(a70) {
    for(; a70 && a70.firstChild;)a70 = a70.firstChild;
    return a70;
}
function $b36288e2db101ba3$var$Le(a71, b) {
    var c = $b36288e2db101ba3$var$Ke(a71);
    a71 = 0;
    for(var d; c;){
        if (3 === c.nodeType) {
            d = a71 + c.textContent.length;
            if (a71 <= b && d >= b) return {
                node: c,
                offset: b - a71
            };
            a71 = d;
        }
        a: {
            for(; c;){
                if (c.nextSibling) {
                    c = c.nextSibling;
                    break a;
                }
                c = c.parentNode;
            }
            c = void 0;
        }
        c = $b36288e2db101ba3$var$Ke(c);
    }
}
function $b36288e2db101ba3$var$Me(a72, b) {
    return a72 && b ? a72 === b ? !0 : a72 && 3 === a72.nodeType ? !1 : b && 3 === b.nodeType ? $b36288e2db101ba3$var$Me(a72, b.parentNode) : "contains" in a72 ? a72.contains(b) : a72.compareDocumentPosition ? !!(a72.compareDocumentPosition(b) & 16) : !1 : !1;
}
function $b36288e2db101ba3$var$Ne() {
    for(var a73 = window, b = $b36288e2db101ba3$var$Xa(); b instanceof a73.HTMLIFrameElement;){
        try {
            var c = "string" === typeof b.contentWindow.location.href;
        } catch (d) {
            c = !1;
        }
        if (c) a73 = b.contentWindow;
        else break;
        b = $b36288e2db101ba3$var$Xa(a73.document);
    }
    return b;
}
function $b36288e2db101ba3$var$Oe(a74) {
    var b = a74 && a74.nodeName && a74.nodeName.toLowerCase();
    return b && ("input" === b && ("text" === a74.type || "search" === a74.type || "tel" === a74.type || "url" === a74.type || "password" === a74.type) || "textarea" === b || "true" === a74.contentEditable);
}
var $b36288e2db101ba3$var$Pe = $b36288e2db101ba3$var$fa && "documentMode" in document && 11 >= document.documentMode, $b36288e2db101ba3$var$Qe = null, $b36288e2db101ba3$var$Re = null, $b36288e2db101ba3$var$Se = null, $b36288e2db101ba3$var$Te = !1;
function $b36288e2db101ba3$var$Ue(a75, b, c) {
    var d = c.window === c ? c.document : 9 === c.nodeType ? c : c.ownerDocument;
    $b36288e2db101ba3$var$Te || null == $b36288e2db101ba3$var$Qe || $b36288e2db101ba3$var$Qe !== $b36288e2db101ba3$var$Xa(d) || (d = $b36288e2db101ba3$var$Qe, "selectionStart" in d && $b36288e2db101ba3$var$Oe(d) ? d = {
        start: d.selectionStart,
        end: d.selectionEnd
    } : (d = (d.ownerDocument && d.ownerDocument.defaultView || window).getSelection(), d = {
        anchorNode: d.anchorNode,
        anchorOffset: d.anchorOffset,
        focusNode: d.focusNode,
        focusOffset: d.focusOffset
    }), $b36288e2db101ba3$var$Se && $b36288e2db101ba3$var$Je($b36288e2db101ba3$var$Se, d) || ($b36288e2db101ba3$var$Se = d, d = $b36288e2db101ba3$var$oe($b36288e2db101ba3$var$Re, "onSelect"), 0 < d.length && (b = new $b36288e2db101ba3$var$td("onSelect", "select", null, b, c), a75.push({
        event: b,
        listeners: d
    }), b.target = $b36288e2db101ba3$var$Qe)));
}
$b36288e2db101ba3$var$Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "), 0);
$b36288e2db101ba3$var$Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "), 1);
$b36288e2db101ba3$var$Pc($b36288e2db101ba3$var$Oc, 2);
for(var $b36288e2db101ba3$var$Ve = "change selectionchange textInput compositionstart compositionend compositionupdate".split(" "), $b36288e2db101ba3$var$We = 0; $b36288e2db101ba3$var$We < $b36288e2db101ba3$var$Ve.length; $b36288e2db101ba3$var$We++)$b36288e2db101ba3$var$Nc.set($b36288e2db101ba3$var$Ve[$b36288e2db101ba3$var$We], 0);
$b36288e2db101ba3$var$ea("onMouseEnter", [
    "mouseout",
    "mouseover"
]);
$b36288e2db101ba3$var$ea("onMouseLeave", [
    "mouseout",
    "mouseover"
]);
$b36288e2db101ba3$var$ea("onPointerEnter", [
    "pointerout",
    "pointerover"
]);
$b36288e2db101ba3$var$ea("onPointerLeave", [
    "pointerout",
    "pointerover"
]);
$b36288e2db101ba3$var$da("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" "));
$b36288e2db101ba3$var$da("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));
$b36288e2db101ba3$var$da("onBeforeInput", [
    "compositionend",
    "keypress",
    "textInput",
    "paste"
]);
$b36288e2db101ba3$var$da("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" "));
$b36288e2db101ba3$var$da("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" "));
$b36288e2db101ba3$var$da("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
var $b36288e2db101ba3$var$Xe = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), $b36288e2db101ba3$var$Ye = new Set("cancel close invalid load scroll toggle".split(" ").concat($b36288e2db101ba3$var$Xe));
function $b36288e2db101ba3$var$Ze(a76, b, c) {
    var d = a76.type || "unknown-event";
    a76.currentTarget = c;
    $b36288e2db101ba3$var$Yb(d, b, void 0, a76);
    a76.currentTarget = null;
}
function $b36288e2db101ba3$var$se(a77, b) {
    b = 0 !== (b & 4);
    for(var c = 0; c < a77.length; c++){
        var d = a77[c], e = d.event;
        d = d.listeners;
        a: {
            var f = void 0;
            if (b) for(var g = d.length - 1; 0 <= g; g--){
                var h = d[g], k = h.instance, l = h.currentTarget;
                h = h.listener;
                if (k !== f && e.isPropagationStopped()) break a;
                $b36288e2db101ba3$var$Ze(e, h, l);
                f = k;
            }
            else for(g = 0; g < d.length; g++){
                h = d[g];
                k = h.instance;
                l = h.currentTarget;
                h = h.listener;
                if (k !== f && e.isPropagationStopped()) break a;
                $b36288e2db101ba3$var$Ze(e, h, l);
                f = k;
            }
        }
    }
    if ($b36288e2db101ba3$var$Ub) throw a77 = $b36288e2db101ba3$var$Vb, $b36288e2db101ba3$var$Ub = !1, $b36288e2db101ba3$var$Vb = null, a77;
}
function $b36288e2db101ba3$var$G(a78, b) {
    var c = $b36288e2db101ba3$var$$e(b), d = a78 + "__bubble";
    c.has(d) || ($b36288e2db101ba3$var$af(b, a78, 2, !1), c.add(d));
}
var $b36288e2db101ba3$var$bf = "_reactListening" + Math.random().toString(36).slice(2);
function $b36288e2db101ba3$var$cf(a79) {
    a79[$b36288e2db101ba3$var$bf] || (a79[$b36288e2db101ba3$var$bf] = !0, $b36288e2db101ba3$var$ba.forEach(function(b) {
        $b36288e2db101ba3$var$Ye.has(b) || $b36288e2db101ba3$var$df(b, !1, a79, null);
        $b36288e2db101ba3$var$df(b, !0, a79, null);
    }));
}
function $b36288e2db101ba3$var$df(a80, b, c, d) {
    var e = 4 < arguments.length && void 0 !== arguments[4] ? arguments[4] : 0, f = c;
    "selectionchange" === a80 && 9 !== c.nodeType && (f = c.ownerDocument);
    if (null !== d && !b && $b36288e2db101ba3$var$Ye.has(a80)) {
        if ("scroll" !== a80) return;
        e |= 2;
        f = d;
    }
    var g = $b36288e2db101ba3$var$$e(f), h = a80 + "__" + (b ? "capture" : "bubble");
    g.has(h) || (b && (e |= 4), $b36288e2db101ba3$var$af(f, a80, e, b), g.add(h));
}
function $b36288e2db101ba3$var$af(a81, b, c, d) {
    var e = $b36288e2db101ba3$var$Nc.get(b);
    switch(void 0 === e ? 2 : e){
        case 0:
            e = $b36288e2db101ba3$var$gd;
            break;
        case 1:
            e = $b36288e2db101ba3$var$id;
            break;
        default:
            e = $b36288e2db101ba3$var$hd;
    }
    c = e.bind(null, b, c, a81);
    e = void 0;
    !$b36288e2db101ba3$var$Pb || "touchstart" !== b && "touchmove" !== b && "wheel" !== b || (e = !0);
    d ? void 0 !== e ? a81.addEventListener(b, c, {
        capture: !0,
        passive: e
    }) : a81.addEventListener(b, c, !0) : void 0 !== e ? a81.addEventListener(b, c, {
        passive: e
    }) : a81.addEventListener(b, c, !1);
}
function $b36288e2db101ba3$var$jd(a82, b, c, d1, e1) {
    var f = d1;
    if (0 === (b & 1) && 0 === (b & 2) && null !== d1) a: for(;;){
        if (null === d1) return;
        var g = d1.tag;
        if (3 === g || 4 === g) {
            var h = d1.stateNode.containerInfo;
            if (h === e1 || 8 === h.nodeType && h.parentNode === e1) break;
            if (4 === g) for(g = d1.return; null !== g;){
                var k = g.tag;
                if (3 === k || 4 === k) {
                    if (k = g.stateNode.containerInfo, k === e1 || 8 === k.nodeType && k.parentNode === e1) return;
                }
                g = g.return;
            }
            for(; null !== h;){
                g = $b36288e2db101ba3$var$wc(h);
                if (null === g) return;
                k = g.tag;
                if (5 === k || 6 === k) {
                    d1 = f = g;
                    continue a;
                }
                h = h.parentNode;
            }
        }
        d1 = d1.return;
    }
    $b36288e2db101ba3$var$Nb(function() {
        var d = f, e = $b36288e2db101ba3$var$xb(c), g = [];
        a: {
            var h = $b36288e2db101ba3$var$Mc.get(a82);
            if (void 0 !== h) {
                var k = $b36288e2db101ba3$var$td, x = a82;
                switch(a82){
                    case "keypress":
                        if (0 === $b36288e2db101ba3$var$od(c)) break a;
                    case "keydown":
                    case "keyup":
                        k = $b36288e2db101ba3$var$Rd;
                        break;
                    case "focusin":
                        x = "focus";
                        k = $b36288e2db101ba3$var$Fd;
                        break;
                    case "focusout":
                        x = "blur";
                        k = $b36288e2db101ba3$var$Fd;
                        break;
                    case "beforeblur":
                    case "afterblur":
                        k = $b36288e2db101ba3$var$Fd;
                        break;
                    case "click":
                        if (2 === c.button) break a;
                    case "auxclick":
                    case "dblclick":
                    case "mousedown":
                    case "mousemove":
                    case "mouseup":
                    case "mouseout":
                    case "mouseover":
                    case "contextmenu":
                        k = $b36288e2db101ba3$var$Bd;
                        break;
                    case "drag":
                    case "dragend":
                    case "dragenter":
                    case "dragexit":
                    case "dragleave":
                    case "dragover":
                    case "dragstart":
                    case "drop":
                        k = $b36288e2db101ba3$var$Dd;
                        break;
                    case "touchcancel":
                    case "touchend":
                    case "touchmove":
                    case "touchstart":
                        k = $b36288e2db101ba3$var$Vd;
                        break;
                    case $b36288e2db101ba3$var$Ic:
                    case $b36288e2db101ba3$var$Jc:
                    case $b36288e2db101ba3$var$Kc:
                        k = $b36288e2db101ba3$var$Hd;
                        break;
                    case $b36288e2db101ba3$var$Lc:
                        k = $b36288e2db101ba3$var$Xd;
                        break;
                    case "scroll":
                        k = $b36288e2db101ba3$var$vd;
                        break;
                    case "wheel":
                        k = $b36288e2db101ba3$var$Zd;
                        break;
                    case "copy":
                    case "cut":
                    case "paste":
                        k = $b36288e2db101ba3$var$Jd;
                        break;
                    case "gotpointercapture":
                    case "lostpointercapture":
                    case "pointercancel":
                    case "pointerdown":
                    case "pointermove":
                    case "pointerout":
                    case "pointerover":
                    case "pointerup":
                        k = $b36288e2db101ba3$var$Td;
                }
                var w = 0 !== (b & 4), z = !w && "scroll" === a82, u = w ? null !== h ? h + "Capture" : null : h;
                w = [];
                for(var t = d, q; null !== t;){
                    q = t;
                    var v = q.stateNode;
                    5 === q.tag && null !== v && (q = v, null !== u && (v = $b36288e2db101ba3$var$Ob(t, u), null != v && w.push($b36288e2db101ba3$var$ef(t, v, q))));
                    if (z) break;
                    t = t.return;
                }
                0 < w.length && (h = new k(h, x, null, c, e), g.push({
                    event: h,
                    listeners: w
                }));
            }
        }
        if (0 === (b & 7)) {
            a: {
                h = "mouseover" === a82 || "pointerover" === a82;
                k = "mouseout" === a82 || "pointerout" === a82;
                if (h && 0 === (b & 16) && (x = c.relatedTarget || c.fromElement) && ($b36288e2db101ba3$var$wc(x) || x[$b36288e2db101ba3$var$ff])) break a;
                if (k || h) {
                    h = e.window === e ? e : (h = e.ownerDocument) ? h.defaultView || h.parentWindow : window;
                    if (k) {
                        if (x = c.relatedTarget || c.toElement, k = d, x = x ? $b36288e2db101ba3$var$wc(x) : null, null !== x && (z = $b36288e2db101ba3$var$Zb(x), x !== z || 5 !== x.tag && 6 !== x.tag)) x = null;
                    } else k = null, x = d;
                    if (k !== x) {
                        w = $b36288e2db101ba3$var$Bd;
                        v = "onMouseLeave";
                        u = "onMouseEnter";
                        t = "mouse";
                        if ("pointerout" === a82 || "pointerover" === a82) w = $b36288e2db101ba3$var$Td, v = "onPointerLeave", u = "onPointerEnter", t = "pointer";
                        z = null == k ? h : $b36288e2db101ba3$var$ue(k);
                        q = null == x ? h : $b36288e2db101ba3$var$ue(x);
                        h = new w(v, t + "leave", k, c, e);
                        h.target = z;
                        h.relatedTarget = q;
                        v = null;
                        $b36288e2db101ba3$var$wc(e) === d && (w = new w(u, t + "enter", x, c, e), w.target = q, w.relatedTarget = z, v = w);
                        z = v;
                        if (k && x) b: {
                            w = k;
                            u = x;
                            t = 0;
                            for(q = w; q; q = $b36288e2db101ba3$var$gf(q))t++;
                            q = 0;
                            for(v = u; v; v = $b36288e2db101ba3$var$gf(v))q++;
                            for(; 0 < t - q;)w = $b36288e2db101ba3$var$gf(w), t--;
                            for(; 0 < q - t;)u = $b36288e2db101ba3$var$gf(u), q--;
                            for(; t--;){
                                if (w === u || null !== u && w === u.alternate) break b;
                                w = $b36288e2db101ba3$var$gf(w);
                                u = $b36288e2db101ba3$var$gf(u);
                            }
                            w = null;
                        }
                        else w = null;
                        null !== k && $b36288e2db101ba3$var$hf(g, h, k, w, !1);
                        null !== x && null !== z && $b36288e2db101ba3$var$hf(g, z, x, w, !0);
                    }
                }
            }
            a: {
                h = d ? $b36288e2db101ba3$var$ue(d) : window;
                k = h.nodeName && h.nodeName.toLowerCase();
                if ("select" === k || "input" === k && "file" === h.type) var J = $b36288e2db101ba3$var$ve;
                else if ($b36288e2db101ba3$var$me(h)) {
                    if ($b36288e2db101ba3$var$we) J = $b36288e2db101ba3$var$Fe;
                    else {
                        J = $b36288e2db101ba3$var$De;
                        var K = $b36288e2db101ba3$var$Ce;
                    }
                } else (k = h.nodeName) && "input" === k.toLowerCase() && ("checkbox" === h.type || "radio" === h.type) && (J = $b36288e2db101ba3$var$Ee);
                if (J && (J = J(a82, d))) {
                    $b36288e2db101ba3$var$ne(g, J, c, e);
                    break a;
                }
                K && K(a82, h, d);
                "focusout" === a82 && (K = h._wrapperState) && K.controlled && "number" === h.type && $b36288e2db101ba3$var$bb(h, "number", h.value);
            }
            K = d ? $b36288e2db101ba3$var$ue(d) : window;
            switch(a82){
                case "focusin":
                    if ($b36288e2db101ba3$var$me(K) || "true" === K.contentEditable) $b36288e2db101ba3$var$Qe = K, $b36288e2db101ba3$var$Re = d, $b36288e2db101ba3$var$Se = null;
                    break;
                case "focusout":
                    $b36288e2db101ba3$var$Se = $b36288e2db101ba3$var$Re = $b36288e2db101ba3$var$Qe = null;
                    break;
                case "mousedown":
                    $b36288e2db101ba3$var$Te = !0;
                    break;
                case "contextmenu":
                case "mouseup":
                case "dragend":
                    $b36288e2db101ba3$var$Te = !1;
                    $b36288e2db101ba3$var$Ue(g, c, e);
                    break;
                case "selectionchange":
                    if ($b36288e2db101ba3$var$Pe) break;
                case "keydown":
                case "keyup":
                    $b36288e2db101ba3$var$Ue(g, c, e);
            }
            var Q;
            if ($b36288e2db101ba3$var$ae) b: {
                switch(a82){
                    case "compositionstart":
                        var L = "onCompositionStart";
                        break b;
                    case "compositionend":
                        L = "onCompositionEnd";
                        break b;
                    case "compositionupdate":
                        L = "onCompositionUpdate";
                        break b;
                }
                L = void 0;
            }
            else $b36288e2db101ba3$var$ie ? $b36288e2db101ba3$var$ge(a82, c) && (L = "onCompositionEnd") : "keydown" === a82 && 229 === c.keyCode && (L = "onCompositionStart");
            L && ($b36288e2db101ba3$var$de && "ko" !== c.locale && ($b36288e2db101ba3$var$ie || "onCompositionStart" !== L ? "onCompositionEnd" === L && $b36288e2db101ba3$var$ie && (Q = $b36288e2db101ba3$var$nd()) : ($b36288e2db101ba3$var$kd = e, $b36288e2db101ba3$var$ld = "value" in $b36288e2db101ba3$var$kd ? $b36288e2db101ba3$var$kd.value : $b36288e2db101ba3$var$kd.textContent, $b36288e2db101ba3$var$ie = !0)), K = $b36288e2db101ba3$var$oe(d, L), 0 < K.length && (L = new $b36288e2db101ba3$var$Ld(L, a82, null, c, e), g.push({
                event: L,
                listeners: K
            }), Q ? L.data = Q : (Q = $b36288e2db101ba3$var$he(c), null !== Q && (L.data = Q))));
            if (Q = $b36288e2db101ba3$var$ce ? $b36288e2db101ba3$var$je(a82, c) : $b36288e2db101ba3$var$ke(a82, c)) d = $b36288e2db101ba3$var$oe(d, "onBeforeInput"), 0 < d.length && (e = new $b36288e2db101ba3$var$Ld("onBeforeInput", "beforeinput", null, c, e), g.push({
                event: e,
                listeners: d
            }), e.data = Q);
        }
        $b36288e2db101ba3$var$se(g, b);
    });
}
function $b36288e2db101ba3$var$ef(a83, b, c) {
    return {
        instance: a83,
        listener: b,
        currentTarget: c
    };
}
function $b36288e2db101ba3$var$oe(a84, b) {
    for(var c = b + "Capture", d = []; null !== a84;){
        var e = a84, f = e.stateNode;
        5 === e.tag && null !== f && (e = f, f = $b36288e2db101ba3$var$Ob(a84, c), null != f && d.unshift($b36288e2db101ba3$var$ef(a84, f, e)), f = $b36288e2db101ba3$var$Ob(a84, b), null != f && d.push($b36288e2db101ba3$var$ef(a84, f, e)));
        a84 = a84.return;
    }
    return d;
}
function $b36288e2db101ba3$var$gf(a85) {
    if (null === a85) return null;
    do a85 = a85.return;
    while (a85 && 5 !== a85.tag)
    return a85 ? a85 : null;
}
function $b36288e2db101ba3$var$hf(a86, b, c, d, e) {
    for(var f = b._reactName, g = []; null !== c && c !== d;){
        var h = c, k = h.alternate, l = h.stateNode;
        if (null !== k && k === d) break;
        5 === h.tag && null !== l && (h = l, e ? (k = $b36288e2db101ba3$var$Ob(c, f), null != k && g.unshift($b36288e2db101ba3$var$ef(c, k, h))) : e || (k = $b36288e2db101ba3$var$Ob(c, f), null != k && g.push($b36288e2db101ba3$var$ef(c, k, h))));
        c = c.return;
    }
    0 !== g.length && a86.push({
        event: b,
        listeners: g
    });
}
function $b36288e2db101ba3$var$jf() {}
var $b36288e2db101ba3$var$kf = null, $b36288e2db101ba3$var$lf = null;
function $b36288e2db101ba3$var$mf(a87, b) {
    switch(a87){
        case "button":
        case "input":
        case "select":
        case "textarea":
            return !!b.autoFocus;
    }
    return !1;
}
function $b36288e2db101ba3$var$nf(a88, b) {
    return "textarea" === a88 || "option" === a88 || "noscript" === a88 || "string" === typeof b.children || "number" === typeof b.children || "object" === typeof b.dangerouslySetInnerHTML && null !== b.dangerouslySetInnerHTML && null != b.dangerouslySetInnerHTML.__html;
}
var $b36288e2db101ba3$var$of = "function" === typeof setTimeout ? setTimeout : void 0, $b36288e2db101ba3$var$pf = "function" === typeof clearTimeout ? clearTimeout : void 0;
function $b36288e2db101ba3$var$qf(a89) {
    1 === a89.nodeType ? a89.textContent = "" : 9 === a89.nodeType && (a89 = a89.body, null != a89 && (a89.textContent = ""));
}
function $b36288e2db101ba3$var$rf(a90) {
    for(; null != a90; a90 = a90.nextSibling){
        var b = a90.nodeType;
        if (1 === b || 3 === b) break;
    }
    return a90;
}
function $b36288e2db101ba3$var$sf(a91) {
    a91 = a91.previousSibling;
    for(var b = 0; a91;){
        if (8 === a91.nodeType) {
            var c = a91.data;
            if ("$" === c || "$!" === c || "$?" === c) {
                if (0 === b) return a91;
                b--;
            } else "/$" === c && b++;
        }
        a91 = a91.previousSibling;
    }
    return null;
}
var $b36288e2db101ba3$var$tf = 0;
function $b36288e2db101ba3$var$uf(a92) {
    return {
        $$typeof: $b36288e2db101ba3$var$Ga,
        toString: a92,
        valueOf: a92
    };
}
var $b36288e2db101ba3$var$vf = Math.random().toString(36).slice(2), $b36288e2db101ba3$var$wf = "__reactFiber$" + $b36288e2db101ba3$var$vf, $b36288e2db101ba3$var$xf = "__reactProps$" + $b36288e2db101ba3$var$vf, $b36288e2db101ba3$var$ff = "__reactContainer$" + $b36288e2db101ba3$var$vf, $b36288e2db101ba3$var$yf = "__reactEvents$" + $b36288e2db101ba3$var$vf;
function $b36288e2db101ba3$var$wc(a93) {
    var b = a93[$b36288e2db101ba3$var$wf];
    if (b) return b;
    for(var c = a93.parentNode; c;){
        if (b = c[$b36288e2db101ba3$var$ff] || c[$b36288e2db101ba3$var$wf]) {
            c = b.alternate;
            if (null !== b.child || null !== c && null !== c.child) for(a93 = $b36288e2db101ba3$var$sf(a93); null !== a93;){
                if (c = a93[$b36288e2db101ba3$var$wf]) return c;
                a93 = $b36288e2db101ba3$var$sf(a93);
            }
            return b;
        }
        a93 = c;
        c = a93.parentNode;
    }
    return null;
}
function $b36288e2db101ba3$var$Cb(a94) {
    a94 = a94[$b36288e2db101ba3$var$wf] || a94[$b36288e2db101ba3$var$ff];
    return !a94 || 5 !== a94.tag && 6 !== a94.tag && 13 !== a94.tag && 3 !== a94.tag ? null : a94;
}
function $b36288e2db101ba3$var$ue(a95) {
    if (5 === a95.tag || 6 === a95.tag) return a95.stateNode;
    throw Error($b36288e2db101ba3$var$y(33));
}
function $b36288e2db101ba3$var$Db(a96) {
    return a96[$b36288e2db101ba3$var$xf] || null;
}
function $b36288e2db101ba3$var$$e(a97) {
    var b = a97[$b36288e2db101ba3$var$yf];
    void 0 === b && (b = a97[$b36288e2db101ba3$var$yf] = new Set);
    return b;
}
var $b36288e2db101ba3$var$zf = [], $b36288e2db101ba3$var$Af = -1;
function $b36288e2db101ba3$var$Bf(a98) {
    return {
        current: a98
    };
}
function $b36288e2db101ba3$var$H(a99) {
    0 > $b36288e2db101ba3$var$Af || (a99.current = $b36288e2db101ba3$var$zf[$b36288e2db101ba3$var$Af], $b36288e2db101ba3$var$zf[$b36288e2db101ba3$var$Af] = null, $b36288e2db101ba3$var$Af--);
}
function $b36288e2db101ba3$var$I(a100, b) {
    $b36288e2db101ba3$var$Af++;
    $b36288e2db101ba3$var$zf[$b36288e2db101ba3$var$Af] = a100.current;
    a100.current = b;
}
var $b36288e2db101ba3$var$Cf = {}, $b36288e2db101ba3$var$M = $b36288e2db101ba3$var$Bf($b36288e2db101ba3$var$Cf), $b36288e2db101ba3$var$N = $b36288e2db101ba3$var$Bf(!1), $b36288e2db101ba3$var$Df = $b36288e2db101ba3$var$Cf;
function $b36288e2db101ba3$var$Ef(a101, b) {
    var c = a101.type.contextTypes;
    if (!c) return $b36288e2db101ba3$var$Cf;
    var d = a101.stateNode;
    if (d && d.__reactInternalMemoizedUnmaskedChildContext === b) return d.__reactInternalMemoizedMaskedChildContext;
    var e = {}, f;
    for(f in c)e[f] = b[f];
    d && (a101 = a101.stateNode, a101.__reactInternalMemoizedUnmaskedChildContext = b, a101.__reactInternalMemoizedMaskedChildContext = e);
    return e;
}
function $b36288e2db101ba3$var$Ff(a102) {
    a102 = a102.childContextTypes;
    return null !== a102 && void 0 !== a102;
}
function $b36288e2db101ba3$var$Gf() {
    $b36288e2db101ba3$var$H($b36288e2db101ba3$var$N);
    $b36288e2db101ba3$var$H($b36288e2db101ba3$var$M);
}
function $b36288e2db101ba3$var$Hf(a, b, c) {
    if ($b36288e2db101ba3$var$M.current !== $b36288e2db101ba3$var$Cf) throw Error($b36288e2db101ba3$var$y(168));
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$M, b);
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$N, c);
}
function $b36288e2db101ba3$var$If(a103, b, c) {
    var d = a103.stateNode;
    a103 = b.childContextTypes;
    if ("function" !== typeof d.getChildContext) return c;
    d = d.getChildContext();
    for(var e in d)if (!(e in a103)) throw Error($b36288e2db101ba3$var$y(108, $b36288e2db101ba3$var$Ra(b) || "Unknown", e));
    return $4yvvI({}, c, d);
}
function $b36288e2db101ba3$var$Jf(a104) {
    a104 = (a104 = a104.stateNode) && a104.__reactInternalMemoizedMergedChildContext || $b36288e2db101ba3$var$Cf;
    $b36288e2db101ba3$var$Df = $b36288e2db101ba3$var$M.current;
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$M, a104);
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$N, $b36288e2db101ba3$var$N.current);
    return !0;
}
function $b36288e2db101ba3$var$Kf(a105, b, c) {
    var d = a105.stateNode;
    if (!d) throw Error($b36288e2db101ba3$var$y(169));
    c ? (a105 = $b36288e2db101ba3$var$If(a105, b, $b36288e2db101ba3$var$Df), d.__reactInternalMemoizedMergedChildContext = a105, $b36288e2db101ba3$var$H($b36288e2db101ba3$var$N), $b36288e2db101ba3$var$H($b36288e2db101ba3$var$M), $b36288e2db101ba3$var$I($b36288e2db101ba3$var$M, a105)) : $b36288e2db101ba3$var$H($b36288e2db101ba3$var$N);
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$N, c);
}
var $b36288e2db101ba3$var$Lf = null, $b36288e2db101ba3$var$Mf = null, $b36288e2db101ba3$var$Nf = $4LCdk.unstable_runWithPriority, $b36288e2db101ba3$var$Of = $4LCdk.unstable_scheduleCallback, $b36288e2db101ba3$var$Pf = $4LCdk.unstable_cancelCallback, $b36288e2db101ba3$var$Qf = $4LCdk.unstable_shouldYield, $b36288e2db101ba3$var$Rf = $4LCdk.unstable_requestPaint, $b36288e2db101ba3$var$Sf = $4LCdk.unstable_now, $b36288e2db101ba3$var$Tf = $4LCdk.unstable_getCurrentPriorityLevel, $b36288e2db101ba3$var$Uf = $4LCdk.unstable_ImmediatePriority, $b36288e2db101ba3$var$Vf = $4LCdk.unstable_UserBlockingPriority, $b36288e2db101ba3$var$Wf = $4LCdk.unstable_NormalPriority, $b36288e2db101ba3$var$Xf = $4LCdk.unstable_LowPriority, $b36288e2db101ba3$var$Yf = $4LCdk.unstable_IdlePriority, $b36288e2db101ba3$var$Zf = {}, $b36288e2db101ba3$var$$f = void 0 !== $b36288e2db101ba3$var$Rf ? $b36288e2db101ba3$var$Rf : function() {}, $b36288e2db101ba3$var$ag = null, $b36288e2db101ba3$var$bg = null, $b36288e2db101ba3$var$cg = !1, $b36288e2db101ba3$var$dg = $b36288e2db101ba3$var$Sf(), $b36288e2db101ba3$var$O = 1E4 > $b36288e2db101ba3$var$dg ? $b36288e2db101ba3$var$Sf : function() {
    return $b36288e2db101ba3$var$Sf() - $b36288e2db101ba3$var$dg;
};
function $b36288e2db101ba3$var$eg() {
    switch($b36288e2db101ba3$var$Tf()){
        case $b36288e2db101ba3$var$Uf:
            return 99;
        case $b36288e2db101ba3$var$Vf:
            return 98;
        case $b36288e2db101ba3$var$Wf:
            return 97;
        case $b36288e2db101ba3$var$Xf:
            return 96;
        case $b36288e2db101ba3$var$Yf:
            return 95;
        default:
            throw Error($b36288e2db101ba3$var$y(332));
    }
}
function $b36288e2db101ba3$var$fg(a106) {
    switch(a106){
        case 99:
            return $b36288e2db101ba3$var$Uf;
        case 98:
            return $b36288e2db101ba3$var$Vf;
        case 97:
            return $b36288e2db101ba3$var$Wf;
        case 96:
            return $b36288e2db101ba3$var$Xf;
        case 95:
            return $b36288e2db101ba3$var$Yf;
        default:
            throw Error($b36288e2db101ba3$var$y(332));
    }
}
function $b36288e2db101ba3$var$gg(a107, b) {
    a107 = $b36288e2db101ba3$var$fg(a107);
    return $b36288e2db101ba3$var$Nf(a107, b);
}
function $b36288e2db101ba3$var$hg(a108, b, c) {
    a108 = $b36288e2db101ba3$var$fg(a108);
    return $b36288e2db101ba3$var$Of(a108, b, c);
}
function $b36288e2db101ba3$var$ig() {
    if (null !== $b36288e2db101ba3$var$bg) {
        var a109 = $b36288e2db101ba3$var$bg;
        $b36288e2db101ba3$var$bg = null;
        $b36288e2db101ba3$var$Pf(a109);
    }
    $b36288e2db101ba3$var$jg();
}
function $b36288e2db101ba3$var$jg() {
    if (!$b36288e2db101ba3$var$cg && null !== $b36288e2db101ba3$var$ag) {
        $b36288e2db101ba3$var$cg = !0;
        var a110 = 0;
        try {
            var b = $b36288e2db101ba3$var$ag;
            $b36288e2db101ba3$var$gg(99, function() {
                for(; a110 < b.length; a110++){
                    var c = b[a110];
                    do c = c(!0);
                    while (null !== c)
                }
            });
            $b36288e2db101ba3$var$ag = null;
        } catch (c) {
            throw null !== $b36288e2db101ba3$var$ag && ($b36288e2db101ba3$var$ag = $b36288e2db101ba3$var$ag.slice(a110 + 1)), $b36288e2db101ba3$var$Of($b36288e2db101ba3$var$Uf, $b36288e2db101ba3$var$ig), c;
        } finally{
            $b36288e2db101ba3$var$cg = !1;
        }
    }
}
var $b36288e2db101ba3$var$kg = $b36288e2db101ba3$var$ra.ReactCurrentBatchConfig;
function $b36288e2db101ba3$var$lg(a111, b) {
    if (a111 && a111.defaultProps) {
        b = $4yvvI({}, b);
        a111 = a111.defaultProps;
        for(var c in a111)void 0 === b[c] && (b[c] = a111[c]);
        return b;
    }
    return b;
}
var $b36288e2db101ba3$var$mg = $b36288e2db101ba3$var$Bf(null), $b36288e2db101ba3$var$ng = null, $b36288e2db101ba3$var$og = null, $b36288e2db101ba3$var$pg = null;
function $b36288e2db101ba3$var$qg() {
    $b36288e2db101ba3$var$pg = $b36288e2db101ba3$var$og = $b36288e2db101ba3$var$ng = null;
}
function $b36288e2db101ba3$var$rg(a112) {
    var b = $b36288e2db101ba3$var$mg.current;
    $b36288e2db101ba3$var$H($b36288e2db101ba3$var$mg);
    a112.type._context._currentValue = b;
}
function $b36288e2db101ba3$var$sg(a113, b) {
    for(; null !== a113;){
        var c = a113.alternate;
        if ((a113.childLanes & b) === b) {
            if (null === c || (c.childLanes & b) === b) break;
            else c.childLanes |= b;
        } else a113.childLanes |= b, null !== c && (c.childLanes |= b);
        a113 = a113.return;
    }
}
function $b36288e2db101ba3$var$tg(a114, b) {
    $b36288e2db101ba3$var$ng = a114;
    $b36288e2db101ba3$var$pg = $b36288e2db101ba3$var$og = null;
    a114 = a114.dependencies;
    null !== a114 && null !== a114.firstContext && (0 !== (a114.lanes & b) && ($b36288e2db101ba3$var$ug = !0), a114.firstContext = null);
}
function $b36288e2db101ba3$var$vg(a115, b) {
    if ($b36288e2db101ba3$var$pg !== a115 && !1 !== b && 0 !== b) {
        if ("number" !== typeof b || 1073741823 === b) $b36288e2db101ba3$var$pg = a115, b = 1073741823;
        b = {
            context: a115,
            observedBits: b,
            next: null
        };
        if (null === $b36288e2db101ba3$var$og) {
            if (null === $b36288e2db101ba3$var$ng) throw Error($b36288e2db101ba3$var$y(308));
            $b36288e2db101ba3$var$og = b;
            $b36288e2db101ba3$var$ng.dependencies = {
                lanes: 0,
                firstContext: b,
                responders: null
            };
        } else $b36288e2db101ba3$var$og = $b36288e2db101ba3$var$og.next = b;
    }
    return a115._currentValue;
}
var $b36288e2db101ba3$var$wg = !1;
function $b36288e2db101ba3$var$xg(a116) {
    a116.updateQueue = {
        baseState: a116.memoizedState,
        firstBaseUpdate: null,
        lastBaseUpdate: null,
        shared: {
            pending: null
        },
        effects: null
    };
}
function $b36288e2db101ba3$var$yg(a117, b) {
    a117 = a117.updateQueue;
    b.updateQueue === a117 && (b.updateQueue = {
        baseState: a117.baseState,
        firstBaseUpdate: a117.firstBaseUpdate,
        lastBaseUpdate: a117.lastBaseUpdate,
        shared: a117.shared,
        effects: a117.effects
    });
}
function $b36288e2db101ba3$var$zg(a118, b) {
    return {
        eventTime: a118,
        lane: b,
        tag: 0,
        payload: null,
        callback: null,
        next: null
    };
}
function $b36288e2db101ba3$var$Ag(a119, b) {
    a119 = a119.updateQueue;
    if (null !== a119) {
        a119 = a119.shared;
        var c = a119.pending;
        null === c ? b.next = b : (b.next = c.next, c.next = b);
        a119.pending = b;
    }
}
function $b36288e2db101ba3$var$Bg(a120, b) {
    var c = a120.updateQueue, d = a120.alternate;
    if (null !== d && (d = d.updateQueue, c === d)) {
        var e = null, f = null;
        c = c.firstBaseUpdate;
        if (null !== c) {
            do {
                var g = {
                    eventTime: c.eventTime,
                    lane: c.lane,
                    tag: c.tag,
                    payload: c.payload,
                    callback: c.callback,
                    next: null
                };
                null === f ? e = f = g : f = f.next = g;
                c = c.next;
            }while (null !== c)
            null === f ? e = f = b : f = f.next = b;
        } else e = f = b;
        c = {
            baseState: d.baseState,
            firstBaseUpdate: e,
            lastBaseUpdate: f,
            shared: d.shared,
            effects: d.effects
        };
        a120.updateQueue = c;
        return;
    }
    a120 = c.lastBaseUpdate;
    null === a120 ? c.firstBaseUpdate = b : a120.next = b;
    c.lastBaseUpdate = b;
}
function $b36288e2db101ba3$var$Cg(a121, b, c, d) {
    var e = a121.updateQueue;
    $b36288e2db101ba3$var$wg = !1;
    var f = e.firstBaseUpdate, g = e.lastBaseUpdate, h = e.shared.pending;
    if (null !== h) {
        e.shared.pending = null;
        var k = h, l = k.next;
        k.next = null;
        null === g ? f = l : g.next = l;
        g = k;
        var n = a121.alternate;
        if (null !== n) {
            n = n.updateQueue;
            var A = n.lastBaseUpdate;
            A !== g && (null === A ? n.firstBaseUpdate = l : A.next = l, n.lastBaseUpdate = k);
        }
    }
    if (null !== f) {
        A = e.baseState;
        g = 0;
        n = l = k = null;
        do {
            h = f.lane;
            var p = f.eventTime;
            if ((d & h) === h) {
                null !== n && (n = n.next = {
                    eventTime: p,
                    lane: 0,
                    tag: f.tag,
                    payload: f.payload,
                    callback: f.callback,
                    next: null
                });
                a: {
                    var C = a121, x = f;
                    h = b;
                    p = c;
                    switch(x.tag){
                        case 1:
                            C = x.payload;
                            if ("function" === typeof C) {
                                A = C.call(p, A, h);
                                break a;
                            }
                            A = C;
                            break a;
                        case 3:
                            C.flags = C.flags & -4097 | 64;
                        case 0:
                            C = x.payload;
                            h = "function" === typeof C ? C.call(p, A, h) : C;
                            if (null === h || void 0 === h) break a;
                            A = $4yvvI({}, A, h);
                            break a;
                        case 2:
                            $b36288e2db101ba3$var$wg = !0;
                    }
                }
                null !== f.callback && (a121.flags |= 32, h = e.effects, null === h ? e.effects = [
                    f
                ] : h.push(f));
            } else p = {
                eventTime: p,
                lane: h,
                tag: f.tag,
                payload: f.payload,
                callback: f.callback,
                next: null
            }, null === n ? (l = n = p, k = A) : n = n.next = p, g |= h;
            f = f.next;
            if (null === f) {
                if (h = e.shared.pending, null === h) break;
                else f = h.next, h.next = null, e.lastBaseUpdate = h, e.shared.pending = null;
            }
        }while (1)
        null === n && (k = A);
        e.baseState = k;
        e.firstBaseUpdate = l;
        e.lastBaseUpdate = n;
        $b36288e2db101ba3$var$Dg |= g;
        a121.lanes = g;
        a121.memoizedState = A;
    }
}
function $b36288e2db101ba3$var$Eg(a122, b, c) {
    a122 = b.effects;
    b.effects = null;
    if (null !== a122) for(b = 0; b < a122.length; b++){
        var d = a122[b], e = d.callback;
        if (null !== e) {
            d.callback = null;
            d = c;
            if ("function" !== typeof e) throw Error($b36288e2db101ba3$var$y(191, e));
            e.call(d);
        }
    }
}
var $b36288e2db101ba3$var$Fg = (new $bh6RR.Component).refs;
function $b36288e2db101ba3$var$Gg(a123, b, c, d) {
    b = a123.memoizedState;
    c = c(d, b);
    c = null === c || void 0 === c ? b : $4yvvI({}, b, c);
    a123.memoizedState = c;
    0 === a123.lanes && (a123.updateQueue.baseState = c);
}
var $b36288e2db101ba3$var$Kg = {
    isMounted: function(a124) {
        return (a124 = a124._reactInternals) ? $b36288e2db101ba3$var$Zb(a124) === a124 : !1;
    },
    enqueueSetState: function(a125, b, c) {
        a125 = a125._reactInternals;
        var d = $b36288e2db101ba3$var$Hg(), e = $b36288e2db101ba3$var$Ig(a125), f = $b36288e2db101ba3$var$zg(d, e);
        f.payload = b;
        void 0 !== c && null !== c && (f.callback = c);
        $b36288e2db101ba3$var$Ag(a125, f);
        $b36288e2db101ba3$var$Jg(a125, e, d);
    },
    enqueueReplaceState: function(a126, b, c) {
        a126 = a126._reactInternals;
        var d = $b36288e2db101ba3$var$Hg(), e = $b36288e2db101ba3$var$Ig(a126), f = $b36288e2db101ba3$var$zg(d, e);
        f.tag = 1;
        f.payload = b;
        void 0 !== c && null !== c && (f.callback = c);
        $b36288e2db101ba3$var$Ag(a126, f);
        $b36288e2db101ba3$var$Jg(a126, e, d);
    },
    enqueueForceUpdate: function(a127, b) {
        a127 = a127._reactInternals;
        var c = $b36288e2db101ba3$var$Hg(), d = $b36288e2db101ba3$var$Ig(a127), e = $b36288e2db101ba3$var$zg(c, d);
        e.tag = 2;
        void 0 !== b && null !== b && (e.callback = b);
        $b36288e2db101ba3$var$Ag(a127, e);
        $b36288e2db101ba3$var$Jg(a127, d, c);
    }
};
function $b36288e2db101ba3$var$Lg(a128, b, c, d, e, f, g) {
    a128 = a128.stateNode;
    return "function" === typeof a128.shouldComponentUpdate ? a128.shouldComponentUpdate(d, f, g) : b.prototype && b.prototype.isPureReactComponent ? !$b36288e2db101ba3$var$Je(c, d) || !$b36288e2db101ba3$var$Je(e, f) : !0;
}
function $b36288e2db101ba3$var$Mg(a129, b, c) {
    var d = !1, e = $b36288e2db101ba3$var$Cf;
    var f = b.contextType;
    "object" === typeof f && null !== f ? f = $b36288e2db101ba3$var$vg(f) : (e = $b36288e2db101ba3$var$Ff(b) ? $b36288e2db101ba3$var$Df : $b36288e2db101ba3$var$M.current, d = b.contextTypes, f = (d = null !== d && void 0 !== d) ? $b36288e2db101ba3$var$Ef(a129, e) : $b36288e2db101ba3$var$Cf);
    b = new b(c, f);
    a129.memoizedState = null !== b.state && void 0 !== b.state ? b.state : null;
    b.updater = $b36288e2db101ba3$var$Kg;
    a129.stateNode = b;
    b._reactInternals = a129;
    d && (a129 = a129.stateNode, a129.__reactInternalMemoizedUnmaskedChildContext = e, a129.__reactInternalMemoizedMaskedChildContext = f);
    return b;
}
function $b36288e2db101ba3$var$Ng(a130, b, c, d) {
    a130 = b.state;
    "function" === typeof b.componentWillReceiveProps && b.componentWillReceiveProps(c, d);
    "function" === typeof b.UNSAFE_componentWillReceiveProps && b.UNSAFE_componentWillReceiveProps(c, d);
    b.state !== a130 && $b36288e2db101ba3$var$Kg.enqueueReplaceState(b, b.state, null);
}
function $b36288e2db101ba3$var$Og(a131, b, c, d) {
    var e = a131.stateNode;
    e.props = c;
    e.state = a131.memoizedState;
    e.refs = $b36288e2db101ba3$var$Fg;
    $b36288e2db101ba3$var$xg(a131);
    var f = b.contextType;
    "object" === typeof f && null !== f ? e.context = $b36288e2db101ba3$var$vg(f) : (f = $b36288e2db101ba3$var$Ff(b) ? $b36288e2db101ba3$var$Df : $b36288e2db101ba3$var$M.current, e.context = $b36288e2db101ba3$var$Ef(a131, f));
    $b36288e2db101ba3$var$Cg(a131, c, e, d);
    e.state = a131.memoizedState;
    f = b.getDerivedStateFromProps;
    "function" === typeof f && ($b36288e2db101ba3$var$Gg(a131, b, f, c), e.state = a131.memoizedState);
    "function" === typeof b.getDerivedStateFromProps || "function" === typeof e.getSnapshotBeforeUpdate || "function" !== typeof e.UNSAFE_componentWillMount && "function" !== typeof e.componentWillMount || (b = e.state, "function" === typeof e.componentWillMount && e.componentWillMount(), "function" === typeof e.UNSAFE_componentWillMount && e.UNSAFE_componentWillMount(), b !== e.state && $b36288e2db101ba3$var$Kg.enqueueReplaceState(e, e.state, null), $b36288e2db101ba3$var$Cg(a131, c, e, d), e.state = a131.memoizedState);
    "function" === typeof e.componentDidMount && (a131.flags |= 4);
}
var $b36288e2db101ba3$var$Pg = Array.isArray;
function $b36288e2db101ba3$var$Qg(a132, b3, c) {
    a132 = c.ref;
    if (null !== a132 && "function" !== typeof a132 && "object" !== typeof a132) {
        if (c._owner) {
            c = c._owner;
            if (c) {
                if (1 !== c.tag) throw Error($b36288e2db101ba3$var$y(309));
                var d = c.stateNode;
            }
            if (!d) throw Error($b36288e2db101ba3$var$y(147, a132));
            var e = "" + a132;
            if (null !== b3 && null !== b3.ref && "function" === typeof b3.ref && b3.ref._stringRef === e) return b3.ref;
            b3 = function(a133) {
                var b = d.refs;
                b === $b36288e2db101ba3$var$Fg && (b = d.refs = {});
                null === a133 ? delete b[e] : b[e] = a133;
            };
            b3._stringRef = e;
            return b3;
        }
        if ("string" !== typeof a132) throw Error($b36288e2db101ba3$var$y(284));
        if (!c._owner) throw Error($b36288e2db101ba3$var$y(290, a132));
    }
    return a132;
}
function $b36288e2db101ba3$var$Rg(a134, b) {
    if ("textarea" !== a134.type) throw Error($b36288e2db101ba3$var$y(31, "[object Object]" === Object.prototype.toString.call(b) ? "object with keys {" + Object.keys(b).join(", ") + "}" : b));
}
function $b36288e2db101ba3$var$Sg(a135) {
    function b4(b, c) {
        if (a135) {
            var d = b.lastEffect;
            null !== d ? (d.nextEffect = c, b.lastEffect = c) : b.firstEffect = b.lastEffect = c;
            c.nextEffect = null;
            c.flags = 8;
        }
    }
    function c1(c, d) {
        if (!a135) return null;
        for(; null !== d;)b4(c, d), d = d.sibling;
        return null;
    }
    function d2(a136, b) {
        for(a136 = new Map; null !== b;)null !== b.key ? a136.set(b.key, b) : a136.set(b.index, b), b = b.sibling;
        return a136;
    }
    function e2(a137, b) {
        a137 = $b36288e2db101ba3$var$Tg(a137, b);
        a137.index = 0;
        a137.sibling = null;
        return a137;
    }
    function f1(b, c, d) {
        b.index = d;
        if (!a135) return c;
        d = b.alternate;
        if (null !== d) return d = d.index, d < c ? (b.flags = 2, c) : d;
        b.flags = 2;
        return c;
    }
    function g1(b) {
        a135 && null === b.alternate && (b.flags = 2);
        return b;
    }
    function h1(a138, b, c, d) {
        if (null === b || 6 !== b.tag) return b = $b36288e2db101ba3$var$Ug(c, a138.mode, d), b.return = a138, b;
        b = e2(b, c);
        b.return = a138;
        return b;
    }
    function k1(a139, b, c, d) {
        if (null !== b && b.elementType === c.type) return d = e2(b, c.props), d.ref = $b36288e2db101ba3$var$Qg(a139, b, c), d.return = a139, d;
        d = $b36288e2db101ba3$var$Vg(c.type, c.key, c.props, null, a139.mode, d);
        d.ref = $b36288e2db101ba3$var$Qg(a139, b, c);
        d.return = a139;
        return d;
    }
    function l1(a140, b, c, d) {
        if (null === b || 4 !== b.tag || b.stateNode.containerInfo !== c.containerInfo || b.stateNode.implementation !== c.implementation) return b = $b36288e2db101ba3$var$Wg(c, a140.mode, d), b.return = a140, b;
        b = e2(b, c.children || []);
        b.return = a140;
        return b;
    }
    function n1(a141, b, c, d, f) {
        if (null === b || 7 !== b.tag) return b = $b36288e2db101ba3$var$Xg(c, a141.mode, d, f), b.return = a141, b;
        b = e2(b, c);
        b.return = a141;
        return b;
    }
    function A(a142, b, c) {
        if ("string" === typeof b || "number" === typeof b) return b = $b36288e2db101ba3$var$Ug("" + b, a142.mode, c), b.return = a142, b;
        if ("object" === typeof b && null !== b) {
            switch(b.$$typeof){
                case $b36288e2db101ba3$var$sa:
                    return c = $b36288e2db101ba3$var$Vg(b.type, b.key, b.props, null, a142.mode, c), c.ref = $b36288e2db101ba3$var$Qg(a142, null, b), c.return = a142, c;
                case $b36288e2db101ba3$var$ta:
                    return b = $b36288e2db101ba3$var$Wg(b, a142.mode, c), b.return = a142, b;
            }
            if ($b36288e2db101ba3$var$Pg(b) || $b36288e2db101ba3$var$La(b)) return b = $b36288e2db101ba3$var$Xg(b, a142.mode, c, null), b.return = a142, b;
            $b36288e2db101ba3$var$Rg(a142, b);
        }
        return null;
    }
    function p(a143, b, c, d) {
        var e = null !== b ? b.key : null;
        if ("string" === typeof c || "number" === typeof c) return null !== e ? null : h1(a143, b, "" + c, d);
        if ("object" === typeof c && null !== c) {
            switch(c.$$typeof){
                case $b36288e2db101ba3$var$sa:
                    return c.key === e ? c.type === $b36288e2db101ba3$var$ua ? n1(a143, b, c.props.children, d, e) : k1(a143, b, c, d) : null;
                case $b36288e2db101ba3$var$ta:
                    return c.key === e ? l1(a143, b, c, d) : null;
            }
            if ($b36288e2db101ba3$var$Pg(c) || $b36288e2db101ba3$var$La(c)) return null !== e ? null : n1(a143, b, c, d, null);
            $b36288e2db101ba3$var$Rg(a143, c);
        }
        return null;
    }
    function C(a144, b, c, d, e) {
        if ("string" === typeof d || "number" === typeof d) return a144 = a144.get(c) || null, h1(b, a144, "" + d, e);
        if ("object" === typeof d && null !== d) {
            switch(d.$$typeof){
                case $b36288e2db101ba3$var$sa:
                    return a144 = a144.get(null === d.key ? c : d.key) || null, d.type === $b36288e2db101ba3$var$ua ? n1(b, a144, d.props.children, e, d.key) : k1(b, a144, d, e);
                case $b36288e2db101ba3$var$ta:
                    return a144 = a144.get(null === d.key ? c : d.key) || null, l1(b, a144, d, e);
            }
            if ($b36288e2db101ba3$var$Pg(d) || $b36288e2db101ba3$var$La(d)) return a144 = a144.get(c) || null, n1(b, a144, d, e, null);
            $b36288e2db101ba3$var$Rg(b, d);
        }
        return null;
    }
    function x(e, g, h, k) {
        for(var l = null, t = null, u = g, z = g = 0, q = null; null !== u && z < h.length; z++){
            u.index > z ? (q = u, u = null) : q = u.sibling;
            var n = p(e, u, h[z], k);
            if (null === n) {
                null === u && (u = q);
                break;
            }
            a135 && u && null === n.alternate && b4(e, u);
            g = f1(n, g, z);
            null === t ? l = n : t.sibling = n;
            t = n;
            u = q;
        }
        if (z === h.length) return c1(e, u), l;
        if (null === u) {
            for(; z < h.length; z++)u = A(e, h[z], k), null !== u && (g = f1(u, g, z), null === t ? l = u : t.sibling = u, t = u);
            return l;
        }
        for(u = d2(e, u); z < h.length; z++)q = C(u, e, z, h[z], k), null !== q && (a135 && null !== q.alternate && u.delete(null === q.key ? z : q.key), g = f1(q, g, z), null === t ? l = q : t.sibling = q, t = q);
        a135 && u.forEach(function(a145) {
            return b4(e, a145);
        });
        return l;
    }
    function w1(e, g, h, k) {
        var l = $b36288e2db101ba3$var$La(h);
        if ("function" !== typeof l) throw Error($b36288e2db101ba3$var$y(150));
        h = l.call(h);
        if (null == h) throw Error($b36288e2db101ba3$var$y(151));
        for(var t = l = null, u = g, z = g = 0, q = null, n = h.next(); null !== u && !n.done; z++, n = h.next()){
            u.index > z ? (q = u, u = null) : q = u.sibling;
            var w = p(e, u, n.value, k);
            if (null === w) {
                null === u && (u = q);
                break;
            }
            a135 && u && null === w.alternate && b4(e, u);
            g = f1(w, g, z);
            null === t ? l = w : t.sibling = w;
            t = w;
            u = q;
        }
        if (n.done) return c1(e, u), l;
        if (null === u) {
            for(; !n.done; z++, n = h.next())n = A(e, n.value, k), null !== n && (g = f1(n, g, z), null === t ? l = n : t.sibling = n, t = n);
            return l;
        }
        for(u = d2(e, u); !n.done; z++, n = h.next())n = C(u, e, z, n.value, k), null !== n && (a135 && null !== n.alternate && u.delete(null === n.key ? z : n.key), g = f1(n, g, z), null === t ? l = n : t.sibling = n, t = n);
        a135 && u.forEach(function(a146) {
            return b4(e, a146);
        });
        return l;
    }
    return function(a147, d, f, h) {
        var k = "object" === typeof f && null !== f && f.type === $b36288e2db101ba3$var$ua && null === f.key;
        k && (f = f.props.children);
        var l = "object" === typeof f && null !== f;
        if (l) switch(f.$$typeof){
            case $b36288e2db101ba3$var$sa:
                a: {
                    l = f.key;
                    for(k = d; null !== k;){
                        if (k.key === l) {
                            switch(k.tag){
                                case 7:
                                    if (f.type === $b36288e2db101ba3$var$ua) {
                                        c1(a147, k.sibling);
                                        d = e2(k, f.props.children);
                                        d.return = a147;
                                        a147 = d;
                                        break a;
                                    }
                                    break;
                                default:
                                    if (k.elementType === f.type) {
                                        c1(a147, k.sibling);
                                        d = e2(k, f.props);
                                        d.ref = $b36288e2db101ba3$var$Qg(a147, k, f);
                                        d.return = a147;
                                        a147 = d;
                                        break a;
                                    }
                            }
                            c1(a147, k);
                            break;
                        } else b4(a147, k);
                        k = k.sibling;
                    }
                    f.type === $b36288e2db101ba3$var$ua ? (d = $b36288e2db101ba3$var$Xg(f.props.children, a147.mode, h, f.key), d.return = a147, a147 = d) : (h = $b36288e2db101ba3$var$Vg(f.type, f.key, f.props, null, a147.mode, h), h.ref = $b36288e2db101ba3$var$Qg(a147, d, f), h.return = a147, a147 = h);
                }
                return g1(a147);
            case $b36288e2db101ba3$var$ta:
                a: {
                    for(k = f.key; null !== d;){
                        if (d.key === k) {
                            if (4 === d.tag && d.stateNode.containerInfo === f.containerInfo && d.stateNode.implementation === f.implementation) {
                                c1(a147, d.sibling);
                                d = e2(d, f.children || []);
                                d.return = a147;
                                a147 = d;
                                break a;
                            } else {
                                c1(a147, d);
                                break;
                            }
                        } else b4(a147, d);
                        d = d.sibling;
                    }
                    d = $b36288e2db101ba3$var$Wg(f, a147.mode, h);
                    d.return = a147;
                    a147 = d;
                }
                return g1(a147);
        }
        if ("string" === typeof f || "number" === typeof f) return f = "" + f, null !== d && 6 === d.tag ? (c1(a147, d.sibling), d = e2(d, f), d.return = a147, a147 = d) : (c1(a147, d), d = $b36288e2db101ba3$var$Ug(f, a147.mode, h), d.return = a147, a147 = d), g1(a147);
        if ($b36288e2db101ba3$var$Pg(f)) return x(a147, d, f, h);
        if ($b36288e2db101ba3$var$La(f)) return w1(a147, d, f, h);
        l && $b36288e2db101ba3$var$Rg(a147, f);
        if ("undefined" === typeof f && !k) switch(a147.tag){
            case 1:
            case 22:
            case 0:
            case 11:
            case 15:
                throw Error($b36288e2db101ba3$var$y(152, $b36288e2db101ba3$var$Ra(a147.type) || "Component"));
        }
        return c1(a147, d);
    };
}
var $b36288e2db101ba3$var$Yg = $b36288e2db101ba3$var$Sg(!0), $b36288e2db101ba3$var$Zg = $b36288e2db101ba3$var$Sg(!1), $b36288e2db101ba3$var$$g = {}, $b36288e2db101ba3$var$ah = $b36288e2db101ba3$var$Bf($b36288e2db101ba3$var$$g), $b36288e2db101ba3$var$bh = $b36288e2db101ba3$var$Bf($b36288e2db101ba3$var$$g), $b36288e2db101ba3$var$ch = $b36288e2db101ba3$var$Bf($b36288e2db101ba3$var$$g);
function $b36288e2db101ba3$var$dh(a148) {
    if (a148 === $b36288e2db101ba3$var$$g) throw Error($b36288e2db101ba3$var$y(174));
    return a148;
}
function $b36288e2db101ba3$var$eh(a149, b) {
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$ch, b);
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$bh, a149);
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$ah, $b36288e2db101ba3$var$$g);
    a149 = b.nodeType;
    switch(a149){
        case 9:
        case 11:
            b = (b = b.documentElement) ? b.namespaceURI : $b36288e2db101ba3$var$mb(null, "");
            break;
        default:
            a149 = 8 === a149 ? b.parentNode : b, b = a149.namespaceURI || null, a149 = a149.tagName, b = $b36288e2db101ba3$var$mb(b, a149);
    }
    $b36288e2db101ba3$var$H($b36288e2db101ba3$var$ah);
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$ah, b);
}
function $b36288e2db101ba3$var$fh() {
    $b36288e2db101ba3$var$H($b36288e2db101ba3$var$ah);
    $b36288e2db101ba3$var$H($b36288e2db101ba3$var$bh);
    $b36288e2db101ba3$var$H($b36288e2db101ba3$var$ch);
}
function $b36288e2db101ba3$var$gh(a150) {
    $b36288e2db101ba3$var$dh($b36288e2db101ba3$var$ch.current);
    var b = $b36288e2db101ba3$var$dh($b36288e2db101ba3$var$ah.current);
    var c = $b36288e2db101ba3$var$mb(b, a150.type);
    b !== c && ($b36288e2db101ba3$var$I($b36288e2db101ba3$var$bh, a150), $b36288e2db101ba3$var$I($b36288e2db101ba3$var$ah, c));
}
function $b36288e2db101ba3$var$hh(a151) {
    $b36288e2db101ba3$var$bh.current === a151 && ($b36288e2db101ba3$var$H($b36288e2db101ba3$var$ah), $b36288e2db101ba3$var$H($b36288e2db101ba3$var$bh));
}
var $b36288e2db101ba3$var$P = $b36288e2db101ba3$var$Bf(0);
function $b36288e2db101ba3$var$ih(a152) {
    for(var b = a152; null !== b;){
        if (13 === b.tag) {
            var c = b.memoizedState;
            if (null !== c && (c = c.dehydrated, null === c || "$?" === c.data || "$!" === c.data)) return b;
        } else if (19 === b.tag && void 0 !== b.memoizedProps.revealOrder) {
            if (0 !== (b.flags & 64)) return b;
        } else if (null !== b.child) {
            b.child.return = b;
            b = b.child;
            continue;
        }
        if (b === a152) break;
        for(; null === b.sibling;){
            if (null === b.return || b.return === a152) return null;
            b = b.return;
        }
        b.sibling.return = b.return;
        b = b.sibling;
    }
    return null;
}
var $b36288e2db101ba3$var$jh = null, $b36288e2db101ba3$var$kh = null, $b36288e2db101ba3$var$lh = !1;
function $b36288e2db101ba3$var$mh(a153, b) {
    var c = $b36288e2db101ba3$var$nh(5, null, null, 0);
    c.elementType = "DELETED";
    c.type = "DELETED";
    c.stateNode = b;
    c.return = a153;
    c.flags = 8;
    null !== a153.lastEffect ? (a153.lastEffect.nextEffect = c, a153.lastEffect = c) : a153.firstEffect = a153.lastEffect = c;
}
function $b36288e2db101ba3$var$oh(a154, b) {
    switch(a154.tag){
        case 5:
            var c = a154.type;
            b = 1 !== b.nodeType || c.toLowerCase() !== b.nodeName.toLowerCase() ? null : b;
            return null !== b ? (a154.stateNode = b, !0) : !1;
        case 6:
            return b = "" === a154.pendingProps || 3 !== b.nodeType ? null : b, null !== b ? (a154.stateNode = b, !0) : !1;
        case 13:
            return !1;
        default:
            return !1;
    }
}
function $b36288e2db101ba3$var$ph(a155) {
    if ($b36288e2db101ba3$var$lh) {
        var b = $b36288e2db101ba3$var$kh;
        if (b) {
            var c = b;
            if (!$b36288e2db101ba3$var$oh(a155, b)) {
                b = $b36288e2db101ba3$var$rf(c.nextSibling);
                if (!b || !$b36288e2db101ba3$var$oh(a155, b)) {
                    a155.flags = a155.flags & -1025 | 2;
                    $b36288e2db101ba3$var$lh = !1;
                    $b36288e2db101ba3$var$jh = a155;
                    return;
                }
                $b36288e2db101ba3$var$mh($b36288e2db101ba3$var$jh, c);
            }
            $b36288e2db101ba3$var$jh = a155;
            $b36288e2db101ba3$var$kh = $b36288e2db101ba3$var$rf(b.firstChild);
        } else a155.flags = a155.flags & -1025 | 2, $b36288e2db101ba3$var$lh = !1, $b36288e2db101ba3$var$jh = a155;
    }
}
function $b36288e2db101ba3$var$qh(a156) {
    for(a156 = a156.return; null !== a156 && 5 !== a156.tag && 3 !== a156.tag && 13 !== a156.tag;)a156 = a156.return;
    $b36288e2db101ba3$var$jh = a156;
}
function $b36288e2db101ba3$var$rh(a157) {
    if (a157 !== $b36288e2db101ba3$var$jh) return !1;
    if (!$b36288e2db101ba3$var$lh) return $b36288e2db101ba3$var$qh(a157), $b36288e2db101ba3$var$lh = !0, !1;
    var b = a157.type;
    if (5 !== a157.tag || "head" !== b && "body" !== b && !$b36288e2db101ba3$var$nf(b, a157.memoizedProps)) for(b = $b36288e2db101ba3$var$kh; b;)$b36288e2db101ba3$var$mh(a157, b), b = $b36288e2db101ba3$var$rf(b.nextSibling);
    $b36288e2db101ba3$var$qh(a157);
    if (13 === a157.tag) {
        a157 = a157.memoizedState;
        a157 = null !== a157 ? a157.dehydrated : null;
        if (!a157) throw Error($b36288e2db101ba3$var$y(317));
        a: {
            a157 = a157.nextSibling;
            for(b = 0; a157;){
                if (8 === a157.nodeType) {
                    var c = a157.data;
                    if ("/$" === c) {
                        if (0 === b) {
                            $b36288e2db101ba3$var$kh = $b36288e2db101ba3$var$rf(a157.nextSibling);
                            break a;
                        }
                        b--;
                    } else "$" !== c && "$!" !== c && "$?" !== c || b++;
                }
                a157 = a157.nextSibling;
            }
            $b36288e2db101ba3$var$kh = null;
        }
    } else $b36288e2db101ba3$var$kh = $b36288e2db101ba3$var$jh ? $b36288e2db101ba3$var$rf(a157.stateNode.nextSibling) : null;
    return !0;
}
function $b36288e2db101ba3$var$sh() {
    $b36288e2db101ba3$var$kh = $b36288e2db101ba3$var$jh = null;
    $b36288e2db101ba3$var$lh = !1;
}
var $b36288e2db101ba3$var$th = [];
function $b36288e2db101ba3$var$uh() {
    for(var a158 = 0; a158 < $b36288e2db101ba3$var$th.length; a158++)$b36288e2db101ba3$var$th[a158]._workInProgressVersionPrimary = null;
    $b36288e2db101ba3$var$th.length = 0;
}
var $b36288e2db101ba3$var$vh = $b36288e2db101ba3$var$ra.ReactCurrentDispatcher, $b36288e2db101ba3$var$wh = $b36288e2db101ba3$var$ra.ReactCurrentBatchConfig, $b36288e2db101ba3$var$xh = 0, $b36288e2db101ba3$var$R = null, $b36288e2db101ba3$var$S = null, $b36288e2db101ba3$var$T = null, $b36288e2db101ba3$var$yh = !1, $b36288e2db101ba3$var$zh = !1;
function $b36288e2db101ba3$var$Ah() {
    throw Error($b36288e2db101ba3$var$y(321));
}
function $b36288e2db101ba3$var$Bh(a159, b) {
    if (null === b) return !1;
    for(var c = 0; c < b.length && c < a159.length; c++)if (!$b36288e2db101ba3$var$He(a159[c], b[c])) return !1;
    return !0;
}
function $b36288e2db101ba3$var$Ch(a160, b, c, d, e, f) {
    $b36288e2db101ba3$var$xh = f;
    $b36288e2db101ba3$var$R = b;
    b.memoizedState = null;
    b.updateQueue = null;
    b.lanes = 0;
    $b36288e2db101ba3$var$vh.current = null === a160 || null === a160.memoizedState ? $b36288e2db101ba3$var$Dh : $b36288e2db101ba3$var$Eh;
    a160 = c(d, e);
    if ($b36288e2db101ba3$var$zh) {
        f = 0;
        do {
            $b36288e2db101ba3$var$zh = !1;
            if (!(25 > f)) throw Error($b36288e2db101ba3$var$y(301));
            f += 1;
            $b36288e2db101ba3$var$T = $b36288e2db101ba3$var$S = null;
            b.updateQueue = null;
            $b36288e2db101ba3$var$vh.current = $b36288e2db101ba3$var$Fh;
            a160 = c(d, e);
        }while ($b36288e2db101ba3$var$zh)
    }
    $b36288e2db101ba3$var$vh.current = $b36288e2db101ba3$var$Gh;
    b = null !== $b36288e2db101ba3$var$S && null !== $b36288e2db101ba3$var$S.next;
    $b36288e2db101ba3$var$xh = 0;
    $b36288e2db101ba3$var$T = $b36288e2db101ba3$var$S = $b36288e2db101ba3$var$R = null;
    $b36288e2db101ba3$var$yh = !1;
    if (b) throw Error($b36288e2db101ba3$var$y(300));
    return a160;
}
function $b36288e2db101ba3$var$Hh() {
    var a161 = {
        memoizedState: null,
        baseState: null,
        baseQueue: null,
        queue: null,
        next: null
    };
    null === $b36288e2db101ba3$var$T ? $b36288e2db101ba3$var$R.memoizedState = $b36288e2db101ba3$var$T = a161 : $b36288e2db101ba3$var$T = $b36288e2db101ba3$var$T.next = a161;
    return $b36288e2db101ba3$var$T;
}
function $b36288e2db101ba3$var$Ih() {
    if (null === $b36288e2db101ba3$var$S) {
        var a162 = $b36288e2db101ba3$var$R.alternate;
        a162 = null !== a162 ? a162.memoizedState : null;
    } else a162 = $b36288e2db101ba3$var$S.next;
    var b = null === $b36288e2db101ba3$var$T ? $b36288e2db101ba3$var$R.memoizedState : $b36288e2db101ba3$var$T.next;
    if (null !== b) $b36288e2db101ba3$var$T = b, $b36288e2db101ba3$var$S = a162;
    else {
        if (null === a162) throw Error($b36288e2db101ba3$var$y(310));
        $b36288e2db101ba3$var$S = a162;
        a162 = {
            memoizedState: $b36288e2db101ba3$var$S.memoizedState,
            baseState: $b36288e2db101ba3$var$S.baseState,
            baseQueue: $b36288e2db101ba3$var$S.baseQueue,
            queue: $b36288e2db101ba3$var$S.queue,
            next: null
        };
        null === $b36288e2db101ba3$var$T ? $b36288e2db101ba3$var$R.memoizedState = $b36288e2db101ba3$var$T = a162 : $b36288e2db101ba3$var$T = $b36288e2db101ba3$var$T.next = a162;
    }
    return $b36288e2db101ba3$var$T;
}
function $b36288e2db101ba3$var$Jh(a163, b) {
    return "function" === typeof b ? b(a163) : b;
}
function $b36288e2db101ba3$var$Kh(a164) {
    var b = $b36288e2db101ba3$var$Ih(), c = b.queue;
    if (null === c) throw Error($b36288e2db101ba3$var$y(311));
    c.lastRenderedReducer = a164;
    var d = $b36288e2db101ba3$var$S, e = d.baseQueue, f = c.pending;
    if (null !== f) {
        if (null !== e) {
            var g = e.next;
            e.next = f.next;
            f.next = g;
        }
        d.baseQueue = e = f;
        c.pending = null;
    }
    if (null !== e) {
        e = e.next;
        d = d.baseState;
        var h = g = f = null, k = e;
        do {
            var l = k.lane;
            if (($b36288e2db101ba3$var$xh & l) === l) null !== h && (h = h.next = {
                lane: 0,
                action: k.action,
                eagerReducer: k.eagerReducer,
                eagerState: k.eagerState,
                next: null
            }), d = k.eagerReducer === a164 ? k.eagerState : a164(d, k.action);
            else {
                var n = {
                    lane: l,
                    action: k.action,
                    eagerReducer: k.eagerReducer,
                    eagerState: k.eagerState,
                    next: null
                };
                null === h ? (g = h = n, f = d) : h = h.next = n;
                $b36288e2db101ba3$var$R.lanes |= l;
                $b36288e2db101ba3$var$Dg |= l;
            }
            k = k.next;
        }while (null !== k && k !== e)
        null === h ? f = d : h.next = g;
        $b36288e2db101ba3$var$He(d, b.memoizedState) || ($b36288e2db101ba3$var$ug = !0);
        b.memoizedState = d;
        b.baseState = f;
        b.baseQueue = h;
        c.lastRenderedState = d;
    }
    return [
        b.memoizedState,
        c.dispatch
    ];
}
function $b36288e2db101ba3$var$Lh(a165) {
    var b = $b36288e2db101ba3$var$Ih(), c = b.queue;
    if (null === c) throw Error($b36288e2db101ba3$var$y(311));
    c.lastRenderedReducer = a165;
    var d = c.dispatch, e = c.pending, f = b.memoizedState;
    if (null !== e) {
        c.pending = null;
        var g = e = e.next;
        do f = a165(f, g.action), g = g.next;
        while (g !== e)
        $b36288e2db101ba3$var$He(f, b.memoizedState) || ($b36288e2db101ba3$var$ug = !0);
        b.memoizedState = f;
        null === b.baseQueue && (b.baseState = f);
        c.lastRenderedState = f;
    }
    return [
        f,
        d
    ];
}
function $b36288e2db101ba3$var$Mh(a166, b, c) {
    var d = b._getVersion;
    d = d(b._source);
    var e = b._workInProgressVersionPrimary;
    if (null !== e) a166 = e === d;
    else if (a166 = a166.mutableReadLanes, a166 = ($b36288e2db101ba3$var$xh & a166) === a166) b._workInProgressVersionPrimary = d, $b36288e2db101ba3$var$th.push(b);
    if (a166) return c(b._source);
    $b36288e2db101ba3$var$th.push(b);
    throw Error($b36288e2db101ba3$var$y(350));
}
function $b36288e2db101ba3$var$Nh(a167, b, c2, d3) {
    var e = $b36288e2db101ba3$var$U;
    if (null === e) throw Error($b36288e2db101ba3$var$y(349));
    var f = b._getVersion, g = f(b._source), h2 = $b36288e2db101ba3$var$vh.current, k2 = h2.useState(function() {
        return $b36288e2db101ba3$var$Mh(e, b, c2);
    }), l = k2[1], n = k2[0];
    k2 = $b36288e2db101ba3$var$T;
    var A = a167.memoizedState, p = A.refs, C = p.getSnapshot, x = A.source;
    A = A.subscribe;
    var w = $b36288e2db101ba3$var$R;
    a167.memoizedState = {
        refs: p,
        source: b,
        subscribe: d3
    };
    h2.useEffect(function() {
        p.getSnapshot = c2;
        p.setSnapshot = l;
        var a168 = f(b._source);
        if (!$b36288e2db101ba3$var$He(g, a168)) {
            a168 = c2(b._source);
            $b36288e2db101ba3$var$He(n, a168) || (l(a168), a168 = $b36288e2db101ba3$var$Ig(w), e.mutableReadLanes |= a168 & e.pendingLanes);
            a168 = e.mutableReadLanes;
            e.entangledLanes |= a168;
            for(var d = e.entanglements, h = a168; 0 < h;){
                var k = 31 - $b36288e2db101ba3$var$Vc(h), v = 1 << k;
                d[k] |= a168;
                h &= ~v;
            }
        }
    }, [
        c2,
        b,
        d3
    ]);
    h2.useEffect(function() {
        return d3(b._source, function() {
            var a169 = p.getSnapshot, c = p.setSnapshot;
            try {
                c(a169(b._source));
                var d = $b36288e2db101ba3$var$Ig(w);
                e.mutableReadLanes |= d & e.pendingLanes;
            } catch (q) {
                c(function() {
                    throw q;
                });
            }
        });
    }, [
        b,
        d3
    ]);
    $b36288e2db101ba3$var$He(C, c2) && $b36288e2db101ba3$var$He(x, b) && $b36288e2db101ba3$var$He(A, d3) || (a167 = {
        pending: null,
        dispatch: null,
        lastRenderedReducer: $b36288e2db101ba3$var$Jh,
        lastRenderedState: n
    }, a167.dispatch = l = $b36288e2db101ba3$var$Oh.bind(null, $b36288e2db101ba3$var$R, a167), k2.queue = a167, k2.baseQueue = null, n = $b36288e2db101ba3$var$Mh(e, b, c2), k2.memoizedState = k2.baseState = n);
    return n;
}
function $b36288e2db101ba3$var$Ph(a170, b, c) {
    var d = $b36288e2db101ba3$var$Ih();
    return $b36288e2db101ba3$var$Nh(d, a170, b, c);
}
function $b36288e2db101ba3$var$Qh(a171) {
    var b = $b36288e2db101ba3$var$Hh();
    "function" === typeof a171 && (a171 = a171());
    b.memoizedState = b.baseState = a171;
    a171 = b.queue = {
        pending: null,
        dispatch: null,
        lastRenderedReducer: $b36288e2db101ba3$var$Jh,
        lastRenderedState: a171
    };
    a171 = a171.dispatch = $b36288e2db101ba3$var$Oh.bind(null, $b36288e2db101ba3$var$R, a171);
    return [
        b.memoizedState,
        a171
    ];
}
function $b36288e2db101ba3$var$Rh(a172, b, c, d) {
    a172 = {
        tag: a172,
        create: b,
        destroy: c,
        deps: d,
        next: null
    };
    b = $b36288e2db101ba3$var$R.updateQueue;
    null === b ? (b = {
        lastEffect: null
    }, $b36288e2db101ba3$var$R.updateQueue = b, b.lastEffect = a172.next = a172) : (c = b.lastEffect, null === c ? b.lastEffect = a172.next = a172 : (d = c.next, c.next = a172, a172.next = d, b.lastEffect = a172));
    return a172;
}
function $b36288e2db101ba3$var$Sh(a173) {
    var b = $b36288e2db101ba3$var$Hh();
    a173 = {
        current: a173
    };
    return b.memoizedState = a173;
}
function $b36288e2db101ba3$var$Th() {
    return $b36288e2db101ba3$var$Ih().memoizedState;
}
function $b36288e2db101ba3$var$Uh(a174, b, c, d) {
    var e = $b36288e2db101ba3$var$Hh();
    $b36288e2db101ba3$var$R.flags |= a174;
    e.memoizedState = $b36288e2db101ba3$var$Rh(1 | b, c, void 0, void 0 === d ? null : d);
}
function $b36288e2db101ba3$var$Vh(a175, b, c, d) {
    var e = $b36288e2db101ba3$var$Ih();
    d = void 0 === d ? null : d;
    var f = void 0;
    if (null !== $b36288e2db101ba3$var$S) {
        var g = $b36288e2db101ba3$var$S.memoizedState;
        f = g.destroy;
        if (null !== d && $b36288e2db101ba3$var$Bh(d, g.deps)) {
            $b36288e2db101ba3$var$Rh(b, c, f, d);
            return;
        }
    }
    $b36288e2db101ba3$var$R.flags |= a175;
    e.memoizedState = $b36288e2db101ba3$var$Rh(1 | b, c, f, d);
}
function $b36288e2db101ba3$var$Wh(a176, b) {
    return $b36288e2db101ba3$var$Uh(516, 4, a176, b);
}
function $b36288e2db101ba3$var$Xh(a177, b) {
    return $b36288e2db101ba3$var$Vh(516, 4, a177, b);
}
function $b36288e2db101ba3$var$Yh(a178, b) {
    return $b36288e2db101ba3$var$Vh(4, 2, a178, b);
}
function $b36288e2db101ba3$var$Zh(a179, b) {
    if ("function" === typeof b) return a179 = a179(), b(a179), function() {
        b(null);
    };
    if (null !== b && void 0 !== b) return a179 = a179(), b.current = a179, function() {
        b.current = null;
    };
}
function $b36288e2db101ba3$var$$h(a180, b, c) {
    c = null !== c && void 0 !== c ? c.concat([
        a180
    ]) : null;
    return $b36288e2db101ba3$var$Vh(4, 2, $b36288e2db101ba3$var$Zh.bind(null, b, a180), c);
}
function $b36288e2db101ba3$var$ai() {}
function $b36288e2db101ba3$var$bi(a181, b) {
    var c = $b36288e2db101ba3$var$Ih();
    b = void 0 === b ? null : b;
    var d = c.memoizedState;
    if (null !== d && null !== b && $b36288e2db101ba3$var$Bh(b, d[1])) return d[0];
    c.memoizedState = [
        a181,
        b
    ];
    return a181;
}
function $b36288e2db101ba3$var$ci(a182, b) {
    var c = $b36288e2db101ba3$var$Ih();
    b = void 0 === b ? null : b;
    var d = c.memoizedState;
    if (null !== d && null !== b && $b36288e2db101ba3$var$Bh(b, d[1])) return d[0];
    a182 = a182();
    c.memoizedState = [
        a182,
        b
    ];
    return a182;
}
function $b36288e2db101ba3$var$di(a183, b) {
    var c3 = $b36288e2db101ba3$var$eg();
    $b36288e2db101ba3$var$gg(98 > c3 ? 98 : c3, function() {
        a183(!0);
    });
    $b36288e2db101ba3$var$gg(97 < c3 ? 97 : c3, function() {
        var c = $b36288e2db101ba3$var$wh.transition;
        $b36288e2db101ba3$var$wh.transition = 1;
        try {
            a183(!1), b();
        } finally{
            $b36288e2db101ba3$var$wh.transition = c;
        }
    });
}
function $b36288e2db101ba3$var$Oh(a184, b, c) {
    var d = $b36288e2db101ba3$var$Hg(), e = $b36288e2db101ba3$var$Ig(a184), f = {
        lane: e,
        action: c,
        eagerReducer: null,
        eagerState: null,
        next: null
    }, g = b.pending;
    null === g ? f.next = f : (f.next = g.next, g.next = f);
    b.pending = f;
    g = a184.alternate;
    if (a184 === $b36288e2db101ba3$var$R || null !== g && g === $b36288e2db101ba3$var$R) $b36288e2db101ba3$var$zh = $b36288e2db101ba3$var$yh = !0;
    else {
        if (0 === a184.lanes && (null === g || 0 === g.lanes) && (g = b.lastRenderedReducer, null !== g)) try {
            var h = b.lastRenderedState, k = g(h, c);
            f.eagerReducer = g;
            f.eagerState = k;
            if ($b36288e2db101ba3$var$He(k, h)) return;
        } catch (l) {} finally{}
        $b36288e2db101ba3$var$Jg(a184, e, d);
    }
}
var $b36288e2db101ba3$var$Gh = {
    readContext: $b36288e2db101ba3$var$vg,
    useCallback: $b36288e2db101ba3$var$Ah,
    useContext: $b36288e2db101ba3$var$Ah,
    useEffect: $b36288e2db101ba3$var$Ah,
    useImperativeHandle: $b36288e2db101ba3$var$Ah,
    useLayoutEffect: $b36288e2db101ba3$var$Ah,
    useMemo: $b36288e2db101ba3$var$Ah,
    useReducer: $b36288e2db101ba3$var$Ah,
    useRef: $b36288e2db101ba3$var$Ah,
    useState: $b36288e2db101ba3$var$Ah,
    useDebugValue: $b36288e2db101ba3$var$Ah,
    useDeferredValue: $b36288e2db101ba3$var$Ah,
    useTransition: $b36288e2db101ba3$var$Ah,
    useMutableSource: $b36288e2db101ba3$var$Ah,
    useOpaqueIdentifier: $b36288e2db101ba3$var$Ah,
    unstable_isNewReconciler: !1
}, $b36288e2db101ba3$var$Dh = {
    readContext: $b36288e2db101ba3$var$vg,
    useCallback: function(a185, b) {
        $b36288e2db101ba3$var$Hh().memoizedState = [
            a185,
            void 0 === b ? null : b
        ];
        return a185;
    },
    useContext: $b36288e2db101ba3$var$vg,
    useEffect: $b36288e2db101ba3$var$Wh,
    useImperativeHandle: function(a186, b, c) {
        c = null !== c && void 0 !== c ? c.concat([
            a186
        ]) : null;
        return $b36288e2db101ba3$var$Uh(4, 2, $b36288e2db101ba3$var$Zh.bind(null, b, a186), c);
    },
    useLayoutEffect: function(a187, b) {
        return $b36288e2db101ba3$var$Uh(4, 2, a187, b);
    },
    useMemo: function(a188, b) {
        var c = $b36288e2db101ba3$var$Hh();
        b = void 0 === b ? null : b;
        a188 = a188();
        c.memoizedState = [
            a188,
            b
        ];
        return a188;
    },
    useReducer: function(a189, b, c) {
        var d = $b36288e2db101ba3$var$Hh();
        b = void 0 !== c ? c(b) : b;
        d.memoizedState = d.baseState = b;
        a189 = d.queue = {
            pending: null,
            dispatch: null,
            lastRenderedReducer: a189,
            lastRenderedState: b
        };
        a189 = a189.dispatch = $b36288e2db101ba3$var$Oh.bind(null, $b36288e2db101ba3$var$R, a189);
        return [
            d.memoizedState,
            a189
        ];
    },
    useRef: $b36288e2db101ba3$var$Sh,
    useState: $b36288e2db101ba3$var$Qh,
    useDebugValue: $b36288e2db101ba3$var$ai,
    useDeferredValue: function(a190) {
        var b5 = $b36288e2db101ba3$var$Qh(a190), c = b5[0], d = b5[1];
        $b36288e2db101ba3$var$Wh(function() {
            var b = $b36288e2db101ba3$var$wh.transition;
            $b36288e2db101ba3$var$wh.transition = 1;
            try {
                d(a190);
            } finally{
                $b36288e2db101ba3$var$wh.transition = b;
            }
        }, [
            a190
        ]);
        return c;
    },
    useTransition: function() {
        var a191 = $b36288e2db101ba3$var$Qh(!1), b = a191[0];
        a191 = $b36288e2db101ba3$var$di.bind(null, a191[1]);
        $b36288e2db101ba3$var$Sh(a191);
        return [
            a191,
            b
        ];
    },
    useMutableSource: function(a192, b, c) {
        var d = $b36288e2db101ba3$var$Hh();
        d.memoizedState = {
            refs: {
                getSnapshot: b,
                setSnapshot: null
            },
            source: a192,
            subscribe: c
        };
        return $b36288e2db101ba3$var$Nh(d, a192, b, c);
    },
    useOpaqueIdentifier: function() {
        if ($b36288e2db101ba3$var$lh) {
            var a193 = !1, b = $b36288e2db101ba3$var$uf(function() {
                a193 || (a193 = !0, c("r:" + ($b36288e2db101ba3$var$tf++).toString(36)));
                throw Error($b36288e2db101ba3$var$y(355));
            }), c = $b36288e2db101ba3$var$Qh(b)[1];
            0 === ($b36288e2db101ba3$var$R.mode & 2) && ($b36288e2db101ba3$var$R.flags |= 516, $b36288e2db101ba3$var$Rh(5, function() {
                c("r:" + ($b36288e2db101ba3$var$tf++).toString(36));
            }, void 0, null));
            return b;
        }
        b = "r:" + ($b36288e2db101ba3$var$tf++).toString(36);
        $b36288e2db101ba3$var$Qh(b);
        return b;
    },
    unstable_isNewReconciler: !1
}, $b36288e2db101ba3$var$Eh = {
    readContext: $b36288e2db101ba3$var$vg,
    useCallback: $b36288e2db101ba3$var$bi,
    useContext: $b36288e2db101ba3$var$vg,
    useEffect: $b36288e2db101ba3$var$Xh,
    useImperativeHandle: $b36288e2db101ba3$var$$h,
    useLayoutEffect: $b36288e2db101ba3$var$Yh,
    useMemo: $b36288e2db101ba3$var$ci,
    useReducer: $b36288e2db101ba3$var$Kh,
    useRef: $b36288e2db101ba3$var$Th,
    useState: function() {
        return $b36288e2db101ba3$var$Kh($b36288e2db101ba3$var$Jh);
    },
    useDebugValue: $b36288e2db101ba3$var$ai,
    useDeferredValue: function(a194) {
        var b6 = $b36288e2db101ba3$var$Kh($b36288e2db101ba3$var$Jh), c = b6[0], d = b6[1];
        $b36288e2db101ba3$var$Xh(function() {
            var b = $b36288e2db101ba3$var$wh.transition;
            $b36288e2db101ba3$var$wh.transition = 1;
            try {
                d(a194);
            } finally{
                $b36288e2db101ba3$var$wh.transition = b;
            }
        }, [
            a194
        ]);
        return c;
    },
    useTransition: function() {
        var a195 = $b36288e2db101ba3$var$Kh($b36288e2db101ba3$var$Jh)[0];
        return [
            $b36288e2db101ba3$var$Th().current,
            a195
        ];
    },
    useMutableSource: $b36288e2db101ba3$var$Ph,
    useOpaqueIdentifier: function() {
        return $b36288e2db101ba3$var$Kh($b36288e2db101ba3$var$Jh)[0];
    },
    unstable_isNewReconciler: !1
}, $b36288e2db101ba3$var$Fh = {
    readContext: $b36288e2db101ba3$var$vg,
    useCallback: $b36288e2db101ba3$var$bi,
    useContext: $b36288e2db101ba3$var$vg,
    useEffect: $b36288e2db101ba3$var$Xh,
    useImperativeHandle: $b36288e2db101ba3$var$$h,
    useLayoutEffect: $b36288e2db101ba3$var$Yh,
    useMemo: $b36288e2db101ba3$var$ci,
    useReducer: $b36288e2db101ba3$var$Lh,
    useRef: $b36288e2db101ba3$var$Th,
    useState: function() {
        return $b36288e2db101ba3$var$Lh($b36288e2db101ba3$var$Jh);
    },
    useDebugValue: $b36288e2db101ba3$var$ai,
    useDeferredValue: function(a196) {
        var b7 = $b36288e2db101ba3$var$Lh($b36288e2db101ba3$var$Jh), c = b7[0], d = b7[1];
        $b36288e2db101ba3$var$Xh(function() {
            var b = $b36288e2db101ba3$var$wh.transition;
            $b36288e2db101ba3$var$wh.transition = 1;
            try {
                d(a196);
            } finally{
                $b36288e2db101ba3$var$wh.transition = b;
            }
        }, [
            a196
        ]);
        return c;
    },
    useTransition: function() {
        var a197 = $b36288e2db101ba3$var$Lh($b36288e2db101ba3$var$Jh)[0];
        return [
            $b36288e2db101ba3$var$Th().current,
            a197
        ];
    },
    useMutableSource: $b36288e2db101ba3$var$Ph,
    useOpaqueIdentifier: function() {
        return $b36288e2db101ba3$var$Lh($b36288e2db101ba3$var$Jh)[0];
    },
    unstable_isNewReconciler: !1
}, $b36288e2db101ba3$var$ei = $b36288e2db101ba3$var$ra.ReactCurrentOwner, $b36288e2db101ba3$var$ug = !1;
function $b36288e2db101ba3$var$fi(a198, b, c, d) {
    b.child = null === a198 ? $b36288e2db101ba3$var$Zg(b, null, c, d) : $b36288e2db101ba3$var$Yg(b, a198.child, c, d);
}
function $b36288e2db101ba3$var$gi(a199, b, c, d, e) {
    c = c.render;
    var f = b.ref;
    $b36288e2db101ba3$var$tg(b, e);
    d = $b36288e2db101ba3$var$Ch(a199, b, c, d, f, e);
    if (null !== a199 && !$b36288e2db101ba3$var$ug) return b.updateQueue = a199.updateQueue, b.flags &= -517, a199.lanes &= ~e, $b36288e2db101ba3$var$hi(a199, b, e);
    b.flags |= 1;
    $b36288e2db101ba3$var$fi(a199, b, d, e);
    return b.child;
}
function $b36288e2db101ba3$var$ii(a200, b, c, d, e, f) {
    if (null === a200) {
        var g = c.type;
        if ("function" === typeof g && !$b36288e2db101ba3$var$ji(g) && void 0 === g.defaultProps && null === c.compare && void 0 === c.defaultProps) return b.tag = 15, b.type = g, $b36288e2db101ba3$var$ki(a200, b, g, d, e, f);
        a200 = $b36288e2db101ba3$var$Vg(c.type, null, d, b, b.mode, f);
        a200.ref = b.ref;
        a200.return = b;
        return b.child = a200;
    }
    g = a200.child;
    if (0 === (e & f) && (e = g.memoizedProps, c = c.compare, c = null !== c ? c : $b36288e2db101ba3$var$Je, c(e, d) && a200.ref === b.ref)) return $b36288e2db101ba3$var$hi(a200, b, f);
    b.flags |= 1;
    a200 = $b36288e2db101ba3$var$Tg(g, d);
    a200.ref = b.ref;
    a200.return = b;
    return b.child = a200;
}
function $b36288e2db101ba3$var$ki(a201, b, c, d, e, f) {
    if (null !== a201 && $b36288e2db101ba3$var$Je(a201.memoizedProps, d) && a201.ref === b.ref) {
        if ($b36288e2db101ba3$var$ug = !1, 0 !== (f & e)) 0 !== (a201.flags & 16384) && ($b36288e2db101ba3$var$ug = !0);
        else return b.lanes = a201.lanes, $b36288e2db101ba3$var$hi(a201, b, f);
    }
    return $b36288e2db101ba3$var$li(a201, b, c, d, f);
}
function $b36288e2db101ba3$var$mi(a202, b, c) {
    var d = b.pendingProps, e = d.children, f = null !== a202 ? a202.memoizedState : null;
    if ("hidden" === d.mode || "unstable-defer-without-hiding" === d.mode) {
        if (0 === (b.mode & 4)) b.memoizedState = {
            baseLanes: 0
        }, $b36288e2db101ba3$var$ni(b, c);
        else if (0 !== (c & 1073741824)) b.memoizedState = {
            baseLanes: 0
        }, $b36288e2db101ba3$var$ni(b, null !== f ? f.baseLanes : c);
        else return a202 = null !== f ? f.baseLanes | c : c, b.lanes = b.childLanes = 1073741824, b.memoizedState = {
            baseLanes: a202
        }, $b36288e2db101ba3$var$ni(b, a202), null;
    } else null !== f ? (d = f.baseLanes | c, b.memoizedState = null) : d = c, $b36288e2db101ba3$var$ni(b, d);
    $b36288e2db101ba3$var$fi(a202, b, e, c);
    return b.child;
}
function $b36288e2db101ba3$var$oi(a203, b) {
    var c = b.ref;
    if (null === a203 && null !== c || null !== a203 && a203.ref !== c) b.flags |= 128;
}
function $b36288e2db101ba3$var$li(a204, b, c, d, e) {
    var f = $b36288e2db101ba3$var$Ff(c) ? $b36288e2db101ba3$var$Df : $b36288e2db101ba3$var$M.current;
    f = $b36288e2db101ba3$var$Ef(b, f);
    $b36288e2db101ba3$var$tg(b, e);
    c = $b36288e2db101ba3$var$Ch(a204, b, c, d, f, e);
    if (null !== a204 && !$b36288e2db101ba3$var$ug) return b.updateQueue = a204.updateQueue, b.flags &= -517, a204.lanes &= ~e, $b36288e2db101ba3$var$hi(a204, b, e);
    b.flags |= 1;
    $b36288e2db101ba3$var$fi(a204, b, c, e);
    return b.child;
}
function $b36288e2db101ba3$var$pi(a205, b, c, d, e) {
    if ($b36288e2db101ba3$var$Ff(c)) {
        var f = !0;
        $b36288e2db101ba3$var$Jf(b);
    } else f = !1;
    $b36288e2db101ba3$var$tg(b, e);
    if (null === b.stateNode) null !== a205 && (a205.alternate = null, b.alternate = null, b.flags |= 2), $b36288e2db101ba3$var$Mg(b, c, d), $b36288e2db101ba3$var$Og(b, c, d, e), d = !0;
    else if (null === a205) {
        var g = b.stateNode, h = b.memoizedProps;
        g.props = h;
        var k = g.context, l = c.contextType;
        "object" === typeof l && null !== l ? l = $b36288e2db101ba3$var$vg(l) : (l = $b36288e2db101ba3$var$Ff(c) ? $b36288e2db101ba3$var$Df : $b36288e2db101ba3$var$M.current, l = $b36288e2db101ba3$var$Ef(b, l));
        var n = c.getDerivedStateFromProps, A = "function" === typeof n || "function" === typeof g.getSnapshotBeforeUpdate;
        A || "function" !== typeof g.UNSAFE_componentWillReceiveProps && "function" !== typeof g.componentWillReceiveProps || (h !== d || k !== l) && $b36288e2db101ba3$var$Ng(b, g, d, l);
        $b36288e2db101ba3$var$wg = !1;
        var p = b.memoizedState;
        g.state = p;
        $b36288e2db101ba3$var$Cg(b, d, g, e);
        k = b.memoizedState;
        h !== d || p !== k || $b36288e2db101ba3$var$N.current || $b36288e2db101ba3$var$wg ? ("function" === typeof n && ($b36288e2db101ba3$var$Gg(b, c, n, d), k = b.memoizedState), (h = $b36288e2db101ba3$var$wg || $b36288e2db101ba3$var$Lg(b, c, h, d, p, k, l)) ? (A || "function" !== typeof g.UNSAFE_componentWillMount && "function" !== typeof g.componentWillMount || ("function" === typeof g.componentWillMount && g.componentWillMount(), "function" === typeof g.UNSAFE_componentWillMount && g.UNSAFE_componentWillMount()), "function" === typeof g.componentDidMount && (b.flags |= 4)) : ("function" === typeof g.componentDidMount && (b.flags |= 4), b.memoizedProps = d, b.memoizedState = k), g.props = d, g.state = k, g.context = l, d = h) : ("function" === typeof g.componentDidMount && (b.flags |= 4), d = !1);
    } else {
        g = b.stateNode;
        $b36288e2db101ba3$var$yg(a205, b);
        h = b.memoizedProps;
        l = b.type === b.elementType ? h : $b36288e2db101ba3$var$lg(b.type, h);
        g.props = l;
        A = b.pendingProps;
        p = g.context;
        k = c.contextType;
        "object" === typeof k && null !== k ? k = $b36288e2db101ba3$var$vg(k) : (k = $b36288e2db101ba3$var$Ff(c) ? $b36288e2db101ba3$var$Df : $b36288e2db101ba3$var$M.current, k = $b36288e2db101ba3$var$Ef(b, k));
        var C = c.getDerivedStateFromProps;
        (n = "function" === typeof C || "function" === typeof g.getSnapshotBeforeUpdate) || "function" !== typeof g.UNSAFE_componentWillReceiveProps && "function" !== typeof g.componentWillReceiveProps || (h !== A || p !== k) && $b36288e2db101ba3$var$Ng(b, g, d, k);
        $b36288e2db101ba3$var$wg = !1;
        p = b.memoizedState;
        g.state = p;
        $b36288e2db101ba3$var$Cg(b, d, g, e);
        var x = b.memoizedState;
        h !== A || p !== x || $b36288e2db101ba3$var$N.current || $b36288e2db101ba3$var$wg ? ("function" === typeof C && ($b36288e2db101ba3$var$Gg(b, c, C, d), x = b.memoizedState), (l = $b36288e2db101ba3$var$wg || $b36288e2db101ba3$var$Lg(b, c, l, d, p, x, k)) ? (n || "function" !== typeof g.UNSAFE_componentWillUpdate && "function" !== typeof g.componentWillUpdate || ("function" === typeof g.componentWillUpdate && g.componentWillUpdate(d, x, k), "function" === typeof g.UNSAFE_componentWillUpdate && g.UNSAFE_componentWillUpdate(d, x, k)), "function" === typeof g.componentDidUpdate && (b.flags |= 4), "function" === typeof g.getSnapshotBeforeUpdate && (b.flags |= 256)) : ("function" !== typeof g.componentDidUpdate || h === a205.memoizedProps && p === a205.memoizedState || (b.flags |= 4), "function" !== typeof g.getSnapshotBeforeUpdate || h === a205.memoizedProps && p === a205.memoizedState || (b.flags |= 256), b.memoizedProps = d, b.memoizedState = x), g.props = d, g.state = x, g.context = k, d = l) : ("function" !== typeof g.componentDidUpdate || h === a205.memoizedProps && p === a205.memoizedState || (b.flags |= 4), "function" !== typeof g.getSnapshotBeforeUpdate || h === a205.memoizedProps && p === a205.memoizedState || (b.flags |= 256), d = !1);
    }
    return $b36288e2db101ba3$var$qi(a205, b, c, d, f, e);
}
function $b36288e2db101ba3$var$qi(a206, b, c, d, e, f) {
    $b36288e2db101ba3$var$oi(a206, b);
    var g = 0 !== (b.flags & 64);
    if (!d && !g) return e && $b36288e2db101ba3$var$Kf(b, c, !1), $b36288e2db101ba3$var$hi(a206, b, f);
    d = b.stateNode;
    $b36288e2db101ba3$var$ei.current = b;
    var h = g && "function" !== typeof c.getDerivedStateFromError ? null : d.render();
    b.flags |= 1;
    null !== a206 && g ? (b.child = $b36288e2db101ba3$var$Yg(b, a206.child, null, f), b.child = $b36288e2db101ba3$var$Yg(b, null, h, f)) : $b36288e2db101ba3$var$fi(a206, b, h, f);
    b.memoizedState = d.state;
    e && $b36288e2db101ba3$var$Kf(b, c, !0);
    return b.child;
}
function $b36288e2db101ba3$var$ri(a207) {
    var b = a207.stateNode;
    b.pendingContext ? $b36288e2db101ba3$var$Hf(a207, b.pendingContext, b.pendingContext !== b.context) : b.context && $b36288e2db101ba3$var$Hf(a207, b.context, !1);
    $b36288e2db101ba3$var$eh(a207, b.containerInfo);
}
var $b36288e2db101ba3$var$si = {
    dehydrated: null,
    retryLane: 0
};
function $b36288e2db101ba3$var$ti(a208, b, c) {
    var d = b.pendingProps, e = $b36288e2db101ba3$var$P.current, f = !1, g;
    (g = 0 !== (b.flags & 64)) || (g = null !== a208 && null === a208.memoizedState ? !1 : 0 !== (e & 2));
    g ? (f = !0, b.flags &= -65) : null !== a208 && null === a208.memoizedState || void 0 === d.fallback || !0 === d.unstable_avoidThisFallback || (e |= 1);
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$P, e & 1);
    if (null === a208) {
        void 0 !== d.fallback && $b36288e2db101ba3$var$ph(b);
        a208 = d.children;
        e = d.fallback;
        if (f) return a208 = $b36288e2db101ba3$var$ui(b, a208, e, c), b.child.memoizedState = {
            baseLanes: c
        }, b.memoizedState = $b36288e2db101ba3$var$si, a208;
        if ("number" === typeof d.unstable_expectedLoadTime) return a208 = $b36288e2db101ba3$var$ui(b, a208, e, c), b.child.memoizedState = {
            baseLanes: c
        }, b.memoizedState = $b36288e2db101ba3$var$si, b.lanes = 33554432, a208;
        c = $b36288e2db101ba3$var$vi({
            mode: "visible",
            children: a208
        }, b.mode, c, null);
        c.return = b;
        return b.child = c;
    }
    if (null !== a208.memoizedState) {
        if (f) return d = $b36288e2db101ba3$var$wi(a208, b, d.children, d.fallback, c), f = b.child, e = a208.child.memoizedState, f.memoizedState = null === e ? {
            baseLanes: c
        } : {
            baseLanes: e.baseLanes | c
        }, f.childLanes = a208.childLanes & ~c, b.memoizedState = $b36288e2db101ba3$var$si, d;
        c = $b36288e2db101ba3$var$xi(a208, b, d.children, c);
        b.memoizedState = null;
        return c;
    }
    if (f) return d = $b36288e2db101ba3$var$wi(a208, b, d.children, d.fallback, c), f = b.child, e = a208.child.memoizedState, f.memoizedState = null === e ? {
        baseLanes: c
    } : {
        baseLanes: e.baseLanes | c
    }, f.childLanes = a208.childLanes & ~c, b.memoizedState = $b36288e2db101ba3$var$si, d;
    c = $b36288e2db101ba3$var$xi(a208, b, d.children, c);
    b.memoizedState = null;
    return c;
}
function $b36288e2db101ba3$var$ui(a209, b, c, d) {
    var e = a209.mode, f = a209.child;
    b = {
        mode: "hidden",
        children: b
    };
    0 === (e & 2) && null !== f ? (f.childLanes = 0, f.pendingProps = b) : f = $b36288e2db101ba3$var$vi(b, e, 0, null);
    c = $b36288e2db101ba3$var$Xg(c, e, d, null);
    f.return = a209;
    c.return = a209;
    f.sibling = c;
    a209.child = f;
    return c;
}
function $b36288e2db101ba3$var$xi(a210, b, c, d) {
    var e = a210.child;
    a210 = e.sibling;
    c = $b36288e2db101ba3$var$Tg(e, {
        mode: "visible",
        children: c
    });
    0 === (b.mode & 2) && (c.lanes = d);
    c.return = b;
    c.sibling = null;
    null !== a210 && (a210.nextEffect = null, a210.flags = 8, b.firstEffect = b.lastEffect = a210);
    return b.child = c;
}
function $b36288e2db101ba3$var$wi(a211, b, c, d, e) {
    var f = b.mode, g = a211.child;
    a211 = g.sibling;
    var h = {
        mode: "hidden",
        children: c
    };
    0 === (f & 2) && b.child !== g ? (c = b.child, c.childLanes = 0, c.pendingProps = h, g = c.lastEffect, null !== g ? (b.firstEffect = c.firstEffect, b.lastEffect = g, g.nextEffect = null) : b.firstEffect = b.lastEffect = null) : c = $b36288e2db101ba3$var$Tg(g, h);
    null !== a211 ? d = $b36288e2db101ba3$var$Tg(a211, d) : (d = $b36288e2db101ba3$var$Xg(d, f, e, null), d.flags |= 2);
    d.return = b;
    c.return = b;
    c.sibling = d;
    b.child = c;
    return d;
}
function $b36288e2db101ba3$var$yi(a212, b) {
    a212.lanes |= b;
    var c = a212.alternate;
    null !== c && (c.lanes |= b);
    $b36288e2db101ba3$var$sg(a212.return, b);
}
function $b36288e2db101ba3$var$zi(a213, b, c, d, e, f) {
    var g = a213.memoizedState;
    null === g ? a213.memoizedState = {
        isBackwards: b,
        rendering: null,
        renderingStartTime: 0,
        last: d,
        tail: c,
        tailMode: e,
        lastEffect: f
    } : (g.isBackwards = b, g.rendering = null, g.renderingStartTime = 0, g.last = d, g.tail = c, g.tailMode = e, g.lastEffect = f);
}
function $b36288e2db101ba3$var$Ai(a214, b, c) {
    var d = b.pendingProps, e = d.revealOrder, f = d.tail;
    $b36288e2db101ba3$var$fi(a214, b, d.children, c);
    d = $b36288e2db101ba3$var$P.current;
    if (0 !== (d & 2)) d = d & 1 | 2, b.flags |= 64;
    else {
        if (null !== a214 && 0 !== (a214.flags & 64)) a: for(a214 = b.child; null !== a214;){
            if (13 === a214.tag) null !== a214.memoizedState && $b36288e2db101ba3$var$yi(a214, c);
            else if (19 === a214.tag) $b36288e2db101ba3$var$yi(a214, c);
            else if (null !== a214.child) {
                a214.child.return = a214;
                a214 = a214.child;
                continue;
            }
            if (a214 === b) break a;
            for(; null === a214.sibling;){
                if (null === a214.return || a214.return === b) break a;
                a214 = a214.return;
            }
            a214.sibling.return = a214.return;
            a214 = a214.sibling;
        }
        d &= 1;
    }
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$P, d);
    if (0 === (b.mode & 2)) b.memoizedState = null;
    else switch(e){
        case "forwards":
            c = b.child;
            for(e = null; null !== c;)a214 = c.alternate, null !== a214 && null === $b36288e2db101ba3$var$ih(a214) && (e = c), c = c.sibling;
            c = e;
            null === c ? (e = b.child, b.child = null) : (e = c.sibling, c.sibling = null);
            $b36288e2db101ba3$var$zi(b, !1, e, c, f, b.lastEffect);
            break;
        case "backwards":
            c = null;
            e = b.child;
            for(b.child = null; null !== e;){
                a214 = e.alternate;
                if (null !== a214 && null === $b36288e2db101ba3$var$ih(a214)) {
                    b.child = e;
                    break;
                }
                a214 = e.sibling;
                e.sibling = c;
                c = e;
                e = a214;
            }
            $b36288e2db101ba3$var$zi(b, !0, c, null, f, b.lastEffect);
            break;
        case "together":
            $b36288e2db101ba3$var$zi(b, !1, null, null, void 0, b.lastEffect);
            break;
        default:
            b.memoizedState = null;
    }
    return b.child;
}
function $b36288e2db101ba3$var$hi(a215, b, c) {
    null !== a215 && (b.dependencies = a215.dependencies);
    $b36288e2db101ba3$var$Dg |= b.lanes;
    if (0 !== (c & b.childLanes)) {
        if (null !== a215 && b.child !== a215.child) throw Error($b36288e2db101ba3$var$y(153));
        if (null !== b.child) {
            a215 = b.child;
            c = $b36288e2db101ba3$var$Tg(a215, a215.pendingProps);
            b.child = c;
            for(c.return = b; null !== a215.sibling;)a215 = a215.sibling, c = c.sibling = $b36288e2db101ba3$var$Tg(a215, a215.pendingProps), c.return = b;
            c.sibling = null;
        }
        return b.child;
    }
    return null;
}
var $b36288e2db101ba3$var$Bi, $b36288e2db101ba3$var$Ci, $b36288e2db101ba3$var$Di, $b36288e2db101ba3$var$Ei;
$b36288e2db101ba3$var$Bi = function(a216, b) {
    for(var c = b.child; null !== c;){
        if (5 === c.tag || 6 === c.tag) a216.appendChild(c.stateNode);
        else if (4 !== c.tag && null !== c.child) {
            c.child.return = c;
            c = c.child;
            continue;
        }
        if (c === b) break;
        for(; null === c.sibling;){
            if (null === c.return || c.return === b) return;
            c = c.return;
        }
        c.sibling.return = c.return;
        c = c.sibling;
    }
};
$b36288e2db101ba3$var$Ci = function() {};
$b36288e2db101ba3$var$Di = function(a217, b, c, d) {
    var e = a217.memoizedProps;
    if (e !== d) {
        a217 = b.stateNode;
        $b36288e2db101ba3$var$dh($b36288e2db101ba3$var$ah.current);
        var f = null;
        switch(c){
            case "input":
                e = $b36288e2db101ba3$var$Ya(a217, e);
                d = $b36288e2db101ba3$var$Ya(a217, d);
                f = [];
                break;
            case "option":
                e = $b36288e2db101ba3$var$eb(a217, e);
                d = $b36288e2db101ba3$var$eb(a217, d);
                f = [];
                break;
            case "select":
                e = $4yvvI({}, e, {
                    value: void 0
                });
                d = $4yvvI({}, d, {
                    value: void 0
                });
                f = [];
                break;
            case "textarea":
                e = $b36288e2db101ba3$var$gb(a217, e);
                d = $b36288e2db101ba3$var$gb(a217, d);
                f = [];
                break;
            default:
                "function" !== typeof e.onClick && "function" === typeof d.onClick && (a217.onclick = $b36288e2db101ba3$var$jf);
        }
        $b36288e2db101ba3$var$vb(c, d);
        var g;
        c = null;
        for(l in e)if (!d.hasOwnProperty(l) && e.hasOwnProperty(l) && null != e[l]) {
            if ("style" === l) {
                var h = e[l];
                for(g in h)h.hasOwnProperty(g) && (c || (c = {}), c[g] = "");
            } else "dangerouslySetInnerHTML" !== l && "children" !== l && "suppressContentEditableWarning" !== l && "suppressHydrationWarning" !== l && "autoFocus" !== l && ($b36288e2db101ba3$var$ca.hasOwnProperty(l) ? f || (f = []) : (f = f || []).push(l, null));
        }
        for(l in d){
            var k = d[l];
            h = null != e ? e[l] : void 0;
            if (d.hasOwnProperty(l) && k !== h && (null != k || null != h)) {
                if ("style" === l) {
                    if (h) {
                        for(g in h)!h.hasOwnProperty(g) || k && k.hasOwnProperty(g) || (c || (c = {}), c[g] = "");
                        for(g in k)k.hasOwnProperty(g) && h[g] !== k[g] && (c || (c = {}), c[g] = k[g]);
                    } else c || (f || (f = []), f.push(l, c)), c = k;
                } else "dangerouslySetInnerHTML" === l ? (k = k ? k.__html : void 0, h = h ? h.__html : void 0, null != k && h !== k && (f = f || []).push(l, k)) : "children" === l ? "string" !== typeof k && "number" !== typeof k || (f = f || []).push(l, "" + k) : "suppressContentEditableWarning" !== l && "suppressHydrationWarning" !== l && ($b36288e2db101ba3$var$ca.hasOwnProperty(l) ? (null != k && "onScroll" === l && $b36288e2db101ba3$var$G("scroll", a217), f || h === k || (f = [])) : "object" === typeof k && null !== k && k.$$typeof === $b36288e2db101ba3$var$Ga ? k.toString() : (f = f || []).push(l, k));
            }
        }
        c && (f = f || []).push("style", c);
        var l = f;
        if (b.updateQueue = l) b.flags |= 4;
    }
};
$b36288e2db101ba3$var$Ei = function(a, b, c, d) {
    c !== d && (b.flags |= 4);
};
function $b36288e2db101ba3$var$Fi(a218, b) {
    if (!$b36288e2db101ba3$var$lh) switch(a218.tailMode){
        case "hidden":
            b = a218.tail;
            for(var c = null; null !== b;)null !== b.alternate && (c = b), b = b.sibling;
            null === c ? a218.tail = null : c.sibling = null;
            break;
        case "collapsed":
            c = a218.tail;
            for(var d = null; null !== c;)null !== c.alternate && (d = c), c = c.sibling;
            null === d ? b || null === a218.tail ? a218.tail = null : a218.tail.sibling = null : d.sibling = null;
    }
}
function $b36288e2db101ba3$var$Gi(a219, b, c) {
    var d = b.pendingProps;
    switch(b.tag){
        case 2:
        case 16:
        case 15:
        case 0:
        case 11:
        case 7:
        case 8:
        case 12:
        case 9:
        case 14:
            return null;
        case 1:
            return $b36288e2db101ba3$var$Ff(b.type) && $b36288e2db101ba3$var$Gf(), null;
        case 3:
            $b36288e2db101ba3$var$fh();
            $b36288e2db101ba3$var$H($b36288e2db101ba3$var$N);
            $b36288e2db101ba3$var$H($b36288e2db101ba3$var$M);
            $b36288e2db101ba3$var$uh();
            d = b.stateNode;
            d.pendingContext && (d.context = d.pendingContext, d.pendingContext = null);
            if (null === a219 || null === a219.child) $b36288e2db101ba3$var$rh(b) ? b.flags |= 4 : d.hydrate || (b.flags |= 256);
            $b36288e2db101ba3$var$Ci(b);
            return null;
        case 5:
            $b36288e2db101ba3$var$hh(b);
            var e = $b36288e2db101ba3$var$dh($b36288e2db101ba3$var$ch.current);
            c = b.type;
            if (null !== a219 && null != b.stateNode) $b36288e2db101ba3$var$Di(a219, b, c, d, e), a219.ref !== b.ref && (b.flags |= 128);
            else {
                if (!d) {
                    if (null === b.stateNode) throw Error($b36288e2db101ba3$var$y(166));
                    return null;
                }
                a219 = $b36288e2db101ba3$var$dh($b36288e2db101ba3$var$ah.current);
                if ($b36288e2db101ba3$var$rh(b)) {
                    d = b.stateNode;
                    c = b.type;
                    var f = b.memoizedProps;
                    d[$b36288e2db101ba3$var$wf] = b;
                    d[$b36288e2db101ba3$var$xf] = f;
                    switch(c){
                        case "dialog":
                            $b36288e2db101ba3$var$G("cancel", d);
                            $b36288e2db101ba3$var$G("close", d);
                            break;
                        case "iframe":
                        case "object":
                        case "embed":
                            $b36288e2db101ba3$var$G("load", d);
                            break;
                        case "video":
                        case "audio":
                            for(a219 = 0; a219 < $b36288e2db101ba3$var$Xe.length; a219++)$b36288e2db101ba3$var$G($b36288e2db101ba3$var$Xe[a219], d);
                            break;
                        case "source":
                            $b36288e2db101ba3$var$G("error", d);
                            break;
                        case "img":
                        case "image":
                        case "link":
                            $b36288e2db101ba3$var$G("error", d);
                            $b36288e2db101ba3$var$G("load", d);
                            break;
                        case "details":
                            $b36288e2db101ba3$var$G("toggle", d);
                            break;
                        case "input":
                            $b36288e2db101ba3$var$Za(d, f);
                            $b36288e2db101ba3$var$G("invalid", d);
                            break;
                        case "select":
                            d._wrapperState = {
                                wasMultiple: !!f.multiple
                            };
                            $b36288e2db101ba3$var$G("invalid", d);
                            break;
                        case "textarea":
                            $b36288e2db101ba3$var$hb(d, f), $b36288e2db101ba3$var$G("invalid", d);
                    }
                    $b36288e2db101ba3$var$vb(c, f);
                    a219 = null;
                    for(var g in f)f.hasOwnProperty(g) && (e = f[g], "children" === g ? "string" === typeof e ? d.textContent !== e && (a219 = [
                        "children",
                        e
                    ]) : "number" === typeof e && d.textContent !== "" + e && (a219 = [
                        "children",
                        "" + e
                    ]) : $b36288e2db101ba3$var$ca.hasOwnProperty(g) && null != e && "onScroll" === g && $b36288e2db101ba3$var$G("scroll", d));
                    switch(c){
                        case "input":
                            $b36288e2db101ba3$var$Va(d);
                            $b36288e2db101ba3$var$cb(d, f, !0);
                            break;
                        case "textarea":
                            $b36288e2db101ba3$var$Va(d);
                            $b36288e2db101ba3$var$jb(d);
                            break;
                        case "select":
                        case "option":
                            break;
                        default:
                            "function" === typeof f.onClick && (d.onclick = $b36288e2db101ba3$var$jf);
                    }
                    d = a219;
                    b.updateQueue = d;
                    null !== d && (b.flags |= 4);
                } else {
                    g = 9 === e.nodeType ? e : e.ownerDocument;
                    a219 === $b36288e2db101ba3$var$kb.html && (a219 = $b36288e2db101ba3$var$lb(c));
                    a219 === $b36288e2db101ba3$var$kb.html ? "script" === c ? (a219 = g.createElement("div"), a219.innerHTML = "<script>\x3c/script>", a219 = a219.removeChild(a219.firstChild)) : "string" === typeof d.is ? a219 = g.createElement(c, {
                        is: d.is
                    }) : (a219 = g.createElement(c), "select" === c && (g = a219, d.multiple ? g.multiple = !0 : d.size && (g.size = d.size))) : a219 = g.createElementNS(a219, c);
                    a219[$b36288e2db101ba3$var$wf] = b;
                    a219[$b36288e2db101ba3$var$xf] = d;
                    $b36288e2db101ba3$var$Bi(a219, b, !1, !1);
                    b.stateNode = a219;
                    g = $b36288e2db101ba3$var$wb(c, d);
                    switch(c){
                        case "dialog":
                            $b36288e2db101ba3$var$G("cancel", a219);
                            $b36288e2db101ba3$var$G("close", a219);
                            e = d;
                            break;
                        case "iframe":
                        case "object":
                        case "embed":
                            $b36288e2db101ba3$var$G("load", a219);
                            e = d;
                            break;
                        case "video":
                        case "audio":
                            for(e = 0; e < $b36288e2db101ba3$var$Xe.length; e++)$b36288e2db101ba3$var$G($b36288e2db101ba3$var$Xe[e], a219);
                            e = d;
                            break;
                        case "source":
                            $b36288e2db101ba3$var$G("error", a219);
                            e = d;
                            break;
                        case "img":
                        case "image":
                        case "link":
                            $b36288e2db101ba3$var$G("error", a219);
                            $b36288e2db101ba3$var$G("load", a219);
                            e = d;
                            break;
                        case "details":
                            $b36288e2db101ba3$var$G("toggle", a219);
                            e = d;
                            break;
                        case "input":
                            $b36288e2db101ba3$var$Za(a219, d);
                            e = $b36288e2db101ba3$var$Ya(a219, d);
                            $b36288e2db101ba3$var$G("invalid", a219);
                            break;
                        case "option":
                            e = $b36288e2db101ba3$var$eb(a219, d);
                            break;
                        case "select":
                            a219._wrapperState = {
                                wasMultiple: !!d.multiple
                            };
                            e = $4yvvI({}, d, {
                                value: void 0
                            });
                            $b36288e2db101ba3$var$G("invalid", a219);
                            break;
                        case "textarea":
                            $b36288e2db101ba3$var$hb(a219, d);
                            e = $b36288e2db101ba3$var$gb(a219, d);
                            $b36288e2db101ba3$var$G("invalid", a219);
                            break;
                        default:
                            e = d;
                    }
                    $b36288e2db101ba3$var$vb(c, e);
                    var h = e;
                    for(f in h)if (h.hasOwnProperty(f)) {
                        var k = h[f];
                        "style" === f ? $b36288e2db101ba3$var$tb(a219, k) : "dangerouslySetInnerHTML" === f ? (k = k ? k.__html : void 0, null != k && $b36288e2db101ba3$var$ob(a219, k)) : "children" === f ? "string" === typeof k ? ("textarea" !== c || "" !== k) && $b36288e2db101ba3$var$pb(a219, k) : "number" === typeof k && $b36288e2db101ba3$var$pb(a219, "" + k) : "suppressContentEditableWarning" !== f && "suppressHydrationWarning" !== f && "autoFocus" !== f && ($b36288e2db101ba3$var$ca.hasOwnProperty(f) ? null != k && "onScroll" === f && $b36288e2db101ba3$var$G("scroll", a219) : null != k && $b36288e2db101ba3$var$qa(a219, f, k, g));
                    }
                    switch(c){
                        case "input":
                            $b36288e2db101ba3$var$Va(a219);
                            $b36288e2db101ba3$var$cb(a219, d, !1);
                            break;
                        case "textarea":
                            $b36288e2db101ba3$var$Va(a219);
                            $b36288e2db101ba3$var$jb(a219);
                            break;
                        case "option":
                            null != d.value && a219.setAttribute("value", "" + $b36288e2db101ba3$var$Sa(d.value));
                            break;
                        case "select":
                            a219.multiple = !!d.multiple;
                            f = d.value;
                            null != f ? $b36288e2db101ba3$var$fb(a219, !!d.multiple, f, !1) : null != d.defaultValue && $b36288e2db101ba3$var$fb(a219, !!d.multiple, d.defaultValue, !0);
                            break;
                        default:
                            "function" === typeof e.onClick && (a219.onclick = $b36288e2db101ba3$var$jf);
                    }
                    $b36288e2db101ba3$var$mf(c, d) && (b.flags |= 4);
                }
                null !== b.ref && (b.flags |= 128);
            }
            return null;
        case 6:
            if (a219 && null != b.stateNode) $b36288e2db101ba3$var$Ei(a219, b, a219.memoizedProps, d);
            else {
                if ("string" !== typeof d && null === b.stateNode) throw Error($b36288e2db101ba3$var$y(166));
                c = $b36288e2db101ba3$var$dh($b36288e2db101ba3$var$ch.current);
                $b36288e2db101ba3$var$dh($b36288e2db101ba3$var$ah.current);
                $b36288e2db101ba3$var$rh(b) ? (d = b.stateNode, c = b.memoizedProps, d[$b36288e2db101ba3$var$wf] = b, d.nodeValue !== c && (b.flags |= 4)) : (d = (9 === c.nodeType ? c : c.ownerDocument).createTextNode(d), d[$b36288e2db101ba3$var$wf] = b, b.stateNode = d);
            }
            return null;
        case 13:
            $b36288e2db101ba3$var$H($b36288e2db101ba3$var$P);
            d = b.memoizedState;
            if (0 !== (b.flags & 64)) return b.lanes = c, b;
            d = null !== d;
            c = !1;
            null === a219 ? void 0 !== b.memoizedProps.fallback && $b36288e2db101ba3$var$rh(b) : c = null !== a219.memoizedState;
            if (d && !c && 0 !== (b.mode & 2)) {
                if (null === a219 && !0 !== b.memoizedProps.unstable_avoidThisFallback || 0 !== ($b36288e2db101ba3$var$P.current & 1)) 0 === $b36288e2db101ba3$var$V && ($b36288e2db101ba3$var$V = 3);
                else {
                    if (0 === $b36288e2db101ba3$var$V || 3 === $b36288e2db101ba3$var$V) $b36288e2db101ba3$var$V = 4;
                    null === $b36288e2db101ba3$var$U || 0 === ($b36288e2db101ba3$var$Dg & 134217727) && 0 === ($b36288e2db101ba3$var$Hi & 134217727) || $b36288e2db101ba3$var$Ii($b36288e2db101ba3$var$U, $b36288e2db101ba3$var$W);
                }
            }
            if (d || c) b.flags |= 4;
            return null;
        case 4:
            return $b36288e2db101ba3$var$fh(), $b36288e2db101ba3$var$Ci(b), null === a219 && $b36288e2db101ba3$var$cf(b.stateNode.containerInfo), null;
        case 10:
            return $b36288e2db101ba3$var$rg(b), null;
        case 17:
            return $b36288e2db101ba3$var$Ff(b.type) && $b36288e2db101ba3$var$Gf(), null;
        case 19:
            $b36288e2db101ba3$var$H($b36288e2db101ba3$var$P);
            d = b.memoizedState;
            if (null === d) return null;
            f = 0 !== (b.flags & 64);
            g = d.rendering;
            if (null === g) {
                if (f) $b36288e2db101ba3$var$Fi(d, !1);
                else {
                    if (0 !== $b36288e2db101ba3$var$V || null !== a219 && 0 !== (a219.flags & 64)) for(a219 = b.child; null !== a219;){
                        g = $b36288e2db101ba3$var$ih(a219);
                        if (null !== g) {
                            b.flags |= 64;
                            $b36288e2db101ba3$var$Fi(d, !1);
                            f = g.updateQueue;
                            null !== f && (b.updateQueue = f, b.flags |= 4);
                            null === d.lastEffect && (b.firstEffect = null);
                            b.lastEffect = d.lastEffect;
                            d = c;
                            for(c = b.child; null !== c;)f = c, a219 = d, f.flags &= 2, f.nextEffect = null, f.firstEffect = null, f.lastEffect = null, g = f.alternate, null === g ? (f.childLanes = 0, f.lanes = a219, f.child = null, f.memoizedProps = null, f.memoizedState = null, f.updateQueue = null, f.dependencies = null, f.stateNode = null) : (f.childLanes = g.childLanes, f.lanes = g.lanes, f.child = g.child, f.memoizedProps = g.memoizedProps, f.memoizedState = g.memoizedState, f.updateQueue = g.updateQueue, f.type = g.type, a219 = g.dependencies, f.dependencies = null === a219 ? null : {
                                lanes: a219.lanes,
                                firstContext: a219.firstContext
                            }), c = c.sibling;
                            $b36288e2db101ba3$var$I($b36288e2db101ba3$var$P, $b36288e2db101ba3$var$P.current & 1 | 2);
                            return b.child;
                        }
                        a219 = a219.sibling;
                    }
                    null !== d.tail && $b36288e2db101ba3$var$O() > $b36288e2db101ba3$var$Ji && (b.flags |= 64, f = !0, $b36288e2db101ba3$var$Fi(d, !1), b.lanes = 33554432);
                }
            } else {
                if (!f) {
                    if (a219 = $b36288e2db101ba3$var$ih(g), null !== a219) {
                        if (b.flags |= 64, f = !0, c = a219.updateQueue, null !== c && (b.updateQueue = c, b.flags |= 4), $b36288e2db101ba3$var$Fi(d, !0), null === d.tail && "hidden" === d.tailMode && !g.alternate && !$b36288e2db101ba3$var$lh) return b = b.lastEffect = d.lastEffect, null !== b && (b.nextEffect = null), null;
                    } else 2 * $b36288e2db101ba3$var$O() - d.renderingStartTime > $b36288e2db101ba3$var$Ji && 1073741824 !== c && (b.flags |= 64, f = !0, $b36288e2db101ba3$var$Fi(d, !1), b.lanes = 33554432);
                }
                d.isBackwards ? (g.sibling = b.child, b.child = g) : (c = d.last, null !== c ? c.sibling = g : b.child = g, d.last = g);
            }
            return null !== d.tail ? (c = d.tail, d.rendering = c, d.tail = c.sibling, d.lastEffect = b.lastEffect, d.renderingStartTime = $b36288e2db101ba3$var$O(), c.sibling = null, b = $b36288e2db101ba3$var$P.current, $b36288e2db101ba3$var$I($b36288e2db101ba3$var$P, f ? b & 1 | 2 : b & 1), c) : null;
        case 23:
        case 24:
            return $b36288e2db101ba3$var$Ki(), null !== a219 && null !== a219.memoizedState !== (null !== b.memoizedState) && "unstable-defer-without-hiding" !== d.mode && (b.flags |= 4), null;
    }
    throw Error($b36288e2db101ba3$var$y(156, b.tag));
}
function $b36288e2db101ba3$var$Li(a220) {
    switch(a220.tag){
        case 1:
            $b36288e2db101ba3$var$Ff(a220.type) && $b36288e2db101ba3$var$Gf();
            var b = a220.flags;
            return b & 4096 ? (a220.flags = b & -4097 | 64, a220) : null;
        case 3:
            $b36288e2db101ba3$var$fh();
            $b36288e2db101ba3$var$H($b36288e2db101ba3$var$N);
            $b36288e2db101ba3$var$H($b36288e2db101ba3$var$M);
            $b36288e2db101ba3$var$uh();
            b = a220.flags;
            if (0 !== (b & 64)) throw Error($b36288e2db101ba3$var$y(285));
            a220.flags = b & -4097 | 64;
            return a220;
        case 5:
            return $b36288e2db101ba3$var$hh(a220), null;
        case 13:
            return $b36288e2db101ba3$var$H($b36288e2db101ba3$var$P), b = a220.flags, b & 4096 ? (a220.flags = b & -4097 | 64, a220) : null;
        case 19:
            return $b36288e2db101ba3$var$H($b36288e2db101ba3$var$P), null;
        case 4:
            return $b36288e2db101ba3$var$fh(), null;
        case 10:
            return $b36288e2db101ba3$var$rg(a220), null;
        case 23:
        case 24:
            return $b36288e2db101ba3$var$Ki(), null;
        default:
            return null;
    }
}
function $b36288e2db101ba3$var$Mi(a221, b) {
    try {
        var c = "", d = b;
        do c += $b36288e2db101ba3$var$Qa(d), d = d.return;
        while (d)
        var e = c;
    } catch (f) {
        e = "\nError generating stack: " + f.message + "\n" + f.stack;
    }
    return {
        value: a221,
        source: b,
        stack: e
    };
}
function $b36288e2db101ba3$var$Ni(a, b) {
    try {
        console.error(b.value);
    } catch (c) {
        setTimeout(function() {
            throw c;
        });
    }
}
var $b36288e2db101ba3$var$Oi = "function" === typeof WeakMap ? WeakMap : Map;
function $b36288e2db101ba3$var$Pi(a222, b, c) {
    c = $b36288e2db101ba3$var$zg(-1, c);
    c.tag = 3;
    c.payload = {
        element: null
    };
    var d = b.value;
    c.callback = function() {
        $b36288e2db101ba3$var$Qi || ($b36288e2db101ba3$var$Qi = !0, $b36288e2db101ba3$var$Ri = d);
        $b36288e2db101ba3$var$Ni(a222, b);
    };
    return c;
}
function $b36288e2db101ba3$var$Si(a223, b, c4) {
    c4 = $b36288e2db101ba3$var$zg(-1, c4);
    c4.tag = 3;
    var d = a223.type.getDerivedStateFromError;
    if ("function" === typeof d) {
        var e = b.value;
        c4.payload = function() {
            $b36288e2db101ba3$var$Ni(a223, b);
            return d(e);
        };
    }
    var f = a223.stateNode;
    null !== f && "function" === typeof f.componentDidCatch && (c4.callback = function() {
        "function" !== typeof d && (null === $b36288e2db101ba3$var$Ti ? $b36288e2db101ba3$var$Ti = new Set([
            this
        ]) : $b36288e2db101ba3$var$Ti.add(this), $b36288e2db101ba3$var$Ni(a223, b));
        var c = b.stack;
        this.componentDidCatch(b.value, {
            componentStack: null !== c ? c : ""
        });
    });
    return c4;
}
var $b36288e2db101ba3$var$Ui = "function" === typeof WeakSet ? WeakSet : Set;
function $b36288e2db101ba3$var$Vi(a224) {
    var b = a224.ref;
    if (null !== b) {
        if ("function" === typeof b) try {
            b(null);
        } catch (c) {
            $b36288e2db101ba3$var$Wi(a224, c);
        }
        else b.current = null;
    }
}
function $b36288e2db101ba3$var$Xi(a225, b) {
    switch(b.tag){
        case 0:
        case 11:
        case 15:
        case 22:
            return;
        case 1:
            if (b.flags & 256 && null !== a225) {
                var c = a225.memoizedProps, d = a225.memoizedState;
                a225 = b.stateNode;
                b = a225.getSnapshotBeforeUpdate(b.elementType === b.type ? c : $b36288e2db101ba3$var$lg(b.type, c), d);
                a225.__reactInternalSnapshotBeforeUpdate = b;
            }
            return;
        case 3:
            b.flags & 256 && $b36288e2db101ba3$var$qf(b.stateNode.containerInfo);
            return;
        case 5:
        case 6:
        case 4:
        case 17:
            return;
    }
    throw Error($b36288e2db101ba3$var$y(163));
}
function $b36288e2db101ba3$var$Yi(a226, b, c) {
    switch(c.tag){
        case 0:
        case 11:
        case 15:
        case 22:
            b = c.updateQueue;
            b = null !== b ? b.lastEffect : null;
            if (null !== b) {
                a226 = b = b.next;
                do {
                    if (3 === (a226.tag & 3)) {
                        var d = a226.create;
                        a226.destroy = d();
                    }
                    a226 = a226.next;
                }while (a226 !== b)
            }
            b = c.updateQueue;
            b = null !== b ? b.lastEffect : null;
            if (null !== b) {
                a226 = b = b.next;
                do {
                    var e = a226;
                    d = e.next;
                    e = e.tag;
                    0 !== (e & 4) && 0 !== (e & 1) && ($b36288e2db101ba3$var$Zi(c, a226), $b36288e2db101ba3$var$$i(c, a226));
                    a226 = d;
                }while (a226 !== b)
            }
            return;
        case 1:
            a226 = c.stateNode;
            c.flags & 4 && (null === b ? a226.componentDidMount() : (d = c.elementType === c.type ? b.memoizedProps : $b36288e2db101ba3$var$lg(c.type, b.memoizedProps), a226.componentDidUpdate(d, b.memoizedState, a226.__reactInternalSnapshotBeforeUpdate)));
            b = c.updateQueue;
            null !== b && $b36288e2db101ba3$var$Eg(c, b, a226);
            return;
        case 3:
            b = c.updateQueue;
            if (null !== b) {
                a226 = null;
                if (null !== c.child) switch(c.child.tag){
                    case 5:
                        a226 = c.child.stateNode;
                        break;
                    case 1:
                        a226 = c.child.stateNode;
                }
                $b36288e2db101ba3$var$Eg(c, b, a226);
            }
            return;
        case 5:
            a226 = c.stateNode;
            null === b && c.flags & 4 && $b36288e2db101ba3$var$mf(c.type, c.memoizedProps) && a226.focus();
            return;
        case 6:
            return;
        case 4:
            return;
        case 12:
            return;
        case 13:
            null === c.memoizedState && (c = c.alternate, null !== c && (c = c.memoizedState, null !== c && (c = c.dehydrated, null !== c && $b36288e2db101ba3$var$Cc(c))));
            return;
        case 19:
        case 17:
        case 20:
        case 21:
        case 23:
        case 24:
            return;
    }
    throw Error($b36288e2db101ba3$var$y(163));
}
function $b36288e2db101ba3$var$aj(a227, b) {
    for(var c = a227;;){
        if (5 === c.tag) {
            var d = c.stateNode;
            if (b) d = d.style, "function" === typeof d.setProperty ? d.setProperty("display", "none", "important") : d.display = "none";
            else {
                d = c.stateNode;
                var e = c.memoizedProps.style;
                e = void 0 !== e && null !== e && e.hasOwnProperty("display") ? e.display : null;
                d.style.display = $b36288e2db101ba3$var$sb("display", e);
            }
        } else if (6 === c.tag) c.stateNode.nodeValue = b ? "" : c.memoizedProps;
        else if ((23 !== c.tag && 24 !== c.tag || null === c.memoizedState || c === a227) && null !== c.child) {
            c.child.return = c;
            c = c.child;
            continue;
        }
        if (c === a227) break;
        for(; null === c.sibling;){
            if (null === c.return || c.return === a227) return;
            c = c.return;
        }
        c.sibling.return = c.return;
        c = c.sibling;
    }
}
function $b36288e2db101ba3$var$bj(a228, b) {
    if ($b36288e2db101ba3$var$Mf && "function" === typeof $b36288e2db101ba3$var$Mf.onCommitFiberUnmount) try {
        $b36288e2db101ba3$var$Mf.onCommitFiberUnmount($b36288e2db101ba3$var$Lf, b);
    } catch (f) {}
    switch(b.tag){
        case 0:
        case 11:
        case 14:
        case 15:
        case 22:
            a228 = b.updateQueue;
            if (null !== a228 && (a228 = a228.lastEffect, null !== a228)) {
                var c = a228 = a228.next;
                do {
                    var d = c, e = d.destroy;
                    d = d.tag;
                    if (void 0 !== e) {
                        if (0 !== (d & 4)) $b36288e2db101ba3$var$Zi(b, c);
                        else {
                            d = b;
                            try {
                                e();
                            } catch (f) {
                                $b36288e2db101ba3$var$Wi(d, f);
                            }
                        }
                    }
                    c = c.next;
                }while (c !== a228)
            }
            break;
        case 1:
            $b36288e2db101ba3$var$Vi(b);
            a228 = b.stateNode;
            if ("function" === typeof a228.componentWillUnmount) try {
                a228.props = b.memoizedProps, a228.state = b.memoizedState, a228.componentWillUnmount();
            } catch (f2) {
                $b36288e2db101ba3$var$Wi(b, f2);
            }
            break;
        case 5:
            $b36288e2db101ba3$var$Vi(b);
            break;
        case 4:
            $b36288e2db101ba3$var$cj(a228, b);
    }
}
function $b36288e2db101ba3$var$dj(a229) {
    a229.alternate = null;
    a229.child = null;
    a229.dependencies = null;
    a229.firstEffect = null;
    a229.lastEffect = null;
    a229.memoizedProps = null;
    a229.memoizedState = null;
    a229.pendingProps = null;
    a229.return = null;
    a229.updateQueue = null;
}
function $b36288e2db101ba3$var$ej(a230) {
    return 5 === a230.tag || 3 === a230.tag || 4 === a230.tag;
}
function $b36288e2db101ba3$var$fj(a231) {
    a: {
        for(var b = a231.return; null !== b;){
            if ($b36288e2db101ba3$var$ej(b)) break a;
            b = b.return;
        }
        throw Error($b36288e2db101ba3$var$y(160));
    }
    var c = b;
    b = c.stateNode;
    switch(c.tag){
        case 5:
            var d = !1;
            break;
        case 3:
            b = b.containerInfo;
            d = !0;
            break;
        case 4:
            b = b.containerInfo;
            d = !0;
            break;
        default:
            throw Error($b36288e2db101ba3$var$y(161));
    }
    c.flags & 16 && ($b36288e2db101ba3$var$pb(b, ""), c.flags &= -17);
    a: b: for(c = a231;;){
        for(; null === c.sibling;){
            if (null === c.return || $b36288e2db101ba3$var$ej(c.return)) {
                c = null;
                break a;
            }
            c = c.return;
        }
        c.sibling.return = c.return;
        for(c = c.sibling; 5 !== c.tag && 6 !== c.tag && 18 !== c.tag;){
            if (c.flags & 2) continue b;
            if (null === c.child || 4 === c.tag) continue b;
            else c.child.return = c, c = c.child;
        }
        if (!(c.flags & 2)) {
            c = c.stateNode;
            break a;
        }
    }
    d ? $b36288e2db101ba3$var$gj(a231, c, b) : $b36288e2db101ba3$var$hj(a231, c, b);
}
function $b36288e2db101ba3$var$gj(a232, b, c) {
    var d = a232.tag, e = 5 === d || 6 === d;
    if (e) a232 = e ? a232.stateNode : a232.stateNode.instance, b ? 8 === c.nodeType ? c.parentNode.insertBefore(a232, b) : c.insertBefore(a232, b) : (8 === c.nodeType ? (b = c.parentNode, b.insertBefore(a232, c)) : (b = c, b.appendChild(a232)), c = c._reactRootContainer, null !== c && void 0 !== c || null !== b.onclick || (b.onclick = $b36288e2db101ba3$var$jf));
    else if (4 !== d && (a232 = a232.child, null !== a232)) for($b36288e2db101ba3$var$gj(a232, b, c), a232 = a232.sibling; null !== a232;)$b36288e2db101ba3$var$gj(a232, b, c), a232 = a232.sibling;
}
function $b36288e2db101ba3$var$hj(a233, b, c) {
    var d = a233.tag, e = 5 === d || 6 === d;
    if (e) a233 = e ? a233.stateNode : a233.stateNode.instance, b ? c.insertBefore(a233, b) : c.appendChild(a233);
    else if (4 !== d && (a233 = a233.child, null !== a233)) for($b36288e2db101ba3$var$hj(a233, b, c), a233 = a233.sibling; null !== a233;)$b36288e2db101ba3$var$hj(a233, b, c), a233 = a233.sibling;
}
function $b36288e2db101ba3$var$cj(a234, b) {
    for(var c = b, d = !1, e, f;;){
        if (!d) {
            d = c.return;
            a: for(;;){
                if (null === d) throw Error($b36288e2db101ba3$var$y(160));
                e = d.stateNode;
                switch(d.tag){
                    case 5:
                        f = !1;
                        break a;
                    case 3:
                        e = e.containerInfo;
                        f = !0;
                        break a;
                    case 4:
                        e = e.containerInfo;
                        f = !0;
                        break a;
                }
                d = d.return;
            }
            d = !0;
        }
        if (5 === c.tag || 6 === c.tag) {
            a: for(var g = a234, h = c, k = h;;)if ($b36288e2db101ba3$var$bj(g, k), null !== k.child && 4 !== k.tag) k.child.return = k, k = k.child;
            else {
                if (k === h) break a;
                for(; null === k.sibling;){
                    if (null === k.return || k.return === h) break a;
                    k = k.return;
                }
                k.sibling.return = k.return;
                k = k.sibling;
            }
            f ? (g = e, h = c.stateNode, 8 === g.nodeType ? g.parentNode.removeChild(h) : g.removeChild(h)) : e.removeChild(c.stateNode);
        } else if (4 === c.tag) {
            if (null !== c.child) {
                e = c.stateNode.containerInfo;
                f = !0;
                c.child.return = c;
                c = c.child;
                continue;
            }
        } else if ($b36288e2db101ba3$var$bj(a234, c), null !== c.child) {
            c.child.return = c;
            c = c.child;
            continue;
        }
        if (c === b) break;
        for(; null === c.sibling;){
            if (null === c.return || c.return === b) return;
            c = c.return;
            4 === c.tag && (d = !1);
        }
        c.sibling.return = c.return;
        c = c.sibling;
    }
}
function $b36288e2db101ba3$var$ij(a235, b) {
    switch(b.tag){
        case 0:
        case 11:
        case 14:
        case 15:
        case 22:
            var c = b.updateQueue;
            c = null !== c ? c.lastEffect : null;
            if (null !== c) {
                var d = c = c.next;
                do 3 === (d.tag & 3) && (a235 = d.destroy, d.destroy = void 0, void 0 !== a235 && a235()), d = d.next;
                while (d !== c)
            }
            return;
        case 1:
            return;
        case 5:
            c = b.stateNode;
            if (null != c) {
                d = b.memoizedProps;
                var e = null !== a235 ? a235.memoizedProps : d;
                a235 = b.type;
                var f = b.updateQueue;
                b.updateQueue = null;
                if (null !== f) {
                    c[$b36288e2db101ba3$var$xf] = d;
                    "input" === a235 && "radio" === d.type && null != d.name && $b36288e2db101ba3$var$$a(c, d);
                    $b36288e2db101ba3$var$wb(a235, e);
                    b = $b36288e2db101ba3$var$wb(a235, d);
                    for(e = 0; e < f.length; e += 2){
                        var g = f[e], h = f[e + 1];
                        "style" === g ? $b36288e2db101ba3$var$tb(c, h) : "dangerouslySetInnerHTML" === g ? $b36288e2db101ba3$var$ob(c, h) : "children" === g ? $b36288e2db101ba3$var$pb(c, h) : $b36288e2db101ba3$var$qa(c, g, h, b);
                    }
                    switch(a235){
                        case "input":
                            $b36288e2db101ba3$var$ab(c, d);
                            break;
                        case "textarea":
                            $b36288e2db101ba3$var$ib(c, d);
                            break;
                        case "select":
                            a235 = c._wrapperState.wasMultiple, c._wrapperState.wasMultiple = !!d.multiple, f = d.value, null != f ? $b36288e2db101ba3$var$fb(c, !!d.multiple, f, !1) : a235 !== !!d.multiple && (null != d.defaultValue ? $b36288e2db101ba3$var$fb(c, !!d.multiple, d.defaultValue, !0) : $b36288e2db101ba3$var$fb(c, !!d.multiple, d.multiple ? [] : "", !1));
                    }
                }
            }
            return;
        case 6:
            if (null === b.stateNode) throw Error($b36288e2db101ba3$var$y(162));
            b.stateNode.nodeValue = b.memoizedProps;
            return;
        case 3:
            c = b.stateNode;
            c.hydrate && (c.hydrate = !1, $b36288e2db101ba3$var$Cc(c.containerInfo));
            return;
        case 12:
            return;
        case 13:
            null !== b.memoizedState && ($b36288e2db101ba3$var$jj = $b36288e2db101ba3$var$O(), $b36288e2db101ba3$var$aj(b.child, !0));
            $b36288e2db101ba3$var$kj(b);
            return;
        case 19:
            $b36288e2db101ba3$var$kj(b);
            return;
        case 17:
            return;
        case 23:
        case 24:
            $b36288e2db101ba3$var$aj(b, null !== b.memoizedState);
            return;
    }
    throw Error($b36288e2db101ba3$var$y(163));
}
function $b36288e2db101ba3$var$kj(a236) {
    var b8 = a236.updateQueue;
    if (null !== b8) {
        a236.updateQueue = null;
        var c = a236.stateNode;
        null === c && (c = a236.stateNode = new $b36288e2db101ba3$var$Ui);
        b8.forEach(function(b) {
            var d = $b36288e2db101ba3$var$lj.bind(null, a236, b);
            c.has(b) || (c.add(b), b.then(d, d));
        });
    }
}
function $b36288e2db101ba3$var$mj(a237, b) {
    return null !== a237 && (a237 = a237.memoizedState, null === a237 || null !== a237.dehydrated) ? (b = b.memoizedState, null !== b && null === b.dehydrated) : !1;
}
var $b36288e2db101ba3$var$nj = Math.ceil, $b36288e2db101ba3$var$oj = $b36288e2db101ba3$var$ra.ReactCurrentDispatcher, $b36288e2db101ba3$var$pj = $b36288e2db101ba3$var$ra.ReactCurrentOwner, $b36288e2db101ba3$var$X = 0, $b36288e2db101ba3$var$U = null, $b36288e2db101ba3$var$Y = null, $b36288e2db101ba3$var$W = 0, $b36288e2db101ba3$var$qj = 0, $b36288e2db101ba3$var$rj = $b36288e2db101ba3$var$Bf(0), $b36288e2db101ba3$var$V = 0, $b36288e2db101ba3$var$sj = null, $b36288e2db101ba3$var$tj = 0, $b36288e2db101ba3$var$Dg = 0, $b36288e2db101ba3$var$Hi = 0, $b36288e2db101ba3$var$uj = 0, $b36288e2db101ba3$var$vj = null, $b36288e2db101ba3$var$jj = 0, $b36288e2db101ba3$var$Ji = Infinity;
function $b36288e2db101ba3$var$wj() {
    $b36288e2db101ba3$var$Ji = $b36288e2db101ba3$var$O() + 500;
}
var $b36288e2db101ba3$var$Z = null, $b36288e2db101ba3$var$Qi = !1, $b36288e2db101ba3$var$Ri = null, $b36288e2db101ba3$var$Ti = null, $b36288e2db101ba3$var$xj = !1, $b36288e2db101ba3$var$yj = null, $b36288e2db101ba3$var$zj = 90, $b36288e2db101ba3$var$Aj = [], $b36288e2db101ba3$var$Bj = [], $b36288e2db101ba3$var$Cj = null, $b36288e2db101ba3$var$Dj = 0, $b36288e2db101ba3$var$Ej = null, $b36288e2db101ba3$var$Fj = -1, $b36288e2db101ba3$var$Gj = 0, $b36288e2db101ba3$var$Hj = 0, $b36288e2db101ba3$var$Ij = null, $b36288e2db101ba3$var$Jj = !1;
function $b36288e2db101ba3$var$Hg() {
    return 0 !== ($b36288e2db101ba3$var$X & 48) ? $b36288e2db101ba3$var$O() : -1 !== $b36288e2db101ba3$var$Fj ? $b36288e2db101ba3$var$Fj : $b36288e2db101ba3$var$Fj = $b36288e2db101ba3$var$O();
}
function $b36288e2db101ba3$var$Ig(a238) {
    a238 = a238.mode;
    if (0 === (a238 & 2)) return 1;
    if (0 === (a238 & 4)) return 99 === $b36288e2db101ba3$var$eg() ? 1 : 2;
    0 === $b36288e2db101ba3$var$Gj && ($b36288e2db101ba3$var$Gj = $b36288e2db101ba3$var$tj);
    if (0 !== $b36288e2db101ba3$var$kg.transition) {
        0 !== $b36288e2db101ba3$var$Hj && ($b36288e2db101ba3$var$Hj = null !== $b36288e2db101ba3$var$vj ? $b36288e2db101ba3$var$vj.pendingLanes : 0);
        a238 = $b36288e2db101ba3$var$Gj;
        var b = 4186112 & ~$b36288e2db101ba3$var$Hj;
        b &= -b;
        0 === b && (a238 = 4186112 & ~a238, b = a238 & -a238, 0 === b && (b = 8192));
        return b;
    }
    a238 = $b36288e2db101ba3$var$eg();
    0 !== ($b36288e2db101ba3$var$X & 4) && 98 === a238 ? a238 = $b36288e2db101ba3$var$Xc(12, $b36288e2db101ba3$var$Gj) : (a238 = $b36288e2db101ba3$var$Sc(a238), a238 = $b36288e2db101ba3$var$Xc(a238, $b36288e2db101ba3$var$Gj));
    return a238;
}
function $b36288e2db101ba3$var$Jg(a239, b, c) {
    if (50 < $b36288e2db101ba3$var$Dj) throw $b36288e2db101ba3$var$Dj = 0, $b36288e2db101ba3$var$Ej = null, Error($b36288e2db101ba3$var$y(185));
    a239 = $b36288e2db101ba3$var$Kj(a239, b);
    if (null === a239) return null;
    $b36288e2db101ba3$var$$c(a239, b, c);
    a239 === $b36288e2db101ba3$var$U && ($b36288e2db101ba3$var$Hi |= b, 4 === $b36288e2db101ba3$var$V && $b36288e2db101ba3$var$Ii(a239, $b36288e2db101ba3$var$W));
    var d = $b36288e2db101ba3$var$eg();
    1 === b ? 0 !== ($b36288e2db101ba3$var$X & 8) && 0 === ($b36288e2db101ba3$var$X & 48) ? $b36288e2db101ba3$var$Lj(a239) : ($b36288e2db101ba3$var$Mj(a239, c), 0 === $b36288e2db101ba3$var$X && ($b36288e2db101ba3$var$wj(), $b36288e2db101ba3$var$ig())) : (0 === ($b36288e2db101ba3$var$X & 4) || 98 !== d && 99 !== d || (null === $b36288e2db101ba3$var$Cj ? $b36288e2db101ba3$var$Cj = new Set([
        a239
    ]) : $b36288e2db101ba3$var$Cj.add(a239)), $b36288e2db101ba3$var$Mj(a239, c));
    $b36288e2db101ba3$var$vj = a239;
}
function $b36288e2db101ba3$var$Kj(a240, b) {
    a240.lanes |= b;
    var c = a240.alternate;
    null !== c && (c.lanes |= b);
    c = a240;
    for(a240 = a240.return; null !== a240;)a240.childLanes |= b, c = a240.alternate, null !== c && (c.childLanes |= b), c = a240, a240 = a240.return;
    return 3 === c.tag ? c.stateNode : null;
}
function $b36288e2db101ba3$var$Mj(a241, b) {
    for(var c = a241.callbackNode, d = a241.suspendedLanes, e = a241.pingedLanes, f = a241.expirationTimes, g = a241.pendingLanes; 0 < g;){
        var h = 31 - $b36288e2db101ba3$var$Vc(g), k = 1 << h, l = f[h];
        if (-1 === l) {
            if (0 === (k & d) || 0 !== (k & e)) {
                l = b;
                $b36288e2db101ba3$var$Rc(k);
                var n = $b36288e2db101ba3$var$F;
                f[h] = 10 <= n ? l + 250 : 6 <= n ? l + 5E3 : -1;
            }
        } else l <= b && (a241.expiredLanes |= k);
        g &= ~k;
    }
    d = $b36288e2db101ba3$var$Uc(a241, a241 === $b36288e2db101ba3$var$U ? $b36288e2db101ba3$var$W : 0);
    b = $b36288e2db101ba3$var$F;
    if (0 === d) null !== c && (c !== $b36288e2db101ba3$var$Zf && $b36288e2db101ba3$var$Pf(c), a241.callbackNode = null, a241.callbackPriority = 0);
    else {
        if (null !== c) {
            if (a241.callbackPriority === b) return;
            c !== $b36288e2db101ba3$var$Zf && $b36288e2db101ba3$var$Pf(c);
        }
        15 === b ? (c = $b36288e2db101ba3$var$Lj.bind(null, a241), null === $b36288e2db101ba3$var$ag ? ($b36288e2db101ba3$var$ag = [
            c
        ], $b36288e2db101ba3$var$bg = $b36288e2db101ba3$var$Of($b36288e2db101ba3$var$Uf, $b36288e2db101ba3$var$jg)) : $b36288e2db101ba3$var$ag.push(c), c = $b36288e2db101ba3$var$Zf) : 14 === b ? c = $b36288e2db101ba3$var$hg(99, $b36288e2db101ba3$var$Lj.bind(null, a241)) : (c = $b36288e2db101ba3$var$Tc(b), c = $b36288e2db101ba3$var$hg(c, $b36288e2db101ba3$var$Nj.bind(null, a241)));
        a241.callbackPriority = b;
        a241.callbackNode = c;
    }
}
function $b36288e2db101ba3$var$Nj(a242) {
    $b36288e2db101ba3$var$Fj = -1;
    $b36288e2db101ba3$var$Hj = $b36288e2db101ba3$var$Gj = 0;
    if (0 !== ($b36288e2db101ba3$var$X & 48)) throw Error($b36288e2db101ba3$var$y(327));
    var b = a242.callbackNode;
    if ($b36288e2db101ba3$var$Oj() && a242.callbackNode !== b) return null;
    var c = $b36288e2db101ba3$var$Uc(a242, a242 === $b36288e2db101ba3$var$U ? $b36288e2db101ba3$var$W : 0);
    if (0 === c) return null;
    var d = c;
    var e = $b36288e2db101ba3$var$X;
    $b36288e2db101ba3$var$X |= 16;
    var f = $b36288e2db101ba3$var$Pj();
    if ($b36288e2db101ba3$var$U !== a242 || $b36288e2db101ba3$var$W !== d) $b36288e2db101ba3$var$wj(), $b36288e2db101ba3$var$Qj(a242, d);
    for(;;)try {
        $b36288e2db101ba3$var$Rj();
        break;
    } catch (h) {
        $b36288e2db101ba3$var$Sj(a242, h);
    }
    $b36288e2db101ba3$var$qg();
    $b36288e2db101ba3$var$oj.current = f;
    $b36288e2db101ba3$var$X = e;
    null !== $b36288e2db101ba3$var$Y ? d = 0 : ($b36288e2db101ba3$var$U = null, $b36288e2db101ba3$var$W = 0, d = $b36288e2db101ba3$var$V);
    if (0 !== ($b36288e2db101ba3$var$tj & $b36288e2db101ba3$var$Hi)) $b36288e2db101ba3$var$Qj(a242, 0);
    else if (0 !== d) {
        2 === d && ($b36288e2db101ba3$var$X |= 64, a242.hydrate && (a242.hydrate = !1, $b36288e2db101ba3$var$qf(a242.containerInfo)), c = $b36288e2db101ba3$var$Wc(a242), 0 !== c && (d = $b36288e2db101ba3$var$Tj(a242, c)));
        if (1 === d) throw b = $b36288e2db101ba3$var$sj, $b36288e2db101ba3$var$Qj(a242, 0), $b36288e2db101ba3$var$Ii(a242, c), $b36288e2db101ba3$var$Mj(a242, $b36288e2db101ba3$var$O()), b;
        a242.finishedWork = a242.current.alternate;
        a242.finishedLanes = c;
        switch(d){
            case 0:
            case 1:
                throw Error($b36288e2db101ba3$var$y(345));
            case 2:
                $b36288e2db101ba3$var$Uj(a242);
                break;
            case 3:
                $b36288e2db101ba3$var$Ii(a242, c);
                if ((c & 62914560) === c && (d = $b36288e2db101ba3$var$jj + 500 - $b36288e2db101ba3$var$O(), 10 < d)) {
                    if (0 !== $b36288e2db101ba3$var$Uc(a242, 0)) break;
                    e = a242.suspendedLanes;
                    if ((e & c) !== c) {
                        $b36288e2db101ba3$var$Hg();
                        a242.pingedLanes |= a242.suspendedLanes & e;
                        break;
                    }
                    a242.timeoutHandle = $b36288e2db101ba3$var$of($b36288e2db101ba3$var$Uj.bind(null, a242), d);
                    break;
                }
                $b36288e2db101ba3$var$Uj(a242);
                break;
            case 4:
                $b36288e2db101ba3$var$Ii(a242, c);
                if ((c & 4186112) === c) break;
                d = a242.eventTimes;
                for(e = -1; 0 < c;){
                    var g = 31 - $b36288e2db101ba3$var$Vc(c);
                    f = 1 << g;
                    g = d[g];
                    g > e && (e = g);
                    c &= ~f;
                }
                c = e;
                c = $b36288e2db101ba3$var$O() - c;
                c = (120 > c ? 120 : 480 > c ? 480 : 1080 > c ? 1080 : 1920 > c ? 1920 : 3E3 > c ? 3E3 : 4320 > c ? 4320 : 1960 * $b36288e2db101ba3$var$nj(c / 1960)) - c;
                if (10 < c) {
                    a242.timeoutHandle = $b36288e2db101ba3$var$of($b36288e2db101ba3$var$Uj.bind(null, a242), c);
                    break;
                }
                $b36288e2db101ba3$var$Uj(a242);
                break;
            case 5:
                $b36288e2db101ba3$var$Uj(a242);
                break;
            default:
                throw Error($b36288e2db101ba3$var$y(329));
        }
    }
    $b36288e2db101ba3$var$Mj(a242, $b36288e2db101ba3$var$O());
    return a242.callbackNode === b ? $b36288e2db101ba3$var$Nj.bind(null, a242) : null;
}
function $b36288e2db101ba3$var$Ii(a243, b) {
    b &= ~$b36288e2db101ba3$var$uj;
    b &= ~$b36288e2db101ba3$var$Hi;
    a243.suspendedLanes |= b;
    a243.pingedLanes &= ~b;
    for(a243 = a243.expirationTimes; 0 < b;){
        var c = 31 - $b36288e2db101ba3$var$Vc(b), d = 1 << c;
        a243[c] = -1;
        b &= ~d;
    }
}
function $b36288e2db101ba3$var$Lj(a244) {
    if (0 !== ($b36288e2db101ba3$var$X & 48)) throw Error($b36288e2db101ba3$var$y(327));
    $b36288e2db101ba3$var$Oj();
    if (a244 === $b36288e2db101ba3$var$U && 0 !== (a244.expiredLanes & $b36288e2db101ba3$var$W)) {
        var b = $b36288e2db101ba3$var$W;
        var c = $b36288e2db101ba3$var$Tj(a244, b);
        0 !== ($b36288e2db101ba3$var$tj & $b36288e2db101ba3$var$Hi) && (b = $b36288e2db101ba3$var$Uc(a244, b), c = $b36288e2db101ba3$var$Tj(a244, b));
    } else b = $b36288e2db101ba3$var$Uc(a244, 0), c = $b36288e2db101ba3$var$Tj(a244, b);
    0 !== a244.tag && 2 === c && ($b36288e2db101ba3$var$X |= 64, a244.hydrate && (a244.hydrate = !1, $b36288e2db101ba3$var$qf(a244.containerInfo)), b = $b36288e2db101ba3$var$Wc(a244), 0 !== b && (c = $b36288e2db101ba3$var$Tj(a244, b)));
    if (1 === c) throw c = $b36288e2db101ba3$var$sj, $b36288e2db101ba3$var$Qj(a244, 0), $b36288e2db101ba3$var$Ii(a244, b), $b36288e2db101ba3$var$Mj(a244, $b36288e2db101ba3$var$O()), c;
    a244.finishedWork = a244.current.alternate;
    a244.finishedLanes = b;
    $b36288e2db101ba3$var$Uj(a244);
    $b36288e2db101ba3$var$Mj(a244, $b36288e2db101ba3$var$O());
    return null;
}
function $b36288e2db101ba3$var$Vj() {
    if (null !== $b36288e2db101ba3$var$Cj) {
        var a245 = $b36288e2db101ba3$var$Cj;
        $b36288e2db101ba3$var$Cj = null;
        a245.forEach(function(a246) {
            a246.expiredLanes |= 24 & a246.pendingLanes;
            $b36288e2db101ba3$var$Mj(a246, $b36288e2db101ba3$var$O());
        });
    }
    $b36288e2db101ba3$var$ig();
}
function $b36288e2db101ba3$var$Wj(a247, b) {
    var c = $b36288e2db101ba3$var$X;
    $b36288e2db101ba3$var$X |= 1;
    try {
        return a247(b);
    } finally{
        $b36288e2db101ba3$var$X = c, 0 === $b36288e2db101ba3$var$X && ($b36288e2db101ba3$var$wj(), $b36288e2db101ba3$var$ig());
    }
}
function $b36288e2db101ba3$var$Xj(a248, b) {
    var c = $b36288e2db101ba3$var$X;
    $b36288e2db101ba3$var$X &= -2;
    $b36288e2db101ba3$var$X |= 8;
    try {
        return a248(b);
    } finally{
        $b36288e2db101ba3$var$X = c, 0 === $b36288e2db101ba3$var$X && ($b36288e2db101ba3$var$wj(), $b36288e2db101ba3$var$ig());
    }
}
function $b36288e2db101ba3$var$ni(a, b) {
    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$rj, $b36288e2db101ba3$var$qj);
    $b36288e2db101ba3$var$qj |= b;
    $b36288e2db101ba3$var$tj |= b;
}
function $b36288e2db101ba3$var$Ki() {
    $b36288e2db101ba3$var$qj = $b36288e2db101ba3$var$rj.current;
    $b36288e2db101ba3$var$H($b36288e2db101ba3$var$rj);
}
function $b36288e2db101ba3$var$Qj(a249, b) {
    a249.finishedWork = null;
    a249.finishedLanes = 0;
    var c = a249.timeoutHandle;
    -1 !== c && (a249.timeoutHandle = -1, $b36288e2db101ba3$var$pf(c));
    if (null !== $b36288e2db101ba3$var$Y) for(c = $b36288e2db101ba3$var$Y.return; null !== c;){
        var d = c;
        switch(d.tag){
            case 1:
                d = d.type.childContextTypes;
                null !== d && void 0 !== d && $b36288e2db101ba3$var$Gf();
                break;
            case 3:
                $b36288e2db101ba3$var$fh();
                $b36288e2db101ba3$var$H($b36288e2db101ba3$var$N);
                $b36288e2db101ba3$var$H($b36288e2db101ba3$var$M);
                $b36288e2db101ba3$var$uh();
                break;
            case 5:
                $b36288e2db101ba3$var$hh(d);
                break;
            case 4:
                $b36288e2db101ba3$var$fh();
                break;
            case 13:
                $b36288e2db101ba3$var$H($b36288e2db101ba3$var$P);
                break;
            case 19:
                $b36288e2db101ba3$var$H($b36288e2db101ba3$var$P);
                break;
            case 10:
                $b36288e2db101ba3$var$rg(d);
                break;
            case 23:
            case 24:
                $b36288e2db101ba3$var$Ki();
        }
        c = c.return;
    }
    $b36288e2db101ba3$var$U = a249;
    $b36288e2db101ba3$var$Y = $b36288e2db101ba3$var$Tg(a249.current, null);
    $b36288e2db101ba3$var$W = $b36288e2db101ba3$var$qj = $b36288e2db101ba3$var$tj = b;
    $b36288e2db101ba3$var$V = 0;
    $b36288e2db101ba3$var$sj = null;
    $b36288e2db101ba3$var$uj = $b36288e2db101ba3$var$Hi = $b36288e2db101ba3$var$Dg = 0;
}
function $b36288e2db101ba3$var$Sj(a250, b) {
    do {
        var c = $b36288e2db101ba3$var$Y;
        try {
            $b36288e2db101ba3$var$qg();
            $b36288e2db101ba3$var$vh.current = $b36288e2db101ba3$var$Gh;
            if ($b36288e2db101ba3$var$yh) {
                for(var d = $b36288e2db101ba3$var$R.memoizedState; null !== d;){
                    var e = d.queue;
                    null !== e && (e.pending = null);
                    d = d.next;
                }
                $b36288e2db101ba3$var$yh = !1;
            }
            $b36288e2db101ba3$var$xh = 0;
            $b36288e2db101ba3$var$T = $b36288e2db101ba3$var$S = $b36288e2db101ba3$var$R = null;
            $b36288e2db101ba3$var$zh = !1;
            $b36288e2db101ba3$var$pj.current = null;
            if (null === c || null === c.return) {
                $b36288e2db101ba3$var$V = 1;
                $b36288e2db101ba3$var$sj = b;
                $b36288e2db101ba3$var$Y = null;
                break;
            }
            a: {
                var f = a250, g = c.return, h = c, k = b;
                b = $b36288e2db101ba3$var$W;
                h.flags |= 2048;
                h.firstEffect = h.lastEffect = null;
                if (null !== k && "object" === typeof k && "function" === typeof k.then) {
                    var l = k;
                    if (0 === (h.mode & 2)) {
                        var n = h.alternate;
                        n ? (h.updateQueue = n.updateQueue, h.memoizedState = n.memoizedState, h.lanes = n.lanes) : (h.updateQueue = null, h.memoizedState = null);
                    }
                    var A = 0 !== ($b36288e2db101ba3$var$P.current & 1), p = g;
                    do {
                        var C;
                        if (C = 13 === p.tag) {
                            var x = p.memoizedState;
                            if (null !== x) C = null !== x.dehydrated ? !0 : !1;
                            else {
                                var w = p.memoizedProps;
                                C = void 0 === w.fallback ? !1 : !0 !== w.unstable_avoidThisFallback ? !0 : A ? !1 : !0;
                            }
                        }
                        if (C) {
                            var z = p.updateQueue;
                            if (null === z) {
                                var u = new Set;
                                u.add(l);
                                p.updateQueue = u;
                            } else z.add(l);
                            if (0 === (p.mode & 2)) {
                                p.flags |= 64;
                                h.flags |= 16384;
                                h.flags &= -2981;
                                if (1 === h.tag) {
                                    if (null === h.alternate) h.tag = 17;
                                    else {
                                        var t = $b36288e2db101ba3$var$zg(-1, 1);
                                        t.tag = 2;
                                        $b36288e2db101ba3$var$Ag(h, t);
                                    }
                                }
                                h.lanes |= 1;
                                break a;
                            }
                            k = void 0;
                            h = b;
                            var q = f.pingCache;
                            null === q ? (q = f.pingCache = new $b36288e2db101ba3$var$Oi, k = new Set, q.set(l, k)) : (k = q.get(l), void 0 === k && (k = new Set, q.set(l, k)));
                            if (!k.has(h)) {
                                k.add(h);
                                var v = $b36288e2db101ba3$var$Yj.bind(null, f, l, h);
                                l.then(v, v);
                            }
                            p.flags |= 4096;
                            p.lanes = b;
                            break a;
                        }
                        p = p.return;
                    }while (null !== p)
                    k = Error(($b36288e2db101ba3$var$Ra(h.type) || "A React component") + " suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.");
                }
                5 !== $b36288e2db101ba3$var$V && ($b36288e2db101ba3$var$V = 2);
                k = $b36288e2db101ba3$var$Mi(k, h);
                p = g;
                do {
                    switch(p.tag){
                        case 3:
                            f = k;
                            p.flags |= 4096;
                            b &= -b;
                            p.lanes |= b;
                            var J = $b36288e2db101ba3$var$Pi(p, f, b);
                            $b36288e2db101ba3$var$Bg(p, J);
                            break a;
                        case 1:
                            f = k;
                            var K = p.type, Q = p.stateNode;
                            if (0 === (p.flags & 64) && ("function" === typeof K.getDerivedStateFromError || null !== Q && "function" === typeof Q.componentDidCatch && (null === $b36288e2db101ba3$var$Ti || !$b36288e2db101ba3$var$Ti.has(Q)))) {
                                p.flags |= 4096;
                                b &= -b;
                                p.lanes |= b;
                                var L = $b36288e2db101ba3$var$Si(p, f, b);
                                $b36288e2db101ba3$var$Bg(p, L);
                                break a;
                            }
                    }
                    p = p.return;
                }while (null !== p)
            }
            $b36288e2db101ba3$var$Zj(c);
        } catch (va) {
            b = va;
            $b36288e2db101ba3$var$Y === c && null !== c && ($b36288e2db101ba3$var$Y = c = c.return);
            continue;
        }
        break;
    }while (1)
}
function $b36288e2db101ba3$var$Pj() {
    var a251 = $b36288e2db101ba3$var$oj.current;
    $b36288e2db101ba3$var$oj.current = $b36288e2db101ba3$var$Gh;
    return null === a251 ? $b36288e2db101ba3$var$Gh : a251;
}
function $b36288e2db101ba3$var$Tj(a252, b) {
    var c = $b36288e2db101ba3$var$X;
    $b36288e2db101ba3$var$X |= 16;
    var d = $b36288e2db101ba3$var$Pj();
    $b36288e2db101ba3$var$U === a252 && $b36288e2db101ba3$var$W === b || $b36288e2db101ba3$var$Qj(a252, b);
    for(;;)try {
        $b36288e2db101ba3$var$ak();
        break;
    } catch (e) {
        $b36288e2db101ba3$var$Sj(a252, e);
    }
    $b36288e2db101ba3$var$qg();
    $b36288e2db101ba3$var$X = c;
    $b36288e2db101ba3$var$oj.current = d;
    if (null !== $b36288e2db101ba3$var$Y) throw Error($b36288e2db101ba3$var$y(261));
    $b36288e2db101ba3$var$U = null;
    $b36288e2db101ba3$var$W = 0;
    return $b36288e2db101ba3$var$V;
}
function $b36288e2db101ba3$var$ak() {
    for(; null !== $b36288e2db101ba3$var$Y;)$b36288e2db101ba3$var$bk($b36288e2db101ba3$var$Y);
}
function $b36288e2db101ba3$var$Rj() {
    for(; null !== $b36288e2db101ba3$var$Y && !$b36288e2db101ba3$var$Qf();)$b36288e2db101ba3$var$bk($b36288e2db101ba3$var$Y);
}
function $b36288e2db101ba3$var$bk(a253) {
    var b = $b36288e2db101ba3$var$ck(a253.alternate, a253, $b36288e2db101ba3$var$qj);
    a253.memoizedProps = a253.pendingProps;
    null === b ? $b36288e2db101ba3$var$Zj(a253) : $b36288e2db101ba3$var$Y = b;
    $b36288e2db101ba3$var$pj.current = null;
}
function $b36288e2db101ba3$var$Zj(a254) {
    var b = a254;
    do {
        var c = b.alternate;
        a254 = b.return;
        if (0 === (b.flags & 2048)) {
            c = $b36288e2db101ba3$var$Gi(c, b, $b36288e2db101ba3$var$qj);
            if (null !== c) {
                $b36288e2db101ba3$var$Y = c;
                return;
            }
            c = b;
            if (24 !== c.tag && 23 !== c.tag || null === c.memoizedState || 0 !== ($b36288e2db101ba3$var$qj & 1073741824) || 0 === (c.mode & 4)) {
                for(var d = 0, e = c.child; null !== e;)d |= e.lanes | e.childLanes, e = e.sibling;
                c.childLanes = d;
            }
            null !== a254 && 0 === (a254.flags & 2048) && (null === a254.firstEffect && (a254.firstEffect = b.firstEffect), null !== b.lastEffect && (null !== a254.lastEffect && (a254.lastEffect.nextEffect = b.firstEffect), a254.lastEffect = b.lastEffect), 1 < b.flags && (null !== a254.lastEffect ? a254.lastEffect.nextEffect = b : a254.firstEffect = b, a254.lastEffect = b));
        } else {
            c = $b36288e2db101ba3$var$Li(b);
            if (null !== c) {
                c.flags &= 2047;
                $b36288e2db101ba3$var$Y = c;
                return;
            }
            null !== a254 && (a254.firstEffect = a254.lastEffect = null, a254.flags |= 2048);
        }
        b = b.sibling;
        if (null !== b) {
            $b36288e2db101ba3$var$Y = b;
            return;
        }
        $b36288e2db101ba3$var$Y = b = a254;
    }while (null !== b)
    0 === $b36288e2db101ba3$var$V && ($b36288e2db101ba3$var$V = 5);
}
function $b36288e2db101ba3$var$Uj(a255) {
    var b = $b36288e2db101ba3$var$eg();
    $b36288e2db101ba3$var$gg(99, $b36288e2db101ba3$var$dk.bind(null, a255, b));
    return null;
}
function $b36288e2db101ba3$var$dk(a256, b) {
    do $b36288e2db101ba3$var$Oj();
    while (null !== $b36288e2db101ba3$var$yj)
    if (0 !== ($b36288e2db101ba3$var$X & 48)) throw Error($b36288e2db101ba3$var$y(327));
    var c = a256.finishedWork;
    if (null === c) return null;
    a256.finishedWork = null;
    a256.finishedLanes = 0;
    if (c === a256.current) throw Error($b36288e2db101ba3$var$y(177));
    a256.callbackNode = null;
    var d = c.lanes | c.childLanes, e = d, f = a256.pendingLanes & ~e;
    a256.pendingLanes = e;
    a256.suspendedLanes = 0;
    a256.pingedLanes = 0;
    a256.expiredLanes &= e;
    a256.mutableReadLanes &= e;
    a256.entangledLanes &= e;
    e = a256.entanglements;
    for(var g = a256.eventTimes, h = a256.expirationTimes; 0 < f;){
        var k = 31 - $b36288e2db101ba3$var$Vc(f), l = 1 << k;
        e[k] = 0;
        g[k] = -1;
        h[k] = -1;
        f &= ~l;
    }
    null !== $b36288e2db101ba3$var$Cj && 0 === (d & 24) && $b36288e2db101ba3$var$Cj.has(a256) && $b36288e2db101ba3$var$Cj.delete(a256);
    a256 === $b36288e2db101ba3$var$U && ($b36288e2db101ba3$var$Y = $b36288e2db101ba3$var$U = null, $b36288e2db101ba3$var$W = 0);
    1 < c.flags ? null !== c.lastEffect ? (c.lastEffect.nextEffect = c, d = c.firstEffect) : d = c : d = c.firstEffect;
    if (null !== d) {
        e = $b36288e2db101ba3$var$X;
        $b36288e2db101ba3$var$X |= 32;
        $b36288e2db101ba3$var$pj.current = null;
        $b36288e2db101ba3$var$kf = $b36288e2db101ba3$var$fd;
        g = $b36288e2db101ba3$var$Ne();
        if ($b36288e2db101ba3$var$Oe(g)) {
            if ("selectionStart" in g) h = {
                start: g.selectionStart,
                end: g.selectionEnd
            };
            else a: if (h = (h = g.ownerDocument) && h.defaultView || window, (l = h.getSelection && h.getSelection()) && 0 !== l.rangeCount) {
                h = l.anchorNode;
                f = l.anchorOffset;
                k = l.focusNode;
                l = l.focusOffset;
                try {
                    h.nodeType, k.nodeType;
                } catch (va) {
                    h = null;
                    break a;
                }
                var n = 0, A = -1, p = -1, C = 0, x = 0, w = g, z = null;
                b: for(;;){
                    for(var u;;){
                        w !== h || 0 !== f && 3 !== w.nodeType || (A = n + f);
                        w !== k || 0 !== l && 3 !== w.nodeType || (p = n + l);
                        3 === w.nodeType && (n += w.nodeValue.length);
                        if (null === (u = w.firstChild)) break;
                        z = w;
                        w = u;
                    }
                    for(;;){
                        if (w === g) break b;
                        z === h && ++C === f && (A = n);
                        z === k && ++x === l && (p = n);
                        if (null !== (u = w.nextSibling)) break;
                        w = z;
                        z = w.parentNode;
                    }
                    w = u;
                }
                h = -1 === A || -1 === p ? null : {
                    start: A,
                    end: p
                };
            } else h = null;
            h = h || {
                start: 0,
                end: 0
            };
        } else h = null;
        $b36288e2db101ba3$var$lf = {
            focusedElem: g,
            selectionRange: h
        };
        $b36288e2db101ba3$var$fd = !1;
        $b36288e2db101ba3$var$Ij = null;
        $b36288e2db101ba3$var$Jj = !1;
        $b36288e2db101ba3$var$Z = d;
        do try {
            $b36288e2db101ba3$var$ek();
        } catch (va) {
            if (null === $b36288e2db101ba3$var$Z) throw Error($b36288e2db101ba3$var$y(330));
            $b36288e2db101ba3$var$Wi($b36288e2db101ba3$var$Z, va);
            $b36288e2db101ba3$var$Z = $b36288e2db101ba3$var$Z.nextEffect;
        }
        while (null !== $b36288e2db101ba3$var$Z)
        $b36288e2db101ba3$var$Ij = null;
        $b36288e2db101ba3$var$Z = d;
        do try {
            for(g = a256; null !== $b36288e2db101ba3$var$Z;){
                var t = $b36288e2db101ba3$var$Z.flags;
                t & 16 && $b36288e2db101ba3$var$pb($b36288e2db101ba3$var$Z.stateNode, "");
                if (t & 128) {
                    var q = $b36288e2db101ba3$var$Z.alternate;
                    if (null !== q) {
                        var v = q.ref;
                        null !== v && ("function" === typeof v ? v(null) : v.current = null);
                    }
                }
                switch(t & 1038){
                    case 2:
                        $b36288e2db101ba3$var$fj($b36288e2db101ba3$var$Z);
                        $b36288e2db101ba3$var$Z.flags &= -3;
                        break;
                    case 6:
                        $b36288e2db101ba3$var$fj($b36288e2db101ba3$var$Z);
                        $b36288e2db101ba3$var$Z.flags &= -3;
                        $b36288e2db101ba3$var$ij($b36288e2db101ba3$var$Z.alternate, $b36288e2db101ba3$var$Z);
                        break;
                    case 1024:
                        $b36288e2db101ba3$var$Z.flags &= -1025;
                        break;
                    case 1028:
                        $b36288e2db101ba3$var$Z.flags &= -1025;
                        $b36288e2db101ba3$var$ij($b36288e2db101ba3$var$Z.alternate, $b36288e2db101ba3$var$Z);
                        break;
                    case 4:
                        $b36288e2db101ba3$var$ij($b36288e2db101ba3$var$Z.alternate, $b36288e2db101ba3$var$Z);
                        break;
                    case 8:
                        h = $b36288e2db101ba3$var$Z;
                        $b36288e2db101ba3$var$cj(g, h);
                        var J = h.alternate;
                        $b36288e2db101ba3$var$dj(h);
                        null !== J && $b36288e2db101ba3$var$dj(J);
                }
                $b36288e2db101ba3$var$Z = $b36288e2db101ba3$var$Z.nextEffect;
            }
        } catch (va1) {
            if (null === $b36288e2db101ba3$var$Z) throw Error($b36288e2db101ba3$var$y(330));
            $b36288e2db101ba3$var$Wi($b36288e2db101ba3$var$Z, va1);
            $b36288e2db101ba3$var$Z = $b36288e2db101ba3$var$Z.nextEffect;
        }
        while (null !== $b36288e2db101ba3$var$Z)
        v = $b36288e2db101ba3$var$lf;
        q = $b36288e2db101ba3$var$Ne();
        t = v.focusedElem;
        g = v.selectionRange;
        if (q !== t && t && t.ownerDocument && $b36288e2db101ba3$var$Me(t.ownerDocument.documentElement, t)) {
            null !== g && $b36288e2db101ba3$var$Oe(t) && (q = g.start, v = g.end, void 0 === v && (v = q), "selectionStart" in t ? (t.selectionStart = q, t.selectionEnd = Math.min(v, t.value.length)) : (v = (q = t.ownerDocument || document) && q.defaultView || window, v.getSelection && (v = v.getSelection(), h = t.textContent.length, J = Math.min(g.start, h), g = void 0 === g.end ? J : Math.min(g.end, h), !v.extend && J > g && (h = g, g = J, J = h), h = $b36288e2db101ba3$var$Le(t, J), f = $b36288e2db101ba3$var$Le(t, g), h && f && (1 !== v.rangeCount || v.anchorNode !== h.node || v.anchorOffset !== h.offset || v.focusNode !== f.node || v.focusOffset !== f.offset) && (q = q.createRange(), q.setStart(h.node, h.offset), v.removeAllRanges(), J > g ? (v.addRange(q), v.extend(f.node, f.offset)) : (q.setEnd(f.node, f.offset), v.addRange(q))))));
            q = [];
            for(v = t; v = v.parentNode;)1 === v.nodeType && q.push({
                element: v,
                left: v.scrollLeft,
                top: v.scrollTop
            });
            "function" === typeof t.focus && t.focus();
            for(t = 0; t < q.length; t++)v = q[t], v.element.scrollLeft = v.left, v.element.scrollTop = v.top;
        }
        $b36288e2db101ba3$var$fd = !!$b36288e2db101ba3$var$kf;
        $b36288e2db101ba3$var$lf = $b36288e2db101ba3$var$kf = null;
        a256.current = c;
        $b36288e2db101ba3$var$Z = d;
        do try {
            for(t = a256; null !== $b36288e2db101ba3$var$Z;){
                var K = $b36288e2db101ba3$var$Z.flags;
                K & 36 && $b36288e2db101ba3$var$Yi(t, $b36288e2db101ba3$var$Z.alternate, $b36288e2db101ba3$var$Z);
                if (K & 128) {
                    q = void 0;
                    var Q = $b36288e2db101ba3$var$Z.ref;
                    if (null !== Q) {
                        var L = $b36288e2db101ba3$var$Z.stateNode;
                        switch($b36288e2db101ba3$var$Z.tag){
                            case 5:
                                q = L;
                                break;
                            default:
                                q = L;
                        }
                        "function" === typeof Q ? Q(q) : Q.current = q;
                    }
                }
                $b36288e2db101ba3$var$Z = $b36288e2db101ba3$var$Z.nextEffect;
            }
        } catch (va2) {
            if (null === $b36288e2db101ba3$var$Z) throw Error($b36288e2db101ba3$var$y(330));
            $b36288e2db101ba3$var$Wi($b36288e2db101ba3$var$Z, va2);
            $b36288e2db101ba3$var$Z = $b36288e2db101ba3$var$Z.nextEffect;
        }
        while (null !== $b36288e2db101ba3$var$Z)
        $b36288e2db101ba3$var$Z = null;
        $b36288e2db101ba3$var$$f();
        $b36288e2db101ba3$var$X = e;
    } else a256.current = c;
    if ($b36288e2db101ba3$var$xj) $b36288e2db101ba3$var$xj = !1, $b36288e2db101ba3$var$yj = a256, $b36288e2db101ba3$var$zj = b;
    else for($b36288e2db101ba3$var$Z = d; null !== $b36288e2db101ba3$var$Z;)b = $b36288e2db101ba3$var$Z.nextEffect, $b36288e2db101ba3$var$Z.nextEffect = null, $b36288e2db101ba3$var$Z.flags & 8 && (K = $b36288e2db101ba3$var$Z, K.sibling = null, K.stateNode = null), $b36288e2db101ba3$var$Z = b;
    d = a256.pendingLanes;
    0 === d && ($b36288e2db101ba3$var$Ti = null);
    1 === d ? a256 === $b36288e2db101ba3$var$Ej ? $b36288e2db101ba3$var$Dj++ : ($b36288e2db101ba3$var$Dj = 0, $b36288e2db101ba3$var$Ej = a256) : $b36288e2db101ba3$var$Dj = 0;
    c = c.stateNode;
    if ($b36288e2db101ba3$var$Mf && "function" === typeof $b36288e2db101ba3$var$Mf.onCommitFiberRoot) try {
        $b36288e2db101ba3$var$Mf.onCommitFiberRoot($b36288e2db101ba3$var$Lf, c, void 0, 64 === (c.current.flags & 64));
    } catch (va) {}
    $b36288e2db101ba3$var$Mj(a256, $b36288e2db101ba3$var$O());
    if ($b36288e2db101ba3$var$Qi) throw $b36288e2db101ba3$var$Qi = !1, a256 = $b36288e2db101ba3$var$Ri, $b36288e2db101ba3$var$Ri = null, a256;
    if (0 !== ($b36288e2db101ba3$var$X & 8)) return null;
    $b36288e2db101ba3$var$ig();
    return null;
}
function $b36288e2db101ba3$var$ek() {
    for(; null !== $b36288e2db101ba3$var$Z;){
        var a257 = $b36288e2db101ba3$var$Z.alternate;
        $b36288e2db101ba3$var$Jj || null === $b36288e2db101ba3$var$Ij || (0 !== ($b36288e2db101ba3$var$Z.flags & 8) ? $b36288e2db101ba3$var$dc($b36288e2db101ba3$var$Z, $b36288e2db101ba3$var$Ij) && ($b36288e2db101ba3$var$Jj = !0) : 13 === $b36288e2db101ba3$var$Z.tag && $b36288e2db101ba3$var$mj(a257, $b36288e2db101ba3$var$Z) && $b36288e2db101ba3$var$dc($b36288e2db101ba3$var$Z, $b36288e2db101ba3$var$Ij) && ($b36288e2db101ba3$var$Jj = !0));
        var b = $b36288e2db101ba3$var$Z.flags;
        0 !== (b & 256) && $b36288e2db101ba3$var$Xi(a257, $b36288e2db101ba3$var$Z);
        0 === (b & 512) || $b36288e2db101ba3$var$xj || ($b36288e2db101ba3$var$xj = !0, $b36288e2db101ba3$var$hg(97, function() {
            $b36288e2db101ba3$var$Oj();
            return null;
        }));
        $b36288e2db101ba3$var$Z = $b36288e2db101ba3$var$Z.nextEffect;
    }
}
function $b36288e2db101ba3$var$Oj() {
    if (90 !== $b36288e2db101ba3$var$zj) {
        var a258 = 97 < $b36288e2db101ba3$var$zj ? 97 : $b36288e2db101ba3$var$zj;
        $b36288e2db101ba3$var$zj = 90;
        return $b36288e2db101ba3$var$gg(a258, $b36288e2db101ba3$var$fk);
    }
    return !1;
}
function $b36288e2db101ba3$var$$i(a259, b) {
    $b36288e2db101ba3$var$Aj.push(b, a259);
    $b36288e2db101ba3$var$xj || ($b36288e2db101ba3$var$xj = !0, $b36288e2db101ba3$var$hg(97, function() {
        $b36288e2db101ba3$var$Oj();
        return null;
    }));
}
function $b36288e2db101ba3$var$Zi(a260, b) {
    $b36288e2db101ba3$var$Bj.push(b, a260);
    $b36288e2db101ba3$var$xj || ($b36288e2db101ba3$var$xj = !0, $b36288e2db101ba3$var$hg(97, function() {
        $b36288e2db101ba3$var$Oj();
        return null;
    }));
}
function $b36288e2db101ba3$var$fk() {
    if (null === $b36288e2db101ba3$var$yj) return !1;
    var a261 = $b36288e2db101ba3$var$yj;
    $b36288e2db101ba3$var$yj = null;
    if (0 !== ($b36288e2db101ba3$var$X & 48)) throw Error($b36288e2db101ba3$var$y(331));
    var b = $b36288e2db101ba3$var$X;
    $b36288e2db101ba3$var$X |= 32;
    var c = $b36288e2db101ba3$var$Bj;
    $b36288e2db101ba3$var$Bj = [];
    for(var d = 0; d < c.length; d += 2){
        var e = c[d], f = c[d + 1], g = e.destroy;
        e.destroy = void 0;
        if ("function" === typeof g) try {
            g();
        } catch (k) {
            if (null === f) throw Error($b36288e2db101ba3$var$y(330));
            $b36288e2db101ba3$var$Wi(f, k);
        }
    }
    c = $b36288e2db101ba3$var$Aj;
    $b36288e2db101ba3$var$Aj = [];
    for(d = 0; d < c.length; d += 2){
        e = c[d];
        f = c[d + 1];
        try {
            var h = e.create;
            e.destroy = h();
        } catch (k) {
            if (null === f) throw Error($b36288e2db101ba3$var$y(330));
            $b36288e2db101ba3$var$Wi(f, k);
        }
    }
    for(h = a261.current.firstEffect; null !== h;)a261 = h.nextEffect, h.nextEffect = null, h.flags & 8 && (h.sibling = null, h.stateNode = null), h = a261;
    $b36288e2db101ba3$var$X = b;
    $b36288e2db101ba3$var$ig();
    return !0;
}
function $b36288e2db101ba3$var$gk(a262, b, c) {
    b = $b36288e2db101ba3$var$Mi(c, b);
    b = $b36288e2db101ba3$var$Pi(a262, b, 1);
    $b36288e2db101ba3$var$Ag(a262, b);
    b = $b36288e2db101ba3$var$Hg();
    a262 = $b36288e2db101ba3$var$Kj(a262, 1);
    null !== a262 && ($b36288e2db101ba3$var$$c(a262, 1, b), $b36288e2db101ba3$var$Mj(a262, b));
}
function $b36288e2db101ba3$var$Wi(a263, b) {
    if (3 === a263.tag) $b36288e2db101ba3$var$gk(a263, a263, b);
    else for(var c = a263.return; null !== c;){
        if (3 === c.tag) {
            $b36288e2db101ba3$var$gk(c, a263, b);
            break;
        } else if (1 === c.tag) {
            var d = c.stateNode;
            if ("function" === typeof c.type.getDerivedStateFromError || "function" === typeof d.componentDidCatch && (null === $b36288e2db101ba3$var$Ti || !$b36288e2db101ba3$var$Ti.has(d))) {
                a263 = $b36288e2db101ba3$var$Mi(b, a263);
                var e = $b36288e2db101ba3$var$Si(c, a263, 1);
                $b36288e2db101ba3$var$Ag(c, e);
                e = $b36288e2db101ba3$var$Hg();
                c = $b36288e2db101ba3$var$Kj(c, 1);
                if (null !== c) $b36288e2db101ba3$var$$c(c, 1, e), $b36288e2db101ba3$var$Mj(c, e);
                else if ("function" === typeof d.componentDidCatch && (null === $b36288e2db101ba3$var$Ti || !$b36288e2db101ba3$var$Ti.has(d))) try {
                    d.componentDidCatch(b, a263);
                } catch (f) {}
                break;
            }
        }
        c = c.return;
    }
}
function $b36288e2db101ba3$var$Yj(a264, b, c) {
    var d = a264.pingCache;
    null !== d && d.delete(b);
    b = $b36288e2db101ba3$var$Hg();
    a264.pingedLanes |= a264.suspendedLanes & c;
    $b36288e2db101ba3$var$U === a264 && ($b36288e2db101ba3$var$W & c) === c && (4 === $b36288e2db101ba3$var$V || 3 === $b36288e2db101ba3$var$V && ($b36288e2db101ba3$var$W & 62914560) === $b36288e2db101ba3$var$W && 500 > $b36288e2db101ba3$var$O() - $b36288e2db101ba3$var$jj ? $b36288e2db101ba3$var$Qj(a264, 0) : $b36288e2db101ba3$var$uj |= c);
    $b36288e2db101ba3$var$Mj(a264, b);
}
function $b36288e2db101ba3$var$lj(a265, b) {
    var c = a265.stateNode;
    null !== c && c.delete(b);
    b = 0;
    0 === b && (b = a265.mode, 0 === (b & 2) ? b = 1 : 0 === (b & 4) ? b = 99 === $b36288e2db101ba3$var$eg() ? 1 : 2 : (0 === $b36288e2db101ba3$var$Gj && ($b36288e2db101ba3$var$Gj = $b36288e2db101ba3$var$tj), b = $b36288e2db101ba3$var$Yc(62914560 & ~$b36288e2db101ba3$var$Gj), 0 === b && (b = 4194304)));
    c = $b36288e2db101ba3$var$Hg();
    a265 = $b36288e2db101ba3$var$Kj(a265, b);
    null !== a265 && ($b36288e2db101ba3$var$$c(a265, b, c), $b36288e2db101ba3$var$Mj(a265, c));
}
var $b36288e2db101ba3$var$ck;
$b36288e2db101ba3$var$ck = function(a266, b, c) {
    var d = b.lanes;
    if (null !== a266) {
        if (a266.memoizedProps !== b.pendingProps || $b36288e2db101ba3$var$N.current) $b36288e2db101ba3$var$ug = !0;
        else if (0 !== (c & d)) $b36288e2db101ba3$var$ug = 0 !== (a266.flags & 16384) ? !0 : !1;
        else {
            $b36288e2db101ba3$var$ug = !1;
            switch(b.tag){
                case 3:
                    $b36288e2db101ba3$var$ri(b);
                    $b36288e2db101ba3$var$sh();
                    break;
                case 5:
                    $b36288e2db101ba3$var$gh(b);
                    break;
                case 1:
                    $b36288e2db101ba3$var$Ff(b.type) && $b36288e2db101ba3$var$Jf(b);
                    break;
                case 4:
                    $b36288e2db101ba3$var$eh(b, b.stateNode.containerInfo);
                    break;
                case 10:
                    d = b.memoizedProps.value;
                    var e = b.type._context;
                    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$mg, e._currentValue);
                    e._currentValue = d;
                    break;
                case 13:
                    if (null !== b.memoizedState) {
                        if (0 !== (c & b.child.childLanes)) return $b36288e2db101ba3$var$ti(a266, b, c);
                        $b36288e2db101ba3$var$I($b36288e2db101ba3$var$P, $b36288e2db101ba3$var$P.current & 1);
                        b = $b36288e2db101ba3$var$hi(a266, b, c);
                        return null !== b ? b.sibling : null;
                    }
                    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$P, $b36288e2db101ba3$var$P.current & 1);
                    break;
                case 19:
                    d = 0 !== (c & b.childLanes);
                    if (0 !== (a266.flags & 64)) {
                        if (d) return $b36288e2db101ba3$var$Ai(a266, b, c);
                        b.flags |= 64;
                    }
                    e = b.memoizedState;
                    null !== e && (e.rendering = null, e.tail = null, e.lastEffect = null);
                    $b36288e2db101ba3$var$I($b36288e2db101ba3$var$P, $b36288e2db101ba3$var$P.current);
                    if (d) break;
                    else return null;
                case 23:
                case 24:
                    return b.lanes = 0, $b36288e2db101ba3$var$mi(a266, b, c);
            }
            return $b36288e2db101ba3$var$hi(a266, b, c);
        }
    } else $b36288e2db101ba3$var$ug = !1;
    b.lanes = 0;
    switch(b.tag){
        case 2:
            d = b.type;
            null !== a266 && (a266.alternate = null, b.alternate = null, b.flags |= 2);
            a266 = b.pendingProps;
            e = $b36288e2db101ba3$var$Ef(b, $b36288e2db101ba3$var$M.current);
            $b36288e2db101ba3$var$tg(b, c);
            e = $b36288e2db101ba3$var$Ch(null, b, d, a266, e, c);
            b.flags |= 1;
            if ("object" === typeof e && null !== e && "function" === typeof e.render && void 0 === e.$$typeof) {
                b.tag = 1;
                b.memoizedState = null;
                b.updateQueue = null;
                if ($b36288e2db101ba3$var$Ff(d)) {
                    var f = !0;
                    $b36288e2db101ba3$var$Jf(b);
                } else f = !1;
                b.memoizedState = null !== e.state && void 0 !== e.state ? e.state : null;
                $b36288e2db101ba3$var$xg(b);
                var g = d.getDerivedStateFromProps;
                "function" === typeof g && $b36288e2db101ba3$var$Gg(b, d, g, a266);
                e.updater = $b36288e2db101ba3$var$Kg;
                b.stateNode = e;
                e._reactInternals = b;
                $b36288e2db101ba3$var$Og(b, d, a266, c);
                b = $b36288e2db101ba3$var$qi(null, b, d, !0, f, c);
            } else b.tag = 0, $b36288e2db101ba3$var$fi(null, b, e, c), b = b.child;
            return b;
        case 16:
            e = b.elementType;
            a: {
                null !== a266 && (a266.alternate = null, b.alternate = null, b.flags |= 2);
                a266 = b.pendingProps;
                f = e._init;
                e = f(e._payload);
                b.type = e;
                f = b.tag = $b36288e2db101ba3$var$hk(e);
                a266 = $b36288e2db101ba3$var$lg(e, a266);
                switch(f){
                    case 0:
                        b = $b36288e2db101ba3$var$li(null, b, e, a266, c);
                        break a;
                    case 1:
                        b = $b36288e2db101ba3$var$pi(null, b, e, a266, c);
                        break a;
                    case 11:
                        b = $b36288e2db101ba3$var$gi(null, b, e, a266, c);
                        break a;
                    case 14:
                        b = $b36288e2db101ba3$var$ii(null, b, e, $b36288e2db101ba3$var$lg(e.type, a266), d, c);
                        break a;
                }
                throw Error($b36288e2db101ba3$var$y(306, e, ""));
            }
            return b;
        case 0:
            return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : $b36288e2db101ba3$var$lg(d, e), $b36288e2db101ba3$var$li(a266, b, d, e, c);
        case 1:
            return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : $b36288e2db101ba3$var$lg(d, e), $b36288e2db101ba3$var$pi(a266, b, d, e, c);
        case 3:
            $b36288e2db101ba3$var$ri(b);
            d = b.updateQueue;
            if (null === a266 || null === d) throw Error($b36288e2db101ba3$var$y(282));
            d = b.pendingProps;
            e = b.memoizedState;
            e = null !== e ? e.element : null;
            $b36288e2db101ba3$var$yg(a266, b);
            $b36288e2db101ba3$var$Cg(b, d, null, c);
            d = b.memoizedState.element;
            if (d === e) $b36288e2db101ba3$var$sh(), b = $b36288e2db101ba3$var$hi(a266, b, c);
            else {
                e = b.stateNode;
                if (f = e.hydrate) $b36288e2db101ba3$var$kh = $b36288e2db101ba3$var$rf(b.stateNode.containerInfo.firstChild), $b36288e2db101ba3$var$jh = b, f = $b36288e2db101ba3$var$lh = !0;
                if (f) {
                    a266 = e.mutableSourceEagerHydrationData;
                    if (null != a266) for(e = 0; e < a266.length; e += 2)f = a266[e], f._workInProgressVersionPrimary = a266[e + 1], $b36288e2db101ba3$var$th.push(f);
                    c = $b36288e2db101ba3$var$Zg(b, null, d, c);
                    for(b.child = c; c;)c.flags = c.flags & -3 | 1024, c = c.sibling;
                } else $b36288e2db101ba3$var$fi(a266, b, d, c), $b36288e2db101ba3$var$sh();
                b = b.child;
            }
            return b;
        case 5:
            return $b36288e2db101ba3$var$gh(b), null === a266 && $b36288e2db101ba3$var$ph(b), d = b.type, e = b.pendingProps, f = null !== a266 ? a266.memoizedProps : null, g = e.children, $b36288e2db101ba3$var$nf(d, e) ? g = null : null !== f && $b36288e2db101ba3$var$nf(d, f) && (b.flags |= 16), $b36288e2db101ba3$var$oi(a266, b), $b36288e2db101ba3$var$fi(a266, b, g, c), b.child;
        case 6:
            return null === a266 && $b36288e2db101ba3$var$ph(b), null;
        case 13:
            return $b36288e2db101ba3$var$ti(a266, b, c);
        case 4:
            return $b36288e2db101ba3$var$eh(b, b.stateNode.containerInfo), d = b.pendingProps, null === a266 ? b.child = $b36288e2db101ba3$var$Yg(b, null, d, c) : $b36288e2db101ba3$var$fi(a266, b, d, c), b.child;
        case 11:
            return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : $b36288e2db101ba3$var$lg(d, e), $b36288e2db101ba3$var$gi(a266, b, d, e, c);
        case 7:
            return $b36288e2db101ba3$var$fi(a266, b, b.pendingProps, c), b.child;
        case 8:
            return $b36288e2db101ba3$var$fi(a266, b, b.pendingProps.children, c), b.child;
        case 12:
            return $b36288e2db101ba3$var$fi(a266, b, b.pendingProps.children, c), b.child;
        case 10:
            a: {
                d = b.type._context;
                e = b.pendingProps;
                g = b.memoizedProps;
                f = e.value;
                var h = b.type._context;
                $b36288e2db101ba3$var$I($b36288e2db101ba3$var$mg, h._currentValue);
                h._currentValue = f;
                if (null !== g) {
                    if (h = g.value, f = $b36288e2db101ba3$var$He(h, f) ? 0 : ("function" === typeof d._calculateChangedBits ? d._calculateChangedBits(h, f) : 1073741823) | 0, 0 === f) {
                        if (g.children === e.children && !$b36288e2db101ba3$var$N.current) {
                            b = $b36288e2db101ba3$var$hi(a266, b, c);
                            break a;
                        }
                    } else for(h = b.child, null !== h && (h.return = b); null !== h;){
                        var k = h.dependencies;
                        if (null !== k) {
                            g = h.child;
                            for(var l = k.firstContext; null !== l;){
                                if (l.context === d && 0 !== (l.observedBits & f)) {
                                    1 === h.tag && (l = $b36288e2db101ba3$var$zg(-1, c & -c), l.tag = 2, $b36288e2db101ba3$var$Ag(h, l));
                                    h.lanes |= c;
                                    l = h.alternate;
                                    null !== l && (l.lanes |= c);
                                    $b36288e2db101ba3$var$sg(h.return, c);
                                    k.lanes |= c;
                                    break;
                                }
                                l = l.next;
                            }
                        } else g = 10 === h.tag ? h.type === b.type ? null : h.child : h.child;
                        if (null !== g) g.return = h;
                        else for(g = h; null !== g;){
                            if (g === b) {
                                g = null;
                                break;
                            }
                            h = g.sibling;
                            if (null !== h) {
                                h.return = g.return;
                                g = h;
                                break;
                            }
                            g = g.return;
                        }
                        h = g;
                    }
                }
                $b36288e2db101ba3$var$fi(a266, b, e.children, c);
                b = b.child;
            }
            return b;
        case 9:
            return e = b.type, f = b.pendingProps, d = f.children, $b36288e2db101ba3$var$tg(b, c), e = $b36288e2db101ba3$var$vg(e, f.unstable_observedBits), d = d(e), b.flags |= 1, $b36288e2db101ba3$var$fi(a266, b, d, c), b.child;
        case 14:
            return e = b.type, f = $b36288e2db101ba3$var$lg(e, b.pendingProps), f = $b36288e2db101ba3$var$lg(e.type, f), $b36288e2db101ba3$var$ii(a266, b, e, f, d, c);
        case 15:
            return $b36288e2db101ba3$var$ki(a266, b, b.type, b.pendingProps, d, c);
        case 17:
            return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : $b36288e2db101ba3$var$lg(d, e), null !== a266 && (a266.alternate = null, b.alternate = null, b.flags |= 2), b.tag = 1, $b36288e2db101ba3$var$Ff(d) ? (a266 = !0, $b36288e2db101ba3$var$Jf(b)) : a266 = !1, $b36288e2db101ba3$var$tg(b, c), $b36288e2db101ba3$var$Mg(b, d, e), $b36288e2db101ba3$var$Og(b, d, e, c), $b36288e2db101ba3$var$qi(null, b, d, !0, a266, c);
        case 19:
            return $b36288e2db101ba3$var$Ai(a266, b, c);
        case 23:
            return $b36288e2db101ba3$var$mi(a266, b, c);
        case 24:
            return $b36288e2db101ba3$var$mi(a266, b, c);
    }
    throw Error($b36288e2db101ba3$var$y(156, b.tag));
};
function $b36288e2db101ba3$var$ik(a267, b, c, d) {
    this.tag = a267;
    this.key = c;
    this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null;
    this.index = 0;
    this.ref = null;
    this.pendingProps = b;
    this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null;
    this.mode = d;
    this.flags = 0;
    this.lastEffect = this.firstEffect = this.nextEffect = null;
    this.childLanes = this.lanes = 0;
    this.alternate = null;
}
function $b36288e2db101ba3$var$nh(a268, b, c, d) {
    return new $b36288e2db101ba3$var$ik(a268, b, c, d);
}
function $b36288e2db101ba3$var$ji(a269) {
    a269 = a269.prototype;
    return !(!a269 || !a269.isReactComponent);
}
function $b36288e2db101ba3$var$hk(a270) {
    if ("function" === typeof a270) return $b36288e2db101ba3$var$ji(a270) ? 1 : 0;
    if (void 0 !== a270 && null !== a270) {
        a270 = a270.$$typeof;
        if (a270 === $b36288e2db101ba3$var$Aa) return 11;
        if (a270 === $b36288e2db101ba3$var$Da) return 14;
    }
    return 2;
}
function $b36288e2db101ba3$var$Tg(a271, b) {
    var c = a271.alternate;
    null === c ? (c = $b36288e2db101ba3$var$nh(a271.tag, b, a271.key, a271.mode), c.elementType = a271.elementType, c.type = a271.type, c.stateNode = a271.stateNode, c.alternate = a271, a271.alternate = c) : (c.pendingProps = b, c.type = a271.type, c.flags = 0, c.nextEffect = null, c.firstEffect = null, c.lastEffect = null);
    c.childLanes = a271.childLanes;
    c.lanes = a271.lanes;
    c.child = a271.child;
    c.memoizedProps = a271.memoizedProps;
    c.memoizedState = a271.memoizedState;
    c.updateQueue = a271.updateQueue;
    b = a271.dependencies;
    c.dependencies = null === b ? null : {
        lanes: b.lanes,
        firstContext: b.firstContext
    };
    c.sibling = a271.sibling;
    c.index = a271.index;
    c.ref = a271.ref;
    return c;
}
function $b36288e2db101ba3$var$Vg(a272, b, c, d, e, f) {
    var g = 2;
    d = a272;
    if ("function" === typeof a272) $b36288e2db101ba3$var$ji(a272) && (g = 1);
    else if ("string" === typeof a272) g = 5;
    else a: switch(a272){
        case $b36288e2db101ba3$var$ua:
            return $b36288e2db101ba3$var$Xg(c.children, e, f, b);
        case $b36288e2db101ba3$var$Ha:
            g = 8;
            e |= 16;
            break;
        case $b36288e2db101ba3$var$wa:
            g = 8;
            e |= 1;
            break;
        case $b36288e2db101ba3$var$xa:
            return a272 = $b36288e2db101ba3$var$nh(12, c, b, e | 8), a272.elementType = $b36288e2db101ba3$var$xa, a272.type = $b36288e2db101ba3$var$xa, a272.lanes = f, a272;
        case $b36288e2db101ba3$var$Ba:
            return a272 = $b36288e2db101ba3$var$nh(13, c, b, e), a272.type = $b36288e2db101ba3$var$Ba, a272.elementType = $b36288e2db101ba3$var$Ba, a272.lanes = f, a272;
        case $b36288e2db101ba3$var$Ca:
            return a272 = $b36288e2db101ba3$var$nh(19, c, b, e), a272.elementType = $b36288e2db101ba3$var$Ca, a272.lanes = f, a272;
        case $b36288e2db101ba3$var$Ia:
            return $b36288e2db101ba3$var$vi(c, e, f, b);
        case $b36288e2db101ba3$var$Ja:
            return a272 = $b36288e2db101ba3$var$nh(24, c, b, e), a272.elementType = $b36288e2db101ba3$var$Ja, a272.lanes = f, a272;
        default:
            if ("object" === typeof a272 && null !== a272) switch(a272.$$typeof){
                case $b36288e2db101ba3$var$ya:
                    g = 10;
                    break a;
                case $b36288e2db101ba3$var$za:
                    g = 9;
                    break a;
                case $b36288e2db101ba3$var$Aa:
                    g = 11;
                    break a;
                case $b36288e2db101ba3$var$Da:
                    g = 14;
                    break a;
                case $b36288e2db101ba3$var$Ea:
                    g = 16;
                    d = null;
                    break a;
                case $b36288e2db101ba3$var$Fa:
                    g = 22;
                    break a;
            }
            throw Error($b36288e2db101ba3$var$y(130, null == a272 ? a272 : typeof a272, ""));
    }
    b = $b36288e2db101ba3$var$nh(g, c, b, e);
    b.elementType = a272;
    b.type = d;
    b.lanes = f;
    return b;
}
function $b36288e2db101ba3$var$Xg(a273, b, c, d) {
    a273 = $b36288e2db101ba3$var$nh(7, a273, d, b);
    a273.lanes = c;
    return a273;
}
function $b36288e2db101ba3$var$vi(a274, b, c, d) {
    a274 = $b36288e2db101ba3$var$nh(23, a274, d, b);
    a274.elementType = $b36288e2db101ba3$var$Ia;
    a274.lanes = c;
    return a274;
}
function $b36288e2db101ba3$var$Ug(a275, b, c) {
    a275 = $b36288e2db101ba3$var$nh(6, a275, null, b);
    a275.lanes = c;
    return a275;
}
function $b36288e2db101ba3$var$Wg(a276, b, c) {
    b = $b36288e2db101ba3$var$nh(4, null !== a276.children ? a276.children : [], a276.key, b);
    b.lanes = c;
    b.stateNode = {
        containerInfo: a276.containerInfo,
        pendingChildren: null,
        implementation: a276.implementation
    };
    return b;
}
function $b36288e2db101ba3$var$jk(a277, b, c) {
    this.tag = b;
    this.containerInfo = a277;
    this.finishedWork = this.pingCache = this.current = this.pendingChildren = null;
    this.timeoutHandle = -1;
    this.pendingContext = this.context = null;
    this.hydrate = c;
    this.callbackNode = null;
    this.callbackPriority = 0;
    this.eventTimes = $b36288e2db101ba3$var$Zc(0);
    this.expirationTimes = $b36288e2db101ba3$var$Zc(-1);
    this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0;
    this.entanglements = $b36288e2db101ba3$var$Zc(0);
    this.mutableSourceEagerHydrationData = null;
}
function $b36288e2db101ba3$var$kk(a278, b, c) {
    var d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
    return {
        $$typeof: $b36288e2db101ba3$var$ta,
        key: null == d ? null : "" + d,
        children: a278,
        containerInfo: b,
        implementation: c
    };
}
function $b36288e2db101ba3$var$lk(a279, b, c, d) {
    var e = b.current, f = $b36288e2db101ba3$var$Hg(), g = $b36288e2db101ba3$var$Ig(e);
    a: if (c) {
        c = c._reactInternals;
        b: {
            if ($b36288e2db101ba3$var$Zb(c) !== c || 1 !== c.tag) throw Error($b36288e2db101ba3$var$y(170));
            var h = c;
            do {
                switch(h.tag){
                    case 3:
                        h = h.stateNode.context;
                        break b;
                    case 1:
                        if ($b36288e2db101ba3$var$Ff(h.type)) {
                            h = h.stateNode.__reactInternalMemoizedMergedChildContext;
                            break b;
                        }
                }
                h = h.return;
            }while (null !== h)
            throw Error($b36288e2db101ba3$var$y(171));
        }
        if (1 === c.tag) {
            var k = c.type;
            if ($b36288e2db101ba3$var$Ff(k)) {
                c = $b36288e2db101ba3$var$If(c, k, h);
                break a;
            }
        }
        c = h;
    } else c = $b36288e2db101ba3$var$Cf;
    null === b.context ? b.context = c : b.pendingContext = c;
    b = $b36288e2db101ba3$var$zg(f, g);
    b.payload = {
        element: a279
    };
    d = void 0 === d ? null : d;
    null !== d && (b.callback = d);
    $b36288e2db101ba3$var$Ag(e, b);
    $b36288e2db101ba3$var$Jg(e, g, f);
    return g;
}
function $b36288e2db101ba3$var$mk(a280) {
    a280 = a280.current;
    if (!a280.child) return null;
    switch(a280.child.tag){
        case 5:
            return a280.child.stateNode;
        default:
            return a280.child.stateNode;
    }
}
function $b36288e2db101ba3$var$nk(a281, b) {
    a281 = a281.memoizedState;
    if (null !== a281 && null !== a281.dehydrated) {
        var c = a281.retryLane;
        a281.retryLane = 0 !== c && c < b ? c : b;
    }
}
function $b36288e2db101ba3$var$ok(a282, b) {
    $b36288e2db101ba3$var$nk(a282, b);
    (a282 = a282.alternate) && $b36288e2db101ba3$var$nk(a282, b);
}
function $b36288e2db101ba3$var$pk() {
    return null;
}
function $b36288e2db101ba3$var$qk(a283, b, c) {
    var d = null != c && null != c.hydrationOptions && c.hydrationOptions.mutableSources || null;
    c = new $b36288e2db101ba3$var$jk(a283, b, null != c && !0 === c.hydrate);
    b = $b36288e2db101ba3$var$nh(3, null, null, 2 === b ? 7 : 1 === b ? 3 : 0);
    c.current = b;
    b.stateNode = c;
    $b36288e2db101ba3$var$xg(b);
    a283[$b36288e2db101ba3$var$ff] = c.current;
    $b36288e2db101ba3$var$cf(8 === a283.nodeType ? a283.parentNode : a283);
    if (d) for(a283 = 0; a283 < d.length; a283++){
        b = d[a283];
        var e = b._getVersion;
        e = e(b._source);
        null == c.mutableSourceEagerHydrationData ? c.mutableSourceEagerHydrationData = [
            b,
            e
        ] : c.mutableSourceEagerHydrationData.push(b, e);
    }
    this._internalRoot = c;
}
$b36288e2db101ba3$var$qk.prototype.render = function(a284) {
    $b36288e2db101ba3$var$lk(a284, this._internalRoot, null, null);
};
$b36288e2db101ba3$var$qk.prototype.unmount = function() {
    var a285 = this._internalRoot, b = a285.containerInfo;
    $b36288e2db101ba3$var$lk(null, a285, null, function() {
        b[$b36288e2db101ba3$var$ff] = null;
    });
};
function $b36288e2db101ba3$var$rk(a286) {
    return !(!a286 || 1 !== a286.nodeType && 9 !== a286.nodeType && 11 !== a286.nodeType && (8 !== a286.nodeType || " react-mount-point-unstable " !== a286.nodeValue));
}
function $b36288e2db101ba3$var$sk(a287, b) {
    b || (b = a287 ? 9 === a287.nodeType ? a287.documentElement : a287.firstChild : null, b = !(!b || 1 !== b.nodeType || !b.hasAttribute("data-reactroot")));
    if (!b) for(var c; c = a287.lastChild;)a287.removeChild(c);
    return new $b36288e2db101ba3$var$qk(a287, 0, b ? {
        hydrate: !0
    } : void 0);
}
function $b36288e2db101ba3$var$tk(a288, b, c, d, e) {
    var f = c._reactRootContainer;
    if (f) {
        var g = f._internalRoot;
        if ("function" === typeof e) {
            var h = e;
            e = function() {
                var a289 = $b36288e2db101ba3$var$mk(g);
                h.call(a289);
            };
        }
        $b36288e2db101ba3$var$lk(b, g, a288, e);
    } else {
        f = c._reactRootContainer = $b36288e2db101ba3$var$sk(c, d);
        g = f._internalRoot;
        if ("function" === typeof e) {
            var k = e;
            e = function() {
                var a290 = $b36288e2db101ba3$var$mk(g);
                k.call(a290);
            };
        }
        $b36288e2db101ba3$var$Xj(function() {
            $b36288e2db101ba3$var$lk(b, g, a288, e);
        });
    }
    return $b36288e2db101ba3$var$mk(g);
}
$b36288e2db101ba3$var$ec = function(a291) {
    if (13 === a291.tag) {
        var b = $b36288e2db101ba3$var$Hg();
        $b36288e2db101ba3$var$Jg(a291, 4, b);
        $b36288e2db101ba3$var$ok(a291, 4);
    }
};
$b36288e2db101ba3$var$fc = function(a292) {
    if (13 === a292.tag) {
        var b = $b36288e2db101ba3$var$Hg();
        $b36288e2db101ba3$var$Jg(a292, 67108864, b);
        $b36288e2db101ba3$var$ok(a292, 67108864);
    }
};
$b36288e2db101ba3$var$gc = function(a293) {
    if (13 === a293.tag) {
        var b = $b36288e2db101ba3$var$Hg(), c = $b36288e2db101ba3$var$Ig(a293);
        $b36288e2db101ba3$var$Jg(a293, c, b);
        $b36288e2db101ba3$var$ok(a293, c);
    }
};
$b36288e2db101ba3$var$hc = function(a, b) {
    return b();
};
$b36288e2db101ba3$var$yb = function(a294, b, c) {
    switch(b){
        case "input":
            $b36288e2db101ba3$var$ab(a294, c);
            b = c.name;
            if ("radio" === c.type && null != b) {
                for(c = a294; c.parentNode;)c = c.parentNode;
                c = c.querySelectorAll("input[name=" + JSON.stringify("" + b) + '][type="radio"]');
                for(b = 0; b < c.length; b++){
                    var d = c[b];
                    if (d !== a294 && d.form === a294.form) {
                        var e = $b36288e2db101ba3$var$Db(d);
                        if (!e) throw Error($b36288e2db101ba3$var$y(90));
                        $b36288e2db101ba3$var$Wa(d);
                        $b36288e2db101ba3$var$ab(d, e);
                    }
                }
            }
            break;
        case "textarea":
            $b36288e2db101ba3$var$ib(a294, c);
            break;
        case "select":
            b = c.value, null != b && $b36288e2db101ba3$var$fb(a294, !!c.multiple, b, !1);
    }
};
$b36288e2db101ba3$var$Gb = $b36288e2db101ba3$var$Wj;
$b36288e2db101ba3$var$Hb = function(a295, b, c, d, e) {
    var f = $b36288e2db101ba3$var$X;
    $b36288e2db101ba3$var$X |= 4;
    try {
        return $b36288e2db101ba3$var$gg(98, a295.bind(null, b, c, d, e));
    } finally{
        $b36288e2db101ba3$var$X = f, 0 === $b36288e2db101ba3$var$X && ($b36288e2db101ba3$var$wj(), $b36288e2db101ba3$var$ig());
    }
};
$b36288e2db101ba3$var$Ib = function() {
    0 === ($b36288e2db101ba3$var$X & 49) && ($b36288e2db101ba3$var$Vj(), $b36288e2db101ba3$var$Oj());
};
$b36288e2db101ba3$var$Jb = function(a296, b) {
    var c = $b36288e2db101ba3$var$X;
    $b36288e2db101ba3$var$X |= 2;
    try {
        return a296(b);
    } finally{
        $b36288e2db101ba3$var$X = c, 0 === $b36288e2db101ba3$var$X && ($b36288e2db101ba3$var$wj(), $b36288e2db101ba3$var$ig());
    }
};
function $b36288e2db101ba3$var$uk(a297, b) {
    var c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
    if (!$b36288e2db101ba3$var$rk(b)) throw Error($b36288e2db101ba3$var$y(200));
    return $b36288e2db101ba3$var$kk(a297, b, null, c);
}
var $b36288e2db101ba3$var$vk = {
    Events: [
        $b36288e2db101ba3$var$Cb,
        $b36288e2db101ba3$var$ue,
        $b36288e2db101ba3$var$Db,
        $b36288e2db101ba3$var$Eb,
        $b36288e2db101ba3$var$Fb,
        $b36288e2db101ba3$var$Oj,
        {
            current: !1
        }
    ]
}, $b36288e2db101ba3$var$wk = {
    findFiberByHostInstance: $b36288e2db101ba3$var$wc,
    bundleType: 0,
    version: "17.0.2",
    rendererPackageName: "react-dom"
};
var $b36288e2db101ba3$var$xk = {
    bundleType: $b36288e2db101ba3$var$wk.bundleType,
    version: $b36288e2db101ba3$var$wk.version,
    rendererPackageName: $b36288e2db101ba3$var$wk.rendererPackageName,
    rendererConfig: $b36288e2db101ba3$var$wk.rendererConfig,
    overrideHookState: null,
    overrideHookStateDeletePath: null,
    overrideHookStateRenamePath: null,
    overrideProps: null,
    overridePropsDeletePath: null,
    overridePropsRenamePath: null,
    setSuspenseHandler: null,
    scheduleUpdate: null,
    currentDispatcherRef: $b36288e2db101ba3$var$ra.ReactCurrentDispatcher,
    findHostInstanceByFiber: function(a298) {
        a298 = $b36288e2db101ba3$var$cc(a298);
        return null === a298 ? null : a298.stateNode;
    },
    findFiberByHostInstance: $b36288e2db101ba3$var$wk.findFiberByHostInstance || $b36288e2db101ba3$var$pk,
    findHostInstancesForRefresh: null,
    scheduleRefresh: null,
    scheduleRoot: null,
    setRefreshHandler: null,
    getCurrentFiber: null
};
if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
    var $b36288e2db101ba3$var$yk = __REACT_DEVTOOLS_GLOBAL_HOOK__;
    if (!$b36288e2db101ba3$var$yk.isDisabled && $b36288e2db101ba3$var$yk.supportsFiber) try {
        $b36288e2db101ba3$var$Lf = $b36288e2db101ba3$var$yk.inject($b36288e2db101ba3$var$xk), $b36288e2db101ba3$var$Mf = $b36288e2db101ba3$var$yk;
    } catch (a) {}
}
$b36288e2db101ba3$export$ae55be85d98224ed = $b36288e2db101ba3$var$vk;
$b36288e2db101ba3$export$d39a5bbd09211389 = $b36288e2db101ba3$var$uk;
$b36288e2db101ba3$export$466bfc07425424d5 = function(a299) {
    if (null == a299) return null;
    if (1 === a299.nodeType) return a299;
    var b = a299._reactInternals;
    if (void 0 === b) {
        if ("function" === typeof a299.render) throw Error($b36288e2db101ba3$var$y(188));
        throw Error($b36288e2db101ba3$var$y(268, Object.keys(a299)));
    }
    a299 = $b36288e2db101ba3$var$cc(b);
    a299 = null === a299 ? null : a299.stateNode;
    return a299;
};
$b36288e2db101ba3$export$cd75ccfd720a3cd4 = function(a300, b) {
    var c = $b36288e2db101ba3$var$X;
    if (0 !== (c & 48)) return a300(b);
    $b36288e2db101ba3$var$X |= 1;
    try {
        if (a300) return $b36288e2db101ba3$var$gg(99, a300.bind(null, b));
    } finally{
        $b36288e2db101ba3$var$X = c, $b36288e2db101ba3$var$ig();
    }
};
$b36288e2db101ba3$export$fa8d919ba61d84db = function(a301, b, c) {
    if (!$b36288e2db101ba3$var$rk(b)) throw Error($b36288e2db101ba3$var$y(200));
    return $b36288e2db101ba3$var$tk(null, a301, b, !0, c);
};
$b36288e2db101ba3$export$b3890eb0ae9dca99 = function(a302, b, c) {
    if (!$b36288e2db101ba3$var$rk(b)) throw Error($b36288e2db101ba3$var$y(200));
    return $b36288e2db101ba3$var$tk(null, a302, b, !1, c);
};
$b36288e2db101ba3$export$502457920280e6be = function(a303) {
    if (!$b36288e2db101ba3$var$rk(a303)) throw Error($b36288e2db101ba3$var$y(40));
    return a303._reactRootContainer ? ($b36288e2db101ba3$var$Xj(function() {
        $b36288e2db101ba3$var$tk(null, null, a303, !1, function() {
            a303._reactRootContainer = null;
            a303[$b36288e2db101ba3$var$ff] = null;
        });
    }), !0) : !1;
};
$b36288e2db101ba3$export$c78a37762a8d58e1 = $b36288e2db101ba3$var$Wj;
$b36288e2db101ba3$export$2577ef5d2565d52f = function(a304, b) {
    return $b36288e2db101ba3$var$uk(a304, b, 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null);
};
$b36288e2db101ba3$export$dc54d992c10e8a18 = function(a305, b, c, d) {
    if (!$b36288e2db101ba3$var$rk(c)) throw Error($b36288e2db101ba3$var$y(200));
    if (null == a305 || void 0 === a305._reactInternals) throw Error($b36288e2db101ba3$var$y(38));
    return $b36288e2db101ba3$var$tk(a305, b, c, !1, d);
};
$b36288e2db101ba3$export$83d89fbfd8236492 = "17.0.2";

});
parcelRequire.register("4LCdk", function(module, exports) {
'use strict';

module.exports = (parcelRequire("8BKFp"));

});
parcelRequire.register("8BKFp", function(module, exports) {

$parcel$export(module.exports, "unstable_now", function () { return $6445fa7f31ec0ca5$export$c4744153514ff05d; }, function (v) { return $6445fa7f31ec0ca5$export$c4744153514ff05d = v; });
$parcel$export(module.exports, "unstable_shouldYield", function () { return $6445fa7f31ec0ca5$export$b5836b71941fa3ed; }, function (v) { return $6445fa7f31ec0ca5$export$b5836b71941fa3ed = v; });
$parcel$export(module.exports, "unstable_forceFrameRate", function () { return $6445fa7f31ec0ca5$export$d66a1c1c77bd778b; }, function (v) { return $6445fa7f31ec0ca5$export$d66a1c1c77bd778b = v; });
$parcel$export(module.exports, "unstable_IdlePriority", function () { return $6445fa7f31ec0ca5$export$3e506c1ccc9cc1a7; }, function (v) { return $6445fa7f31ec0ca5$export$3e506c1ccc9cc1a7 = v; });
$parcel$export(module.exports, "unstable_ImmediatePriority", function () { return $6445fa7f31ec0ca5$export$e26fe2ed2fa76875; }, function (v) { return $6445fa7f31ec0ca5$export$e26fe2ed2fa76875 = v; });
$parcel$export(module.exports, "unstable_LowPriority", function () { return $6445fa7f31ec0ca5$export$502329bbf4b505b1; }, function (v) { return $6445fa7f31ec0ca5$export$502329bbf4b505b1 = v; });
$parcel$export(module.exports, "unstable_NormalPriority", function () { return $6445fa7f31ec0ca5$export$6e3807111c4874c4; }, function (v) { return $6445fa7f31ec0ca5$export$6e3807111c4874c4 = v; });
$parcel$export(module.exports, "unstable_Profiling", function () { return $6445fa7f31ec0ca5$export$c27134553091fb3a; }, function (v) { return $6445fa7f31ec0ca5$export$c27134553091fb3a = v; });
$parcel$export(module.exports, "unstable_UserBlockingPriority", function () { return $6445fa7f31ec0ca5$export$33ee1acdc04fd2a2; }, function (v) { return $6445fa7f31ec0ca5$export$33ee1acdc04fd2a2 = v; });
$parcel$export(module.exports, "unstable_cancelCallback", function () { return $6445fa7f31ec0ca5$export$b00a404bbd5edef2; }, function (v) { return $6445fa7f31ec0ca5$export$b00a404bbd5edef2 = v; });
$parcel$export(module.exports, "unstable_continueExecution", function () { return $6445fa7f31ec0ca5$export$8352ce38b91d0c62; }, function (v) { return $6445fa7f31ec0ca5$export$8352ce38b91d0c62 = v; });
$parcel$export(module.exports, "unstable_getCurrentPriorityLevel", function () { return $6445fa7f31ec0ca5$export$d3dfb8e4810cb555; }, function (v) { return $6445fa7f31ec0ca5$export$d3dfb8e4810cb555 = v; });
$parcel$export(module.exports, "unstable_getFirstCallbackNode", function () { return $6445fa7f31ec0ca5$export$839f9183b0465a69; }, function (v) { return $6445fa7f31ec0ca5$export$839f9183b0465a69 = v; });
$parcel$export(module.exports, "unstable_next", function () { return $6445fa7f31ec0ca5$export$72fdf0e06517287b; }, function (v) { return $6445fa7f31ec0ca5$export$72fdf0e06517287b = v; });
$parcel$export(module.exports, "unstable_pauseExecution", function () { return $6445fa7f31ec0ca5$export$4b844e58a3e414b4; }, function (v) { return $6445fa7f31ec0ca5$export$4b844e58a3e414b4 = v; });
$parcel$export(module.exports, "unstable_requestPaint", function () { return $6445fa7f31ec0ca5$export$816d2913ae6b83b1; }, function (v) { return $6445fa7f31ec0ca5$export$816d2913ae6b83b1 = v; });
$parcel$export(module.exports, "unstable_runWithPriority", function () { return $6445fa7f31ec0ca5$export$61bcfe829111a1d0; }, function (v) { return $6445fa7f31ec0ca5$export$61bcfe829111a1d0 = v; });
$parcel$export(module.exports, "unstable_scheduleCallback", function () { return $6445fa7f31ec0ca5$export$7ee8c9beb337bc3f; }, function (v) { return $6445fa7f31ec0ca5$export$7ee8c9beb337bc3f = v; });
$parcel$export(module.exports, "unstable_wrapCallback", function () { return $6445fa7f31ec0ca5$export$cf845f2c119da08a; }, function (v) { return $6445fa7f31ec0ca5$export$cf845f2c119da08a = v; });
var $6445fa7f31ec0ca5$export$c4744153514ff05d;
var $6445fa7f31ec0ca5$export$b5836b71941fa3ed;
var $6445fa7f31ec0ca5$export$d66a1c1c77bd778b;
var $6445fa7f31ec0ca5$export$3e506c1ccc9cc1a7;
var $6445fa7f31ec0ca5$export$e26fe2ed2fa76875;
var $6445fa7f31ec0ca5$export$502329bbf4b505b1;
var $6445fa7f31ec0ca5$export$6e3807111c4874c4;
var $6445fa7f31ec0ca5$export$c27134553091fb3a;
var $6445fa7f31ec0ca5$export$33ee1acdc04fd2a2;
var $6445fa7f31ec0ca5$export$b00a404bbd5edef2;
var $6445fa7f31ec0ca5$export$8352ce38b91d0c62;
var $6445fa7f31ec0ca5$export$d3dfb8e4810cb555;
var $6445fa7f31ec0ca5$export$839f9183b0465a69;
var $6445fa7f31ec0ca5$export$72fdf0e06517287b;
var $6445fa7f31ec0ca5$export$4b844e58a3e414b4;
var $6445fa7f31ec0ca5$export$816d2913ae6b83b1;
var $6445fa7f31ec0ca5$export$61bcfe829111a1d0;
var $6445fa7f31ec0ca5$export$7ee8c9beb337bc3f;
var $6445fa7f31ec0ca5$export$cf845f2c119da08a;
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ 'use strict';
var $6445fa7f31ec0ca5$var$f, $6445fa7f31ec0ca5$var$g, $6445fa7f31ec0ca5$var$h, $6445fa7f31ec0ca5$var$k;
if ("object" === typeof performance && "function" === typeof performance.now) {
    var $6445fa7f31ec0ca5$var$l = performance;
    $6445fa7f31ec0ca5$export$c4744153514ff05d = function() {
        return $6445fa7f31ec0ca5$var$l.now();
    };
} else {
    var $6445fa7f31ec0ca5$var$p = Date, $6445fa7f31ec0ca5$var$q = $6445fa7f31ec0ca5$var$p.now();
    $6445fa7f31ec0ca5$export$c4744153514ff05d = function() {
        return $6445fa7f31ec0ca5$var$p.now() - $6445fa7f31ec0ca5$var$q;
    };
}
if ("undefined" === typeof window || "function" !== typeof MessageChannel) {
    var $6445fa7f31ec0ca5$var$t = null, $6445fa7f31ec0ca5$var$u = null, $6445fa7f31ec0ca5$var$w = function() {
        if (null !== $6445fa7f31ec0ca5$var$t) try {
            var a = $6445fa7f31ec0ca5$export$c4744153514ff05d();
            $6445fa7f31ec0ca5$var$t(!0, a);
            $6445fa7f31ec0ca5$var$t = null;
        } catch (b) {
            throw setTimeout($6445fa7f31ec0ca5$var$w, 0), b;
        }
    };
    $6445fa7f31ec0ca5$var$f = function(a) {
        null !== $6445fa7f31ec0ca5$var$t ? setTimeout($6445fa7f31ec0ca5$var$f, 0, a) : ($6445fa7f31ec0ca5$var$t = a, setTimeout($6445fa7f31ec0ca5$var$w, 0));
    };
    $6445fa7f31ec0ca5$var$g = function(a, b) {
        $6445fa7f31ec0ca5$var$u = setTimeout(a, b);
    };
    $6445fa7f31ec0ca5$var$h = function() {
        clearTimeout($6445fa7f31ec0ca5$var$u);
    };
    $6445fa7f31ec0ca5$export$b5836b71941fa3ed = function() {
        return !1;
    };
    $6445fa7f31ec0ca5$var$k = $6445fa7f31ec0ca5$export$d66a1c1c77bd778b = function() {};
} else {
    var $6445fa7f31ec0ca5$var$x = window.setTimeout, $6445fa7f31ec0ca5$var$y = window.clearTimeout;
    if ("undefined" !== typeof console) {
        var $6445fa7f31ec0ca5$var$z = window.cancelAnimationFrame;
        "function" !== typeof window.requestAnimationFrame && console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills");
        "function" !== typeof $6445fa7f31ec0ca5$var$z && console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills");
    }
    var $6445fa7f31ec0ca5$var$A = !1, $6445fa7f31ec0ca5$var$B = null, $6445fa7f31ec0ca5$var$C = -1, $6445fa7f31ec0ca5$var$D = 5, $6445fa7f31ec0ca5$var$E = 0;
    $6445fa7f31ec0ca5$export$b5836b71941fa3ed = function() {
        return $6445fa7f31ec0ca5$export$c4744153514ff05d() >= $6445fa7f31ec0ca5$var$E;
    };
    $6445fa7f31ec0ca5$var$k = function() {};
    $6445fa7f31ec0ca5$export$d66a1c1c77bd778b = function(a) {
        0 > a || 125 < a ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : $6445fa7f31ec0ca5$var$D = 0 < a ? Math.floor(1E3 / a) : 5;
    };
    var $6445fa7f31ec0ca5$var$F = new MessageChannel, $6445fa7f31ec0ca5$var$G = $6445fa7f31ec0ca5$var$F.port2;
    $6445fa7f31ec0ca5$var$F.port1.onmessage = function() {
        if (null !== $6445fa7f31ec0ca5$var$B) {
            var a = $6445fa7f31ec0ca5$export$c4744153514ff05d();
            $6445fa7f31ec0ca5$var$E = a + $6445fa7f31ec0ca5$var$D;
            try {
                $6445fa7f31ec0ca5$var$B(!0, a) ? $6445fa7f31ec0ca5$var$G.postMessage(null) : ($6445fa7f31ec0ca5$var$A = !1, $6445fa7f31ec0ca5$var$B = null);
            } catch (b) {
                throw $6445fa7f31ec0ca5$var$G.postMessage(null), b;
            }
        } else $6445fa7f31ec0ca5$var$A = !1;
    };
    $6445fa7f31ec0ca5$var$f = function(a) {
        $6445fa7f31ec0ca5$var$B = a;
        $6445fa7f31ec0ca5$var$A || ($6445fa7f31ec0ca5$var$A = !0, $6445fa7f31ec0ca5$var$G.postMessage(null));
    };
    $6445fa7f31ec0ca5$var$g = function(a, b) {
        $6445fa7f31ec0ca5$var$C = $6445fa7f31ec0ca5$var$x(function() {
            a($6445fa7f31ec0ca5$export$c4744153514ff05d());
        }, b);
    };
    $6445fa7f31ec0ca5$var$h = function() {
        $6445fa7f31ec0ca5$var$y($6445fa7f31ec0ca5$var$C);
        $6445fa7f31ec0ca5$var$C = -1;
    };
}
function $6445fa7f31ec0ca5$var$H(a, b) {
    var c = a.length;
    a.push(b);
    a: for(;;){
        var d = c - 1 >>> 1, e = a[d];
        if (void 0 !== e && 0 < $6445fa7f31ec0ca5$var$I(e, b)) a[d] = b, a[c] = e, c = d;
        else break a;
    }
}
function $6445fa7f31ec0ca5$var$J(a) {
    a = a[0];
    return void 0 === a ? null : a;
}
function $6445fa7f31ec0ca5$var$K(a) {
    var b = a[0];
    if (void 0 !== b) {
        var c = a.pop();
        if (c !== b) {
            a[0] = c;
            a: for(var d = 0, e = a.length; d < e;){
                var m = 2 * (d + 1) - 1, n = a[m], v = m + 1, r = a[v];
                if (void 0 !== n && 0 > $6445fa7f31ec0ca5$var$I(n, c)) void 0 !== r && 0 > $6445fa7f31ec0ca5$var$I(r, n) ? (a[d] = r, a[v] = c, d = v) : (a[d] = n, a[m] = c, d = m);
                else if (void 0 !== r && 0 > $6445fa7f31ec0ca5$var$I(r, c)) a[d] = r, a[v] = c, d = v;
                else break a;
            }
        }
        return b;
    }
    return null;
}
function $6445fa7f31ec0ca5$var$I(a, b) {
    var c = a.sortIndex - b.sortIndex;
    return 0 !== c ? c : a.id - b.id;
}
var $6445fa7f31ec0ca5$var$L = [], $6445fa7f31ec0ca5$var$M = [], $6445fa7f31ec0ca5$var$N = 1, $6445fa7f31ec0ca5$var$O = null, $6445fa7f31ec0ca5$var$P = 3, $6445fa7f31ec0ca5$var$Q = !1, $6445fa7f31ec0ca5$var$R = !1, $6445fa7f31ec0ca5$var$S = !1;
function $6445fa7f31ec0ca5$var$T(a) {
    for(var b = $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$M); null !== b;){
        if (null === b.callback) $6445fa7f31ec0ca5$var$K($6445fa7f31ec0ca5$var$M);
        else if (b.startTime <= a) $6445fa7f31ec0ca5$var$K($6445fa7f31ec0ca5$var$M), b.sortIndex = b.expirationTime, $6445fa7f31ec0ca5$var$H($6445fa7f31ec0ca5$var$L, b);
        else break;
        b = $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$M);
    }
}
function $6445fa7f31ec0ca5$var$U(a) {
    $6445fa7f31ec0ca5$var$S = !1;
    $6445fa7f31ec0ca5$var$T(a);
    if (!$6445fa7f31ec0ca5$var$R) {
        if (null !== $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$L)) $6445fa7f31ec0ca5$var$R = !0, $6445fa7f31ec0ca5$var$f($6445fa7f31ec0ca5$var$V);
        else {
            var b = $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$M);
            null !== b && $6445fa7f31ec0ca5$var$g($6445fa7f31ec0ca5$var$U, b.startTime - a);
        }
    }
}
function $6445fa7f31ec0ca5$var$V(a, b) {
    $6445fa7f31ec0ca5$var$R = !1;
    $6445fa7f31ec0ca5$var$S && ($6445fa7f31ec0ca5$var$S = !1, $6445fa7f31ec0ca5$var$h());
    $6445fa7f31ec0ca5$var$Q = !0;
    var c = $6445fa7f31ec0ca5$var$P;
    try {
        $6445fa7f31ec0ca5$var$T(b);
        for($6445fa7f31ec0ca5$var$O = $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$L); null !== $6445fa7f31ec0ca5$var$O && (!($6445fa7f31ec0ca5$var$O.expirationTime > b) || a && !$6445fa7f31ec0ca5$export$b5836b71941fa3ed());){
            var d = $6445fa7f31ec0ca5$var$O.callback;
            if ("function" === typeof d) {
                $6445fa7f31ec0ca5$var$O.callback = null;
                $6445fa7f31ec0ca5$var$P = $6445fa7f31ec0ca5$var$O.priorityLevel;
                var e = d($6445fa7f31ec0ca5$var$O.expirationTime <= b);
                b = $6445fa7f31ec0ca5$export$c4744153514ff05d();
                "function" === typeof e ? $6445fa7f31ec0ca5$var$O.callback = e : $6445fa7f31ec0ca5$var$O === $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$L) && $6445fa7f31ec0ca5$var$K($6445fa7f31ec0ca5$var$L);
                $6445fa7f31ec0ca5$var$T(b);
            } else $6445fa7f31ec0ca5$var$K($6445fa7f31ec0ca5$var$L);
            $6445fa7f31ec0ca5$var$O = $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$L);
        }
        if (null !== $6445fa7f31ec0ca5$var$O) var m = !0;
        else {
            var n = $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$M);
            null !== n && $6445fa7f31ec0ca5$var$g($6445fa7f31ec0ca5$var$U, n.startTime - b);
            m = !1;
        }
        return m;
    } finally{
        $6445fa7f31ec0ca5$var$O = null, $6445fa7f31ec0ca5$var$P = c, $6445fa7f31ec0ca5$var$Q = !1;
    }
}
var $6445fa7f31ec0ca5$var$W = $6445fa7f31ec0ca5$var$k;
$6445fa7f31ec0ca5$export$3e506c1ccc9cc1a7 = 5;
$6445fa7f31ec0ca5$export$e26fe2ed2fa76875 = 1;
$6445fa7f31ec0ca5$export$502329bbf4b505b1 = 4;
$6445fa7f31ec0ca5$export$6e3807111c4874c4 = 3;
$6445fa7f31ec0ca5$export$c27134553091fb3a = null;
$6445fa7f31ec0ca5$export$33ee1acdc04fd2a2 = 2;
$6445fa7f31ec0ca5$export$b00a404bbd5edef2 = function(a) {
    a.callback = null;
};
$6445fa7f31ec0ca5$export$8352ce38b91d0c62 = function() {
    $6445fa7f31ec0ca5$var$R || $6445fa7f31ec0ca5$var$Q || ($6445fa7f31ec0ca5$var$R = !0, $6445fa7f31ec0ca5$var$f($6445fa7f31ec0ca5$var$V));
};
$6445fa7f31ec0ca5$export$d3dfb8e4810cb555 = function() {
    return $6445fa7f31ec0ca5$var$P;
};
$6445fa7f31ec0ca5$export$839f9183b0465a69 = function() {
    return $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$L);
};
$6445fa7f31ec0ca5$export$72fdf0e06517287b = function(a) {
    switch($6445fa7f31ec0ca5$var$P){
        case 1:
        case 2:
        case 3:
            var b = 3;
            break;
        default:
            b = $6445fa7f31ec0ca5$var$P;
    }
    var c = $6445fa7f31ec0ca5$var$P;
    $6445fa7f31ec0ca5$var$P = b;
    try {
        return a();
    } finally{
        $6445fa7f31ec0ca5$var$P = c;
    }
};
$6445fa7f31ec0ca5$export$4b844e58a3e414b4 = function() {};
$6445fa7f31ec0ca5$export$816d2913ae6b83b1 = $6445fa7f31ec0ca5$var$W;
$6445fa7f31ec0ca5$export$61bcfe829111a1d0 = function(a, b) {
    switch(a){
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
            break;
        default:
            a = 3;
    }
    var c = $6445fa7f31ec0ca5$var$P;
    $6445fa7f31ec0ca5$var$P = a;
    try {
        return b();
    } finally{
        $6445fa7f31ec0ca5$var$P = c;
    }
};
$6445fa7f31ec0ca5$export$7ee8c9beb337bc3f = function(a, b, c) {
    var d = $6445fa7f31ec0ca5$export$c4744153514ff05d();
    "object" === typeof c && null !== c ? (c = c.delay, c = "number" === typeof c && 0 < c ? d + c : d) : c = d;
    switch(a){
        case 1:
            var e = -1;
            break;
        case 2:
            e = 250;
            break;
        case 5:
            e = 1073741823;
            break;
        case 4:
            e = 1E4;
            break;
        default:
            e = 5E3;
    }
    e = c + e;
    a = {
        id: $6445fa7f31ec0ca5$var$N++,
        callback: b,
        priorityLevel: a,
        startTime: c,
        expirationTime: e,
        sortIndex: -1
    };
    c > d ? (a.sortIndex = c, $6445fa7f31ec0ca5$var$H($6445fa7f31ec0ca5$var$M, a), null === $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$L) && a === $6445fa7f31ec0ca5$var$J($6445fa7f31ec0ca5$var$M) && ($6445fa7f31ec0ca5$var$S ? $6445fa7f31ec0ca5$var$h() : $6445fa7f31ec0ca5$var$S = !0, $6445fa7f31ec0ca5$var$g($6445fa7f31ec0ca5$var$U, c - d))) : (a.sortIndex = e, $6445fa7f31ec0ca5$var$H($6445fa7f31ec0ca5$var$L, a), $6445fa7f31ec0ca5$var$R || $6445fa7f31ec0ca5$var$Q || ($6445fa7f31ec0ca5$var$R = !0, $6445fa7f31ec0ca5$var$f($6445fa7f31ec0ca5$var$V)));
    return a;
};
$6445fa7f31ec0ca5$export$cf845f2c119da08a = function(a) {
    var b = $6445fa7f31ec0ca5$var$P;
    return function() {
        var c = $6445fa7f31ec0ca5$var$P;
        $6445fa7f31ec0ca5$var$P = b;
        try {
            return a.apply(this, arguments);
        } finally{
            $6445fa7f31ec0ca5$var$P = c;
        }
    };
};

});



parcelRequire.register("9Xa8W", function(module, exports) {




module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("hAACv")),
    import("./" + (parcelRequire("kyEFX")).resolve("1sJar"))
]).then(()=>parcelRequire('1YjGn')
);

});
parcelRequire.register("7jkLd", function(module, exports) {
"use strict";

var $boLNp = parcelRequire("boLNp");
module.exports = $boLNp(function(bundle) {
    return new Promise(function(resolve, reject) {
        // Don't insert the same link element twice (e.g. if it was already in the HTML)
        var existingLinks = document.getElementsByTagName('link');
        if ([].concat(existingLinks).some(function isCurrentBundle(link) {
            return link.href === bundle && link.rel.indexOf('stylesheet') > -1;
        })) {
            resolve();
            return;
        }
        var link1 = document.createElement('link');
        link1.rel = 'stylesheet';
        link1.href = bundle;
        link1.onerror = function(e) {
            link1.onerror = link1.onload = null;
            link1.remove();
            reject(e);
        };
        link1.onload = function() {
            link1.onerror = link1.onload = null;
            resolve();
        };
        document.getElementsByTagName('head')[0].appendChild(link1);
    });
});

});
parcelRequire.register("boLNp", function(module, exports) {
"use strict";
var $84c702df89f2997b$var$cachedBundles = {};
var $84c702df89f2997b$var$cachedPreloads = {};
var $84c702df89f2997b$var$cachedPrefetches = {};
function $84c702df89f2997b$var$getCache(type) {
    switch(type){
        case 'preload':
            return $84c702df89f2997b$var$cachedPreloads;
        case 'prefetch':
            return $84c702df89f2997b$var$cachedPrefetches;
        default:
            return $84c702df89f2997b$var$cachedBundles;
    }
}
module.exports = function(loader, type) {
    return function(bundle) {
        var cache = $84c702df89f2997b$var$getCache(type);
        if (cache[bundle]) return cache[bundle];
        return cache[bundle] = loader.apply(null, arguments).catch(function(e) {
            delete cache[bundle];
            throw e;
        });
    };
};

});



parcelRequire.register("34QYk", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("gsD1Z"))
]).then(()=>parcelRequire('dTMAq')
);

});

parcelRequire.register("76WfE", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("8Ws90"))
]).then(()=>parcelRequire('7MxYh')
);

});

parcelRequire.register("9Gvbg", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("88wsO"))
]).then(()=>parcelRequire('enaEC')
);

});

parcelRequire.register("3zkn6", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("3NRdP")).then(()=>parcelRequire('9vMUq')
);

});

parcelRequire.register("lQbI7", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("2MnCp")).then(()=>parcelRequire('jfOau')
);

});

parcelRequire.register("kMSLQ", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("8jlkZ")).then(()=>parcelRequire('U2jJU')
);

});

parcelRequire.register("3mXlD", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("7Pljv")).then(()=>parcelRequire('YMJem')
);

});

parcelRequire.register("aaZxz", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("j67kN")).then(()=>parcelRequire('dw4og')
);

});

parcelRequire.register("aCQhS", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("3KoUS")).then(()=>parcelRequire('4AnYd')
);

});

parcelRequire.register("gAS8a", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("6s7lm")).then(()=>parcelRequire('SOwqn')
);

});

parcelRequire.register("6jBfN", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("2Hhmr")).then(()=>parcelRequire('5ahcQ')
);

});

parcelRequire.register("flF2Q", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("3aARx")).then(()=>parcelRequire('hfRpy')
);

});

parcelRequire.register("b9qWz", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("3nGtK")).then(()=>parcelRequire('cisGL')
);

});

parcelRequire.register("biBJl", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("lXtZJ")).then(()=>parcelRequire('8AvUt')
);

});

parcelRequire.register("iu5TG", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("kbrab")).then(()=>parcelRequire('cjVwA')
);

});

parcelRequire.register("32KBl", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("lx1km")).then(()=>parcelRequire('kVfm1')
);

});

parcelRequire.register("4kaY9", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("ChZDC")).then(()=>parcelRequire('4UTI3')
);

});

parcelRequire.register("9AoDc", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("11nIA")).then(()=>parcelRequire('5cF9Z')
);

});

parcelRequire.register("kcSGV", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("4iVPs")).then(()=>parcelRequire('eWENK')
);

});

parcelRequire.register("ccmQn", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("jDkbp")).then(()=>parcelRequire('hqJ0a')
);

});

parcelRequire.register("9UUsA", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("kcSKg")).then(()=>parcelRequire('2OixL')
);

});

parcelRequire.register("aVKz3", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("jXiko")).then(()=>parcelRequire('jOUn1')
);

});

parcelRequire.register("4cNgG", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("3xswO")).then(()=>parcelRequire('k8TUe')
);

});

parcelRequire.register("4nyyO", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("lqN34"))
]).then(()=>parcelRequire('e6xcx')
);

});

parcelRequire.register("gjxGb", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("jl0J5")).then(()=>parcelRequire('3ny2b')
);

});

parcelRequire.register("fO8ba", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("fZmKJ"))
]).then(()=>parcelRequire('2lyQq')
);

});

parcelRequire.register("7O7Nl", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("fZnOD")).then(()=>parcelRequire('3tKG6')
);

});

parcelRequire.register("k1v92", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("jOE4x")).then(()=>parcelRequire('3UNxL')
);

});

parcelRequire.register("bnEl4", function(module, exports) {




module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("jiMaB")),
    import("./" + (parcelRequire("kyEFX")).resolve("gdfDZ"))
]).then(()=>parcelRequire('bME1I')
);

});

parcelRequire.register("lViTB", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("02Wel")).then(()=>parcelRequire('iuXBf')
);

});

parcelRequire.register("ezNRy", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("lIyLL")).then(()=>parcelRequire('ehY74')
);

});

parcelRequire.register("cKi9A", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("7ODTp")).then(()=>parcelRequire('70coG')
);

});

parcelRequire.register("4Yqsl", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("6dULK")).then(()=>parcelRequire('fKDK2')
);

});

parcelRequire.register("iGAJX", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("1mPKv")).then(()=>parcelRequire('1zmJZ')
);

});

parcelRequire.register("9kNHH", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("gGpTX"))
]).then(()=>parcelRequire('8TVi3')
);

});

parcelRequire.register("9AeMm", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("6E7sJ")).then(()=>parcelRequire('8l3Qm')
);

});

parcelRequire.register("3Zpd3", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("iFtj0")).then(()=>parcelRequire('hl8gT')
);

});

parcelRequire.register("bT8Dp", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("eqcFS")).then(()=>parcelRequire('3bC2S')
);

});

parcelRequire.register("geCPt", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("lDgU5")).then(()=>parcelRequire('dp8Wh')
);

});

parcelRequire.register("5gh5A", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("f4tg8")).then(()=>parcelRequire('bEejL')
);

});

parcelRequire.register("8IQgc", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("7bmW2")).then(()=>parcelRequire('c4hUS')
);

});

parcelRequire.register("hNjWh", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("10865")).then(()=>parcelRequire('dRg2n')
);

});

parcelRequire.register("iNGrI", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("hNFVr")).then(()=>parcelRequire('cfmI5')
);

});

parcelRequire.register("VQGai", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("6Ex8a")).then(()=>parcelRequire('fqmkH')
);

});

parcelRequire.register("5HbVP", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("jsNdU")).then(()=>parcelRequire('hkSoq')
);

});

parcelRequire.register("wcl10", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("avy3w")).then(()=>parcelRequire('bSr7H')
);

});

parcelRequire.register("hN3jw", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("bHdAv")).then(()=>parcelRequire('2P008')
);

});

parcelRequire.register("6qhJq", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("5gN4e")).then(()=>parcelRequire('4fwbv')
);

});

parcelRequire.register("8xNzl", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("7g3Fy")).then(()=>parcelRequire('i2My2')
);

});

parcelRequire.register("3cfXN", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("aUGNZ")).then(()=>parcelRequire('idRH6')
);

});

parcelRequire.register("lOmau", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("hAvBp")).then(()=>parcelRequire('be91x')
);

});

parcelRequire.register("exCWA", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("idrfW")).then(()=>parcelRequire('goeyx')
);

});

parcelRequire.register("iLzwk", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("lRm1K"))
]).then(()=>parcelRequire('4UQuL')
);

});

parcelRequire.register("2c3ti", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("iaPZq")).then(()=>parcelRequire('egG2d')
);

});

parcelRequire.register("fuDyT", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("amdvC")).then(()=>parcelRequire('78jS4')
);

});

parcelRequire.register("ddp5U", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("81k5t"))
]).then(()=>parcelRequire('7IIeB')
);

});

parcelRequire.register("l5TlS", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("gzS6q")).then(()=>parcelRequire('f2Hdq')
);

});

parcelRequire.register("dzx9j", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("ho68G")).then(()=>parcelRequire('c6QdE')
);

});

parcelRequire.register("l9jmz", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("ibXST")).then(()=>parcelRequire('2XVkp')
);

});

parcelRequire.register("a1cVw", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("lXktB")).then(()=>parcelRequire('lts4x')
);

});

parcelRequire.register("54AeN", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("jzauO")).then(()=>parcelRequire('6yyBj')
);

});

parcelRequire.register("dQHpZ", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("02koj")).then(()=>parcelRequire('3CUep')
);

});

parcelRequire.register("jE8Q4", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("g0pu0")).then(()=>parcelRequire('c95AV')
);

});

parcelRequire.register("1bfOI", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("kV2P1")).then(()=>parcelRequire('bExc3')
);

});

parcelRequire.register("2NmVz", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("e1d1C")).then(()=>parcelRequire('9aX76')
);

});

parcelRequire.register("6anB2", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("gtUcG")).then(()=>parcelRequire('1ueEb')
);

});

parcelRequire.register("385fJ", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("kp36g")).then(()=>parcelRequire('7cbBB')
);

});

parcelRequire.register("2U0Qt", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("i6h7m")).then(()=>parcelRequire('jCrLO')
);

});

parcelRequire.register("2tuCY", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("16ZbG")).then(()=>parcelRequire('cs416')
);

});

parcelRequire.register("2Mhyx", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("3Hucs")).then(()=>parcelRequire('aWsyI')
);

});

parcelRequire.register("6eX3k", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("99SZF")).then(()=>parcelRequire('enZ42')
);

});

parcelRequire.register("fU8GC", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("gIHOQ")).then(()=>parcelRequire('7HgJb')
);

});

parcelRequire.register("bAqr2", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("2hrVv")).then(()=>parcelRequire('3wVya')
);

});

parcelRequire.register("gl2mI", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("7Zj7U")).then(()=>parcelRequire('jva3m')
);

});

parcelRequire.register("6LtZw", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("ejhC8")).then(()=>parcelRequire('4XIA8')
);

});

parcelRequire.register("i4hGw", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("jiMaB"))
]).then(()=>parcelRequire('5yIw6')
);

});

parcelRequire.register("37aDp", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("aqcJE")).then(()=>parcelRequire('ea4nM')
);

});

parcelRequire.register("bwtK1", function(module, exports) {



module.exports = Promise.all([
    (parcelRequire("7jkLd"))(new URL((parcelRequire("kyEFX")).resolve("8GZNq"), import.meta.url).toString()),
    import("./" + (parcelRequire("kyEFX")).resolve("cx4T3"))
]).then(()=>parcelRequire('2hHxw')
);

});

parcelRequire.register("dzOHB", function(module, exports) {

module.exports = import("./" + (parcelRequire("kyEFX")).resolve("c4Ndn")).then(()=>parcelRequire('7muOZ')
);

});

var $13645cb06911e3e1$exports = {};

(parcelRequire("kyEFX")).register(JSON.parse("{\"10865\":\"pascal.4558bdca.js\",\"2lyl3\":\"index.f999d472.js\",\"1sJar\":\"tsMode.5e00a9aa.js\",\"8GZNq\":\"index.00974ee4.css\",\"hAACv\":\"index.3307d802.js\",\"gsD1Z\":\"cssMode.a34ab6a7.js\",\"8Ws90\":\"jsonMode.9d0723dc.js\",\"88wsO\":\"htmlMode.35f05aaf.js\",\"3NRdP\":\"abap.10a8bdba.js\",\"2MnCp\":\"apex.adf18289.js\",\"8jlkZ\":\"azcli.ce7f3ea4.js\",\"7Pljv\":\"bat.d74e0be0.js\",\"j67kN\":\"bicep.f2770581.js\",\"3KoUS\":\"cameligo.4bed540e.js\",\"6s7lm\":\"clojure.d115428b.js\",\"2Hhmr\":\"coffee.e1e1da67.js\",\"3aARx\":\"cpp.e4542c58.js\",\"3nGtK\":\"csharp.66634ef7.js\",\"lXtZJ\":\"csp.3216de68.js\",\"kbrab\":\"css.ebdd69a4.js\",\"lx1km\":\"dart.858333dd.js\",\"ChZDC\":\"dockerfile.66e704c0.js\",\"11nIA\":\"ecl.9f9aff1a.js\",\"4iVPs\":\"elixir.89e7a6a0.js\",\"jDkbp\":\"flow9.0ff5c9ec.js\",\"kcSKg\":\"fsharp.538ec40b.js\",\"jXiko\":\"go.483078c0.js\",\"3xswO\":\"graphql.d269f160.js\",\"lqN34\":\"handlebars.854634a4.js\",\"jl0J5\":\"hcl.1ef3512c.js\",\"fZmKJ\":\"html.a09a0d3a.js\",\"fZnOD\":\"ini.008ba39b.js\",\"jOE4x\":\"java.d925ebed.js\",\"gdfDZ\":\"javascript.3bfb8f31.js\",\"jiMaB\":\"typescript.fd34ba7e.js\",\"02Wel\":\"julia.efc259dc.js\",\"lIyLL\":\"kotlin.b54d2f6e.js\",\"7ODTp\":\"less.5d7e08ec.js\",\"6dULK\":\"lexon.82d7700b.js\",\"1mPKv\":\"lua.ca50b037.js\",\"gGpTX\":\"liquid.386618bd.js\",\"6E7sJ\":\"m3.e1680194.js\",\"iFtj0\":\"markdown.0e06d520.js\",\"eqcFS\":\"mips.e7af7251.js\",\"lDgU5\":\"msdax.2d7c5988.js\",\"f4tg8\":\"mysql.472cc703.js\",\"7bmW2\":\"objective-c.cc077b81.js\",\"hNFVr\":\"pascaligo.e70a961b.js\",\"6Ex8a\":\"perl.29f24585.js\",\"jsNdU\":\"pgsql.491cfda2.js\",\"avy3w\":\"php.c8dc16e2.js\",\"bHdAv\":\"pla.fbbc634b.js\",\"5gN4e\":\"postiats.d175dc6f.js\",\"7g3Fy\":\"powerquery.75ba354d.js\",\"aUGNZ\":\"powershell.08403aa7.js\",\"hAvBp\":\"protobuf.b7b70417.js\",\"idrfW\":\"pug.1856c1f5.js\",\"lRm1K\":\"python.d1e2fba3.js\",\"iaPZq\":\"qsharp.fc95bff1.js\",\"amdvC\":\"r.6e7f837d.js\",\"81k5t\":\"razor.12b9c903.js\",\"gzS6q\":\"redis.ce43f6b0.js\",\"ho68G\":\"redshift.7758e489.js\",\"ibXST\":\"restructuredtext.96043193.js\",\"lXktB\":\"ruby.4efd345a.js\",\"jzauO\":\"rust.61dead99.js\",\"02koj\":\"sb.710049d8.js\",\"g0pu0\":\"scala.17b9a570.js\",\"kV2P1\":\"scheme.37c7897b.js\",\"e1d1C\":\"scss.f94a3427.js\",\"gtUcG\":\"shell.48ec4741.js\",\"kp36g\":\"solidity.b834b2a5.js\",\"i6h7m\":\"sophia.2aa90815.js\",\"16ZbG\":\"sparql.83be4a8b.js\",\"3Hucs\":\"sql.f85ce702.js\",\"99SZF\":\"st.bf3469df.js\",\"gIHOQ\":\"swift.aa6ee90b.js\",\"2hrVv\":\"systemverilog.8dd0f5e8.js\",\"7Zj7U\":\"tcl.e4940257.js\",\"ejhC8\":\"twig.ad16d92e.js\",\"aqcJE\":\"vb.38b160c0.js\",\"cx4T3\":\"xml.32a0af65.js\",\"c4Ndn\":\"yaml.c901fc3a.js\",\"9FDUb\":\"program.d.0045b7c0.ts\",\"feqnV\":\"framework.d.13fcdae7.ts\",\"1XBLJ\":\"environment.d.6a7c9dde.ts\",\"4wlrx\":\"parser.2a6ea6ca.js\",\"64fAL\":\"solver.af7e29fc.js\",\"a9C94\":\"runner.a7d33efc.js\",\"iIZFT\":\"visualizer.147d1d91.js\",\"kV8Cl\":\"ts.worker.dca6ebcd.js\",\"9A8OJ\":\"editor.worker.1a46ba1d.js\"}"));

var $d4dab640dcbe486c$exports = {};
'use strict';

$d4dab640dcbe486c$exports = (parcelRequire("0qhf8"));



var $bh6RR = parcelRequire("bh6RR");
var $47cfd4084854a574$exports = {};
'use strict';
function $47cfd4084854a574$var$checkDCE() {
    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */ if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function') return;
    try {
        // Verify that the code above has been dead code eliminated (DCE'd).
        __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($47cfd4084854a574$var$checkDCE);
    } catch (err) {
        // DevTools shouldn't crash React, no matter what.
        // We should still report in case we break this code.
        console.error(err);
    }
}
// DCE check should happen before ReactDOM bundle executes so that
// DevTools can report bad minification during injection.
$47cfd4084854a574$var$checkDCE();

$47cfd4084854a574$exports = (parcelRequire("foRq4"));


var $36d8c0be4459c6a5$exports = {};
/*! UIkit 3.14.0 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */ (function(global, factory) {
    $36d8c0be4459c6a5$exports = factory();
})($36d8c0be4459c6a5$exports, function() {
    'use strict';
    const { hasOwnProperty: hasOwnProperty , toString: toString  } = Object.prototype;
    function hasOwn(obj, key) {
        return hasOwnProperty.call(obj, key);
    }
    const hyphenateRe = /\B([A-Z])/g;
    const hyphenate = memoize((str)=>str.replace(hyphenateRe, '-$1').toLowerCase()
    );
    const camelizeRe = /-(\w)/g;
    const camelize = memoize((str)=>str.replace(camelizeRe, toUpper)
    );
    const ucfirst = memoize((str)=>str.length ? toUpper(null, str.charAt(0)) + str.slice(1) : ''
    );
    function toUpper(_, c) {
        return c ? c.toUpperCase() : '';
    }
    function startsWith(str, search) {
        return str == null ? void 0 : str.startsWith == null ? void 0 : str.startsWith(search);
    }
    function endsWith(str, search) {
        return str == null ? void 0 : str.endsWith == null ? void 0 : str.endsWith(search);
    }
    function includes(obj, search) {
        return obj == null ? void 0 : obj.includes == null ? void 0 : obj.includes(search);
    }
    function findIndex(array, predicate) {
        return array == null ? void 0 : array.findIndex == null ? void 0 : array.findIndex(predicate);
    }
    const { isArray: isArray , from: toArray  } = Array;
    const { assign: assign  } = Object;
    function isFunction(obj) {
        return typeof obj === 'function';
    }
    function isObject(obj) {
        return obj !== null && typeof obj === 'object';
    }
    function isPlainObject(obj) {
        return toString.call(obj) === '[object Object]';
    }
    function isWindow(obj) {
        return isObject(obj) && obj === obj.window;
    }
    function isDocument(obj) {
        return nodeType(obj) === 9;
    }
    function isNode(obj) {
        return nodeType(obj) >= 1;
    }
    function isElement(obj) {
        return nodeType(obj) === 1;
    }
    function nodeType(obj) {
        return !isWindow(obj) && isObject(obj) && obj.nodeType;
    }
    function isBoolean(value) {
        return typeof value === 'boolean';
    }
    function isString(value) {
        return typeof value === 'string';
    }
    function isNumber(value) {
        return typeof value === 'number';
    }
    function isNumeric(value) {
        return isNumber(value) || isString(value) && !isNaN(value - parseFloat(value));
    }
    function isEmpty(obj) {
        return !(isArray(obj) ? obj.length : isObject(obj) ? Object.keys(obj).length : false);
    }
    function isUndefined(value) {
        return value === void 0;
    }
    function toBoolean(value) {
        return isBoolean(value) ? value : value === 'true' || value === '1' || value === '' ? true : value === 'false' || value === '0' ? false : value;
    }
    function toNumber(value) {
        const number = Number(value);
        return isNaN(number) ? false : number;
    }
    function toFloat(value) {
        return parseFloat(value) || 0;
    }
    function toNode(element) {
        return toNodes(element)[0];
    }
    function toNodes(element) {
        return element && (isNode(element) ? [
            element
        ] : Array.from(element).filter(isNode)) || [];
    }
    function toWindow(element) {
        var _element;
        if (isWindow(element)) return element;
        element = toNode(element);
        const document = isDocument(element) ? element : (_element = element) == null ? void 0 : _element.ownerDocument;
        return (document == null ? void 0 : document.defaultView) || window;
    }
    function isEqual(value, other) {
        return value === other || isObject(value) && isObject(other) && Object.keys(value).length === Object.keys(other).length && each(value, (val, key)=>val === other[key]
        );
    }
    function swap(value, a, b) {
        return value.replace(new RegExp(a + "|" + b, 'g'), (match)=>match === a ? b : a
        );
    }
    function last1(array) {
        return array[array.length - 1];
    }
    function each(obj, cb) {
        for(const key in obj){
            if (false === cb(obj[key], key)) return false;
        }
        return true;
    }
    function sortBy$1(array, prop) {
        return array.slice().sort((_ref, _ref2)=>{
            let { [prop]: propA = 0  } = _ref;
            let { [prop]: propB = 0  } = _ref2;
            return propA > propB ? 1 : propB > propA ? -1 : 0;
        });
    }
    function uniqueBy(array, prop) {
        const seen = new Set();
        return array.filter((_ref3)=>{
            let { [prop]: check  } = _ref3;
            return seen.has(check) ? false : seen.add(check);
        });
    }
    function clamp(number, min, max) {
        if (min === void 0) min = 0;
        if (max === void 0) max = 1;
        return Math.min(Math.max(toNumber(number) || 0, min), max);
    }
    function noop() {}
    function intersectRect() {
        for(var _len = arguments.length, rects = new Array(_len), _key = 0; _key < _len; _key++)rects[_key] = arguments[_key];
        return [
            [
                'bottom',
                'top'
            ],
            [
                'right',
                'left'
            ]
        ].every((_ref4)=>{
            let [minProp, maxProp] = _ref4;
            return Math.min(...rects.map((_ref5)=>{
                let { [minProp]: min  } = _ref5;
                return min;
            })) - Math.max(...rects.map((_ref6)=>{
                let { [maxProp]: max  } = _ref6;
                return max;
            })) > 0;
        });
    }
    function pointInRect(point, rect) {
        return point.x <= rect.right && point.x >= rect.left && point.y <= rect.bottom && point.y >= rect.top;
    }
    function ratio1(dimensions, prop, value) {
        const aProp = prop === 'width' ? 'height' : 'width';
        return {
            [aProp]: dimensions[prop] ? Math.round(value * dimensions[aProp] / dimensions[prop]) : dimensions[aProp],
            [prop]: value
        };
    }
    function contain(dimensions, maxDimensions) {
        dimensions = {
            ...dimensions
        };
        for(const prop in dimensions)dimensions = dimensions[prop] > maxDimensions[prop] ? ratio1(dimensions, prop, maxDimensions[prop]) : dimensions;
        return dimensions;
    }
    function cover$1(dimensions, maxDimensions) {
        dimensions = contain(dimensions, maxDimensions);
        for(const prop in dimensions)dimensions = dimensions[prop] < maxDimensions[prop] ? ratio1(dimensions, prop, maxDimensions[prop]) : dimensions;
        return dimensions;
    }
    const Dimensions = {
        ratio: ratio1,
        contain: contain,
        cover: cover$1
    };
    function getIndex(i, elements, current, finite) {
        if (current === void 0) current = 0;
        if (finite === void 0) finite = false;
        elements = toNodes(elements);
        const { length: length  } = elements;
        if (!length) return -1;
        i = isNumeric(i) ? toNumber(i) : i === 'next' ? current + 1 : i === 'previous' ? current - 1 : elements.indexOf(toNode(i));
        if (finite) return clamp(i, 0, length - 1);
        i %= length;
        return i < 0 ? i + length : i;
    }
    function memoize(fn) {
        const cache = Object.create(null);
        return (key)=>cache[key] || (cache[key] = fn(key))
        ;
    }
    class Deferred {
        constructor(){
            this.promise = new Promise((resolve, reject)=>{
                this.reject = reject;
                this.resolve = resolve;
            });
        }
    }
    function attr1(element, name, value) {
        if (isObject(name)) {
            for(const key in name)attr1(element, key, name[key]);
            return;
        }
        if (isUndefined(value)) {
            var _toNode;
            return (_toNode = toNode(element)) == null ? void 0 : _toNode.getAttribute(name);
        } else for (const el of toNodes(element)){
            if (isFunction(value)) value = value.call(el, attr1(el, name));
            if (value === null) removeAttr(el, name);
            else el.setAttribute(name, value);
        }
    }
    function hasAttr(element1, name) {
        return toNodes(element1).some((element)=>element.hasAttribute(name)
        );
    }
    function removeAttr(element, name) {
        const elements = toNodes(element);
        for (const attribute of name.split(' '))for (const element2 of elements)element2.removeAttribute(attribute);
    }
    function data1(element, attribute) {
        for (const name of [
            attribute,
            "data-" + attribute
        ]){
            if (hasAttr(element, name)) return attr1(element, name);
        }
    }
    const voidElements = {
        area: true,
        base: true,
        br: true,
        col: true,
        embed: true,
        hr: true,
        img: true,
        input: true,
        keygen: true,
        link: true,
        menuitem: true,
        meta: true,
        param: true,
        source: true,
        track: true,
        wbr: true
    };
    function isVoidElement(element3) {
        return toNodes(element3).some((element)=>voidElements[element.tagName.toLowerCase()]
        );
    }
    function isVisible(element4) {
        return toNodes(element4).some((element)=>element.offsetWidth || element.offsetHeight || element.getClientRects().length
        );
    }
    const selInput = 'input,select,textarea,button';
    function isInput(element5) {
        return toNodes(element5).some((element)=>matches1(element, selInput)
        );
    }
    const selFocusable = selInput + ",a[href],[tabindex]";
    function isFocusable(element) {
        return matches1(element, selFocusable);
    }
    function parent1(element) {
        var _toNode;
        return (_toNode = toNode(element)) == null ? void 0 : _toNode.parentElement;
    }
    function filter$1(element6, selector) {
        return toNodes(element6).filter((element)=>matches1(element, selector)
        );
    }
    function matches1(element7, selector) {
        return toNodes(element7).some((element)=>element.matches(selector)
        );
    }
    function closest(element8, selector) {
        if (startsWith(selector, '>')) selector = selector.slice(1);
        return isElement(element8) ? element8.closest(selector) : toNodes(element8).map((element)=>closest(element, selector)
        ).filter(Boolean);
    }
    function within(element, selector) {
        return isString(selector) ? matches1(element, selector) || !!closest(element, selector) : element === selector || toNode(selector).contains(toNode(element));
    }
    function parents1(element, selector) {
        const elements = [];
        while(element = parent1(element))if (!selector || matches1(element, selector)) elements.push(element);
        return elements;
    }
    function children1(element, selector) {
        element = toNode(element);
        const children = element ? toNodes(element.children) : [];
        return selector ? filter$1(children, selector) : children;
    }
    function index1(element, ref) {
        return ref ? toNodes(element).indexOf(toNode(ref)) : children1(parent1(element)).indexOf(element);
    }
    function query(selector, context) {
        return find(selector, getContext(selector, context));
    }
    function queryAll(selector, context) {
        return findAll(selector, getContext(selector, context));
    }
    function find(selector, context) {
        return toNode(_query(selector, context, 'querySelector'));
    }
    function findAll(selector, context) {
        return toNodes(_query(selector, context, 'querySelectorAll'));
    }
    const contextSelectorRe = /(^|[^\\],)\s*[!>+~-]/;
    const isContextSelector = memoize((selector)=>selector.match(contextSelectorRe)
    );
    function getContext(selector, context) {
        if (context === void 0) context = document;
        return isString(selector) && isContextSelector(selector) || isDocument(context) ? context : context.ownerDocument;
    }
    const contextSanitizeRe = /([!>+~-])(?=\s+[!>+~-]|\s*$)/g;
    const sanatize = memoize((selector)=>selector.replace(contextSanitizeRe, '$1 *')
    );
    function _query(selector, context, queryFn) {
        if (context === void 0) context = document;
        if (!selector || !isString(selector)) return selector;
        selector = sanatize(selector);
        if (isContextSelector(selector)) {
            const split = splitSelector(selector);
            selector = '';
            for (let sel of split){
                let ctx = context;
                if (sel[0] === '!') {
                    const selectors = sel.substr(1).trim().split(' ');
                    ctx = closest(parent1(context), selectors[0]);
                    sel = selectors.slice(1).join(' ').trim();
                    if (!sel.length && split.length === 1) return ctx;
                }
                if (sel[0] === '-') {
                    const selectors = sel.substr(1).trim().split(' ');
                    const prev = (ctx || context).previousElementSibling;
                    ctx = matches1(prev, sel.substr(1)) ? prev : null;
                    sel = selectors.slice(1).join(' ');
                }
                if (ctx) selector += "" + (selector ? ',' : '') + domPath(ctx) + " " + sel;
            }
            context = document;
        }
        try {
            return context[queryFn](selector);
        } catch (e) {
            return null;
        }
    }
    const selectorRe = /.*?[^\\](?:,|$)/g;
    const splitSelector = memoize((selector1)=>selector1.match(selectorRe).map((selector)=>selector.replace(/,$/, '').trim()
        )
    );
    function domPath(element) {
        const names = [];
        while(element.parentNode){
            const id = attr1(element, 'id');
            if (id) {
                names.unshift("#" + escape(id));
                break;
            } else {
                let { tagName: tagName  } = element;
                if (tagName !== 'HTML') tagName += ":nth-child(" + (index1(element) + 1) + ")";
                names.unshift(tagName);
                element = element.parentNode;
            }
        }
        return names.join(' > ');
    }
    function escape(css) {
        return isString(css) ? CSS.escape(css) : '';
    }
    function on() {
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
        let [targets, types, selector, listener, useCapture = false] = getArgs(args);
        if (listener.length > 1) listener = detail1(listener);
        if (useCapture != null && useCapture.self) listener = selfFilter(listener);
        if (selector) listener = delegate1(selector, listener);
        for (const type of types)for (const target of targets)target.addEventListener(type, listener, useCapture);
        return ()=>off1(targets, types, listener, useCapture)
        ;
    }
    function off1() {
        for(var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++)args[_key2] = arguments[_key2];
        let [targets, types, , listener, useCapture = false] = getArgs(args);
        for (const type of types)for (const target of targets)target.removeEventListener(type, listener, useCapture);
    }
    function once() {
        for(var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++)args[_key3] = arguments[_key3];
        const [element, types, selector, listener, useCapture = false, condition] = getArgs(args);
        const off = on(element, types, selector, (e)=>{
            const result = !condition || condition(e);
            if (result) {
                off();
                listener(e, result);
            }
        }, useCapture);
        return off;
    }
    function trigger(targets, event, detail) {
        return toEventTargets(targets).every((target)=>target.dispatchEvent(createEvent(event, true, true, detail))
        );
    }
    function createEvent(e, bubbles, cancelable, detail) {
        if (bubbles === void 0) bubbles = true;
        if (cancelable === void 0) cancelable = false;
        if (isString(e)) e = new CustomEvent(e, {
            bubbles: bubbles,
            cancelable: cancelable,
            detail: detail
        });
        return e;
    }
    function getArgs(args) {
        // Event targets
        args[0] = toEventTargets(args[0]);
        // Event types
        if (isString(args[1])) args[1] = args[1].split(' ');
        // Delegate?
        if (isFunction(args[2])) args.splice(2, 0, false);
        return args;
    }
    function delegate1(selector, listener) {
        return (e)=>{
            const current = selector[0] === '>' ? findAll(selector, e.currentTarget).reverse().filter((element)=>within(e.target, element)
            )[0] : closest(e.target, selector);
            if (current) {
                e.current = current;
                listener.call(this, e);
            }
        };
    }
    function detail1(listener) {
        return (e)=>isArray(e.detail) ? listener(e, ...e.detail) : listener(e)
        ;
    }
    function selfFilter(listener) {
        return function(e) {
            if (e.target === e.currentTarget || e.target === e.current) return listener.call(null, e);
        };
    }
    function isEventTarget(target) {
        return target && 'addEventListener' in target;
    }
    function toEventTarget(target) {
        return isEventTarget(target) ? target : toNode(target);
    }
    function toEventTargets(target) {
        return isArray(target) ? target.map(toEventTarget).filter(Boolean) : isString(target) ? findAll(target) : isEventTarget(target) ? [
            target
        ] : toNodes(target);
    }
    function isTouch(e) {
        return e.pointerType === 'touch' || !!e.touches;
    }
    function getEventPos(e) {
        var _e$touches, _e$changedTouches;
        const { clientX: x , clientY: y  } = ((_e$touches = e.touches) == null ? void 0 : _e$touches[0]) || ((_e$changedTouches = e.changedTouches) == null ? void 0 : _e$changedTouches[0]) || e;
        return {
            x: x,
            y: y
        };
    }
    function ajax(url, options) {
        const env = {
            data: null,
            method: 'GET',
            headers: {},
            xhr: new XMLHttpRequest(),
            beforeSend: noop,
            responseType: '',
            ...options
        };
        return Promise.resolve().then(()=>env.beforeSend(env)
        ).then(()=>send(url, env)
        );
    }
    function send(url, env) {
        return new Promise((resolve, reject)=>{
            const { xhr: xhr  } = env;
            for(const prop in env){
                if (prop in xhr) try {
                    xhr[prop] = env[prop];
                } catch (e) {
                // noop
                }
            }
            xhr.open(env.method.toUpperCase(), url);
            for(const header in env.headers)xhr.setRequestHeader(header, env.headers[header]);
            on(xhr, 'load', ()=>{
                if (xhr.status === 0 || xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) resolve(xhr);
                else reject(assign(Error(xhr.statusText), {
                    xhr: xhr,
                    status: xhr.status
                }));
            });
            on(xhr, 'error', ()=>reject(assign(Error('Network Error'), {
                    xhr: xhr
                }))
            );
            on(xhr, 'timeout', ()=>reject(assign(Error('Network Timeout'), {
                    xhr: xhr
                }))
            );
            xhr.send(env.data);
        });
    }
    function getImage(src, srcset, sizes) {
        return new Promise((resolve, reject)=>{
            const img = new Image();
            img.onerror = (e)=>{
                reject(e);
            };
            img.onload = ()=>{
                resolve(img);
            };
            sizes && (img.sizes = sizes);
            srcset && (img.srcset = srcset);
            img.src = src;
        });
    }
    const cssNumber = {
        'animation-iteration-count': true,
        'column-count': true,
        'fill-opacity': true,
        'flex-grow': true,
        'flex-shrink': true,
        'font-weight': true,
        'line-height': true,
        opacity: true,
        order: true,
        orphans: true,
        'stroke-dasharray': true,
        'stroke-dashoffset': true,
        widows: true,
        'z-index': true,
        zoom: true
    };
    function css1(element, property1, value1, priority) {
        if (priority === void 0) priority = '';
        const elements = toNodes(element);
        for (const element9 of elements){
            if (isString(property1)) {
                property1 = propName1(property1);
                if (isUndefined(value1)) return getComputedStyle(element9).getPropertyValue(property1);
                else element9.style.setProperty(property1, isNumeric(value1) && !cssNumber[property1] ? value1 + "px" : value1 || isNumber(value1) ? value1 : '', priority);
            } else if (isArray(property1)) {
                const props = {};
                for (const prop of property1)props[prop] = css1(element9, prop);
                return props;
            } else if (isObject(property1)) {
                priority = value1;
                each(property1, (value, property)=>css1(element9, property, value, priority)
                );
            }
        }
        return elements[0];
    }
    const propertyRe = /^\s*(["'])?(.*?)\1\s*$/;
    function getCssVar(name, element) {
        if (element === void 0) element = document.documentElement;
        return css1(element, "--uk-" + name).replace(propertyRe, '$2');
    }
    // https://drafts.csswg.org/cssom/#dom-cssstyledeclaration-setproperty
    const propName1 = memoize((name)=>vendorPropName(name)
    );
    const cssPrefixes = [
        'webkit',
        'moz'
    ];
    function vendorPropName(name) {
        if (name[0] === '-') return name;
        name = hyphenate(name);
        const { style: style  } = document.documentElement;
        if (name in style) return name;
        let i = cssPrefixes.length, prefixedName;
        while(i--){
            prefixedName = "-" + cssPrefixes[i] + "-" + name;
            if (prefixedName in style) return prefixedName;
        }
    }
    function addClass(element) {
        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++)args[_key - 1] = arguments[_key];
        apply$1(element, args, 'add');
    }
    function removeClass(element) {
        for(var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++)args[_key2 - 1] = arguments[_key2];
        apply$1(element, args, 'remove');
    }
    function removeClasses(element, cls) {
        attr1(element, 'class', (value)=>(value || '').replace(new RegExp("\\b" + cls + "\\b", 'g'), '')
        );
    }
    function replaceClass(element) {
        (arguments.length <= 1 ? undefined : arguments[1]) && removeClass(element, arguments.length <= 1 ? undefined : arguments[1]);
        (arguments.length <= 2 ? undefined : arguments[2]) && addClass(element, arguments.length <= 2 ? undefined : arguments[2]);
    }
    function hasClass(element, cls) {
        [cls] = getClasses(cls);
        return !!cls && toNodes(element).some((node)=>node.classList.contains(cls)
        );
    }
    function toggleClass(element, cls, force) {
        const classes = getClasses(cls);
        if (!isUndefined(force)) force = !!force;
        for (const node of toNodes(element))for (const cls1 of classes)node.classList.toggle(cls1, force);
    }
    function apply$1(element, args1, fn) {
        args1 = args1.reduce((args, arg)=>args.concat(getClasses(arg))
        , []);
        for (const node of toNodes(element))node.classList[fn](...args1);
    }
    function getClasses(str) {
        return String(str).split(/\s|,/).filter(Boolean);
    }
    function transition1(element10, props, duration, timing) {
        if (duration === void 0) duration = 400;
        if (timing === void 0) timing = 'linear';
        return Promise.all(toNodes(element10).map((element)=>new Promise((resolve, reject)=>{
                for(const name in props){
                    const value = css1(element, name);
                    if (value === '') css1(element, name, value);
                }
                const timer = setTimeout(()=>trigger(element, 'transitionend')
                , duration);
                once(element, 'transitionend transitioncanceled', (_ref)=>{
                    let { type: type  } = _ref;
                    clearTimeout(timer);
                    removeClass(element, 'uk-transition');
                    css1(element, {
                        transitionProperty: '',
                        transitionDuration: '',
                        transitionTimingFunction: ''
                    });
                    type === 'transitioncanceled' ? reject() : resolve(element);
                }, {
                    self: true
                });
                addClass(element, 'uk-transition');
                css1(element, {
                    transitionProperty: Object.keys(props).map(propName1).join(','),
                    transitionDuration: duration + "ms",
                    transitionTimingFunction: timing,
                    ...props
                });
            })
        ));
    }
    const Transition = {
        start: transition1,
        stop (element) {
            trigger(element, 'transitionend');
            return Promise.resolve();
        },
        cancel (element) {
            trigger(element, 'transitioncanceled');
        },
        inProgress (element) {
            return hasClass(element, 'uk-transition');
        }
    };
    const animationPrefix = 'uk-animation-';
    function animate$1(element11, animation, duration, origin, out) {
        if (duration === void 0) duration = 200;
        return Promise.all(toNodes(element11).map((element)=>new Promise((resolve, reject)=>{
                trigger(element, 'animationcanceled');
                const timer = setTimeout(()=>trigger(element, 'animationend')
                , duration);
                once(element, 'animationend animationcanceled', (_ref2)=>{
                    let { type: type  } = _ref2;
                    clearTimeout(timer);
                    type === 'animationcanceled' ? reject() : resolve(element);
                    css1(element, 'animationDuration', '');
                    removeClasses(element, animationPrefix + "\\S*");
                }, {
                    self: true
                });
                css1(element, 'animationDuration', duration + "ms");
                addClass(element, animation, animationPrefix + (out ? 'leave' : 'enter'));
                if (startsWith(animation, animationPrefix)) {
                    origin && addClass(element, "uk-transform-origin-" + origin);
                    out && addClass(element, animationPrefix + "reverse");
                }
            })
        ));
    }
    const inProgress1 = new RegExp(animationPrefix + "(enter|leave)");
    const Animation = {
        in: animate$1,
        out (element, animation, duration, origin) {
            return animate$1(element, animation, duration, origin, true);
        },
        inProgress (element) {
            return inProgress1.test(attr1(element, 'class'));
        },
        cancel (element) {
            trigger(element, 'animationcanceled');
        }
    };
    const dirs$1 = {
        width: [
            'left',
            'right'
        ],
        height: [
            'top',
            'bottom'
        ]
    };
    function dimensions$1(element) {
        const rect = isElement(element) ? toNode(element).getBoundingClientRect() : {
            height: height1(element),
            width: width1(element),
            top: 0,
            left: 0
        };
        return {
            height: rect.height,
            width: rect.width,
            top: rect.top,
            left: rect.left,
            bottom: rect.top + rect.height,
            right: rect.left + rect.width
        };
    }
    function offset1(element, coordinates) {
        const currentOffset = dimensions$1(element);
        if (element) {
            const { scrollY: scrollY , scrollX: scrollX  } = toWindow(element);
            const offsetBy = {
                height: scrollY,
                width: scrollX
            };
            for(const dir in dirs$1)for (const prop of dirs$1[dir])currentOffset[prop] += offsetBy[dir];
        }
        if (!coordinates) return currentOffset;
        const pos = css1(element, 'position');
        each(css1(element, [
            'left',
            'top'
        ]), (value, prop)=>css1(element, prop, coordinates[prop] - currentOffset[prop] + toFloat(pos === 'absolute' && value === 'auto' ? position1(element)[prop] : value))
        );
    }
    function position1(element) {
        let { top: top , left: left  } = offset1(element);
        const { ownerDocument: { body: body , documentElement: documentElement  } , offsetParent: offsetParent  } = toNode(element);
        let parent = offsetParent || documentElement;
        while(parent && (parent === body || parent === documentElement) && css1(parent, 'position') === 'static')parent = parent.parentNode;
        if (isElement(parent)) {
            const parentOffset = offset1(parent);
            top -= parentOffset.top + toFloat(css1(parent, 'borderTopWidth'));
            left -= parentOffset.left + toFloat(css1(parent, 'borderLeftWidth'));
        }
        return {
            top: top - toFloat(css1(element, 'marginTop')),
            left: left - toFloat(css1(element, 'marginLeft'))
        };
    }
    function offsetPosition1(element) {
        const offset = [
            0,
            0
        ];
        element = toNode(element);
        do {
            offset[0] += element.offsetTop;
            offset[1] += element.offsetLeft;
            if (css1(element, 'position') === 'fixed') {
                const win = toWindow(element);
                offset[0] += win.scrollY;
                offset[1] += win.scrollX;
                return offset;
            }
        }while (element = element.offsetParent)
        return offset;
    }
    const height1 = dimension('height');
    const width1 = dimension('width');
    function dimension(prop) {
        const propName = ucfirst(prop);
        return (element, value)=>{
            if (isUndefined(value)) {
                if (isWindow(element)) return element["inner" + propName];
                if (isDocument(element)) {
                    const doc = element.documentElement;
                    return Math.max(doc["offset" + propName], doc["scroll" + propName]);
                }
                element = toNode(element);
                value = css1(element, prop);
                value = value === 'auto' ? element["offset" + propName] : toFloat(value) || 0;
                return value - boxModelAdjust(element, prop);
            } else return css1(element, prop, !value && value !== 0 ? '' : +value + boxModelAdjust(element, prop) + 'px');
        };
    }
    function boxModelAdjust(element, prop1, sizing) {
        if (sizing === void 0) sizing = 'border-box';
        return css1(element, 'boxSizing') === sizing ? dirs$1[prop1].map(ucfirst).reduce((value, prop)=>value + toFloat(css1(element, "padding" + prop)) + toFloat(css1(element, "border" + prop + "Width"))
        , 0) : 0;
    }
    function flipPosition(pos) {
        for(const dir in dirs$1)for(const i in dirs$1[dir]){
            if (dirs$1[dir][i] === pos) return dirs$1[dir][1 - i];
        }
        return pos;
    }
    function toPx(value2, property, element, offsetDim) {
        if (property === void 0) property = 'width';
        if (element === void 0) element = window;
        if (offsetDim === void 0) offsetDim = false;
        if (!isString(value2)) return toFloat(value2);
        return parseCalc(value2).reduce((result, value)=>{
            const unit = parseUnit(value);
            if (unit) value = percent1(unit === 'vh' ? height1(toWindow(element)) : unit === 'vw' ? width1(toWindow(element)) : offsetDim ? element["offset" + ucfirst(property)] : dimensions$1(element)[property], value);
            return result + toFloat(value);
        }, 0);
    }
    const calcRe = /-?\d+(?:\.\d+)?(?:v[wh]|%|px)?/g;
    const parseCalc = memoize((calc)=>calc.toString().replace(/\s/g, '').match(calcRe) || []
    );
    const unitRe$1 = /(?:v[hw]|%)$/;
    const parseUnit = memoize((str)=>(str.match(unitRe$1) || [])[0]
    );
    function percent1(base, value) {
        return base * toFloat(value) / 100;
    }
    function ready(fn) {
        if (document.readyState !== 'loading') {
            fn();
            return;
        }
        once(document, 'DOMContentLoaded', fn);
    }
    function isTag(element, tagName) {
        var _element$tagName;
        return (element == null ? void 0 : (_element$tagName = element.tagName) == null ? void 0 : _element$tagName.toLowerCase()) === tagName.toLowerCase();
    }
    function empty1(element) {
        return replaceChildren(element, '');
    }
    function html1(parent, html) {
        return isUndefined(html) ? $(parent).innerHTML : replaceChildren(parent, html);
    }
    const replaceChildren = applyFn('replaceChildren');
    const prepend = applyFn('prepend');
    const append = applyFn('append');
    const before = applyFn('before');
    const after = applyFn('after');
    function applyFn(fn) {
        return function(ref, element) {
            var _$;
            const nodes = toNodes(isString(element) ? fragment(element) : element);
            (_$ = $(ref)) == null || _$[fn](...nodes);
            return unwrapSingle(nodes);
        };
    }
    function remove$1(element12) {
        toNodes(element12).forEach((element)=>element.remove()
        );
    }
    function wrapAll(element, structure) {
        structure = toNode(before(element, structure));
        while(structure.firstChild)structure = structure.firstChild;
        append(structure, element);
        return structure;
    }
    function wrapInner(element13, structure) {
        return toNodes(toNodes(element13).map((element)=>element.hasChildNodes() ? wrapAll(toNodes(element.childNodes), structure) : append(element, structure)
        ));
    }
    function unwrap(element) {
        toNodes(element).map(parent1).filter((value, index, self)=>self.indexOf(value) === index
        ).forEach((parent)=>parent.replaceWith(...parent.childNodes)
        );
    }
    const fragmentRe = /^\s*<(\w+|!)[^>]*>/;
    const singleTagRe = /^<(\w+)\s*\/?>(?:<\/\1>)?$/;
    function fragment(html) {
        const matches = singleTagRe.exec(html);
        if (matches) return document.createElement(matches[1]);
        const container = document.createElement('div');
        if (fragmentRe.test(html)) container.insertAdjacentHTML('beforeend', html.trim());
        else container.textContent = html;
        return unwrapSingle(container.childNodes);
    }
    function unwrapSingle(nodes) {
        return nodes.length > 1 ? nodes : nodes[0];
    }
    function apply(node, fn) {
        if (!isElement(node)) return;
        fn(node);
        node = node.firstElementChild;
        while(node){
            const next = node.nextElementSibling;
            apply(node, fn);
            node = next;
        }
    }
    function $(selector, context) {
        return isHtml(selector) ? toNode(fragment(selector)) : find(selector, context);
    }
    function $$(selector, context) {
        return isHtml(selector) ? toNodes(fragment(selector)) : findAll(selector, context);
    }
    function isHtml(str) {
        return isString(str) && startsWith(str.trim(), '<');
    }
    const inBrowser = typeof window !== 'undefined';
    const isRtl = inBrowser && attr1(document.documentElement, 'dir') === 'rtl';
    const hasTouch = inBrowser && 'ontouchstart' in window;
    const hasPointerEvents = inBrowser && window.PointerEvent;
    const pointerDown = hasPointerEvents ? 'pointerdown' : hasTouch ? 'touchstart' : 'mousedown';
    const pointerMove = hasPointerEvents ? 'pointermove' : hasTouch ? 'touchmove' : 'mousemove';
    const pointerUp = hasPointerEvents ? 'pointerup' : hasTouch ? 'touchend' : 'mouseup';
    const pointerEnter = hasPointerEvents ? 'pointerenter' : hasTouch ? '' : 'mouseenter';
    const pointerLeave = hasPointerEvents ? 'pointerleave' : hasTouch ? '' : 'mouseleave';
    const pointerCancel = hasPointerEvents ? 'pointercancel' : 'touchcancel';
    /*
        Based on:
        Copyright (c) 2016 Wilson Page wilsonpage@me.com
        https://github.com/wilsonpage/fastdom
    */ const fastdom = {
        reads: [],
        writes: [],
        read (task) {
            this.reads.push(task);
            scheduleFlush();
            return task;
        },
        write (task) {
            this.writes.push(task);
            scheduleFlush();
            return task;
        },
        clear (task) {
            remove(this.reads, task);
            remove(this.writes, task);
        },
        flush: flush
    };
    function flush(recursion) {
        runTasks(fastdom.reads);
        runTasks(fastdom.writes.splice(0));
        fastdom.scheduled = false;
        if (fastdom.reads.length || fastdom.writes.length) scheduleFlush(recursion + 1);
    }
    const RECURSION_LIMIT = 4;
    function scheduleFlush(recursion) {
        if (fastdom.scheduled) return;
        fastdom.scheduled = true;
        if (recursion && recursion < RECURSION_LIMIT) Promise.resolve().then(()=>flush(recursion)
        );
        else requestAnimationFrame(()=>flush(1)
        );
    }
    function runTasks(tasks) {
        let task;
        while(task = tasks.shift())try {
            task();
        } catch (e) {
            console.error(e);
        }
    }
    function remove(array, item) {
        const index = array.indexOf(item);
        return ~index && array.splice(index, 1);
    }
    function MouseTracker() {}
    MouseTracker.prototype = {
        positions: [],
        init () {
            this.positions = [];
            let position;
            this.unbind = on(document, 'mousemove', (e)=>position = getEventPos(e)
            );
            this.interval = setInterval(()=>{
                if (!position) return;
                this.positions.push(position);
                if (this.positions.length > 5) this.positions.shift();
            }, 50);
        },
        cancel () {
            var _this$unbind;
            (_this$unbind = this.unbind) == null || _this$unbind.call(this);
            this.interval && clearInterval(this.interval);
        },
        movesTo (target) {
            if (this.positions.length < 2) return false;
            const p = target.getBoundingClientRect();
            const { left: left , right: right , top: top , bottom: bottom  } = p;
            const [prevPosition] = this.positions;
            const position = last1(this.positions);
            const path = [
                prevPosition,
                position
            ];
            if (pointInRect(position, p)) return false;
            const diagonals = [
                [
                    {
                        x: left,
                        y: top
                    },
                    {
                        x: right,
                        y: bottom
                    }
                ],
                [
                    {
                        x: left,
                        y: bottom
                    },
                    {
                        x: right,
                        y: top
                    }
                ]
            ];
            return diagonals.some((diagonal)=>{
                const intersection = intersect(path, diagonal);
                return intersection && pointInRect(intersection, p);
            });
        }
    };
    // Inspired by http://paulbourke.net/geometry/pointlineplane/
    function intersect(_ref, _ref2) {
        let [{ x: x1 , y: y1  }, { x: x2 , y: y2  }] = _ref;
        let [{ x: x3 , y: y3  }, { x: x4 , y: y4  }] = _ref2;
        const denominator = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);
        // Lines are parallel
        if (denominator === 0) return false;
        const ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / denominator;
        if (ua < 0) return false;
        // Return an object with the x and y coordinates of the intersection
        return {
            x: x1 + ua * (x2 - x1),
            y: y1 + ua * (y2 - y1)
        };
    }
    function observeIntersection(targets, cb, options, intersecting) {
        if (intersecting === void 0) intersecting = true;
        const observer1 = new IntersectionObserver(intersecting ? (entries, observer)=>{
            if (entries.some((entry)=>entry.isIntersecting
            )) cb(entries, observer);
        } : cb, options);
        for (const el of toNodes(targets))observer1.observe(el);
        return observer1;
    }
    const hasResizeObserver = inBrowser && window.ResizeObserver;
    function observeResize(targets, cb, options) {
        if (options === void 0) options = {
            box: 'border-box'
        };
        if (hasResizeObserver) return observe(ResizeObserver, targets, cb, options);
        // Fallback Safari < 13.1
        initResizeListener();
        listeners.add(cb);
        return {
            disconnect () {
                listeners.delete(cb);
            }
        };
    }
    let listeners;
    function initResizeListener() {
        if (listeners) return;
        listeners = new Set();
        // throttle 'resize'
        let pendingResize;
        const handleResize = ()=>{
            if (pendingResize) return;
            pendingResize = true;
            fastdom.read(()=>pendingResize = false
            );
            for (const listener of listeners)listener();
        };
        on(window, 'load resize', handleResize);
        on(document, 'loadedmetadata load', handleResize, true);
    }
    function observeMutation(targets, cb, options) {
        return observe(MutationObserver, targets, cb, options);
    }
    function observe(Observer, targets, cb, options) {
        const observer = new Observer(cb);
        for (const el of toNodes(targets))observer.observe(el, options);
        return observer;
    }
    const strats = {};
    strats.events = strats.created = strats.beforeConnect = strats.connected = strats.beforeDisconnect = strats.disconnected = strats.destroy = concatStrat;
    // args strategy
    strats.args = function(parentVal, childVal) {
        return childVal !== false && concatStrat(childVal || parentVal);
    };
    // update strategy
    strats.update = function(parentVal, childVal) {
        return sortBy$1(concatStrat(parentVal, isFunction(childVal) ? {
            read: childVal
        } : childVal), 'order');
    };
    // property strategy
    strats.props = function(parentVal, childVal) {
        if (isArray(childVal)) {
            const value = {};
            for (const key of childVal)value[key] = String;
            childVal = value;
        }
        return strats.methods(parentVal, childVal);
    };
    // extend strategy
    strats.computed = strats.methods = function(parentVal, childVal) {
        return childVal ? parentVal ? {
            ...parentVal,
            ...childVal
        } : childVal : parentVal;
    };
    // data strategy
    strats.data = function(parentVal, childVal, vm1) {
        if (!vm1) {
            if (!childVal) return parentVal;
            if (!parentVal) return childVal;
            return function(vm) {
                return mergeFnData(parentVal, childVal, vm);
            };
        }
        return mergeFnData(parentVal, childVal, vm1);
    };
    function mergeFnData(parentVal, childVal, vm) {
        return strats.computed(isFunction(parentVal) ? parentVal.call(vm, vm) : parentVal, isFunction(childVal) ? childVal.call(vm, vm) : childVal);
    }
    // concat strategy
    function concatStrat(parentVal, childVal) {
        parentVal = parentVal && !isArray(parentVal) ? [
            parentVal
        ] : parentVal;
        return childVal ? parentVal ? parentVal.concat(childVal) : isArray(childVal) ? childVal : [
            childVal
        ] : parentVal;
    }
    // default strategy
    function defaultStrat(parentVal, childVal) {
        return isUndefined(childVal) ? parentVal : childVal;
    }
    function mergeOptions(parent, child, vm) {
        const options = {};
        if (isFunction(child)) child = child.options;
        if (child.extends) parent = mergeOptions(parent, child.extends, vm);
        if (child.mixins) for (const mixin of child.mixins)parent = mergeOptions(parent, mixin, vm);
        for(const key2 in parent)mergeKey(key2);
        for(const key1 in child)if (!hasOwn(parent, key1)) mergeKey(key1);
        function mergeKey(key) {
            options[key] = (strats[key] || defaultStrat)(parent[key], child[key], vm);
        }
        return options;
    }
    function parseOptions(options1, args) {
        if (args === void 0) args = [];
        try {
            return options1 ? startsWith(options1, '{') ? JSON.parse(options1) : args.length && !includes(options1, ':') ? {
                [args[0]]: options1
            } : options1.split(';').reduce((options, option)=>{
                const [key, value] = option.split(/:(.*)/);
                if (key && !isUndefined(value)) options[key.trim()] = value.trim();
                return options;
            }, {}) : {};
        } catch (e) {
            return {};
        }
    }
    function play(el) {
        if (isIFrame(el)) call(el, {
            func: 'playVideo',
            method: 'play'
        });
        if (isHTML5(el)) try {
            el.play().catch(noop);
        } catch (e) {
        // noop
        }
    }
    function pause(el) {
        if (isIFrame(el)) call(el, {
            func: 'pauseVideo',
            method: 'pause'
        });
        if (isHTML5(el)) el.pause();
    }
    function mute(el) {
        if (isIFrame(el)) call(el, {
            func: 'mute',
            method: 'setVolume',
            value: 0
        });
        if (isHTML5(el)) el.muted = true;
    }
    function isVideo(el) {
        return isHTML5(el) || isIFrame(el);
    }
    function isHTML5(el) {
        return isTag(el, 'video');
    }
    function isIFrame(el) {
        return isTag(el, 'iframe') && (isYoutube(el) || isVimeo(el));
    }
    function isYoutube(el) {
        return !!el.src.match(/\/\/.*?youtube(-nocookie)?\.[a-z]+\/(watch\?v=[^&\s]+|embed)|youtu\.be\/.*/);
    }
    function isVimeo(el) {
        return !!el.src.match(/vimeo\.com\/video\/.*/);
    }
    async function call(el, cmd) {
        await enableApi(el);
        post(el, cmd);
    }
    function post(el, cmd) {
        try {
            el.contentWindow.postMessage(JSON.stringify({
                event: 'command',
                ...cmd
            }), '*');
        } catch (e) {
        // noop
        }
    }
    const stateKey = '_ukPlayer';
    let counter = 0;
    function enableApi(el) {
        if (el[stateKey]) return el[stateKey];
        const youtube = isYoutube(el);
        const vimeo = isVimeo(el);
        const id = ++counter;
        let poller;
        return el[stateKey] = new Promise((resolve)=>{
            youtube && once(el, 'load', ()=>{
                const listener = ()=>post(el, {
                        event: 'listening',
                        id: id
                    })
                ;
                poller = setInterval(listener, 100);
                listener();
            });
            once(window, 'message', resolve, false, (_ref)=>{
                let { data: data  } = _ref;
                try {
                    data = JSON.parse(data);
                    return data && (youtube && data.id === id && data.event === 'onReady' || vimeo && Number(data.player_id) === id);
                } catch (e) {
                // noop
                }
            });
            el.src = "" + el.src + (includes(el.src, '?') ? '&' : '?') + (youtube ? 'enablejsapi=1' : "api=1&player_id=" + id);
        }).then(()=>clearInterval(poller)
        );
    }
    function isInView(element, offsetTop, offsetLeft) {
        if (offsetTop === void 0) offsetTop = 0;
        if (offsetLeft === void 0) offsetLeft = 0;
        if (!isVisible(element)) return false;
        return intersectRect(...scrollParents(element).map((parent)=>{
            const { top: top , left: left , bottom: bottom , right: right  } = offsetViewport(parent);
            return {
                top: top - offsetTop,
                left: left - offsetLeft,
                bottom: bottom + offsetTop,
                right: right + offsetLeft
            };
        }).concat(offset1(element)));
    }
    function scrollTop1(element, top) {
        if (isWindow(element) || isDocument(element)) element = scrollingElement1(element);
        else element = toNode(element);
        if (isUndefined(top)) return element.scrollTop;
        else element.scrollTop = top;
    }
    function scrollIntoView(element14, _temp) {
        let { offset: offsetBy = 0  } = _temp === void 0 ? {} : _temp;
        const parents = isVisible(element14) ? scrollParents(element14) : [];
        return parents.reduce((fn, scrollElement, i)=>{
            const { scrollTop: scrollTop , scrollHeight: scrollHeight , offsetHeight: offsetHeight  } = scrollElement;
            const viewport = offsetViewport(scrollElement);
            const maxScroll = scrollHeight - viewport.height;
            const { height: elHeight , top: elTop  } = parents[i - 1] ? offsetViewport(parents[i - 1]) : offset1(element14);
            let top = Math.ceil(elTop - viewport.top - offsetBy + scrollTop);
            if (offsetBy > 0 && offsetHeight < elHeight + offsetBy) top += offsetBy;
            else offsetBy = 0;
            if (top > maxScroll) {
                offsetBy -= top - maxScroll;
                top = maxScroll;
            } else if (top < 0) {
                offsetBy -= top;
                top = 0;
            }
            return ()=>scrollTo(scrollElement, top - scrollTop).then(fn)
            ;
        }, ()=>Promise.resolve()
        )();
        function scrollTo(element, top) {
            return new Promise((resolve)=>{
                const scroll = element.scrollTop;
                const duration = getDuration(Math.abs(top));
                const start = Date.now();
                (function step() {
                    const percent = ease(clamp((Date.now() - start) / duration));
                    scrollTop1(element, scroll + top * percent);
                    // scroll more if we have not reached our destination
                    if (percent === 1) {
                        resolve();
                    } else {
                        requestAnimationFrame(step);
                    }
                })();
            });
        }
        function getDuration(dist) {
            return 40 * Math.pow(dist, 0.375);
        }
        function ease(k) {
            return 0.5 * (1 - Math.cos(Math.PI * k));
        }
    }
    function scrolledOver(element, startOffset, endOffset) {
        if (startOffset === void 0) startOffset = 0;
        if (endOffset === void 0) endOffset = 0;
        if (!isVisible(element)) return 0;
        const [scrollElement] = scrollParents(element, /auto|scroll/, true);
        const { scrollHeight: scrollHeight , scrollTop: scrollTop  } = scrollElement;
        const { height: viewportHeight  } = offsetViewport(scrollElement);
        const maxScroll = scrollHeight - viewportHeight;
        const elementOffsetTop = offsetPosition1(element)[0] - offsetPosition1(scrollElement)[0];
        const start = Math.max(0, elementOffsetTop - viewportHeight + startOffset);
        const end = Math.min(maxScroll, elementOffsetTop + element.offsetHeight - endOffset);
        return clamp((scrollTop - start) / (end - start));
    }
    function scrollParents(element, overflowRe, scrollable) {
        if (overflowRe === void 0) overflowRe = /auto|scroll|hidden/;
        if (scrollable === void 0) scrollable = false;
        const scrollEl = scrollingElement1(element);
        let ancestors = parents1(element).reverse();
        ancestors = ancestors.slice(ancestors.indexOf(scrollEl) + 1);
        const fixedIndex = findIndex(ancestors, (el)=>css1(el, 'position') === 'fixed'
        );
        if (~fixedIndex) ancestors = ancestors.slice(fixedIndex);
        return [
            scrollEl
        ].concat(ancestors.filter((parent)=>overflowRe.test(css1(parent, 'overflow')) && (!scrollable || parent.scrollHeight > offsetViewport(parent).height)
        )).reverse();
    }
    function offsetViewport(scrollElement) {
        let viewportElement = getViewport$1(scrollElement);
        // iOS 12 returns <body> as scrollingElement
        if (viewportElement === scrollingElement1(viewportElement)) viewportElement = document.documentElement;
        let rect = offset1(viewportElement);
        for (let [prop, dir, start, end] of [
            [
                'width',
                'x',
                'left',
                'right'
            ],
            [
                'height',
                'y',
                'top',
                'bottom'
            ]
        ]){
            if (!isWindow(getViewport$1(viewportElement))) rect[start] += toFloat(css1(viewportElement, "border" + ucfirst(start) + "Width"));
            rect[prop] = rect[dir] = (isWindow(viewportElement) ? scrollingElement1(viewportElement) : viewportElement)["client" + ucfirst(prop)];
            rect[end] = rect[prop] + rect[start];
        }
        return rect;
    }
    function scrollingElement1(element) {
        const { document: { scrollingElement: scrollingElement  }  } = toWindow(element);
        return scrollingElement;
    }
    function getViewport$1(scrollElement) {
        return scrollElement === scrollingElement1(scrollElement) ? window : scrollElement;
    }
    const dirs = [
        [
            'width',
            'x',
            'left',
            'right'
        ],
        [
            'height',
            'y',
            'top',
            'bottom'
        ]
    ];
    function positionAt(element, target, options) {
        options = {
            attach: {
                element: [
                    'left',
                    'top'
                ],
                target: [
                    'left',
                    'top'
                ],
                ...options.attach
            },
            offset: [
                0,
                0
            ],
            ...options
        };
        const dim = options.flip ? attachToWithFlip(element, target, options) : attachTo(element, target, options);
        offset1(element, dim);
    }
    function attachTo(element, target, options) {
        let { attach: attach , offset: offsetBy  } = {
            attach: {
                element: [
                    'left',
                    'top'
                ],
                target: [
                    'left',
                    'top'
                ],
                ...options.attach
            },
            offset: [
                0,
                0
            ],
            ...options
        };
        const position = offset1(element);
        const targetOffset = offset1(target);
        for (const [i, [prop, dir, start, end]] of Object.entries(dirs)){
            position[start] = position[dir] = targetOffset[start] + moveBy(attach.target[i], end, targetOffset[prop]) - moveBy(attach.element[i], end, position[prop]) + +offsetBy[i];
            position[end] = position[start] + position[prop];
        }
        return position;
    }
    function attachToWithFlip(element, target, options) {
        const position = attachTo(element, target, options);
        const targetDim = offset1(target);
        let { flip: flip , attach: { element: elAttach , target: targetAttach  } , offset: elOffset , boundary: boundary , viewport: viewport1 , viewportPadding: viewportPadding  } = options;
        let viewports = scrollParents(element);
        if (boundary === target) viewports = viewports.filter((viewport)=>viewport !== boundary
        );
        const [scrollElement] = viewports;
        viewports.push(viewport1);
        const offsetPosition = {
            ...position
        };
        for (const [i, [prop, dir, start, end]] of Object.entries(dirs)){
            if (flip !== true && !includes(flip, dir)) continue;
            const willFlip = !intersectLine(position, targetDim, i) && intersectLine(position, targetDim, 1 - i);
            viewport1 = getIntersectionArea(...viewports.filter(Boolean).map(offsetViewport));
            if (viewportPadding) {
                viewport1[start] += viewportPadding;
                viewport1[end] -= viewportPadding;
            }
            if (boundary && !willFlip && position[prop] <= offset1(boundary)[prop]) viewport1 = getIntersectionArea(viewport1, offset1(boundary));
            const isInStartBoundary = position[start] >= viewport1[start];
            const isInEndBoundary = position[end] <= viewport1[end];
            if (isInStartBoundary && isInEndBoundary) continue;
            let offsetBy;
            // Flip
            if (willFlip) {
                if (elAttach[i] === end && isInStartBoundary || elAttach[i] === start && isInEndBoundary) continue;
                offsetBy = (elAttach[i] === start ? -position[prop] : elAttach[i] === end ? position[prop] : 0) + (targetAttach[i] === start ? targetDim[prop] : targetAttach[i] === end ? -targetDim[prop] : 0) - elOffset[i] * 2;
                if (!isInScrollArea({
                    ...position,
                    [start]: position[start] + offsetBy,
                    [end]: position[end] + offsetBy
                }, scrollElement, i)) {
                    if (isInScrollArea(position, scrollElement, i)) continue;
                    if (options.recursion) return false;
                    const newPos = attachToWithFlip(element, target, {
                        ...options,
                        attach: {
                            element: elAttach.map(flipDir).reverse(),
                            target: targetAttach.map(flipDir).reverse()
                        },
                        offset: elOffset.reverse(),
                        flip: flip === true ? flip : [
                            ...flip,
                            dirs[1 - i][1]
                        ],
                        recursion: true
                    });
                    if (newPos && isInScrollArea(newPos, scrollElement, 1 - i)) return newPos;
                }
            // Move
            } else offsetBy = clamp(clamp(position[start], viewport1[start], viewport1[end] - position[prop]), targetDim[start] - position[prop] + elOffset[i], targetDim[end] - elOffset[i]) - position[start];
            offsetPosition[start] = position[dir] = position[start] + offsetBy;
            offsetPosition[end] += offsetBy;
        }
        return offsetPosition;
    }
    function moveBy(start, end, dim) {
        return start === 'center' ? dim / 2 : start === end ? dim : 0;
    }
    function getIntersectionArea() {
        let area = {};
        for(var _len = arguments.length, rects = new Array(_len), _key = 0; _key < _len; _key++)rects[_key] = arguments[_key];
        for (const rect of rects)for (const [, , start, end] of dirs){
            area[start] = Math.max(area[start] || 0, rect[start]);
            area[end] = Math.min(...[
                area[end],
                rect[end]
            ].filter(Boolean));
        }
        return area;
    }
    function isInScrollArea(position, scrollElement, dir) {
        const viewport = offsetViewport(scrollElement);
        const [prop, , start, end] = dirs[dir];
        viewport[start] -= scrollElement["scroll" + ucfirst(start)];
        viewport[end] = viewport[start] + scrollElement["scroll" + ucfirst(prop)];
        return position[start] >= viewport[start] && position[end] <= viewport[end];
    }
    function intersectLine(dimA, dimB, dir) {
        const [, , start, end] = dirs[dir];
        return dimA[end] > dimB[start] && dimB[end] > dimA[start];
    }
    function flipDir(prop) {
        for(let i = 0; i < dirs.length; i++){
            const index = dirs[i].indexOf(prop);
            if (~index) return dirs[1 - i][index % 2 + 2];
        }
    }
    var util = /*#__PURE__*/ Object.freeze({
        __proto__: null,
        ajax: ajax,
        getImage: getImage,
        transition: transition1,
        Transition: Transition,
        animate: animate$1,
        Animation: Animation,
        attr: attr1,
        hasAttr: hasAttr,
        removeAttr: removeAttr,
        data: data1,
        addClass: addClass,
        removeClass: removeClass,
        removeClasses: removeClasses,
        replaceClass: replaceClass,
        hasClass: hasClass,
        toggleClass: toggleClass,
        dimensions: dimensions$1,
        offset: offset1,
        position: position1,
        offsetPosition: offsetPosition1,
        height: height1,
        width: width1,
        boxModelAdjust: boxModelAdjust,
        flipPosition: flipPosition,
        toPx: toPx,
        ready: ready,
        isTag: isTag,
        empty: empty1,
        html: html1,
        replaceChildren: replaceChildren,
        prepend: prepend,
        append: append,
        before: before,
        after: after,
        remove: remove$1,
        wrapAll: wrapAll,
        wrapInner: wrapInner,
        unwrap: unwrap,
        fragment: fragment,
        apply: apply,
        $: $,
        $$: $$,
        inBrowser: inBrowser,
        isRtl: isRtl,
        hasTouch: hasTouch,
        pointerDown: pointerDown,
        pointerMove: pointerMove,
        pointerUp: pointerUp,
        pointerEnter: pointerEnter,
        pointerLeave: pointerLeave,
        pointerCancel: pointerCancel,
        on: on,
        off: off1,
        once: once,
        trigger: trigger,
        createEvent: createEvent,
        toEventTargets: toEventTargets,
        isTouch: isTouch,
        getEventPos: getEventPos,
        fastdom: fastdom,
        isVoidElement: isVoidElement,
        isVisible: isVisible,
        selInput: selInput,
        isInput: isInput,
        selFocusable: selFocusable,
        isFocusable: isFocusable,
        parent: parent1,
        filter: filter$1,
        matches: matches1,
        closest: closest,
        within: within,
        parents: parents1,
        children: children1,
        index: index1,
        hasOwn: hasOwn,
        hyphenate: hyphenate,
        camelize: camelize,
        ucfirst: ucfirst,
        startsWith: startsWith,
        endsWith: endsWith,
        includes: includes,
        findIndex: findIndex,
        isArray: isArray,
        toArray: toArray,
        assign: assign,
        isFunction: isFunction,
        isObject: isObject,
        isPlainObject: isPlainObject,
        isWindow: isWindow,
        isDocument: isDocument,
        isNode: isNode,
        isElement: isElement,
        isBoolean: isBoolean,
        isString: isString,
        isNumber: isNumber,
        isNumeric: isNumeric,
        isEmpty: isEmpty,
        isUndefined: isUndefined,
        toBoolean: toBoolean,
        toNumber: toNumber,
        toFloat: toFloat,
        toNode: toNode,
        toNodes: toNodes,
        toWindow: toWindow,
        isEqual: isEqual,
        swap: swap,
        last: last1,
        each: each,
        sortBy: sortBy$1,
        uniqueBy: uniqueBy,
        clamp: clamp,
        noop: noop,
        intersectRect: intersectRect,
        pointInRect: pointInRect,
        Dimensions: Dimensions,
        getIndex: getIndex,
        memoize: memoize,
        Deferred: Deferred,
        MouseTracker: MouseTracker,
        observeIntersection: observeIntersection,
        observeResize: observeResize,
        observeMutation: observeMutation,
        mergeOptions: mergeOptions,
        parseOptions: parseOptions,
        play: play,
        pause: pause,
        mute: mute,
        isVideo: isVideo,
        positionAt: positionAt,
        query: query,
        queryAll: queryAll,
        find: find,
        findAll: findAll,
        escape: escape,
        css: css1,
        getCssVar: getCssVar,
        propName: propName1,
        isInView: isInView,
        scrollTop: scrollTop1,
        scrollIntoView: scrollIntoView,
        scrolledOver: scrolledOver,
        scrollParents: scrollParents,
        offsetViewport: offsetViewport
    });
    function globalAPI(UIkit) {
        const DATA = UIkit.data;
        UIkit.use = function(plugin) {
            if (plugin.installed) return;
            plugin.call(null, this);
            plugin.installed = true;
            return this;
        };
        UIkit.mixin = function(mixin, component) {
            component = (isString(component) ? UIkit.component(component) : component) || this;
            component.options = mergeOptions(component.options, mixin);
        };
        UIkit.extend = function(options2) {
            options2 = options2 || {};
            const Super = this;
            const Sub = function UIkitComponent(options) {
                this._init(options);
            };
            Sub.prototype = Object.create(Super.prototype);
            Sub.prototype.constructor = Sub;
            Sub.options = mergeOptions(Super.options, options2);
            Sub.super = Super;
            Sub.extend = Super.extend;
            return Sub;
        };
        UIkit.update = function(element15, e) {
            element15 = element15 ? toNode(element15) : document.body;
            for (const parentEl of parents1(element15).reverse())update(parentEl[DATA], e);
            apply(element15, (element)=>update(element[DATA], e)
            );
        };
        let container;
        Object.defineProperty(UIkit, 'container', {
            get () {
                return container || document.body;
            },
            set (element) {
                container = $(element);
            }
        });
        function update(data, e) {
            if (!data) return;
            for(const name in data)if (data[name]._connected) data[name]._callUpdate(e);
        }
    }
    function hooksAPI(UIkit) {
        UIkit.prototype._callHook = function(hook) {
            var _this$$options$hook;
            (_this$$options$hook = this.$options[hook]) == null || _this$$options$hook.forEach((handler)=>handler.call(this)
            );
        };
        UIkit.prototype._callConnected = function() {
            if (this._connected) return;
            this._data = {};
            this._computed = {};
            this._initProps();
            this._callHook('beforeConnect');
            this._connected = true;
            this._initEvents();
            this._initObservers();
            this._callHook('connected');
            this._callUpdate();
        };
        UIkit.prototype._callDisconnected = function() {
            if (!this._connected) return;
            this._callHook('beforeDisconnect');
            this._disconnectObservers();
            this._unbindEvents();
            this._callHook('disconnected');
            this._connected = false;
            delete this._watch;
        };
        UIkit.prototype._callUpdate = function(e) {
            if (e === void 0) e = 'update';
            if (!this._connected) return;
            if (e === 'update' || e === 'resize') this._callWatches();
            if (!this.$options.update) return;
            if (!this._updates) {
                this._updates = new Set();
                fastdom.read(()=>{
                    if (this._connected) runUpdates.call(this, this._updates);
                    delete this._updates;
                });
            }
            this._updates.add(e.type || e);
        };
        UIkit.prototype._callWatches = function() {
            if (this._watch) return;
            const initial = !hasOwn(this, '_watch');
            this._watch = fastdom.read(()=>{
                if (this._connected) runWatches.call(this, initial);
                this._watch = null;
            });
        };
        function runUpdates(types) {
            for (const { read: read , write: write , events: events = []  } of this.$options.update){
                if (!types.has('update') && !events.some((type)=>types.has(type)
                )) continue;
                let result;
                if (read) {
                    result = read.call(this, this._data, types);
                    if (result && isPlainObject(result)) assign(this._data, result);
                }
                if (write && result !== false) fastdom.write(()=>write.call(this, this._data, types)
                );
            }
        }
        function runWatches(initial) {
            const { $options: { computed: computed  }  } = this;
            const values = {
                ...initial ? {} : this._computed
            };
            this._computed = {};
            for(const key in computed){
                const { watch: watch , immediate: immediate  } = computed[key];
                if (watch && (initial && immediate || hasOwn(values, key) && !isEqual(values[key], this[key]))) watch.call(this, this[key], values[key]);
            }
        }
    }
    function stateAPI(UIkit) {
        let uid = 0;
        UIkit.prototype._init = function(options) {
            options = options || {};
            options.data = normalizeData(options, this.constructor.options);
            this.$options = mergeOptions(this.constructor.options, options, this);
            this.$el = null;
            this.$props = {};
            this._uid = uid++;
            this._initData();
            this._initMethods();
            this._initComputeds();
            this._callHook('created');
            if (options.el) this.$mount(options.el);
        };
        UIkit.prototype._initData = function() {
            const { data: data = {}  } = this.$options;
            for(const key in data)this.$props[key] = this[key] = data[key];
        };
        UIkit.prototype._initMethods = function() {
            const { methods: methods  } = this.$options;
            if (methods) for(const key in methods)this[key] = methods[key].bind(this);
        };
        UIkit.prototype._initComputeds = function() {
            const { computed: computed  } = this.$options;
            this._computed = {};
            if (computed) for(const key in computed)registerComputed(this, key, computed[key]);
        };
        UIkit.prototype._initProps = function(props) {
            let key;
            props = props || getProps$1(this.$options, this.$name);
            for(key in props)if (!isUndefined(props[key])) this.$props[key] = props[key];
            const exclude = [
                this.$options.computed,
                this.$options.methods
            ];
            for(key in this.$props)if (key in props && notIn(exclude, key)) this[key] = this.$props[key];
        };
        UIkit.prototype._initEvents = function() {
            this._events = [];
            for (const event of this.$options.events || []){
                if (hasOwn(event, 'handler')) registerEvent(this, event);
                else for(const key in event)registerEvent(this, event[key], key);
            }
        };
        UIkit.prototype._unbindEvents = function() {
            this._events.forEach((unbind)=>unbind()
            );
            delete this._events;
        };
        UIkit.prototype._initObservers = function() {
            this._observers = [
                initPropsObserver(this)
            ];
            if (this.$options.computed) this.registerObserver(initChildListObserver(this));
        };
        UIkit.prototype.registerObserver = function(observer) {
            this._observers.push(observer);
        };
        UIkit.prototype._disconnectObservers = function() {
            this._observers.forEach((observer)=>observer == null ? void 0 : observer.disconnect()
            );
        };
    }
    function getProps$1(opts, name) {
        const data$1 = {};
        const { args: args = [] , props: props = {} , el: el  } = opts;
        if (!props) return data$1;
        for(const key in props){
            const prop = hyphenate(key);
            let value = data1(el, prop);
            if (isUndefined(value)) continue;
            value = props[key] === Boolean && value === '' ? true : coerce$1(props[key], value);
            if (prop === 'target' && (!value || startsWith(value, '_'))) continue;
            data$1[key] = value;
        }
        const options = parseOptions(data1(el, name), args);
        for(const key3 in options){
            const prop = camelize(key3);
            if (props[prop] !== undefined) data$1[prop] = coerce$1(props[prop], options[key3]);
        }
        return data$1;
    }
    function registerComputed(component, key, cb) {
        Object.defineProperty(component, key, {
            enumerable: true,
            get () {
                const { _computed: _computed , $props: $props , $el: $el  } = component;
                if (!hasOwn(_computed, key)) _computed[key] = (cb.get || cb).call(component, $props, $el);
                return _computed[key];
            },
            set (value) {
                const { _computed: _computed  } = component;
                _computed[key] = cb.set ? cb.set.call(component, value) : value;
                if (isUndefined(_computed[key])) delete _computed[key];
            }
        });
    }
    function registerEvent(component, event, key) {
        if (!isPlainObject(event)) event = {
            name: key,
            handler: event
        };
        let { name: name , el: el1 , handler: handler , capture: capture , passive: passive , delegate: delegate , filter: filter , self: self  } = event;
        el1 = isFunction(el1) ? el1.call(component) : el1 || component.$el;
        if (isArray(el1)) {
            el1.forEach((el)=>registerEvent(component, {
                    ...event,
                    el: el
                }, key)
            );
            return;
        }
        if (!el1 || filter && !filter.call(component)) return;
        component._events.push(on(el1, name, delegate ? isString(delegate) ? delegate : delegate.call(component) : null, isString(handler) ? component[handler] : handler.bind(component), {
            passive: passive,
            capture: capture,
            self: self
        }));
    }
    function notIn(options, key) {
        return options.every((arr)=>!arr || !hasOwn(arr, key)
        );
    }
    function coerce$1(type, value) {
        if (type === Boolean) return toBoolean(value);
        else if (type === Number) return toNumber(value);
        else if (type === 'list') return toList(value);
        return type ? type(value) : value;
    }
    function toList(value3) {
        return isArray(value3) ? value3 : isString(value3) ? value3.split(/,(?![^(]*\))/).map((value)=>isNumeric(value) ? toNumber(value) : toBoolean(value.trim())
        ) : [
            value3
        ];
    }
    function normalizeData(_ref, _ref2) {
        let { data: data2 = {}  } = _ref;
        let { args: args = [] , props: props = {}  } = _ref2;
        if (isArray(data2)) data2 = data2.slice(0, args.length).reduce((data, value, index)=>{
            if (isPlainObject(value)) assign(data, value);
            else data[args[index]] = value;
            return data;
        }, {});
        for(const key in data2){
            if (isUndefined(data2[key])) delete data2[key];
            else if (props[key]) data2[key] = coerce$1(props[key], data2[key]);
        }
        return data2;
    }
    function initChildListObserver(component) {
        const { el: el  } = component.$options;
        const observer = new MutationObserver(()=>component.$emit()
        );
        observer.observe(el, {
            childList: true,
            subtree: true
        });
        return observer;
    }
    function initPropsObserver(component) {
        const { $name: $name , $options: $options , $props: $props  } = component;
        const { attrs: attrs , props: props , el: el  } = $options;
        if (!props || attrs === false) return;
        const attributes = isArray(attrs) ? attrs : Object.keys(props);
        const filter = attributes.map((key)=>hyphenate(key)
        ).concat($name);
        const observer = new MutationObserver((records)=>{
            const data = getProps$1($options, $name);
            if (records.some((_ref3)=>{
                let { attributeName: attributeName  } = _ref3;
                const prop2 = attributeName.replace('data-', '');
                return (prop2 === $name ? attributes : [
                    camelize(prop2),
                    camelize(attributeName)
                ]).some((prop)=>!isUndefined(data[prop]) && data[prop] !== $props[prop]
                );
            })) component.$reset();
        });
        observer.observe(el, {
            attributes: true,
            attributeFilter: filter.concat(filter.map((key)=>"data-" + key
            ))
        });
        return observer;
    }
    function instanceAPI(UIkit) {
        const DATA = UIkit.data;
        UIkit.prototype.$create = function(component, element, data) {
            return UIkit[component](element, data);
        };
        UIkit.prototype.$mount = function(el) {
            const { name: name  } = this.$options;
            if (!el[DATA]) el[DATA] = {};
            if (el[DATA][name]) return;
            el[DATA][name] = this;
            this.$el = this.$options.el = this.$options.el || el;
            if (within(el, document)) this._callConnected();
        };
        UIkit.prototype.$reset = function() {
            this._callDisconnected();
            this._callConnected();
        };
        UIkit.prototype.$destroy = function(removeEl) {
            if (removeEl === void 0) removeEl = false;
            const { el: el , name: name  } = this.$options;
            if (el) this._callDisconnected();
            this._callHook('destroy');
            if (!(el != null && el[DATA])) return;
            delete el[DATA][name];
            if (!isEmpty(el[DATA])) delete el[DATA];
            if (removeEl) remove$1(this.$el);
        };
        UIkit.prototype.$emit = function(e) {
            this._callUpdate(e);
        };
        UIkit.prototype.$update = function(element, e) {
            if (element === void 0) element = this.$el;
            UIkit.update(element, e);
        };
        UIkit.prototype.$getComponent = UIkit.getComponent;
        const componentName = memoize((name)=>UIkit.prefix + hyphenate(name)
        );
        Object.defineProperties(UIkit.prototype, {
            $container: Object.getOwnPropertyDescriptor(UIkit, 'container'),
            $name: {
                get () {
                    return componentName(this.$options.name);
                }
            }
        });
    }
    function componentAPI(UIkit) {
        const DATA = UIkit.data;
        const components = {};
        UIkit.component = function(name, options) {
            const id = hyphenate(name);
            name = camelize(id);
            if (!options) {
                if (isPlainObject(components[name])) components[name] = UIkit.extend(components[name]);
                return components[name];
            }
            UIkit[name] = function(element16, data) {
                const component = UIkit.component(name);
                return component.options.functional ? new component({
                    data: isPlainObject(element16) ? element16 : [
                        ...arguments
                    ]
                }) : element16 ? $$(element16).map(init)[0] : init();
                function init(element) {
                    const instance = UIkit.getComponent(element, name);
                    if (instance) {
                        if (data) {
                            instance.$destroy();
                        } else {
                            return instance;
                        }
                    }
                    return new component({
                        el: element,
                        data: data
                    });
                }
            };
            const opt = isPlainObject(options) ? {
                ...options
            } : options.options;
            opt.name = name;
            opt.install == null || opt.install(UIkit, opt, name);
            if (UIkit._initialized && !opt.functional) fastdom.read(()=>UIkit[name]("[uk-" + id + "],[data-uk-" + id + "]")
            );
            return components[name] = isPlainObject(options) ? opt : options;
        };
        UIkit.getComponents = (element)=>(element == null ? void 0 : element[DATA]) || {}
        ;
        UIkit.getComponent = (element, name)=>UIkit.getComponents(element)[name]
        ;
        UIkit.connect = (node)=>{
            if (node[DATA]) for(const name in node[DATA])node[DATA][name]._callConnected();
            for (const attribute of node.attributes){
                const name = getComponentName(attribute.name);
                if (name && name in components) UIkit[name](node);
            }
        };
        UIkit.disconnect = (node)=>{
            for(const name in node[DATA])node[DATA][name]._callDisconnected();
        };
    }
    const getComponentName = memoize((attribute)=>{
        return startsWith(attribute, 'uk-') || startsWith(attribute, 'data-uk-') ? camelize(attribute.replace('data-uk-', '').replace('uk-', '')) : false;
    });
    const UIkit1 = function(options) {
        this._init(options);
    };
    UIkit1.util = util;
    UIkit1.data = '__uikit__';
    UIkit1.prefix = 'uk-';
    UIkit1.options = {};
    UIkit1.version = '3.14.0';
    globalAPI(UIkit1);
    hooksAPI(UIkit1);
    stateAPI(UIkit1);
    componentAPI(UIkit1);
    instanceAPI(UIkit1);
    function boot(UIkit) {
        const { connect: connect , disconnect: disconnect  } = UIkit;
        if (!inBrowser || !window.MutationObserver) return;
        fastdom.read(function() {
            if (document.body) apply(document.body, connect);
            new MutationObserver((records)=>records.forEach(applyChildListMutation)
            ).observe(document, {
                childList: true,
                subtree: true
            });
            new MutationObserver((records)=>records.forEach(applyAttributeMutation)
            ).observe(document, {
                attributes: true,
                subtree: true
            });
            UIkit._initialized = true;
        });
        function applyChildListMutation(_ref) {
            let { addedNodes: addedNodes , removedNodes: removedNodes  } = _ref;
            for (const node of addedNodes)apply(node, connect);
            for (const node1 of removedNodes)apply(node1, disconnect);
        }
        function applyAttributeMutation(_ref2) {
            var _UIkit$getComponent;
            let { target: target , attributeName: attributeName  } = _ref2;
            const name = getComponentName(attributeName);
            if (!name || !(name in UIkit)) return;
            if (hasAttr(target, attributeName)) {
                UIkit[name](target);
                return;
            }
            (_UIkit$getComponent = UIkit.getComponent(target, name)) == null || _UIkit$getComponent.$destroy();
        }
    }
    var Class = {
        connected () {
            !hasClass(this.$el, this.$name) && addClass(this.$el, this.$name);
        }
    };
    var Lazyload = {
        methods: {
            lazyload (observeTargets, targets) {
                if (observeTargets === void 0) observeTargets = this.$el;
                if (targets === void 0) targets = this.$el;
                this.registerObserver(observeIntersection(observeTargets, (entries, observer)=>{
                    for (const el3 of toNodes(isFunction(targets) ? targets() : targets))$$('[loading="lazy"]', el3).forEach((el)=>removeAttr(el, 'loading')
                    );
                    for (const el2 of entries.filter((_ref)=>{
                        let { isIntersecting: isIntersecting  } = _ref;
                        return isIntersecting;
                    }).map((_ref2)=>{
                        let { target: target  } = _ref2;
                        return target;
                    }))observer.unobserve(el2);
                }));
            }
        }
    };
    var Togglable = {
        props: {
            cls: Boolean,
            animation: 'list',
            duration: Number,
            origin: String,
            transition: String
        },
        data: {
            cls: false,
            animation: [
                false
            ],
            duration: 200,
            origin: false,
            transition: 'linear',
            clsEnter: 'uk-togglabe-enter',
            clsLeave: 'uk-togglabe-leave',
            initProps: {
                overflow: '',
                height: '',
                paddingTop: '',
                paddingBottom: '',
                marginTop: '',
                marginBottom: ''
            },
            hideProps: {
                overflow: 'hidden',
                height: 0,
                paddingTop: 0,
                paddingBottom: 0,
                marginTop: 0,
                marginBottom: 0
            }
        },
        computed: {
            hasAnimation (_ref) {
                let { animation: animation  } = _ref;
                return !!animation[0];
            },
            hasTransition (_ref2) {
                let { animation: animation  } = _ref2;
                return this.hasAnimation && animation[0] === true;
            }
        },
        methods: {
            toggleElement (targets, toggle, animate) {
                return new Promise((resolve)=>Promise.all(toNodes(targets).map((el)=>{
                        const show = isBoolean(toggle) ? toggle : !this.isToggled(el);
                        if (!trigger(el, "before" + (show ? 'show' : 'hide'), [
                            this
                        ])) return Promise.reject();
                        const promise = (isFunction(animate) ? animate : animate === false || !this.hasAnimation ? this._toggle : this.hasTransition ? toggleHeight(this) : toggleAnimation(this))(el, show);
                        const cls = show ? this.clsEnter : this.clsLeave;
                        addClass(el, cls);
                        trigger(el, show ? 'show' : 'hide', [
                            this
                        ]);
                        const done = ()=>{
                            removeClass(el, cls);
                            trigger(el, show ? 'shown' : 'hidden', [
                                this
                            ]);
                            this.$update(el);
                        };
                        return promise ? promise.then(done, ()=>{
                            removeClass(el, cls);
                            return Promise.reject();
                        }) : done();
                    })).then(resolve, noop)
                );
            },
            isToggled (el) {
                if (el === void 0) el = this.$el;
                [el] = toNodes(el);
                return hasClass(el, this.clsEnter) ? true : hasClass(el, this.clsLeave) ? false : this.cls ? hasClass(el, this.cls.split(' ')[0]) : isVisible(el);
            },
            _toggle (el4, toggled) {
                if (!el4) return;
                toggled = Boolean(toggled);
                let changed;
                if (this.cls) {
                    changed = includes(this.cls, ' ') || toggled !== hasClass(el4, this.cls);
                    changed && toggleClass(el4, this.cls, includes(this.cls, ' ') ? undefined : toggled);
                } else {
                    changed = toggled === el4.hidden;
                    changed && (el4.hidden = !toggled);
                }
                $$('[autofocus]', el4).some((el)=>isVisible(el) ? el.focus() || true : el.blur()
                );
                if (changed) {
                    trigger(el4, 'toggled', [
                        toggled,
                        this
                    ]);
                    this.$update(el4);
                }
            }
        }
    };
    function toggleHeight(_ref3) {
        let { isToggled: isToggled , duration: duration , initProps: initProps , hideProps: hideProps , transition: transition , _toggle: _toggle  } = _ref3;
        return (el, show)=>{
            const inProgress = Transition.inProgress(el);
            const inner = el.hasChildNodes() ? toFloat(css1(el.firstElementChild, 'marginTop')) + toFloat(css1(el.lastElementChild, 'marginBottom')) : 0;
            const currentHeight = isVisible(el) ? height1(el) + (inProgress ? 0 : inner) : 0;
            Transition.cancel(el);
            if (!isToggled(el)) _toggle(el, true);
            height1(el, '');
            // Update child components first
            fastdom.flush();
            const endHeight = height1(el) + (inProgress ? 0 : inner);
            height1(el, currentHeight);
            return (show ? Transition.start(el, {
                ...initProps,
                overflow: 'hidden',
                height: endHeight
            }, Math.round(duration * (1 - currentHeight / endHeight)), transition) : Transition.start(el, hideProps, Math.round(duration * (currentHeight / endHeight)), transition).then(()=>_toggle(el, false)
            )).then(()=>css1(el, initProps)
            );
        };
    }
    function toggleAnimation(cmp) {
        return (el, show)=>{
            Animation.cancel(el);
            const { animation: animation , duration: duration , _toggle: _toggle  } = cmp;
            if (show) {
                _toggle(el, true);
                return Animation.in(el, animation[0], duration, cmp.origin);
            }
            return Animation.out(el, animation[1] || animation[0], duration, cmp.origin).then(()=>_toggle(el, false)
            );
        };
    }
    var Accordion = {
        mixins: [
            Class,
            Lazyload,
            Togglable
        ],
        props: {
            targets: String,
            active: null,
            collapsible: Boolean,
            multiple: Boolean,
            toggle: String,
            content: String,
            transition: String,
            offset: Number
        },
        data: {
            targets: '> *',
            active: false,
            animation: [
                true
            ],
            collapsible: true,
            multiple: false,
            clsOpen: 'uk-open',
            toggle: '> .uk-accordion-title',
            content: '> .uk-accordion-content',
            transition: 'ease',
            offset: 0
        },
        computed: {
            items: {
                get (_ref, $el) {
                    let { targets: targets  } = _ref;
                    return $$(targets, $el).filter((el)=>$(this.content, el)
                    );
                },
                watch (items, prev) {
                    items.forEach((el)=>hide1($(this.content, el), !hasClass(el, this.clsOpen))
                    );
                    if (prev || hasClass(items, this.clsOpen)) return;
                    const active = this.active !== false && items[Number(this.active)] || !this.collapsible && items[0];
                    if (active) this.toggle(active, false);
                },
                immediate: true
            },
            toggles (_ref2) {
                let { toggle: toggle  } = _ref2;
                return this.items.map((item)=>$(toggle, item)
                );
            }
        },
        connected () {
            this.lazyload();
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return this.targets + " " + this.$props.toggle;
                },
                handler (e) {
                    e.preventDefault();
                    this.toggle(index1(this.toggles, e.current));
                }
            }
        ],
        methods: {
            toggle (item, animate) {
                let items = [
                    this.items[getIndex(item, this.items)]
                ];
                const activeItems = filter$1(this.items, "." + this.clsOpen);
                if (!this.multiple && !includes(activeItems, items[0])) items = items.concat(activeItems);
                if (!this.collapsible && activeItems.length < 2 && !filter$1(items, ":not(." + this.clsOpen + ")").length) return;
                for (const el5 of items)this.toggleElement(el5, !hasClass(el5, this.clsOpen), async (el, show)=>{
                    toggleClass(el, this.clsOpen, show);
                    attr1($(this.$props.toggle, el), 'aria-expanded', show);
                    const content = $("" + (el._wrapper ? '> * ' : '') + this.content, el);
                    if (animate === false || !this.hasTransition) {
                        hide1(content, !show);
                        return;
                    }
                    if (!el._wrapper) el._wrapper = wrapAll(content, "<div" + (show ? ' hidden' : '') + ">");
                    hide1(content, false);
                    await toggleHeight(this)(el._wrapper, show);
                    hide1(content, !show);
                    delete el._wrapper;
                    unwrap(content);
                    if (show) {
                        const toggle = $(this.$props.toggle, el);
                        fastdom.read(()=>{
                            if (!isInView(toggle)) scrollIntoView(toggle, {
                                offset: this.offset
                            });
                        });
                    }
                });
            }
        }
    };
    function hide1(el, hide) {
        el && (el.hidden = hide);
    }
    var alert = {
        mixins: [
            Class,
            Togglable
        ],
        args: 'animation',
        props: {
            close: String
        },
        data: {
            animation: [
                true
            ],
            selClose: '.uk-alert-close',
            duration: 150,
            hideProps: {
                opacity: 0,
                ...Togglable.data.hideProps
            }
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return this.selClose;
                },
                handler (e) {
                    e.preventDefault();
                    this.close();
                }
            }
        ],
        methods: {
            async close () {
                await this.toggleElement(this.$el);
                this.$destroy(true);
            }
        }
    };
    var Video = {
        args: 'autoplay',
        props: {
            automute: Boolean,
            autoplay: Boolean
        },
        data: {
            automute: false,
            autoplay: true
        },
        connected () {
            this.inView = this.autoplay === 'inview';
            if (this.inView && !hasAttr(this.$el, 'preload')) this.$el.preload = 'none';
            if (this.automute) mute(this.$el);
            this.registerObserver(observeIntersection(this.$el, ()=>this.$emit()
            , {}, false));
        },
        update: {
            read () {
                if (!isVideo(this.$el)) return false;
                return {
                    visible: isVisible(this.$el) && css1(this.$el, 'visibility') !== 'hidden',
                    inView: this.inView && isInView(this.$el)
                };
            },
            write (_ref) {
                let { visible: visible , inView: inView  } = _ref;
                if (!visible || this.inView && !inView) pause(this.$el);
                else if (this.autoplay === true || this.inView && inView) play(this.$el);
            }
        }
    };
    var Resize = {
        connected () {
            var _this$$options$resize;
            this.registerObserver(observeResize(((_this$$options$resize = this.$options.resizeTargets) == null ? void 0 : _this$$options$resize.call(this)) || this.$el, ()=>this.$emit('resize')
            ));
        }
    };
    var cover1 = {
        mixins: [
            Resize,
            Video
        ],
        props: {
            width: Number,
            height: Number
        },
        data: {
            automute: true
        },
        events: {
            'load loadedmetadata' () {
                this.$emit('resize');
            }
        },
        resizeTargets () {
            return [
                this.$el,
                parent1(this.$el)
            ];
        },
        update: {
            read () {
                const { ratio: ratio , cover: cover  } = Dimensions;
                const { $el: $el , width: width , height: height  } = this;
                let dim = {
                    width: width,
                    height: height
                };
                if (!dim.width || !dim.height) {
                    const intrinsic = {
                        width: $el.naturalWidth || $el.videoWidth || $el.clientWidth,
                        height: $el.naturalHeight || $el.videoHeight || $el.clientHeight
                    };
                    if (dim.width) dim = ratio(intrinsic, 'width', dim.width);
                    else if (height) dim = ratio(intrinsic, 'height', dim.height);
                    else dim = intrinsic;
                }
                const { offsetHeight: coverHeight , offsetWidth: coverWidth  } = getPositionedParent($el) || parent1($el);
                const coverDim = cover(dim, {
                    width: coverWidth + (coverWidth % 2 ? 1 : 0),
                    height: coverHeight + (coverHeight % 2 ? 1 : 0)
                });
                if (!coverDim.width || !coverDim.height) return false;
                return coverDim;
            },
            write (_ref) {
                let { height: height , width: width  } = _ref;
                css1(this.$el, {
                    height: height,
                    width: width
                });
            },
            events: [
                'resize'
            ]
        }
    };
    function getPositionedParent(el) {
        while(el = parent1(el)){
            if (css1(el, 'position') !== 'static') return el;
        }
    }
    var Container = {
        props: {
            container: Boolean
        },
        data: {
            container: true
        },
        computed: {
            container (_ref) {
                let { container: container  } = _ref;
                return container === true && this.$container || container && $(container);
            }
        }
    };
    var Position = {
        props: {
            pos: String,
            offset: null,
            flip: Boolean
        },
        data: {
            pos: "bottom-" + (isRtl ? 'right' : 'left'),
            flip: true,
            offset: false,
            viewportPadding: 10
        },
        connected () {
            this.pos = this.$props.pos.split('-').concat('center').slice(0, 2);
            this.axis = includes([
                'top',
                'bottom'
            ], this.pos[0]) ? 'y' : 'x';
        },
        methods: {
            positionAt (element, target, boundary) {
                const [dir, align] = this.pos;
                let { offset: offset$1  } = this;
                if (!isNumeric(offset$1)) {
                    const node = $(offset$1);
                    offset$1 = node ? offset1(node)[this.axis === 'x' ? 'left' : 'top'] - offset1(target)[this.axis === 'x' ? 'right' : 'bottom'] : 0;
                }
                offset$1 = toPx(offset$1) + toPx(getCssVar('position-offset', element));
                offset$1 = [
                    includes([
                        'left',
                        'top'
                    ], dir) ? -offset$1 : +offset$1,
                    0
                ];
                const attach = {
                    element: [
                        flipPosition(dir),
                        align
                    ],
                    target: [
                        dir,
                        align
                    ]
                };
                if (this.axis === 'y') {
                    for(const prop in attach)attach[prop] = attach[prop].reverse();
                    offset$1 = offset$1.reverse();
                }
                positionAt(element, target, {
                    attach: attach,
                    offset: offset$1,
                    boundary: boundary,
                    viewportPadding: this.viewportPadding,
                    flip: this.flip
                });
            }
        }
    };
    let active$1;
    var drop = {
        mixins: [
            Container,
            Lazyload,
            Position,
            Togglable
        ],
        args: 'pos',
        props: {
            mode: 'list',
            toggle: Boolean,
            boundary: Boolean,
            boundaryAlign: Boolean,
            delayShow: Number,
            delayHide: Number,
            display: String,
            clsDrop: String
        },
        data: {
            mode: [
                'click',
                'hover'
            ],
            toggle: '- *',
            boundary: true,
            boundaryAlign: false,
            delayShow: 0,
            delayHide: 800,
            display: null,
            clsDrop: false,
            animation: [
                'uk-animation-fade'
            ],
            cls: 'uk-open',
            container: false
        },
        created () {
            this.tracker = new MouseTracker();
        },
        beforeConnect () {
            this.clsDrop = this.$props.clsDrop || "uk-" + this.$options.name;
        },
        connected () {
            addClass(this.$el, this.clsDrop);
            if (this.toggle && !this.target) {
                this.target = this.$create('toggle', query(this.toggle, this.$el), {
                    target: this.$el,
                    mode: this.mode
                }).$el;
                attr1(this.target, 'aria-haspopup', true);
                this.lazyload(this.target);
            }
        },
        disconnected () {
            if (this.isActive()) active$1 = null;
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return "." + this.clsDrop + "-close";
                },
                handler (e) {
                    e.preventDefault();
                    this.hide(false);
                }
            },
            {
                name: 'click',
                delegate () {
                    return 'a[href^="#"]';
                },
                handler (_ref) {
                    let { defaultPrevented: defaultPrevented , current: { hash: hash  }  } = _ref;
                    if (!defaultPrevented && hash && !within(hash, this.$el)) this.hide(false);
                }
            },
            {
                name: 'beforescroll',
                handler () {
                    this.hide(false);
                }
            },
            {
                name: 'toggle',
                self: true,
                handler (e, toggle) {
                    e.preventDefault();
                    if (this.isToggled()) this.hide(false);
                    else this.show(toggle == null ? void 0 : toggle.$el, false);
                }
            },
            {
                name: 'toggleshow',
                self: true,
                handler (e, toggle) {
                    e.preventDefault();
                    this.show(toggle == null ? void 0 : toggle.$el);
                }
            },
            {
                name: 'togglehide',
                self: true,
                handler (e) {
                    e.preventDefault();
                    if (!matches1(this.$el, ':focus,:hover')) this.hide();
                }
            },
            {
                name: pointerEnter + " focusin",
                filter () {
                    return includes(this.mode, 'hover');
                },
                handler (e) {
                    if (!isTouch(e)) this.clearTimers();
                }
            },
            {
                name: pointerLeave + " focusout",
                filter () {
                    return includes(this.mode, 'hover');
                },
                handler (e) {
                    if (!isTouch(e) && e.relatedTarget) this.hide();
                }
            },
            {
                name: 'toggled',
                self: true,
                handler (e, toggled) {
                    if (!toggled) return;
                    this.clearTimers();
                    this.position();
                }
            },
            {
                name: 'show',
                self: true,
                handler () {
                    active$1 = this;
                    this.tracker.init();
                    for (const handler1 of [
                        on(document, pointerDown, (_ref2)=>{
                            let { target: target  } = _ref2;
                            return !within(target, this.$el) && once(document, pointerUp + " " + pointerCancel + " scroll", (_ref3)=>{
                                let { defaultPrevented: defaultPrevented , type: type , target: newTarget  } = _ref3;
                                if (!defaultPrevented && type === pointerUp && target === newTarget && !(this.target && within(target, this.target))) this.hide(false);
                            }, true);
                        }),
                        on(document, 'keydown', (e)=>{
                            if (e.keyCode === 27) this.hide(false);
                        }),
                        ...this.display === 'static' ? [] : (()=>{
                            const handler = ()=>this.$emit()
                            ;
                            return [
                                on(window, 'resize', handler),
                                on(document, 'scroll', handler, true),
                                (()=>{
                                    const observer = observeResize(scrollParents(this.$el), handler);
                                    return ()=>observer.disconnect()
                                    ;
                                })()
                            ];
                        })()
                    ])once(this.$el, 'hide', handler1, {
                        self: true
                    });
                }
            },
            {
                name: 'beforehide',
                self: true,
                handler () {
                    this.clearTimers();
                }
            },
            {
                name: 'hide',
                handler (_ref4) {
                    let { target: target  } = _ref4;
                    if (this.$el !== target) {
                        active$1 = active$1 === null && within(target, this.$el) && this.isToggled() ? this : active$1;
                        return;
                    }
                    active$1 = this.isActive() ? null : active$1;
                    this.tracker.cancel();
                }
            }
        ],
        update: {
            write () {
                if (this.isToggled() && !hasClass(this.$el, this.clsEnter)) this.position();
            }
        },
        methods: {
            show (target, delay) {
                if (target === void 0) target = this.target;
                if (delay === void 0) delay = true;
                if (this.isToggled() && target && this.target && target !== this.target) this.hide(false);
                this.target = target;
                this.clearTimers();
                if (this.isActive()) return;
                if (active$1) {
                    if (delay && active$1.isDelaying) {
                        this.showTimer = setTimeout(()=>matches1(target, ':hover') && this.show()
                        , 10);
                        return;
                    }
                    let prev;
                    while(active$1 && prev !== active$1 && !within(this.$el, active$1.$el)){
                        prev = active$1;
                        active$1.hide(false);
                    }
                }
                if (this.container && parent1(this.$el) !== this.container) append(this.container, this.$el);
                this.showTimer = setTimeout(()=>this.toggleElement(this.$el, true)
                , delay && this.delayShow || 0);
            },
            hide (delay) {
                if (delay === void 0) delay = true;
                const hide = ()=>this.toggleElement(this.$el, false, false)
                ;
                this.clearTimers();
                this.isDelaying = getPositionedElements(this.$el).some((el)=>this.tracker.movesTo(el)
                );
                if (delay && this.isDelaying) this.hideTimer = setTimeout(this.hide, 50);
                else if (delay && this.delayHide) this.hideTimer = setTimeout(hide, this.delayHide);
                else hide();
            },
            clearTimers () {
                clearTimeout(this.showTimer);
                clearTimeout(this.hideTimer);
                this.showTimer = null;
                this.hideTimer = null;
                this.isDelaying = false;
            },
            isActive () {
                return active$1 === this;
            },
            position () {
                removeClass(this.$el, this.clsDrop + "-stack");
                toggleClass(this.$el, this.clsDrop + "-boundary", this.boundaryAlign);
                const boundary = query(this.boundary, this.$el);
                const [scrollParent] = scrollParents(this.$el);
                const scrollParentOffset = offsetViewport(scrollParent);
                const boundaryOffset = boundary ? offset1(boundary) : scrollParentOffset;
                css1(this.$el, 'maxWidth', '');
                const maxWidth = scrollParentOffset.width - (this.boundaryAlign ? 0 : 2 * this.viewportPadding);
                if (this.pos[1] === 'justify') {
                    const prop = this.axis === 'y' ? 'width' : 'height';
                    const targetOffset = offset1(this.target);
                    const alignTo = this.boundaryAlign ? boundaryOffset : targetOffset;
                    css1(this.$el, prop, alignTo[prop]);
                } else if (this.$el.offsetWidth > maxWidth) addClass(this.$el, this.clsDrop + "-stack");
                css1(this.$el, 'maxWidth', maxWidth);
                this.positionAt(this.$el, boundary && this.boundaryAlign ? boundary : this.target, boundary);
            }
        }
    };
    function getPositionedElements(el6) {
        const result = [];
        apply(el6, (el)=>css1(el, 'position') !== 'static' && result.push(el)
        );
        return result;
    }
    var formCustom = {
        mixins: [
            Class
        ],
        args: 'target',
        props: {
            target: Boolean
        },
        data: {
            target: false
        },
        computed: {
            input (_, $el) {
                return $(selInput, $el);
            },
            state () {
                return this.input.nextElementSibling;
            },
            target (_ref, $el) {
                let { target: target  } = _ref;
                return target && (target === true && parent1(this.input) === $el && this.input.nextElementSibling || $(target, $el));
            }
        },
        update () {
            var _input$files;
            const { target: target , input: input  } = this;
            if (!target) return;
            let option;
            const prop = isInput(target) ? 'value' : 'textContent';
            const prev = target[prop];
            const value = (_input$files = input.files) != null && _input$files[0] ? input.files[0].name : matches1(input, 'select') && (option = $$('option', input).filter((el)=>el.selected
            )[0] // eslint-disable-line prefer-destructuring
            ) ? option.textContent : input.value;
            if (prev !== value) target[prop] = value;
        },
        events: [
            {
                name: 'change',
                handler () {
                    this.$emit();
                }
            },
            {
                name: 'reset',
                el () {
                    return closest(this.$el, 'form');
                },
                handler () {
                    this.$emit();
                }
            }
        ]
    };
    var Margin = {
        mixins: [
            Resize
        ],
        props: {
            margin: String,
            firstColumn: Boolean
        },
        data: {
            margin: 'uk-margin-small-top',
            firstColumn: 'uk-first-column'
        },
        resizeTargets () {
            return [
                this.$el,
                ...toArray(this.$el.children)
            ];
        },
        connected () {
            this.registerObserver(observeMutation(this.$el, ()=>this.$reset()
            , {
                childList: true
            }));
        },
        update: {
            read () {
                const rows = getRows(this.$el.children);
                return {
                    rows: rows,
                    columns: getColumns(rows)
                };
            },
            write (_ref) {
                let { columns: columns , rows: rows  } = _ref;
                for (const row of rows)for (const column of row){
                    toggleClass(column, this.margin, rows[0] !== row);
                    toggleClass(column, this.firstColumn, !!~columns[0].indexOf(column));
                }
            },
            events: [
                'resize'
            ]
        }
    };
    function getRows(items) {
        return sortBy(items, 'top', 'bottom');
    }
    function getColumns(rows) {
        const columns = [];
        for (const row of rows){
            const sorted = sortBy(row, 'left', 'right');
            for(let j = 0; j < sorted.length; j++)columns[j] = columns[j] ? columns[j].concat(sorted[j]) : sorted[j];
        }
        return isRtl ? columns.reverse() : columns;
    }
    function sortBy(items, startProp, endProp) {
        const sorted = [
            []
        ];
        for (const el of items){
            if (!isVisible(el)) continue;
            let dim = getOffset(el);
            for(let i = sorted.length - 1; i >= 0; i--){
                const current = sorted[i];
                if (!current[0]) {
                    current.push(el);
                    break;
                }
                let startDim;
                if (current[0].offsetParent === el.offsetParent) startDim = getOffset(current[0]);
                else {
                    dim = getOffset(el, true);
                    startDim = getOffset(current[0], true);
                }
                if (dim[startProp] >= startDim[endProp] - 1 && dim[startProp] !== startDim[startProp]) {
                    sorted.push([
                        el
                    ]);
                    break;
                }
                if (dim[endProp] - 1 > startDim[startProp] || dim[startProp] === startDim[startProp]) {
                    current.push(el);
                    break;
                }
                if (i === 0) {
                    sorted.unshift([
                        el
                    ]);
                    break;
                }
            }
        }
        return sorted;
    }
    function getOffset(element, offset) {
        if (offset === void 0) offset = false;
        let { offsetTop: offsetTop , offsetLeft: offsetLeft , offsetHeight: offsetHeight , offsetWidth: offsetWidth  } = element;
        if (offset) [offsetTop, offsetLeft] = offsetPosition1(element);
        return {
            top: offsetTop,
            left: offsetLeft,
            bottom: offsetTop + offsetHeight,
            right: offsetLeft + offsetWidth
        };
    }
    var Scroll = {
        connected () {
            registerScrollListener(this._uid, ()=>this.$emit('scroll')
            );
        },
        disconnected () {
            unregisterScrollListener(this._uid);
        }
    };
    const scrollListeners = new Map();
    let unbindScrollListener;
    function registerScrollListener(id, listener1) {
        unbindScrollListener = unbindScrollListener || on(window, 'scroll', ()=>scrollListeners.forEach((listener)=>listener()
            )
        , {
            passive: true,
            capture: true
        });
        scrollListeners.set(id, listener1);
    }
    function unregisterScrollListener(id) {
        scrollListeners.delete(id);
        if (unbindScrollListener && !scrollListeners.size) {
            unbindScrollListener();
            unbindScrollListener = null;
        }
    }
    var grid = {
        extends: Margin,
        mixins: [
            Class,
            Scroll
        ],
        name: 'grid',
        props: {
            masonry: Boolean,
            parallax: Number
        },
        data: {
            margin: 'uk-grid-margin',
            clsStack: 'uk-grid-stack',
            masonry: false,
            parallax: 0
        },
        connected () {
            this.masonry && addClass(this.$el, 'uk-flex-top uk-flex-wrap-top');
        },
        update: [
            {
                write (_ref) {
                    let { columns: columns  } = _ref;
                    toggleClass(this.$el, this.clsStack, columns.length < 2);
                },
                events: [
                    'resize'
                ]
            },
            {
                read (data) {
                    let { columns: columns , rows: rows  } = data;
                    // Filter component makes elements positioned absolute
                    if (!columns.length || !this.masonry && !this.parallax || positionedAbsolute(this.$el)) {
                        data.translates = false;
                        return false;
                    }
                    let translates = false;
                    const nodes = children1(this.$el);
                    const columnHeights = getColumnHeights(columns);
                    const margin = getMarginTop(nodes, this.margin) * (rows.length - 1);
                    const elHeight = Math.max(...columnHeights) + margin;
                    if (this.masonry) {
                        columns = columns.map((column)=>sortBy$1(column, 'offsetTop')
                        );
                        translates = getTranslates(rows, columns);
                    }
                    let padding = Math.abs(this.parallax);
                    if (padding) padding = columnHeights.reduce((newPadding, hgt, i)=>Math.max(newPadding, hgt + margin + (i % 2 ? padding : padding / 8) - elHeight)
                    , 0);
                    return {
                        padding: padding,
                        columns: columns,
                        translates: translates,
                        height: translates ? elHeight : ''
                    };
                },
                write (_ref2) {
                    let { height: height , padding: padding  } = _ref2;
                    css1(this.$el, 'paddingBottom', padding || '');
                    height !== false && css1(this.$el, 'height', height);
                },
                events: [
                    'resize'
                ]
            },
            {
                read () {
                    if (this.parallax && positionedAbsolute(this.$el)) return false;
                    return {
                        scrolled: this.parallax ? scrolledOver(this.$el) * Math.abs(this.parallax) : false
                    };
                },
                write (_ref3) {
                    let { columns: columns , scrolled: scrolled , translates: translates  } = _ref3;
                    if (scrolled === false && !translates) return;
                    columns.forEach((column, i)=>column.forEach((el, j)=>css1(el, 'transform', !scrolled && !translates ? '' : "translateY(" + ((translates && -translates[i][j]) + (scrolled ? i % 2 ? scrolled : scrolled / 8 : 0)) + "px)")
                        )
                    );
                },
                events: [
                    'scroll',
                    'resize'
                ]
            }
        ]
    };
    function positionedAbsolute(el7) {
        return children1(el7).some((el)=>css1(el, 'position') === 'absolute'
        );
    }
    function getTranslates(rows, columns) {
        const rowHeights = rows.map((row)=>Math.max(...row.map((el)=>el.offsetHeight
            ))
        );
        return columns.map((elements)=>{
            let prev = 0;
            return elements.map((element, row)=>prev += row ? rowHeights[row - 1] - elements[row - 1].offsetHeight : 0
            );
        });
    }
    function getMarginTop(nodes, cls) {
        const [node] = nodes.filter((el)=>hasClass(el, cls)
        );
        return toFloat(node ? css1(node, 'marginTop') : css1(nodes[0], 'paddingLeft'));
    }
    function getColumnHeights(columns) {
        return columns.map((column)=>column.reduce((sum, el)=>sum + el.offsetHeight
            , 0)
        );
    }
    var heightMatch = {
        mixins: [
            Resize
        ],
        args: 'target',
        props: {
            target: String,
            row: Boolean
        },
        data: {
            target: '> *',
            row: true
        },
        computed: {
            elements: {
                get (_ref, $el) {
                    let { target: target  } = _ref;
                    return $$(target, $el);
                },
                watch () {
                    this.$reset();
                }
            }
        },
        resizeTargets () {
            return [
                this.$el,
                ...this.elements
            ];
        },
        update: {
            read () {
                return {
                    rows: (this.row ? getRows(this.elements) : [
                        this.elements
                    ]).map(match$1)
                };
            },
            write (_ref2) {
                let { rows: rows  } = _ref2;
                for (const { heights: heights , elements: elements  } of rows)elements.forEach((el, i)=>css1(el, 'minHeight', heights[i])
                );
            },
            events: [
                'resize'
            ]
        }
    };
    function match$1(elements) {
        if (elements.length < 2) return {
            heights: [
                ''
            ],
            elements: elements
        };
        css1(elements, 'minHeight', '');
        let heights = elements.map(getHeight);
        const max = Math.max(...heights);
        return {
            heights: elements.map((el, i)=>heights[i].toFixed(2) === max.toFixed(2) ? '' : max
            ),
            elements: elements
        };
    }
    function getHeight(element) {
        let style = false;
        if (!isVisible(element)) {
            style = element.style.display;
            css1(element, 'display', 'block', 'important');
        }
        const height = dimensions$1(element).height - boxModelAdjust(element, 'height', 'content-box');
        if (style !== false) css1(element, 'display', style);
        return height;
    }
    var heightViewport = {
        mixins: [
            Class,
            Resize
        ],
        props: {
            expand: Boolean,
            offsetTop: Boolean,
            offsetBottom: Boolean,
            minHeight: Number
        },
        data: {
            expand: false,
            offsetTop: false,
            offsetBottom: false,
            minHeight: 0
        },
        resizeTargets () {
            // check for offsetTop change
            return [
                this.$el,
                document.documentElement
            ];
        },
        update: {
            read (_ref) {
                let { minHeight: prev  } = _ref;
                if (!isVisible(this.$el)) return false;
                let minHeight = '';
                const box = boxModelAdjust(this.$el, 'height', 'content-box');
                if (this.expand) minHeight = Math.max(height1(window) - (dimensions$1(document.documentElement).height - dimensions$1(this.$el).height) - box, 0);
                else {
                    // on mobile devices (iOS and Android) window.innerHeight !== 100vh
                    minHeight = 'calc(100vh';
                    if (this.offsetTop) {
                        const { top: top  } = offset1(this.$el);
                        minHeight += top > 0 && top < height1(window) / 2 ? " - " + top + "px" : '';
                    }
                    if (this.offsetBottom === true) minHeight += " - " + dimensions$1(this.$el.nextElementSibling).height + "px";
                    else if (isNumeric(this.offsetBottom)) minHeight += " - " + this.offsetBottom + "vh";
                    else if (this.offsetBottom && endsWith(this.offsetBottom, 'px')) minHeight += " - " + toFloat(this.offsetBottom) + "px";
                    else if (isString(this.offsetBottom)) minHeight += " - " + dimensions$1(query(this.offsetBottom, this.$el)).height + "px";
                    minHeight += (box ? " - " + box + "px" : '') + ")";
                }
                return {
                    minHeight: minHeight,
                    prev: prev
                };
            },
            write (_ref2) {
                let { minHeight: minHeight  } = _ref2;
                css1(this.$el, {
                    minHeight: minHeight
                });
                if (this.minHeight && toFloat(css1(this.$el, 'minHeight')) < this.minHeight) css1(this.$el, 'minHeight', this.minHeight);
            },
            events: [
                'resize'
            ]
        }
    };
    var SVG = {
        args: 'src',
        props: {
            id: Boolean,
            icon: String,
            src: String,
            style: String,
            width: Number,
            height: Number,
            ratio: Number,
            class: String,
            strokeAnimation: Boolean,
            focusable: Boolean,
            attributes: 'list'
        },
        data: {
            ratio: 1,
            include: [
                'style',
                'class',
                'focusable'
            ],
            class: '',
            strokeAnimation: false
        },
        beforeConnect () {
            this.class += ' uk-svg';
        },
        connected () {
            if (!this.icon && includes(this.src, '#')) [this.src, this.icon] = this.src.split('#');
            this.svg = this.getSvg().then((el)=>{
                if (this._connected) {
                    const svg = insertSVG(el, this.$el);
                    if (this.svgEl && svg !== this.svgEl) remove$1(this.svgEl);
                    this.applyAttributes(svg, el);
                    return this.svgEl = svg;
                }
            }, noop);
            if (this.strokeAnimation) this.svg.then((el)=>{
                if (this._connected) {
                    applyAnimation(el);
                    this.registerObserver(observeIntersection(el, (records, observer)=>{
                        applyAnimation(el);
                        observer.disconnect();
                    }));
                }
            });
        },
        disconnected () {
            this.svg.then((svg)=>{
                if (this._connected) return;
                if (isVoidElement(this.$el)) this.$el.hidden = false;
                remove$1(svg);
                this.svgEl = null;
            });
            this.svg = null;
        },
        methods: {
            async getSvg () {
                if (isTag(this.$el, 'img') && !this.$el.complete && this.$el.loading === 'lazy') return new Promise((resolve)=>once(this.$el, 'load', ()=>resolve(this.getSvg())
                    )
                );
                return parseSVG(await loadSVG(this.src), this.icon) || Promise.reject('SVG not found.');
            },
            applyAttributes (el, ref) {
                for(const prop3 in this.$options.props)if (includes(this.include, prop3) && prop3 in this) attr1(el, prop3, this[prop3]);
                for(const attribute in this.attributes){
                    const [prop, value] = this.attributes[attribute].split(':', 2);
                    attr1(el, prop, value);
                }
                if (!this.id) removeAttr(el, 'id');
                const props = [
                    'width',
                    'height'
                ];
                let dimensions = props.map((prop)=>this[prop]
                );
                if (!dimensions.some((val)=>val
                )) dimensions = props.map((prop)=>attr1(ref, prop)
                );
                const viewBox = attr1(ref, 'viewBox');
                if (viewBox && !dimensions.some((val)=>val
                )) dimensions = viewBox.split(' ').slice(2);
                dimensions.forEach((val, i)=>attr1(el, props[i], toFloat(val) * this.ratio || null)
                );
            }
        }
    };
    const loadSVG = memoize(async (src)=>{
        if (src) {
            if (startsWith(src, 'data:')) return decodeURIComponent(src.split(',')[1]);
            else return (await fetch(src)).text();
        } else return Promise.reject();
    });
    function parseSVG(svg, icon) {
        var _svg;
        if (icon && includes(svg, '<symbol')) svg = parseSymbols(svg, icon) || svg;
        svg = $(svg.substr(svg.indexOf('<svg')));
        return ((_svg = svg) == null ? void 0 : _svg.hasChildNodes()) && svg;
    }
    const symbolRe = /<symbol([^]*?id=(['"])(.+?)\2[^]*?<\/)symbol>/g;
    const symbols = {};
    function parseSymbols(svg, icon) {
        if (!symbols[svg]) {
            symbols[svg] = {};
            symbolRe.lastIndex = 0;
            let match;
            while(match = symbolRe.exec(svg))symbols[svg][match[3]] = "<svg xmlns=\"http://www.w3.org/2000/svg\"" + match[1] + "svg>";
        }
        return symbols[svg][icon];
    }
    function applyAnimation(el) {
        const length = getMaxPathLength(el);
        if (length) el.style.setProperty('--uk-animation-stroke', length);
    }
    function getMaxPathLength(el) {
        return Math.ceil(Math.max(0, ...$$('[stroke]', el).map((stroke)=>{
            try {
                return stroke.getTotalLength();
            } catch (e) {
                return 0;
            }
        })));
    }
    function insertSVG(el, root) {
        if (isVoidElement(root) || isTag(root, 'canvas')) {
            root.hidden = true;
            const next = root.nextElementSibling;
            return equals(el, next) ? next : after(root, el);
        }
        const last = root.lastElementChild;
        return equals(el, last) ? last : append(root, el);
    }
    function equals(el, other) {
        return isTag(el, 'svg') && isTag(other, 'svg') && innerHTML(el) === innerHTML(other);
    }
    function innerHTML(el) {
        return (el.innerHTML || new XMLSerializer().serializeToString(el).replace(/<svg.*?>(.*?)<\/svg>/g, '$1')).replace(/\s/g, '');
    }
    var closeIcon = "<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" xmlns=\"http://www.w3.org/2000/svg\"><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" x1=\"1\" y1=\"1\" x2=\"13\" y2=\"13\"/><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" x1=\"13\" y1=\"1\" x2=\"1\" y2=\"13\"/></svg>";
    var closeLarge = "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.4\" x1=\"1\" y1=\"1\" x2=\"19\" y2=\"19\"/><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.4\" x1=\"19\" y1=\"1\" x2=\"1\" y2=\"19\"/></svg>";
    var marker = "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"9\" y=\"4\" width=\"1\" height=\"11\"/><rect x=\"4\" y=\"9\" width=\"11\" height=\"1\"/></svg>";
    var navbarToggleIcon = "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect y=\"9\" width=\"20\" height=\"2\"/><rect y=\"3\" width=\"20\" height=\"2\"/><rect y=\"15\" width=\"20\" height=\"2\"/></svg>";
    var overlayIcon = "<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"19\" y=\"0\" width=\"1\" height=\"40\"/><rect x=\"0\" y=\"19\" width=\"40\" height=\"1\"/></svg>";
    var paginationNext = "<svg width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" points=\"1 1 6 6 1 11\"/></svg>";
    var paginationPrevious = "<svg width=\"7\" height=\"12\" viewBox=\"0 0 7 12\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" points=\"6 1 1 6 6 11\"/></svg>";
    var searchIcon = "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"9\" cy=\"9\" r=\"7\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M14,14 L18,18 L14,14 Z\"/></svg>";
    var searchLarge = "<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.8\" cx=\"17.5\" cy=\"17.5\" r=\"16.5\"/><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.8\" x1=\"38\" y1=\"39\" x2=\"29\" y2=\"30\"/></svg>";
    var searchNavbar = "<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"10.5\" cy=\"10.5\" r=\"9.5\"/><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" x1=\"23\" y1=\"23\" x2=\"17\" y2=\"17\"/></svg>";
    var slidenavNext = "<svg width=\"14\" height=\"24\" viewBox=\"0 0 14 24\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.4\" points=\"1.225,23 12.775,12 1.225,1 \"/></svg>";
    var slidenavNextLarge = "<svg width=\"25\" height=\"40\" viewBox=\"0 0 25 40\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"2\" points=\"4.002,38.547 22.527,20.024 4,1.5 \"/></svg>";
    var slidenavPrevious = "<svg width=\"14\" height=\"24\" viewBox=\"0 0 14 24\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.4\" points=\"12.775,1 1.225,12 12.775,23 \"/></svg>";
    var slidenavPreviousLarge = "<svg width=\"25\" height=\"40\" viewBox=\"0 0 25 40\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"2\" points=\"20.527,1.5 2,20.024 20.525,38.547 \"/></svg>";
    var spinner = "<svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" cx=\"15\" cy=\"15\" r=\"14\"/></svg>";
    var totop = "<svg width=\"18\" height=\"10\" viewBox=\"0 0 18 10\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" points=\"1 9 9 1 17 9 \"/></svg>";
    const icons = {
        spinner: spinner,
        totop: totop,
        marker: marker,
        'close-icon': closeIcon,
        'close-large': closeLarge,
        'navbar-toggle-icon': navbarToggleIcon,
        'overlay-icon': overlayIcon,
        'pagination-next': paginationNext,
        'pagination-previous': paginationPrevious,
        'search-icon': searchIcon,
        'search-large': searchLarge,
        'search-navbar': searchNavbar,
        'slidenav-next': slidenavNext,
        'slidenav-next-large': slidenavNextLarge,
        'slidenav-previous': slidenavPrevious,
        'slidenav-previous-large': slidenavPreviousLarge
    };
    const Icon = {
        install: install$3,
        extends: SVG,
        args: 'icon',
        props: [
            'icon'
        ],
        data: {
            include: [
                'focusable'
            ]
        },
        isIcon: true,
        beforeConnect () {
            addClass(this.$el, 'uk-icon');
        },
        methods: {
            async getSvg () {
                const icon = getIcon(this.icon);
                if (!icon) throw 'Icon not found.';
                return icon;
            }
        }
    };
    const IconComponent = {
        args: false,
        extends: Icon,
        data: (vm)=>({
                icon: hyphenate(vm.constructor.options.name)
            })
        ,
        beforeConnect () {
            addClass(this.$el, this.$name);
        }
    };
    const Slidenav = {
        extends: IconComponent,
        beforeConnect () {
            addClass(this.$el, 'uk-slidenav');
            const icon = this.$props.icon;
            this.icon = hasClass(this.$el, 'uk-slidenav-large') ? icon + "-large" : icon;
        }
    };
    const Search = {
        extends: IconComponent,
        beforeConnect () {
            this.icon = hasClass(this.$el, 'uk-search-icon') && parents1(this.$el, '.uk-search-large').length ? 'search-large' : parents1(this.$el, '.uk-search-navbar').length ? 'search-navbar' : this.$props.icon;
        }
    };
    const Close = {
        extends: IconComponent,
        beforeConnect () {
            this.icon = "close-" + (hasClass(this.$el, 'uk-close-large') ? 'large' : 'icon');
        }
    };
    const Spinner = {
        extends: IconComponent,
        methods: {
            async getSvg () {
                const icon = await Icon.methods.getSvg.call(this);
                if (this.ratio !== 1) css1($('circle', icon), 'strokeWidth', 1 / this.ratio);
                return icon;
            }
        }
    };
    const parsed = {};
    function install$3(UIkit) {
        UIkit.icon.add = (name1, svg1)=>{
            const added = isString(name1) ? {
                [name1]: svg1
            } : name1;
            each(added, (svg, name)=>{
                icons[name] = svg;
                delete parsed[name];
            });
            if (UIkit._initialized) apply(document.body, (el)=>each(UIkit.getComponents(el), (cmp)=>{
                    cmp.$options.isIcon && cmp.icon in added && cmp.$reset();
                })
            );
        };
    }
    function getIcon(icon) {
        if (!icons[icon]) return null;
        if (!parsed[icon]) parsed[icon] = $((icons[applyRtl(icon)] || icons[icon]).trim());
        return parsed[icon].cloneNode(true);
    }
    function applyRtl(icon) {
        return isRtl ? swap(swap(icon, 'left', 'right'), 'previous', 'next') : icon;
    }
    const nativeLazyLoad = inBrowser && 'loading' in HTMLImageElement.prototype;
    var img1 = {
        args: 'dataSrc',
        props: {
            dataSrc: String,
            sources: String,
            offsetTop: String,
            offsetLeft: String,
            target: String,
            loading: String
        },
        data: {
            dataSrc: '',
            sources: false,
            offsetTop: '50vh',
            offsetLeft: '50vw',
            target: false,
            loading: 'lazy'
        },
        connected () {
            if (this.loading !== 'lazy') {
                this.load();
                return;
            }
            const target = [
                this.$el,
                ...queryAll(this.$props.target, this.$el)
            ];
            if (nativeLazyLoad && isImg(this.$el)) {
                this.$el.loading = 'lazy';
                setSrcAttrs(this.$el);
                if (target.length === 1) return;
            }
            ensureSrcAttribute(this.$el);
            this.registerObserver(observeIntersection(target, (entries, observer)=>{
                this.load();
                observer.disconnect();
            }, {
                rootMargin: toPx(this.offsetTop, 'height') + "px " + toPx(this.offsetLeft, 'width') + "px"
            }));
        },
        disconnected () {
            if (this._data.image) this._data.image.onload = '';
        },
        methods: {
            load () {
                if (this._data.image) return this._data.image;
                const image = isImg(this.$el) ? this.$el : getImageFromElement(this.$el, this.dataSrc, this.sources);
                removeAttr(image, 'loading');
                setSrcAttrs(this.$el, image.currentSrc);
                return this._data.image = image;
            }
        }
    };
    function setSrcAttrs(el8, src) {
        if (isImg(el8)) {
            const parentNode = parent1(el8);
            const elements = isPicture(parentNode) ? children1(parentNode) : [
                el8
            ];
            elements.forEach((el)=>setSourceProps(el, el)
            );
        } else if (src) {
            const change = !includes(el8.style.backgroundImage, src);
            if (change) {
                css1(el8, 'backgroundImage', "url(" + escape(src) + ")");
                trigger(el8, createEvent('load', false));
            }
        }
    }
    const srcProps = [
        'data-src',
        'data-srcset',
        'sizes'
    ];
    function setSourceProps(sourceEl, targetEl) {
        srcProps.forEach((prop)=>{
            const value = data1(sourceEl, prop);
            if (value) attr1(targetEl, prop.replace(/^(data-)+/, ''), value);
        });
    }
    function getImageFromElement(el, src, sources) {
        const img = new Image();
        wrapInPicture(img, sources);
        setSourceProps(el, img);
        img.onload = ()=>{
            setSrcAttrs(el, img.currentSrc);
        };
        attr1(img, 'src', src);
        return img;
    }
    function wrapInPicture(img, sources) {
        sources = parseSources(sources);
        if (sources.length) {
            const picture = fragment('<picture>');
            for (const attrs of sources){
                const source = fragment('<source>');
                attr1(source, attrs);
                append(picture, source);
            }
            append(picture, img);
        }
    }
    function parseSources(sources) {
        if (!sources) return [];
        if (startsWith(sources, '[')) try {
            sources = JSON.parse(sources);
        } catch (e) {
            sources = [];
        }
        else sources = parseOptions(sources);
        if (!isArray(sources)) sources = [
            sources
        ];
        return sources.filter((source)=>!isEmpty(source)
        );
    }
    function ensureSrcAttribute(el) {
        if (isImg(el) && !hasAttr(el, 'src')) attr1(el, 'src', 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"></svg>');
    }
    function isPicture(el) {
        return isTag(el, 'picture');
    }
    function isImg(el) {
        return isTag(el, 'img');
    }
    var Media = {
        props: {
            media: Boolean
        },
        data: {
            media: false
        },
        connected () {
            const media = toMedia(this.media);
            this.matchMedia = true;
            if (media) {
                this.mediaObj = window.matchMedia(media);
                const handler = ()=>{
                    this.matchMedia = this.mediaObj.matches;
                    trigger(this.$el, createEvent('mediachange', false, true, [
                        this.mediaObj
                    ]));
                };
                this.offMediaObj = on(this.mediaObj, 'change', ()=>{
                    handler();
                    this.$emit('resize');
                });
                handler();
            }
        },
        disconnected () {
            var _this$offMediaObj;
            (_this$offMediaObj = this.offMediaObj) == null || _this$offMediaObj.call(this);
        }
    };
    function toMedia(value) {
        if (isString(value)) {
            if (startsWith(value, '@')) {
                const name = "breakpoint-" + value.substr(1);
                value = toFloat(getCssVar(name));
            } else if (isNaN(value)) return value;
        }
        return value && isNumeric(value) ? "(min-width: " + value + "px)" : '';
    }
    var leader = {
        mixins: [
            Class,
            Media,
            Resize
        ],
        props: {
            fill: String
        },
        data: {
            fill: '',
            clsWrapper: 'uk-leader-fill',
            clsHide: 'uk-leader-hide',
            attrFill: 'data-fill'
        },
        computed: {
            fill (_ref) {
                let { fill: fill  } = _ref;
                return fill || getCssVar('leader-fill-content');
            }
        },
        connected () {
            [this.wrapper] = wrapInner(this.$el, "<span class=\"" + this.clsWrapper + "\">");
        },
        disconnected () {
            unwrap(this.wrapper.childNodes);
        },
        update: {
            read () {
                const width = Math.trunc(this.$el.offsetWidth / 2);
                return {
                    width: width,
                    fill: this.fill,
                    hide: !this.matchMedia
                };
            },
            write (_ref2) {
                let { width: width , fill: fill , hide: hide  } = _ref2;
                toggleClass(this.wrapper, this.clsHide, hide);
                attr1(this.wrapper, this.attrFill, new Array(width).join(fill));
            },
            events: [
                'resize'
            ]
        }
    };
    const active1 = [];
    var Modal = {
        mixins: [
            Class,
            Container,
            Togglable
        ],
        props: {
            selPanel: String,
            selClose: String,
            escClose: Boolean,
            bgClose: Boolean,
            stack: Boolean
        },
        data: {
            cls: 'uk-open',
            escClose: true,
            bgClose: true,
            overlay: true,
            stack: false
        },
        computed: {
            panel (_ref, $el) {
                let { selPanel: selPanel  } = _ref;
                return $(selPanel, $el);
            },
            transitionElement () {
                return this.panel;
            },
            bgClose (_ref2) {
                let { bgClose: bgClose  } = _ref2;
                return bgClose && this.panel;
            }
        },
        beforeDisconnect () {
            if (includes(active1, this)) this.toggleElement(this.$el, false, false);
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return this.selClose;
                },
                handler (e) {
                    e.preventDefault();
                    this.hide();
                }
            },
            {
                name: 'toggle',
                self: true,
                handler (e) {
                    if (e.defaultPrevented) return;
                    e.preventDefault();
                    if (this.isToggled() === includes(active1, this)) this.toggle();
                }
            },
            {
                name: 'beforeshow',
                self: true,
                handler (e) {
                    if (includes(active1, this)) return false;
                    if (!this.stack && active1.length) {
                        Promise.all(active1.map((modal)=>modal.hide()
                        )).then(this.show);
                        e.preventDefault();
                    } else active1.push(this);
                }
            },
            {
                name: 'show',
                self: true,
                handler () {
                    const docEl = document.documentElement;
                    if (width1(window) > docEl.clientWidth && this.overlay) css1(document.body, 'overflowY', 'scroll');
                    if (this.stack) css1(this.$el, 'zIndex', toFloat(css1(this.$el, 'zIndex')) + active1.length);
                    addClass(docEl, this.clsPage);
                    if (this.bgClose) once(this.$el, 'hide', on(document, pointerDown, (_ref3)=>{
                        let { target: target  } = _ref3;
                        if (last1(active1) !== this || this.overlay && !within(target, this.$el) || within(target, this.panel)) return;
                        once(document, pointerUp + " " + pointerCancel + " scroll", (_ref4)=>{
                            let { defaultPrevented: defaultPrevented , type: type , target: newTarget  } = _ref4;
                            if (!defaultPrevented && type === pointerUp && target === newTarget) this.hide();
                        }, true);
                    }), {
                        self: true
                    });
                    if (this.escClose) once(this.$el, 'hide', on(document, 'keydown', (e)=>{
                        if (e.keyCode === 27 && last1(active1) === this) this.hide();
                    }), {
                        self: true
                    });
                }
            },
            {
                name: 'shown',
                self: true,
                handler () {
                    if (!isFocusable(this.$el)) attr1(this.$el, 'tabindex', '-1');
                    if (!$(':focus', this.$el)) this.$el.focus();
                }
            },
            {
                name: 'hidden',
                self: true,
                handler () {
                    if (includes(active1, this)) active1.splice(active1.indexOf(this), 1);
                    if (!active1.length) css1(document.body, 'overflowY', '');
                    css1(this.$el, 'zIndex', '');
                    if (!active1.some((modal)=>modal.clsPage === this.clsPage
                    )) removeClass(document.documentElement, this.clsPage);
                }
            }
        ],
        methods: {
            toggle () {
                return this.isToggled() ? this.hide() : this.show();
            },
            show () {
                if (this.container && parent1(this.$el) !== this.container) {
                    append(this.container, this.$el);
                    return new Promise((resolve)=>requestAnimationFrame(()=>this.show().then(resolve)
                        )
                    );
                }
                return this.toggleElement(this.$el, true, animate1(this));
            },
            hide () {
                return this.toggleElement(this.$el, false, animate1(this));
            }
        }
    };
    function animate1(_ref5) {
        let { transitionElement: transitionElement , _toggle: _toggle  } = _ref5;
        return (el, show)=>new Promise((resolve, reject)=>once(el, 'show hide', ()=>{
                    el._reject == null || el._reject();
                    el._reject = reject;
                    _toggle(el, show);
                    const off = once(transitionElement, 'transitionstart', ()=>{
                        once(transitionElement, 'transitionend transitioncancel', resolve, {
                            self: true
                        });
                        clearTimeout(timer);
                    }, {
                        self: true
                    });
                    const timer = setTimeout(()=>{
                        off();
                        resolve();
                    }, toMs(css1(transitionElement, 'transitionDuration')));
                })
            ).then(()=>delete el._reject
            )
        ;
    }
    function toMs(time) {
        return time ? endsWith(time, 'ms') ? toFloat(time) : toFloat(time) * 1000 : 0;
    }
    var modal1 = {
        install: install$2,
        mixins: [
            Modal
        ],
        data: {
            clsPage: 'uk-modal-page',
            selPanel: '.uk-modal-dialog',
            selClose: '.uk-modal-close, .uk-modal-close-default, .uk-modal-close-outside, .uk-modal-close-full'
        },
        events: [
            {
                name: 'show',
                self: true,
                handler () {
                    if (hasClass(this.panel, 'uk-margin-auto-vertical')) addClass(this.$el, 'uk-flex');
                    else css1(this.$el, 'display', 'block');
                    height1(this.$el); // force reflow
                }
            },
            {
                name: 'hidden',
                self: true,
                handler () {
                    css1(this.$el, 'display', '');
                    removeClass(this.$el, 'uk-flex');
                }
            }
        ]
    };
    function install$2(_ref) {
        let { modal: modal  } = _ref;
        modal.dialog = function(content, options) {
            const dialog = modal("<div class=\"uk-modal\"> <div class=\"uk-modal-dialog\">" + content + "</div> </div>", options);
            dialog.show();
            on(dialog.$el, 'hidden', async ()=>{
                await Promise.resolve();
                dialog.$destroy(true);
            }, {
                self: true
            });
            return dialog;
        };
        modal.alert = function(message, options) {
            return openDialog((_ref2)=>{
                let { labels: labels  } = _ref2;
                return "<div class=\"uk-modal-body\">" + (isString(message) ? message : html1(message)) + "</div> <div class=\"uk-modal-footer uk-text-right\"> <button class=\"uk-button uk-button-primary uk-modal-close\" autofocus>" + labels.ok + "</button> </div>";
            }, options, (deferred)=>deferred.resolve()
            );
        };
        modal.confirm = function(message, options) {
            return openDialog((_ref3)=>{
                let { labels: labels  } = _ref3;
                return "<form> <div class=\"uk-modal-body\">" + (isString(message) ? message : html1(message)) + "</div> <div class=\"uk-modal-footer uk-text-right\"> <button class=\"uk-button uk-button-default uk-modal-close\" type=\"button\">" + labels.cancel + "</button> <button class=\"uk-button uk-button-primary\" autofocus>" + labels.ok + "</button> </div> </form>";
            }, options, (deferred)=>deferred.reject()
            );
        };
        modal.prompt = function(message, value, options) {
            return openDialog((_ref4)=>{
                let { labels: labels  } = _ref4;
                return "<form class=\"uk-form-stacked\"> <div class=\"uk-modal-body\"> <label>" + (isString(message) ? message : html1(message)) + "</label> <input class=\"uk-input\" value=\"" + (value || '') + "\" autofocus> </div> <div class=\"uk-modal-footer uk-text-right\"> <button class=\"uk-button uk-button-default uk-modal-close\" type=\"button\">" + labels.cancel + "</button> <button class=\"uk-button uk-button-primary\">" + labels.ok + "</button> </div> </form>";
            }, options, (deferred)=>deferred.resolve(null)
            , (dialog)=>$('input', dialog.$el).value
            );
        };
        modal.labels = {
            ok: 'Ok',
            cancel: 'Cancel'
        };
        function openDialog(tmpl, options, hideFn, submitFn) {
            options = {
                bgClose: false,
                escClose: true,
                labels: modal.labels,
                ...options
            };
            const dialog = modal.dialog(tmpl(options), options);
            const deferred = new Deferred();
            let resolved = false;
            on(dialog.$el, 'submit', 'form', (e)=>{
                e.preventDefault();
                deferred.resolve(submitFn == null ? void 0 : submitFn(dialog));
                resolved = true;
                dialog.hide();
            });
            on(dialog.$el, 'hide', ()=>!resolved && hideFn(deferred)
            );
            deferred.promise.dialog = dialog;
            return deferred.promise;
        }
    }
    var nav = {
        extends: Accordion,
        data: {
            targets: '> .uk-parent',
            toggle: '> a',
            content: '> ul'
        }
    };
    var navbar = {
        mixins: [
            Class,
            Container
        ],
        props: {
            dropdown: String,
            mode: 'list',
            align: String,
            offset: Number,
            boundary: Boolean,
            boundaryAlign: Boolean,
            clsDrop: String,
            delayShow: Number,
            delayHide: Number,
            dropbar: Boolean,
            dropbarAnchor: Boolean,
            duration: Number
        },
        data: {
            dropdown: '.uk-navbar-nav > li > a, .uk-navbar-item, .uk-navbar-toggle',
            align: isRtl ? 'right' : 'left',
            clsDrop: 'uk-navbar-dropdown',
            mode: undefined,
            offset: undefined,
            delayShow: undefined,
            delayHide: undefined,
            boundaryAlign: undefined,
            flip: 'x',
            boundary: true,
            dropbar: false,
            dropbarAnchor: false,
            duration: 200,
            container: false
        },
        computed: {
            boundary (_ref, $el) {
                let { boundary: boundary  } = _ref;
                return boundary === true ? $el : boundary;
            },
            dropbarAnchor (_ref2, $el) {
                let { dropbarAnchor: dropbarAnchor  } = _ref2;
                return query(dropbarAnchor, $el);
            },
            pos (_ref3) {
                let { align: align  } = _ref3;
                return "bottom-" + align;
            },
            dropbar: {
                get (_ref4) {
                    let { dropbar: dropbar  } = _ref4;
                    if (!dropbar) return null;
                    dropbar = this._dropbar || query(dropbar, this.$el) || $('+ .uk-navbar-dropbar', this.$el);
                    return dropbar ? dropbar : this._dropbar = $('<div></div>');
                },
                watch (dropbar) {
                    addClass(dropbar, 'uk-navbar-dropbar');
                },
                immediate: true
            },
            dropContainer (_, $el) {
                return this.container || $el;
            },
            dropdowns: {
                get (_ref5, $el) {
                    let { clsDrop: clsDrop  } = _ref5;
                    const dropdowns = $$("." + clsDrop, $el);
                    if (this.dropContainer !== $el) for (const el of $$("." + clsDrop, this.dropContainer)){
                        var _this$getDropdown;
                        const target = (_this$getDropdown = this.getDropdown(el)) == null ? void 0 : _this$getDropdown.target;
                        if (!includes(dropdowns, el) && target && within(target, this.$el)) dropdowns.push(el);
                    }
                    return dropdowns;
                },
                watch (dropdowns) {
                    this.$create('drop', dropdowns.filter((el)=>!this.getDropdown(el)
                    ), {
                        ...this.$props,
                        boundary: this.boundary,
                        pos: this.pos,
                        offset: this.dropbar || this.offset
                    });
                },
                immediate: true
            },
            toggles: {
                get (_ref6, $el) {
                    let { dropdown: dropdown  } = _ref6;
                    return $$(dropdown, $el);
                },
                watch () {
                    const justify = hasClass(this.$el, 'uk-navbar-justify');
                    for (const container of $$('.uk-navbar-nav, .uk-navbar-left, .uk-navbar-right', this.$el))css1(container, 'flexGrow', justify ? $$(this.dropdown, container).length : '');
                },
                immediate: true
            }
        },
        disconnected () {
            this.dropbar && remove$1(this.dropbar);
            delete this._dropbar;
        },
        events: [
            {
                name: 'mouseover focusin',
                delegate () {
                    return this.dropdown;
                },
                handler (_ref7) {
                    let { current: current  } = _ref7;
                    const active = this.getActive();
                    if (active && includes(active.mode, 'hover') && active.target && !within(active.target, current) && !active.isDelaying) active.hide(false);
                }
            },
            {
                name: 'keydown',
                delegate () {
                    return this.dropdown;
                },
                handler (e) {
                    const { current: current , keyCode: keyCode  } = e;
                    const active = this.getActive();
                    if (keyCode === keyMap.DOWN && hasAttr(current, 'aria-expanded')) {
                        e.preventDefault();
                        if (!active || active.target !== current) {
                            current.click();
                            once(this.dropContainer, 'show', (_ref8)=>{
                                let { target: target  } = _ref8;
                                return focusFirstFocusableElement(target);
                            });
                        } else focusFirstFocusableElement(active.$el);
                    }
                    handleNavItemNavigation(e, this.toggles, active);
                }
            },
            {
                name: 'keydown',
                el () {
                    return this.dropContainer;
                },
                delegate () {
                    return "." + this.clsDrop;
                },
                handler (e) {
                    const { current: current , keyCode: keyCode  } = e;
                    if (!includes(this.dropdowns, current)) return;
                    const active = this.getActive();
                    const elements = $$(selFocusable, current);
                    const i = findIndex(elements, (el)=>matches1(el, ':focus')
                    );
                    if (keyCode === keyMap.UP) {
                        e.preventDefault();
                        if (i > 0) elements[i - 1].focus();
                    }
                    if (keyCode === keyMap.DOWN) {
                        e.preventDefault();
                        if (i < elements.length - 1) elements[i + 1].focus();
                    }
                    if (keyCode === keyMap.ESC) {
                        var _active$target;
                        active == null || (_active$target = active.target) == null || _active$target.focus();
                    }
                    handleNavItemNavigation(e, this.toggles, active);
                }
            },
            {
                name: 'mouseleave',
                el () {
                    return this.dropbar;
                },
                filter () {
                    return this.dropbar;
                },
                handler () {
                    const active = this.getActive();
                    if (active && includes(active.mode, 'hover') && !this.dropdowns.some((el)=>matches1(el, ':hover')
                    )) active.hide();
                }
            },
            {
                name: 'beforeshow',
                el () {
                    return this.dropContainer;
                },
                filter () {
                    return this.dropbar;
                },
                handler (_, _ref9) {
                    let { $el: $el  } = _ref9;
                    if (!hasClass($el, this.clsDrop)) return;
                    if (!parent1(this.dropbar)) after(this.dropbarAnchor || this.$el, this.dropbar);
                    addClass($el, this.clsDrop + "-dropbar");
                }
            },
            {
                name: 'show',
                el () {
                    return this.dropContainer;
                },
                filter () {
                    return this.dropbar;
                },
                handler (_, _ref10) {
                    let { $el: $el , pos: [dir] = []  } = _ref10;
                    if (!hasClass($el, this.clsDrop)) return;
                    if (dir === 'bottom') this.transitionTo(offset1($el).bottom - offset1(this.dropbar).top + toFloat(css1($el, 'marginBottom')), $el);
                }
            },
            {
                name: 'beforehide',
                el () {
                    return this.dropContainer;
                },
                filter () {
                    return this.dropbar;
                },
                handler (e, _ref11) {
                    let { $el: $el  } = _ref11;
                    const active = this.getActive();
                    if (matches1(this.dropbar, ':hover') && (active == null ? void 0 : active.$el) === $el && !this.toggles.some((el)=>active.target !== el && matches1(el, ':focus')
                    )) e.preventDefault();
                }
            },
            {
                name: 'hide',
                el () {
                    return this.dropContainer;
                },
                filter () {
                    return this.dropbar;
                },
                handler (_, _ref12) {
                    let { $el: $el  } = _ref12;
                    if (!hasClass($el, this.clsDrop)) return;
                    const active = this.getActive();
                    if (!active || (active == null ? void 0 : active.$el) === $el) this.transitionTo(0);
                }
            }
        ],
        methods: {
            getActive () {
                return active$1 && within(active$1.target, this.$el) && active$1;
            },
            transitionTo (newHeight, el) {
                const { dropbar: dropbar  } = this;
                const oldHeight = isVisible(dropbar) ? height1(dropbar) : 0;
                el = oldHeight < newHeight && el;
                css1(el, 'clip', "rect(0," + el.offsetWidth + "px," + oldHeight + "px,0)");
                height1(dropbar, oldHeight);
                Transition.cancel([
                    el,
                    dropbar
                ]);
                return Promise.all([
                    Transition.start(dropbar, {
                        height: newHeight
                    }, this.duration),
                    Transition.start(el, {
                        clip: "rect(0," + el.offsetWidth + "px," + newHeight + "px,0)"
                    }, this.duration)
                ]).catch(noop).then(()=>{
                    css1(el, {
                        clip: ''
                    });
                    this.$update(dropbar);
                });
            },
            getDropdown (el) {
                return this.$getComponent(el, 'drop') || this.$getComponent(el, 'dropdown');
            }
        }
    };
    function handleNavItemNavigation(e, toggles, active) {
        const { current: current , keyCode: keyCode  } = e;
        const target = (active == null ? void 0 : active.target) || current;
        const i = toggles.indexOf(target);
        // Left
        if (keyCode === keyMap.LEFT && i > 0) {
            active == null || active.hide(false);
            toggles[i - 1].focus();
        }
        // Right
        if (keyCode === keyMap.RIGHT && i < toggles.length - 1) {
            active == null || active.hide(false);
            toggles[i + 1].focus();
        }
        if (keyCode === keyMap.TAB) {
            target.focus();
            active == null || active.hide(false);
        }
    }
    function focusFirstFocusableElement(el) {
        if (!$(':focus', el)) {
            var _$;
            (_$ = $(selFocusable, el)) == null || _$.focus();
        }
    }
    const keyMap = {
        TAB: 9,
        ESC: 27,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40
    };
    var Swipe = {
        props: {
            swiping: Boolean
        },
        data: {
            swiping: true
        },
        computed: {
            swipeTarget (props, $el) {
                return $el;
            }
        },
        connected () {
            if (!this.swiping) return;
            registerEvent(this, {
                el: this.swipeTarget,
                name: pointerDown,
                passive: true,
                handler (e1) {
                    if (!isTouch(e1)) return;
                    // Handle Swipe Gesture
                    const pos = getEventPos(e1);
                    const target = 'tagName' in e1.target ? e1.target : parent1(e1.target);
                    once(document, pointerUp + " " + pointerCancel + " scroll", (e)=>{
                        const { x: x , y: y  } = getEventPos(e);
                        // swipe
                        if (e.type !== 'scroll' && target && x && Math.abs(pos.x - x) > 100 || y && Math.abs(pos.y - y) > 100) setTimeout(()=>{
                            trigger(target, 'swipe');
                            trigger(target, "swipe" + swipeDirection(pos.x, pos.y, x, y));
                        });
                    });
                }
            });
        }
    };
    function swipeDirection(x1, y1, x2, y2) {
        return Math.abs(x1 - x2) >= Math.abs(y1 - y2) ? x1 - x2 > 0 ? 'Left' : 'Right' : y1 - y2 > 0 ? 'Up' : 'Down';
    }
    var offcanvas = {
        mixins: [
            Modal,
            Swipe
        ],
        args: 'mode',
        props: {
            mode: String,
            flip: Boolean,
            overlay: Boolean
        },
        data: {
            mode: 'slide',
            flip: false,
            overlay: false,
            clsPage: 'uk-offcanvas-page',
            clsContainer: 'uk-offcanvas-container',
            selPanel: '.uk-offcanvas-bar',
            clsFlip: 'uk-offcanvas-flip',
            clsContainerAnimation: 'uk-offcanvas-container-animation',
            clsSidebarAnimation: 'uk-offcanvas-bar-animation',
            clsMode: 'uk-offcanvas',
            clsOverlay: 'uk-offcanvas-overlay',
            selClose: '.uk-offcanvas-close',
            container: false
        },
        computed: {
            clsFlip (_ref) {
                let { flip: flip , clsFlip: clsFlip  } = _ref;
                return flip ? clsFlip : '';
            },
            clsOverlay (_ref2) {
                let { overlay: overlay , clsOverlay: clsOverlay  } = _ref2;
                return overlay ? clsOverlay : '';
            },
            clsMode (_ref3) {
                let { mode: mode , clsMode: clsMode  } = _ref3;
                return clsMode + "-" + mode;
            },
            clsSidebarAnimation (_ref4) {
                let { mode: mode , clsSidebarAnimation: clsSidebarAnimation  } = _ref4;
                return mode === 'none' || mode === 'reveal' ? '' : clsSidebarAnimation;
            },
            clsContainerAnimation (_ref5) {
                let { mode: mode , clsContainerAnimation: clsContainerAnimation  } = _ref5;
                return mode !== 'push' && mode !== 'reveal' ? '' : clsContainerAnimation;
            },
            transitionElement (_ref6) {
                let { mode: mode  } = _ref6;
                return mode === 'reveal' ? parent1(this.panel) : this.panel;
            }
        },
        update: {
            read () {
                if (this.isToggled() && !isVisible(this.$el)) this.hide();
            },
            events: [
                'resize'
            ]
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return 'a[href^="#"]';
                },
                handler (_ref7) {
                    let { current: { hash: hash  } , defaultPrevented: defaultPrevented  } = _ref7;
                    if (!defaultPrevented && hash && $(hash, document.body)) this.hide();
                }
            },
            {
                name: 'touchstart',
                passive: true,
                el () {
                    return this.panel;
                },
                handler (_ref8) {
                    let { targetTouches: targetTouches  } = _ref8;
                    if (targetTouches.length === 1) this.clientY = targetTouches[0].clientY;
                }
            },
            {
                name: 'touchmove',
                self: true,
                passive: false,
                filter () {
                    return this.overlay;
                },
                handler (e) {
                    e.cancelable && e.preventDefault();
                }
            },
            {
                name: 'touchmove',
                passive: false,
                el () {
                    return this.panel;
                },
                handler (e) {
                    if (e.targetTouches.length !== 1) return;
                    const clientY = e.targetTouches[0].clientY - this.clientY;
                    const { scrollTop: scrollTop , scrollHeight: scrollHeight , clientHeight: clientHeight  } = this.panel;
                    if (clientHeight >= scrollHeight || scrollTop === 0 && clientY > 0 || scrollHeight - scrollTop <= clientHeight && clientY < 0) e.cancelable && e.preventDefault();
                }
            },
            {
                name: 'show',
                self: true,
                handler () {
                    if (this.mode === 'reveal' && !hasClass(parent1(this.panel), this.clsMode)) {
                        wrapAll(this.panel, '<div>');
                        addClass(parent1(this.panel), this.clsMode);
                    }
                    css1(document.documentElement, 'overflowY', this.overlay ? 'hidden' : '');
                    addClass(document.body, this.clsContainer, this.clsFlip);
                    css1(document.body, 'touch-action', 'pan-y pinch-zoom');
                    css1(this.$el, 'display', 'block');
                    addClass(this.$el, this.clsOverlay);
                    addClass(this.panel, this.clsSidebarAnimation, this.mode !== 'reveal' ? this.clsMode : '');
                    height1(document.body); // force reflow
                    addClass(document.body, this.clsContainerAnimation);
                    this.clsContainerAnimation && suppressUserScale();
                }
            },
            {
                name: 'hide',
                self: true,
                handler () {
                    removeClass(document.body, this.clsContainerAnimation);
                    css1(document.body, 'touch-action', '');
                }
            },
            {
                name: 'hidden',
                self: true,
                handler () {
                    this.clsContainerAnimation && resumeUserScale();
                    if (this.mode === 'reveal') unwrap(this.panel);
                    removeClass(this.panel, this.clsSidebarAnimation, this.clsMode);
                    removeClass(this.$el, this.clsOverlay);
                    css1(this.$el, 'display', '');
                    removeClass(document.body, this.clsContainer, this.clsFlip);
                    css1(document.documentElement, 'overflowY', '');
                }
            },
            {
                name: 'swipeLeft swipeRight',
                handler (e) {
                    if (this.isToggled() && endsWith(e.type, 'Left') ^ this.flip) this.hide();
                }
            }
        ]
    };
    // Chrome in responsive mode zooms page upon opening offcanvas
    function suppressUserScale() {
        getViewport().content += ',user-scalable=0';
    }
    function resumeUserScale() {
        const viewport = getViewport();
        viewport.content = viewport.content.replace(/,user-scalable=0$/, '');
    }
    function getViewport() {
        return $('meta[name="viewport"]', document.head) || append(document.head, '<meta name="viewport">');
    }
    var overflowAuto = {
        mixins: [
            Class,
            Resize
        ],
        props: {
            selContainer: String,
            selContent: String,
            minHeight: Number
        },
        data: {
            selContainer: '.uk-modal',
            selContent: '.uk-modal-dialog',
            minHeight: 150
        },
        computed: {
            container (_ref, $el) {
                let { selContainer: selContainer  } = _ref;
                return closest($el, selContainer);
            },
            content (_ref2, $el) {
                let { selContent: selContent  } = _ref2;
                return closest($el, selContent);
            }
        },
        resizeTargets () {
            return [
                this.container,
                this.content
            ];
        },
        update: {
            read () {
                if (!this.content || !this.container || !isVisible(this.$el)) return false;
                return {
                    max: Math.max(this.minHeight, height1(this.container) - (dimensions$1(this.content).height - height1(this.$el)))
                };
            },
            write (_ref3) {
                let { max: max  } = _ref3;
                css1(this.$el, {
                    minHeight: this.minHeight,
                    maxHeight: max
                });
            },
            events: [
                'resize'
            ]
        }
    };
    var responsive = {
        mixins: [
            Resize
        ],
        props: [
            'width',
            'height'
        ],
        resizeTargets () {
            return [
                this.$el,
                parent1(this.$el)
            ];
        },
        connected () {
            addClass(this.$el, 'uk-responsive-width');
        },
        update: {
            read () {
                return isVisible(this.$el) && this.width && this.height ? {
                    width: width1(parent1(this.$el)),
                    height: this.height
                } : false;
            },
            write (dim) {
                height1(this.$el, Dimensions.contain({
                    height: this.height,
                    width: this.width
                }, dim).height);
            },
            events: [
                'resize'
            ]
        }
    };
    var scroll1 = {
        props: {
            offset: Number
        },
        data: {
            offset: 0
        },
        methods: {
            async scrollTo (el) {
                el = el && $(el) || document.body;
                if (trigger(this.$el, 'beforescroll', [
                    this,
                    el
                ])) {
                    await scrollIntoView(el, {
                        offset: this.offset
                    });
                    trigger(this.$el, 'scrolled', [
                        this,
                        el
                    ]);
                }
            }
        },
        events: {
            click (e) {
                if (e.defaultPrevented) return;
                e.preventDefault();
                this.scrollTo(getTargetElement(this.$el));
            }
        }
    };
    function getTargetElement(el) {
        return document.getElementById(decodeURIComponent(el.hash).substring(1));
    }
    var scrollspy = {
        mixins: [
            Scroll
        ],
        args: 'cls',
        props: {
            cls: String,
            target: String,
            hidden: Boolean,
            offsetTop: Number,
            offsetLeft: Number,
            repeat: Boolean,
            delay: Number
        },
        data: ()=>({
                cls: '',
                target: false,
                hidden: true,
                offsetTop: 0,
                offsetLeft: 0,
                repeat: false,
                delay: 0,
                inViewClass: 'uk-scrollspy-inview'
            })
        ,
        computed: {
            elements: {
                get (_ref, $el) {
                    let { target: target  } = _ref;
                    return target ? $$(target, $el) : [
                        $el
                    ];
                },
                watch (elements, prev) {
                    if (this.hidden) css1(filter$1(elements, ":not(." + this.inViewClass + ")"), 'visibility', 'hidden');
                    if (prev) this.$reset();
                },
                immediate: true
            }
        },
        connected () {
            this._data.elements = new Map();
            this.registerObserver(observeIntersection(this.elements, (records)=>{
                const elements = this._data.elements;
                for (const { target: el , isIntersecting: isIntersecting  } of records){
                    if (!elements.has(el)) elements.set(el, {
                        cls: data1(el, 'uk-scrollspy-class') || this.cls
                    });
                    const state = elements.get(el);
                    if (!this.repeat && state.show) continue;
                    state.show = isIntersecting;
                }
                this.$emit();
            }, {
                rootMargin: toPx(this.offsetTop, 'height') - 1 + "px " + (toPx(this.offsetLeft, 'width') - 1) + "px"
            }, false));
        },
        disconnected () {
            for (const [el, state] of this._data.elements.entries())removeClass(el, this.inViewClass, (state == null ? void 0 : state.cls) || '');
        },
        update: [
            {
                write (data) {
                    for (const [el, state] of data.elements.entries()){
                        if (state.show && !state.inview && !state.queued) {
                            state.queued = true;
                            data.promise = (data.promise || Promise.resolve()).then(()=>new Promise((resolve)=>setTimeout(resolve, this.delay)
                                )
                            ).then(()=>{
                                this.toggle(el, true);
                                setTimeout(()=>{
                                    state.queued = false;
                                    this.$emit();
                                }, 300);
                            });
                        } else if (!state.show && state.inview && !state.queued && this.repeat) this.toggle(el, false);
                    }
                }
            }
        ],
        methods: {
            toggle (el, inview) {
                const state = this._data.elements.get(el);
                state.off == null || state.off();
                css1(el, 'visibility', !inview && this.hidden ? 'hidden' : '');
                toggleClass(el, this.inViewClass, inview);
                toggleClass(el, state.cls);
                if (/\buk-animation-/.test(state.cls)) {
                    const removeAnimationClasses = ()=>removeClasses(el, 'uk-animation-[\\w-]+')
                    ;
                    if (inview) state.off = once(el, 'animationcancel animationend', removeAnimationClasses);
                    else removeAnimationClasses();
                }
                trigger(el, inview ? 'inview' : 'outview');
                state.inview = inview;
                this.$update(el);
            }
        }
    };
    var scrollspyNav = {
        mixins: [
            Scroll
        ],
        props: {
            cls: String,
            closest: String,
            scroll: Boolean,
            overflow: Boolean,
            offset: Number
        },
        data: {
            cls: 'uk-active',
            closest: false,
            scroll: false,
            overflow: true,
            offset: 0
        },
        computed: {
            links: {
                get (_, $el) {
                    return $$('a[href^="#"]', $el).filter((el)=>el.hash
                    );
                },
                watch (links) {
                    if (this.scroll) this.$create('scroll', links, {
                        offset: this.offset || 0
                    });
                },
                immediate: true
            },
            elements (_ref) {
                let { closest: selector  } = _ref;
                return closest(this.links, selector || '*');
            }
        },
        update: [
            {
                read () {
                    const targets = this.links.map(getTargetElement).filter(Boolean);
                    const { length: length  } = targets;
                    if (!length || !isVisible(this.$el)) return false;
                    const [scrollElement] = scrollParents(targets, /auto|scroll/, true);
                    const { scrollTop: scrollTop , scrollHeight: scrollHeight  } = scrollElement;
                    const viewport = offsetViewport(scrollElement);
                    const max = scrollHeight - viewport.height;
                    let active = false;
                    if (scrollTop === max) active = length - 1;
                    else {
                        for(let i = 0; i < targets.length; i++){
                            if (offset1(targets[i]).top - viewport.top - this.offset > 0) break;
                            active = +i;
                        }
                        if (active === false && this.overflow) active = 0;
                    }
                    return {
                        active: active
                    };
                },
                write (_ref2) {
                    let { active: active  } = _ref2;
                    const changed = active !== false && !hasClass(this.elements[active], this.cls);
                    this.links.forEach((el)=>el.blur()
                    );
                    for(let i = 0; i < this.elements.length; i++)toggleClass(this.elements[i], this.cls, +i === active);
                    if (changed) trigger(this.$el, 'active', [
                        active,
                        this.elements[active]
                    ]);
                },
                events: [
                    'scroll',
                    'resize'
                ]
            }
        ]
    };
    var sticky = {
        mixins: [
            Class,
            Media,
            Resize,
            Scroll
        ],
        props: {
            position: String,
            top: null,
            bottom: null,
            start: null,
            end: null,
            offset: String,
            overflowFlip: Boolean,
            animation: String,
            clsActive: String,
            clsInactive: String,
            clsFixed: String,
            clsBelow: String,
            selTarget: String,
            showOnUp: Boolean,
            targetOffset: Number
        },
        data: {
            position: 'top',
            top: false,
            bottom: false,
            start: false,
            end: false,
            offset: 0,
            overflowFlip: false,
            animation: '',
            clsActive: 'uk-active',
            clsInactive: '',
            clsFixed: 'uk-sticky-fixed',
            clsBelow: 'uk-sticky-below',
            selTarget: '',
            showOnUp: false,
            targetOffset: false
        },
        computed: {
            selTarget (_ref, $el) {
                let { selTarget: selTarget  } = _ref;
                return selTarget && $(selTarget, $el) || $el;
            }
        },
        resizeTargets () {
            return document.documentElement;
        },
        connected () {
            this.start = coerce(this.start || this.top);
            this.end = coerce(this.end || this.bottom);
            this.placeholder = $('+ .uk-sticky-placeholder', this.$el) || $('<div class="uk-sticky-placeholder"></div>');
            this.isFixed = false;
            this.setActive(false);
        },
        disconnected () {
            if (this.isFixed) {
                this.hide();
                removeClass(this.selTarget, this.clsInactive);
            }
            remove$1(this.placeholder);
            this.placeholder = null;
        },
        events: [
            {
                name: 'resize',
                el () {
                    return window;
                },
                handler () {
                    this.$emit('resize');
                }
            },
            {
                name: 'load hashchange popstate',
                el () {
                    return window;
                },
                filter () {
                    return this.targetOffset !== false;
                },
                handler () {
                    if (!location.hash || scrollTop1(window) === 0) return;
                    setTimeout(()=>{
                        const targetOffset = offset1($(location.hash));
                        const elOffset = offset1(this.$el);
                        if (this.isFixed && intersectRect(targetOffset, elOffset)) scrollTop1(window, targetOffset.top - elOffset.height - toPx(this.targetOffset, 'height', this.placeholder) - toPx(this.offset, 'height', this.placeholder));
                    });
                }
            }
        ],
        update: [
            {
                read (_ref2, types) {
                    let { height: height$1 , margin: margin  } = _ref2;
                    this.inactive = !this.matchMedia || !isVisible(this.$el);
                    if (this.inactive) return false;
                    const hide = this.active && types.has('resize');
                    if (hide) {
                        css1(this.selTarget, 'transition', '0s');
                        this.hide();
                    }
                    if (!this.active) {
                        height$1 = offset1(this.$el).height;
                        margin = css1(this.$el, 'margin');
                    }
                    if (hide) {
                        this.show();
                        requestAnimationFrame(()=>css1(this.selTarget, 'transition', '')
                        );
                    }
                    const referenceElement = this.isFixed ? this.placeholder : this.$el;
                    const windowHeight = height1(window);
                    let position = this.position;
                    if (this.overflowFlip && height$1 > windowHeight) position = position === 'top' ? 'bottom' : 'top';
                    let offset$1 = toPx(this.offset, 'height', referenceElement);
                    if (position === 'bottom' && (height$1 < windowHeight || this.overflowFlip)) offset$1 += windowHeight - height$1;
                    const overflow = this.overflowFlip ? 0 : Math.max(0, height$1 + offset$1 - windowHeight);
                    const topOffset = offset1(referenceElement).top;
                    const start = (this.start === false ? topOffset : parseProp(this.start, this.$el, topOffset)) - offset$1;
                    const end = this.end === false ? document.scrollingElement.scrollHeight - windowHeight : parseProp(this.end, this.$el, topOffset + height$1, true) - offset1(this.$el).height + overflow - offset$1;
                    return {
                        start: start,
                        end: end,
                        offset: offset$1,
                        overflow: overflow,
                        topOffset: topOffset,
                        height: height$1,
                        margin: margin,
                        width: dimensions$1(referenceElement).width,
                        top: offsetPosition1(referenceElement)[0]
                    };
                },
                write (_ref3) {
                    let { height: height , margin: margin  } = _ref3;
                    const { placeholder: placeholder  } = this;
                    css1(placeholder, {
                        height: height,
                        margin: margin
                    });
                    if (!within(placeholder, document)) {
                        after(this.$el, placeholder);
                        placeholder.hidden = true;
                    }
                },
                events: [
                    'resize'
                ]
            },
            {
                read (_ref4) {
                    let { scroll: prevScroll = 0 , dir: prevDir = 'down' , overflow: overflow , overflowScroll: overflowScroll = 0 , start: start , end: end  } = _ref4;
                    const scroll = scrollTop1(window);
                    const dir = prevScroll <= scroll ? 'down' : 'up';
                    return {
                        dir: dir,
                        prevDir: prevDir,
                        scroll: scroll,
                        prevScroll: prevScroll,
                        offsetParentTop: offset1((this.isFixed ? this.placeholder : this.$el).offsetParent).top,
                        overflowScroll: clamp(overflowScroll + clamp(scroll, start, end) - clamp(prevScroll, start, end), 0, overflow)
                    };
                },
                write (data, types) {
                    const isScrollUpdate = types.has('scroll');
                    const { initTimestamp: initTimestamp = 0 , dir: dir , prevDir: prevDir , scroll: scroll , prevScroll: prevScroll = 0 , top: top , start: start , topOffset: topOffset , height: height  } = data;
                    if (scroll < 0 || scroll === prevScroll && isScrollUpdate || this.showOnUp && !isScrollUpdate && !this.isFixed) return;
                    const now = Date.now();
                    if (now - initTimestamp > 300 || dir !== prevDir) {
                        data.initScroll = scroll;
                        data.initTimestamp = now;
                    }
                    if (this.showOnUp && !this.isFixed && Math.abs(data.initScroll - scroll) <= 30 && Math.abs(prevScroll - scroll) <= 10) return;
                    if (this.inactive || scroll < start || this.showOnUp && (scroll <= start || dir === 'down' && isScrollUpdate || dir === 'up' && !this.isFixed && scroll <= topOffset + height)) {
                        if (!this.isFixed) {
                            if (Animation.inProgress(this.$el) && top > scroll) {
                                Animation.cancel(this.$el);
                                this.hide();
                            }
                            return;
                        }
                        this.isFixed = false;
                        if (this.animation && scroll > topOffset) {
                            Animation.cancel(this.$el);
                            Animation.out(this.$el, this.animation).then(()=>this.hide()
                            , noop);
                        } else this.hide();
                    } else if (this.isFixed) this.update();
                    else if (this.animation && scroll > topOffset) {
                        Animation.cancel(this.$el);
                        this.show();
                        Animation.in(this.$el, this.animation).catch(noop);
                    } else this.show();
                },
                events: [
                    'resize',
                    'scroll'
                ]
            }
        ],
        methods: {
            show () {
                this.isFixed = true;
                this.update();
                this.placeholder.hidden = false;
            },
            hide () {
                this.setActive(false);
                removeClass(this.$el, this.clsFixed, this.clsBelow);
                css1(this.$el, {
                    position: '',
                    top: '',
                    width: ''
                });
                this.placeholder.hidden = true;
            },
            update () {
                let { width: width , scroll: scroll = 0 , overflow: overflow , overflowScroll: overflowScroll = 0 , start: start , end: end , offset: offset , topOffset: topOffset , height: height , offsetParentTop: offsetParentTop  } = this._data;
                const active = start !== 0 || scroll > start;
                let position = 'fixed';
                if (scroll > end) {
                    offset += end - offsetParentTop;
                    position = 'absolute';
                }
                if (overflow) offset -= overflowScroll;
                css1(this.$el, {
                    position: position,
                    top: offset + "px",
                    width: width
                });
                this.setActive(active);
                toggleClass(this.$el, this.clsBelow, scroll > topOffset + height);
                addClass(this.$el, this.clsFixed);
            },
            setActive (active) {
                const prev = this.active;
                this.active = active;
                if (active) {
                    replaceClass(this.selTarget, this.clsInactive, this.clsActive);
                    prev !== active && trigger(this.$el, 'active');
                } else {
                    replaceClass(this.selTarget, this.clsActive, this.clsInactive);
                    prev !== active && trigger(this.$el, 'inactive');
                }
            }
        }
    };
    function parseProp(value, el, propOffset, padding) {
        if (!value) return 0;
        if (isNumeric(value) || isString(value) && value.match(/^-?\d/)) return propOffset + toPx(value, 'height', el, true);
        else {
            const refElement = value === true ? parent1(el) : query(value, el);
            return offset1(refElement).bottom - (padding && refElement && within(el, refElement) ? toFloat(css1(refElement, 'paddingBottom')) : 0);
        }
    }
    function coerce(value) {
        if (value === 'true') return true;
        else if (value === 'false') return false;
        return value;
    }
    var Switcher = {
        mixins: [
            Lazyload,
            Swipe,
            Togglable
        ],
        args: 'connect',
        props: {
            connect: String,
            toggle: String,
            itemNav: String,
            active: Number
        },
        data: {
            connect: '~.uk-switcher',
            toggle: '> * > :first-child',
            itemNav: false,
            active: 0,
            cls: 'uk-active',
            attrItem: 'uk-switcher-item'
        },
        computed: {
            connects: {
                get (_ref, $el) {
                    let { connect: connect  } = _ref;
                    return queryAll(connect, $el);
                },
                watch (connects) {
                    if (this.swiping) css1(connects, 'touch-action', 'pan-y pinch-zoom');
                    const index = this.index();
                    this.connects.forEach((el)=>children1(el).forEach((child, i)=>toggleClass(child, this.cls, i === index)
                        )
                    );
                },
                immediate: true
            },
            toggles: {
                get (_ref2, $el) {
                    let { toggle: toggle  } = _ref2;
                    return $$(toggle, $el).filter((el)=>!matches1(el, '.uk-disabled *, .uk-disabled, [disabled]')
                    );
                },
                watch (toggles) {
                    const active = this.index();
                    this.show(~active ? active : toggles[this.active] || toggles[0]);
                },
                immediate: true
            },
            children () {
                return children1(this.$el).filter((child)=>this.toggles.some((toggle)=>within(toggle, child)
                    )
                );
            },
            swipeTarget () {
                return this.connects;
            }
        },
        connected () {
            this.lazyload(this.$el, this.connects);
            // check for connects
            ready(()=>this.$emit()
            );
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return this.toggle;
                },
                handler (e) {
                    e.preventDefault();
                    this.show(e.current);
                }
            },
            {
                name: 'click',
                el () {
                    return this.connects.concat(this.itemNav ? queryAll(this.itemNav, this.$el) : []);
                },
                delegate () {
                    return "[" + this.attrItem + "],[data-" + this.attrItem + "]";
                },
                handler (e) {
                    e.preventDefault();
                    this.show(data1(e.current, this.attrItem));
                }
            },
            {
                name: 'swipeRight swipeLeft',
                filter () {
                    return this.swiping;
                },
                el () {
                    return this.connects;
                },
                handler (_ref3) {
                    let { type: type  } = _ref3;
                    this.show(endsWith(type, 'Left') ? 'next' : 'previous');
                }
            }
        ],
        methods: {
            index () {
                return findIndex(this.children, (el)=>hasClass(el, this.cls)
                );
            },
            show (item) {
                const prev = this.index();
                const next = getIndex(item, this.toggles, prev);
                const active = getIndex(this.children[next], children1(this.$el));
                children1(this.$el).forEach((child, i)=>{
                    toggleClass(child, this.cls, active === i);
                    attr1(this.toggles[i], 'aria-expanded', active === i);
                });
                const animate = prev >= 0 && prev !== next;
                this.connects.forEach(async (_ref4)=>{
                    let { children: children  } = _ref4;
                    await this.toggleElement(toNodes(children).filter((child)=>hasClass(child, this.cls)
                    ), false, animate);
                    await this.toggleElement(children[active], true, animate);
                });
            }
        }
    };
    var tab = {
        mixins: [
            Class
        ],
        extends: Switcher,
        props: {
            media: Boolean
        },
        data: {
            media: 960,
            attrItem: 'uk-tab-item'
        },
        connected () {
            const cls = hasClass(this.$el, 'uk-tab-left') ? 'uk-tab-left' : hasClass(this.$el, 'uk-tab-right') ? 'uk-tab-right' : false;
            if (cls) this.$create('toggle', this.$el, {
                cls: cls,
                mode: 'media',
                media: this.media
            });
        }
    };
    const KEY_SPACE = 32;
    var toggle1 = {
        mixins: [
            Lazyload,
            Media,
            Togglable
        ],
        args: 'target',
        props: {
            href: String,
            target: null,
            mode: 'list',
            queued: Boolean
        },
        data: {
            href: false,
            target: false,
            mode: 'click',
            queued: true
        },
        computed: {
            target: {
                get (_ref, $el) {
                    let { href: href , target: target  } = _ref;
                    target = queryAll(target || href, $el);
                    return target.length && target || [
                        $el
                    ];
                },
                watch () {
                    this.updateAria();
                },
                immediate: true
            }
        },
        connected () {
            if (!includes(this.mode, 'media') && !isFocusable(this.$el)) attr1(this.$el, 'tabindex', '0');
            this.lazyload(this.$el, this.target);
            // check for target
            ready(()=>this.$emit()
            );
        },
        events: [
            {
                name: pointerDown,
                filter () {
                    return includes(this.mode, 'hover');
                },
                handler (e2) {
                    if (!isTouch(e2) || this._showState) return;
                    // Clicking a button does not give it focus on all browsers and platforms
                    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#clicking_and_focus
                    trigger(this.$el, 'focus');
                    once(document, pointerDown, ()=>trigger(this.$el, 'blur')
                    , true, (e)=>!within(e.target, this.$el)
                    );
                    // Prevent initial click to prevent double toggle through focus + click
                    if (includes(this.mode, 'click')) this._preventClick = true;
                }
            },
            {
                name: pointerEnter + " " + pointerLeave + " focus blur",
                filter () {
                    return includes(this.mode, 'hover');
                },
                handler (e) {
                    if (isTouch(e)) return;
                    const show = includes([
                        pointerEnter,
                        'focus'
                    ], e.type);
                    const expanded = attr1(this.$el, 'aria-expanded');
                    // Skip hide if still hovered or focused
                    if (!show && (e.type === pointerLeave && matches1(this.$el, ':focus') || e.type === 'blur' && matches1(this.$el, ':hover'))) return;
                    // Skip if state does not change e.g. hover + focus received
                    if (this._showState && show && expanded !== this._showState) {
                        // Ensure reset if state has changed through click
                        if (!show) this._showState = null;
                        return;
                    }
                    this._showState = show ? expanded : null;
                    this.toggle("toggle" + (show ? 'show' : 'hide'));
                }
            },
            {
                name: 'keydown',
                filter () {
                    return includes(this.mode, 'click') && !isTag(this.$el, 'input');
                },
                handler (e) {
                    if (e.keyCode === KEY_SPACE) {
                        e.preventDefault();
                        this.$el.click();
                    }
                }
            },
            {
                name: 'click',
                handler (e) {
                    let link;
                    if (closest(e.target, 'a[href="#"], a[href=""]') || (link = closest(e.target, 'a[href]')) && (attr1(this.$el, 'aria-expanded') !== 'true' || link.hash && matches1(this.target, link.hash))) e.preventDefault();
                    if (this._preventClick) return this._preventClick = null;
                    if (!includes(this.mode, 'click')) return;
                    this.toggle();
                }
            },
            {
                name: 'toggled',
                self: true,
                el () {
                    return this.target;
                },
                handler (e, toggled) {
                    if (e.target === this.target[0]) this.updateAria(toggled);
                }
            },
            {
                name: 'mediachange',
                filter () {
                    return includes(this.mode, 'media');
                },
                el () {
                    return this.target;
                },
                handler (e, mediaObj) {
                    if (mediaObj.matches ^ this.isToggled(this.target)) this.toggle();
                }
            }
        ],
        methods: {
            async toggle (type) {
                if (!trigger(this.target, type || 'toggle', [
                    this
                ])) return;
                if (!this.queued) return this.toggleElement(this.target);
                const leaving = this.target.filter((el)=>hasClass(el, this.clsLeave)
                );
                if (leaving.length) {
                    for (const el of this.target){
                        const isLeaving = includes(leaving, el);
                        this.toggleElement(el, isLeaving, isLeaving);
                    }
                    return;
                }
                const toggled = this.target.filter(this.isToggled);
                await this.toggleElement(toggled, false);
                await this.toggleElement(this.target.filter((el)=>!includes(toggled, el)
                ), true);
            },
            updateAria (toggled) {
                if (includes(this.mode, 'media')) return;
                attr1(this.$el, 'aria-expanded', isBoolean(toggled) ? toggled : this.isToggled(this.target));
            }
        }
    };
    var components$1 = /*#__PURE__*/ Object.freeze({
        __proto__: null,
        Accordion: Accordion,
        Alert: alert,
        Cover: cover1,
        Drop: drop,
        Dropdown: drop,
        FormCustom: formCustom,
        Grid: grid,
        HeightMatch: heightMatch,
        HeightViewport: heightViewport,
        Icon: Icon,
        Img: img1,
        Leader: leader,
        Margin: Margin,
        Modal: modal1,
        Nav: nav,
        Navbar: navbar,
        Offcanvas: offcanvas,
        OverflowAuto: overflowAuto,
        Responsive: responsive,
        Scroll: scroll1,
        Scrollspy: scrollspy,
        ScrollspyNav: scrollspyNav,
        Sticky: sticky,
        Svg: SVG,
        Switcher: Switcher,
        Tab: tab,
        Toggle: toggle1,
        Video: Video,
        Close: Close,
        Spinner: Spinner,
        SlidenavNext: Slidenav,
        SlidenavPrevious: Slidenav,
        SearchIcon: Search,
        Marker: IconComponent,
        NavbarToggleIcon: IconComponent,
        OverlayIcon: IconComponent,
        PaginationNext: IconComponent,
        PaginationPrevious: IconComponent,
        Totop: IconComponent
    });
    // register components
    each(components$1, (component, name)=>UIkit1.component(name, component)
    );
    boot(UIkit1);
    const units = [
        'days',
        'hours',
        'minutes',
        'seconds'
    ];
    var countdown = {
        mixins: [
            Class
        ],
        props: {
            date: String,
            clsWrapper: String
        },
        data: {
            date: '',
            clsWrapper: '.uk-countdown-%unit%'
        },
        connected () {
            this.date = Date.parse(this.$props.date);
            this.start();
        },
        disconnected () {
            this.stop();
        },
        events: [
            {
                name: 'visibilitychange',
                el () {
                    return document;
                },
                handler () {
                    if (document.hidden) this.stop();
                    else this.start();
                }
            }
        ],
        methods: {
            start () {
                this.stop();
                this.update();
                this.timer = setInterval(this.update, 1000);
            },
            stop () {
                clearInterval(this.timer);
            },
            update () {
                const timespan = getTimeSpan(this.date);
                if (!this.date || timespan.total <= 0) {
                    this.stop();
                    timespan.days = timespan.hours = timespan.minutes = timespan.seconds = 0;
                }
                for (const unit of units){
                    const el = $(this.clsWrapper.replace('%unit%', unit), this.$el);
                    if (!el) continue;
                    let digits = String(Math.trunc(timespan[unit]));
                    digits = digits.length < 2 ? "0" + digits : digits;
                    if (el.textContent !== digits) {
                        digits = digits.split('');
                        if (digits.length !== el.children.length) html1(el, digits.map(()=>'<span></span>'
                        ).join(''));
                        digits.forEach((digit, i)=>el.children[i].textContent = digit
                        );
                    }
                }
            }
        }
    };
    function getTimeSpan(date) {
        const total = date - Date.now();
        return {
            total: total,
            seconds: total / 1000 % 60,
            minutes: total / 1000 / 60 % 60,
            hours: total / 1000 / 60 / 60 % 24,
            days: total / 1000 / 60 / 60 / 24
        };
    }
    const clsLeave = 'uk-transition-leave';
    const clsEnter = 'uk-transition-enter';
    function fade(action, target, duration, stagger) {
        if (stagger === void 0) stagger = 0;
        const index = transitionIndex(target, true);
        const propsIn = {
            opacity: 1
        };
        const propsOut = {
            opacity: 0
        };
        const wrapIndexFn = (fn)=>()=>index === transitionIndex(target) ? fn() : Promise.reject()
        ;
        const leaveFn = wrapIndexFn(()=>{
            addClass(target, clsLeave);
            return Promise.all(getTransitionNodes(target).map((child, i)=>new Promise((resolve)=>setTimeout(()=>Transition.start(child, propsOut, duration / 2, 'ease').then(resolve)
                    , i * stagger)
                )
            )).then(()=>removeClass(target, clsLeave)
            );
        });
        const enterFn = wrapIndexFn(()=>{
            const oldHeight = height1(target);
            addClass(target, clsEnter);
            action();
            css1(children1(target), {
                opacity: 0
            });
            // Ensure UIkit updates have propagated
            return new Promise((resolve1)=>requestAnimationFrame(()=>{
                    const nodes = children1(target);
                    const newHeight = height1(target);
                    // Ensure Grid cells do not stretch when height is applied
                    css1(target, 'alignContent', 'flex-start');
                    height1(target, oldHeight);
                    const transitionNodes = getTransitionNodes(target);
                    css1(nodes, propsOut);
                    const transitions = transitionNodes.map((child, i)=>new Promise((resolve)=>setTimeout(()=>Transition.start(child, propsIn, duration / 2, 'ease').then(resolve)
                            , i * stagger)
                        )
                    );
                    if (oldHeight !== newHeight) transitions.push(Transition.start(target, {
                        height: newHeight
                    }, duration / 2 + transitionNodes.length * stagger, 'ease'));
                    Promise.all(transitions).then(()=>{
                        removeClass(target, clsEnter);
                        if (index === transitionIndex(target)) {
                            css1(target, {
                                height: '',
                                alignContent: ''
                            });
                            css1(nodes, {
                                opacity: ''
                            });
                            delete target.dataset.transition;
                        }
                        resolve1();
                    });
                })
            );
        });
        return hasClass(target, clsLeave) ? waitTransitionend(target).then(enterFn) : hasClass(target, clsEnter) ? waitTransitionend(target).then(leaveFn).then(enterFn) : leaveFn().then(enterFn);
    }
    function transitionIndex(target, next) {
        if (next) target.dataset.transition = 1 + transitionIndex(target);
        return toNumber(target.dataset.transition) || 0;
    }
    function waitTransitionend(target) {
        return Promise.all(children1(target).filter(Transition.inProgress).map((el)=>new Promise((resolve)=>once(el, 'transitionend transitioncanceled', resolve)
            )
        ));
    }
    function getTransitionNodes(target) {
        return getRows(children1(target)).reduce((nodes, row)=>nodes.concat(sortBy$1(row.filter((el)=>isInView(el)
            ), 'offsetLeft'))
        , []);
    }
    function slide1(action, target, duration) {
        return new Promise((resolve)=>requestAnimationFrame(()=>{
                let nodes = children1(target);
                // Get current state
                const currentProps = nodes.map((el)=>getProps(el, true)
                );
                const targetProps = css1(target, [
                    'height',
                    'padding'
                ]);
                // Cancel previous animations
                Transition.cancel(target);
                nodes.forEach(Transition.cancel);
                reset1(target);
                // Adding, sorting, removing nodes
                action();
                // Find new nodes
                nodes = nodes.concat(children1(target).filter((el)=>!includes(nodes, el)
                ));
                // Wait for update to propagate
                Promise.resolve().then(()=>{
                    // Force update
                    fastdom.flush();
                    // Get new state
                    const targetPropsTo = css1(target, [
                        'height',
                        'padding'
                    ]);
                    const [propsTo, propsFrom] = getTransitionProps(target, nodes, currentProps);
                    // Reset to previous state
                    nodes.forEach((el, i)=>propsFrom[i] && css1(el, propsFrom[i])
                    );
                    css1(target, {
                        display: 'block',
                        ...targetProps
                    });
                    // Start transitions on next frame
                    requestAnimationFrame(()=>{
                        const transitions = nodes.map((el, i)=>parent1(el) === target && Transition.start(el, propsTo[i], duration, 'ease')
                        ).concat(Transition.start(target, targetPropsTo, duration, 'ease'));
                        Promise.all(transitions).then(()=>{
                            nodes.forEach((el, i)=>parent1(el) === target && css1(el, 'display', propsTo[i].opacity === 0 ? 'none' : '')
                            );
                            reset1(target);
                        }, noop).then(resolve);
                    });
                });
            })
        );
    }
    function getProps(el, opacity) {
        const zIndex = css1(el, 'zIndex');
        return isVisible(el) ? {
            display: '',
            opacity: opacity ? css1(el, 'opacity') : '0',
            pointerEvents: 'none',
            position: 'absolute',
            zIndex: zIndex === 'auto' ? index1(el) : zIndex,
            ...getPositionWithMargin(el)
        } : false;
    }
    function getTransitionProps(target, nodes, currentProps) {
        const propsTo = nodes.map((el, i)=>parent1(el) && i in currentProps ? currentProps[i] ? isVisible(el) ? getPositionWithMargin(el) : {
                opacity: 0
            } : {
                opacity: isVisible(el) ? 1 : 0
            } : false
        );
        const propsFrom = propsTo.map((props, i)=>{
            const from = parent1(nodes[i]) === target && (currentProps[i] || getProps(nodes[i]));
            if (!from) return false;
            if (!props) delete from.opacity;
            else if (!('opacity' in props)) {
                const { opacity: opacity  } = from;
                if (opacity % 1) props.opacity = 1;
                else delete from.opacity;
            }
            return from;
        });
        return [
            propsTo,
            propsFrom
        ];
    }
    function reset1(el) {
        css1(el.children, {
            height: '',
            left: '',
            opacity: '',
            pointerEvents: '',
            position: '',
            top: '',
            marginTop: '',
            marginLeft: '',
            transform: '',
            width: '',
            zIndex: ''
        });
        css1(el, {
            height: '',
            display: '',
            padding: ''
        });
    }
    function getPositionWithMargin(el) {
        const { height: height , width: width  } = offset1(el);
        const { top: top , left: left  } = position1(el);
        const { marginLeft: marginLeft , marginTop: marginTop  } = css1(el, [
            'marginTop',
            'marginLeft'
        ]);
        return {
            top: top,
            left: left,
            height: height,
            width: width,
            marginLeft: marginLeft,
            marginTop: marginTop,
            transform: ''
        };
    }
    var Animate = {
        props: {
            duration: Number,
            animation: Boolean
        },
        data: {
            duration: 150,
            animation: 'slide'
        },
        methods: {
            animate (action, target) {
                if (target === void 0) target = this.$el;
                const name = this.animation;
                const animationFn = name === 'fade' ? fade : name === 'delayed-fade' ? function() {
                    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];
                    return fade(...args, 40);
                } : name ? slide1 : ()=>{
                    action();
                    return Promise.resolve();
                };
                return animationFn(action, target, this.duration).then(()=>this.$update(target, 'resize')
                , noop);
            }
        }
    };
    var filter1 = {
        mixins: [
            Animate
        ],
        args: 'target',
        props: {
            target: Boolean,
            selActive: Boolean
        },
        data: {
            target: null,
            selActive: false,
            attrItem: 'uk-filter-control',
            cls: 'uk-active',
            duration: 250
        },
        computed: {
            toggles: {
                get (_ref, $el) {
                    let { attrItem: attrItem  } = _ref;
                    return $$("[" + attrItem + "],[data-" + attrItem + "]", $el);
                },
                watch () {
                    this.updateState();
                    if (this.selActive !== false) {
                        const actives = $$(this.selActive, this.$el);
                        this.toggles.forEach((el)=>toggleClass(el, this.cls, includes(actives, el))
                        );
                    }
                },
                immediate: true
            },
            children: {
                get (_ref2, $el) {
                    let { target: target  } = _ref2;
                    return $$(target + " > *", $el);
                },
                watch (list, old) {
                    if (old && !isEqualList(list, old)) this.updateState();
                },
                immediate: true
            }
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return "[" + this.attrItem + "],[data-" + this.attrItem + "]";
                },
                handler (e) {
                    e.preventDefault();
                    this.apply(e.current);
                }
            }
        ],
        methods: {
            apply (el) {
                const prevState = this.getState();
                const newState = mergeState(el, this.attrItem, this.getState());
                if (!isEqualState(prevState, newState)) this.setState(newState);
            },
            getState () {
                return this.toggles.filter((item)=>hasClass(item, this.cls)
                ).reduce((state, el)=>mergeState(el, this.attrItem, state)
                , {
                    filter: {
                        '': ''
                    },
                    sort: []
                });
            },
            setState (state, animate) {
                if (animate === void 0) animate = true;
                state = {
                    filter: {
                        '': ''
                    },
                    sort: [],
                    ...state
                };
                trigger(this.$el, 'beforeFilter', [
                    this,
                    state
                ]);
                this.toggles.forEach((el)=>toggleClass(el, this.cls, !!matchFilter(el, this.attrItem, state))
                );
                Promise.all($$(this.target, this.$el).map((target)=>{
                    const filterFn = ()=>{
                        applyState(state, target, children1(target));
                        this.$update(this.$el);
                    };
                    return animate ? this.animate(filterFn, target) : filterFn();
                })).then(()=>trigger(this.$el, 'afterFilter', [
                        this
                    ])
                );
            },
            updateState () {
                fastdom.write(()=>this.setState(this.getState(), false)
                );
            }
        }
    };
    function getFilter(el, attr) {
        return parseOptions(data1(el, attr), [
            'filter'
        ]);
    }
    function isEqualState(stateA, stateB) {
        return [
            'filter',
            'sort'
        ].every((prop)=>isEqual(stateA[prop], stateB[prop])
        );
    }
    function applyState(state, target, children) {
        const selector = getSelector(state);
        children.forEach((el)=>css1(el, 'display', selector && !matches1(el, selector) ? 'none' : '')
        );
        const [sort, order] = state.sort;
        if (sort) {
            const sorted = sortItems(children, sort, order);
            if (!isEqual(sorted, children)) append(target, sorted);
        }
    }
    function mergeState(el, attr, state) {
        const filterBy = getFilter(el, attr);
        const { filter: filter , group: group , sort: sort , order: order = 'asc'  } = filterBy;
        if (filter || isUndefined(sort)) {
            if (group) {
                if (filter) {
                    delete state.filter[''];
                    state.filter[group] = filter;
                } else {
                    delete state.filter[group];
                    if (isEmpty(state.filter) || '' in state.filter) state.filter = {
                        '': filter || ''
                    };
                }
            } else state.filter = {
                '': filter || ''
            };
        }
        if (!isUndefined(sort)) state.sort = [
            sort,
            order
        ];
        return state;
    }
    function matchFilter(el, attr, _ref3) {
        let { filter: stateFilter = {
            '': ''
        } , sort: [stateSort, stateOrder]  } = _ref3;
        const { filter: filter = '' , group: group = '' , sort: sort , order: order = 'asc'  } = getFilter(el, attr);
        return isUndefined(sort) ? group in stateFilter && filter === stateFilter[group] || !filter && group && !(group in stateFilter) && !stateFilter[''] : stateSort === sort && stateOrder === order;
    }
    function isEqualList(listA, listB) {
        return listA.length === listB.length && listA.every((el)=>~listB.indexOf(el)
        );
    }
    function getSelector(_ref4) {
        let { filter: filter  } = _ref4;
        let selector = '';
        each(filter, (value)=>selector += value || ''
        );
        return selector;
    }
    function sortItems(nodes, sort, order) {
        return [
            ...nodes
        ].sort((a, b)=>data1(a, sort).localeCompare(data1(b, sort), undefined, {
                numeric: true
            }) * (order === 'asc' || -1)
        );
    }
    var Animations$2 = {
        slide: {
            show (dir) {
                return [
                    {
                        transform: translate1(dir * -100)
                    },
                    {
                        transform: translate1()
                    }
                ];
            },
            percent (current) {
                return translated(current);
            },
            translate (percent, dir) {
                return [
                    {
                        transform: translate1(dir * -100 * percent)
                    },
                    {
                        transform: translate1(dir * 100 * (1 - percent))
                    }
                ];
            }
        }
    };
    function translated(el) {
        return Math.abs(css1(el, 'transform').split(',')[4] / el.offsetWidth) || 0;
    }
    function translate1(value, unit) {
        if (value === void 0) value = 0;
        if (unit === void 0) unit = '%';
        value += value ? unit : '';
        return "translate3d(" + value + ", 0, 0)";
    }
    function scale3d(value) {
        return "scale3d(" + value + ", " + value + ", 1)";
    }
    var Animations$1 = {
        ...Animations$2,
        fade: {
            show () {
                return [
                    {
                        opacity: 0
                    },
                    {
                        opacity: 1
                    }
                ];
            },
            percent (current) {
                return 1 - css1(current, 'opacity');
            },
            translate (percent) {
                return [
                    {
                        opacity: 1 - percent
                    },
                    {
                        opacity: percent
                    }
                ];
            }
        },
        scale: {
            show () {
                return [
                    {
                        opacity: 0,
                        transform: scale3d(0.8)
                    },
                    {
                        opacity: 1,
                        transform: scale3d(1)
                    }
                ];
            },
            percent (current) {
                return 1 - css1(current, 'opacity');
            },
            translate (percent) {
                return [
                    {
                        opacity: 1 - percent,
                        transform: scale3d(1 - 0.2 * percent)
                    },
                    {
                        opacity: percent,
                        transform: scale3d(0.8 + 0.2 * percent)
                    }
                ];
            }
        }
    };
    function Transitioner$1(prev, next, dir, _ref) {
        let { animation: animation , easing: easing  } = _ref;
        const { percent: percent2 , translate: translate , show: show = noop  } = animation;
        const props2 = show(dir);
        const deferred = new Deferred();
        return {
            dir: dir,
            show (duration, percent, linear) {
                if (percent === void 0) percent = 0;
                const timing = linear ? 'linear' : easing;
                duration -= Math.round(duration * clamp(percent, -1, 1));
                this.translate(percent);
                triggerUpdate$1(next, 'itemin', {
                    percent: percent,
                    duration: duration,
                    timing: timing,
                    dir: dir
                });
                triggerUpdate$1(prev, 'itemout', {
                    percent: 1 - percent,
                    duration: duration,
                    timing: timing,
                    dir: dir
                });
                Promise.all([
                    Transition.start(next, props2[1], duration, timing),
                    Transition.start(prev, props2[0], duration, timing)
                ]).then(()=>{
                    this.reset();
                    deferred.resolve();
                }, noop);
                return deferred.promise;
            },
            cancel () {
                Transition.cancel([
                    next,
                    prev
                ]);
            },
            reset () {
                for(const prop in props2[0])css1([
                    next,
                    prev
                ], prop, '');
            },
            forward (duration, percent) {
                if (percent === void 0) percent = this.percent();
                Transition.cancel([
                    next,
                    prev
                ]);
                return this.show(duration, percent, true);
            },
            translate (percent) {
                this.reset();
                const props = translate(percent, dir);
                css1(next, props[1]);
                css1(prev, props[0]);
                triggerUpdate$1(next, 'itemtranslatein', {
                    percent: percent,
                    dir: dir
                });
                triggerUpdate$1(prev, 'itemtranslateout', {
                    percent: 1 - percent,
                    dir: dir
                });
            },
            percent () {
                return percent2(prev || next, next, dir);
            },
            getDistance () {
                return prev == null ? void 0 : prev.offsetWidth;
            }
        };
    }
    function triggerUpdate$1(el, type, data) {
        trigger(el, createEvent(type, false, false, data));
    }
    var SliderAutoplay = {
        props: {
            autoplay: Boolean,
            autoplayInterval: Number,
            pauseOnHover: Boolean
        },
        data: {
            autoplay: false,
            autoplayInterval: 7000,
            pauseOnHover: true
        },
        connected () {
            this.autoplay && this.startAutoplay();
        },
        disconnected () {
            this.stopAutoplay();
        },
        update () {
            attr1(this.slides, 'tabindex', '-1');
        },
        events: [
            {
                name: 'visibilitychange',
                el () {
                    return document;
                },
                filter () {
                    return this.autoplay;
                },
                handler () {
                    if (document.hidden) this.stopAutoplay();
                    else this.startAutoplay();
                }
            }
        ],
        methods: {
            startAutoplay () {
                this.stopAutoplay();
                this.interval = setInterval(()=>(!this.draggable || !$(':focus', this.$el)) && (!this.pauseOnHover || !matches1(this.$el, ':hover')) && !this.stack.length && this.show('next')
                , this.autoplayInterval);
            },
            stopAutoplay () {
                this.interval && clearInterval(this.interval);
            }
        }
    };
    var SliderDrag = {
        props: {
            draggable: Boolean
        },
        data: {
            draggable: true,
            threshold: 10
        },
        created () {
            for (const key of [
                'start',
                'move',
                'end'
            ]){
                const fn = this[key];
                this[key] = (e)=>{
                    const pos = getEventPos(e).x * (isRtl ? -1 : 1);
                    this.prevPos = pos === this.pos ? this.prevPos : this.pos;
                    this.pos = pos;
                    fn(e);
                };
            }
        },
        events: [
            {
                name: pointerDown,
                delegate () {
                    return this.selSlides;
                },
                handler (e) {
                    if (!this.draggable || !isTouch(e) && hasTextNodesOnly(e.target) || closest(e.target, selInput) || e.button > 0 || this.length < 2) return;
                    this.start(e);
                }
            },
            {
                name: 'dragstart',
                handler (e) {
                    e.preventDefault();
                }
            }
        ],
        methods: {
            start () {
                this.drag = this.pos;
                if (this._transitioner) {
                    this.percent = this._transitioner.percent();
                    this.drag += this._transitioner.getDistance() * this.percent * this.dir;
                    this._transitioner.cancel();
                    this._transitioner.translate(this.percent);
                    this.dragging = true;
                    this.stack = [];
                } else this.prevIndex = this.index;
                on(document, pointerMove, this.move, {
                    passive: false
                });
                // 'input' event is triggered by video controls
                on(document, pointerUp + " " + pointerCancel + " input", this.end, true);
                css1(this.list, 'userSelect', 'none');
            },
            move (e) {
                const distance = this.pos - this.drag;
                if (distance === 0 || this.prevPos === this.pos || !this.dragging && Math.abs(distance) < this.threshold) return;
                // prevent click event
                css1(this.list, 'pointerEvents', 'none');
                e.cancelable && e.preventDefault();
                this.dragging = true;
                this.dir = distance < 0 ? 1 : -1;
                const { slides: slides  } = this;
                let { prevIndex: prevIndex  } = this;
                let dis = Math.abs(distance);
                let nextIndex = this.getIndex(prevIndex + this.dir, prevIndex);
                let width = this._getDistance(prevIndex, nextIndex) || slides[prevIndex].offsetWidth;
                while(nextIndex !== prevIndex && dis > width){
                    this.drag -= width * this.dir;
                    prevIndex = nextIndex;
                    dis -= width;
                    nextIndex = this.getIndex(prevIndex + this.dir, prevIndex);
                    width = this._getDistance(prevIndex, nextIndex) || slides[prevIndex].offsetWidth;
                }
                this.percent = dis / width;
                const prev = slides[prevIndex];
                const next = slides[nextIndex];
                const changed = this.index !== nextIndex;
                const edge = prevIndex === nextIndex;
                let itemShown;
                [
                    this.index,
                    this.prevIndex
                ].filter((i)=>!includes([
                        nextIndex,
                        prevIndex
                    ], i)
                ).forEach((i)=>{
                    trigger(slides[i], 'itemhidden', [
                        this
                    ]);
                    if (edge) {
                        itemShown = true;
                        this.prevIndex = prevIndex;
                    }
                });
                if (this.index === prevIndex && this.prevIndex !== prevIndex || itemShown) trigger(slides[this.index], 'itemshown', [
                    this
                ]);
                if (changed) {
                    this.prevIndex = prevIndex;
                    this.index = nextIndex;
                    !edge && trigger(prev, 'beforeitemhide', [
                        this
                    ]);
                    trigger(next, 'beforeitemshow', [
                        this
                    ]);
                }
                this._transitioner = this._translate(Math.abs(this.percent), prev, !edge && next);
                if (changed) {
                    !edge && trigger(prev, 'itemhide', [
                        this
                    ]);
                    trigger(next, 'itemshow', [
                        this
                    ]);
                }
            },
            end () {
                off1(document, pointerMove, this.move, {
                    passive: false
                });
                off1(document, pointerUp + " " + pointerCancel + " input", this.end, true);
                if (this.dragging) {
                    this.dragging = null;
                    if (this.index === this.prevIndex) {
                        this.percent = 1 - this.percent;
                        this.dir *= -1;
                        this._show(false, this.index, true);
                        this._transitioner = null;
                    } else {
                        const dirChange = (isRtl ? this.dir * (isRtl ? 1 : -1) : this.dir) < 0 === this.prevPos > this.pos;
                        this.index = dirChange ? this.index : this.prevIndex;
                        if (dirChange) this.percent = 1 - this.percent;
                        this.show(this.dir > 0 && !dirChange || this.dir < 0 && dirChange ? 'next' : 'previous', true);
                    }
                }
                css1(this.list, {
                    userSelect: '',
                    pointerEvents: ''
                });
                this.drag = this.percent = null;
            }
        }
    };
    function hasTextNodesOnly(el) {
        return !el.children.length && el.childNodes.length;
    }
    var SliderNav = {
        data: {
            selNav: false
        },
        computed: {
            nav (_ref, $el) {
                let { selNav: selNav  } = _ref;
                return $(selNav, $el);
            },
            selNavItem (_ref2) {
                let { attrItem: attrItem  } = _ref2;
                return "[" + attrItem + "],[data-" + attrItem + "]";
            },
            navItems (_, $el) {
                return $$(this.selNavItem, $el);
            }
        },
        update: {
            write () {
                if (this.nav && this.length !== this.nav.children.length) html1(this.nav, this.slides.map((_, i)=>"<li " + this.attrItem + "=\"" + i + "\"><a href></a></li>"
                ).join(''));
                this.navItems.concat(this.nav).forEach((el)=>el && (el.hidden = !this.maxIndex)
                );
                this.updateNav();
            },
            events: [
                'resize'
            ]
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return this.selNavItem;
                },
                handler (e) {
                    e.preventDefault();
                    this.show(data1(e.current, this.attrItem));
                }
            },
            {
                name: 'itemshow',
                handler: 'updateNav'
            }
        ],
        methods: {
            updateNav () {
                const i = this.getValidIndex();
                for (const el of this.navItems){
                    const cmd = data1(el, this.attrItem);
                    toggleClass(el, this.clsActive, toNumber(cmd) === i);
                    toggleClass(el, 'uk-invisible', this.finite && (cmd === 'previous' && i === 0 || cmd === 'next' && i >= this.maxIndex));
                }
            }
        }
    };
    var Slider = {
        mixins: [
            SliderAutoplay,
            SliderDrag,
            SliderNav,
            Resize
        ],
        props: {
            clsActivated: Boolean,
            easing: String,
            index: Number,
            finite: Boolean,
            velocity: Number,
            selSlides: String
        },
        data: ()=>({
                easing: 'ease',
                finite: false,
                velocity: 1,
                index: 0,
                prevIndex: -1,
                stack: [],
                percent: 0,
                clsActive: 'uk-active',
                clsActivated: false,
                Transitioner: false,
                transitionOptions: {}
            })
        ,
        connected () {
            this.prevIndex = -1;
            this.index = this.getValidIndex(this.$props.index);
            this.stack = [];
        },
        disconnected () {
            removeClass(this.slides, this.clsActive);
        },
        computed: {
            duration (_ref, $el) {
                let { velocity: velocity  } = _ref;
                return speedUp($el.offsetWidth / velocity);
            },
            list (_ref2, $el) {
                let { selList: selList  } = _ref2;
                return $(selList, $el);
            },
            maxIndex () {
                return this.length - 1;
            },
            selSlides (_ref3) {
                let { selList: selList , selSlides: selSlides  } = _ref3;
                return selList + " " + (selSlides || '> *');
            },
            slides: {
                get () {
                    return $$(this.selSlides, this.$el);
                },
                watch () {
                    this.$reset();
                }
            },
            length () {
                return this.slides.length;
            }
        },
        methods: {
            show (index, force) {
                if (force === void 0) force = false;
                if (this.dragging || !this.length) return;
                const { stack: stack  } = this;
                const queueIndex = force ? 0 : stack.length;
                const reset = ()=>{
                    stack.splice(queueIndex, 1);
                    if (stack.length) this.show(stack.shift(), true);
                };
                stack[force ? 'unshift' : 'push'](index);
                if (!force && stack.length > 1) {
                    if (stack.length === 2) this._transitioner.forward(Math.min(this.duration, 200));
                    return;
                }
                const prevIndex = this.getIndex(this.index);
                const prev = hasClass(this.slides, this.clsActive) && this.slides[prevIndex];
                const nextIndex = this.getIndex(index, this.index);
                const next = this.slides[nextIndex];
                if (prev === next) {
                    reset();
                    return;
                }
                this.dir = getDirection(index, prevIndex);
                this.prevIndex = prevIndex;
                this.index = nextIndex;
                if (prev && !trigger(prev, 'beforeitemhide', [
                    this
                ]) || !trigger(next, 'beforeitemshow', [
                    this,
                    prev
                ])) {
                    this.index = this.prevIndex;
                    reset();
                    return;
                }
                const promise = this._show(prev, next, force).then(()=>{
                    prev && trigger(prev, 'itemhidden', [
                        this
                    ]);
                    trigger(next, 'itemshown', [
                        this
                    ]);
                    return new Promise((resolve)=>{
                        fastdom.write(()=>{
                            stack.shift();
                            if (stack.length) this.show(stack.shift(), true);
                            else this._transitioner = null;
                            resolve();
                        });
                    });
                });
                prev && trigger(prev, 'itemhide', [
                    this
                ]);
                trigger(next, 'itemshow', [
                    this
                ]);
                return promise;
            },
            getIndex (index, prev) {
                if (index === void 0) index = this.index;
                if (prev === void 0) prev = this.index;
                return clamp(getIndex(index, this.slides, prev, this.finite), 0, this.maxIndex);
            },
            getValidIndex (index, prevIndex) {
                if (index === void 0) index = this.index;
                if (prevIndex === void 0) prevIndex = this.prevIndex;
                return this.getIndex(index, prevIndex);
            },
            _show (prev, next, force) {
                this._transitioner = this._getTransitioner(prev, next, this.dir, {
                    easing: force ? next.offsetWidth < 600 ? 'cubic-bezier(0.25, 0.46, 0.45, 0.94)' /* easeOutQuad */  : 'cubic-bezier(0.165, 0.84, 0.44, 1)' /* easeOutQuart */  : this.easing,
                    ...this.transitionOptions
                });
                if (!force && !prev) {
                    this._translate(1);
                    return Promise.resolve();
                }
                const { length: length  } = this.stack;
                return this._transitioner[length > 1 ? 'forward' : 'show'](length > 1 ? Math.min(this.duration, 75 + 75 / (length - 1)) : this.duration, this.percent);
            },
            _getDistance (prev, next) {
                return this._getTransitioner(prev, prev !== next && next).getDistance();
            },
            _translate (percent, prev, next) {
                if (prev === void 0) prev = this.prevIndex;
                if (next === void 0) next = this.index;
                const transitioner = this._getTransitioner(prev !== next ? prev : false, next);
                transitioner.translate(percent);
                return transitioner;
            },
            _getTransitioner (prev, next, dir, options) {
                if (prev === void 0) prev = this.prevIndex;
                if (next === void 0) next = this.index;
                if (dir === void 0) dir = this.dir || 1;
                if (options === void 0) options = this.transitionOptions;
                return new this.Transitioner(isNumber(prev) ? this.slides[prev] : prev, isNumber(next) ? this.slides[next] : next, dir * (isRtl ? -1 : 1), options);
            }
        }
    };
    function getDirection(index, prevIndex) {
        return index === 'next' ? 1 : index === 'previous' ? -1 : index < prevIndex ? -1 : 1;
    }
    function speedUp(x) {
        return 0.5 * x + 300; // parabola through (400,500; 600,600; 1800,1200)
    }
    var Slideshow = {
        mixins: [
            Slider
        ],
        props: {
            animation: String
        },
        data: {
            animation: 'slide',
            clsActivated: 'uk-transition-active',
            Animations: Animations$2,
            Transitioner: Transitioner$1
        },
        computed: {
            animation (_ref) {
                let { animation: animation , Animations: Animations  } = _ref;
                return {
                    ...Animations[animation] || Animations.slide,
                    name: animation
                };
            },
            transitionOptions () {
                return {
                    animation: this.animation
                };
            }
        },
        events: {
            beforeitemshow (_ref2) {
                let { target: target  } = _ref2;
                addClass(target, this.clsActive);
            },
            itemshown (_ref3) {
                let { target: target  } = _ref3;
                addClass(target, this.clsActivated);
            },
            itemhidden (_ref4) {
                let { target: target  } = _ref4;
                removeClass(target, this.clsActive, this.clsActivated);
            }
        }
    };
    var LightboxPanel = {
        mixins: [
            Container,
            Modal,
            Togglable,
            Slideshow
        ],
        functional: true,
        props: {
            delayControls: Number,
            preload: Number,
            videoAutoplay: Boolean,
            template: String
        },
        data: ()=>({
                preload: 1,
                videoAutoplay: false,
                delayControls: 3000,
                items: [],
                cls: 'uk-open',
                clsPage: 'uk-lightbox-page',
                selList: '.uk-lightbox-items',
                attrItem: 'uk-lightbox-item',
                selClose: '.uk-close-large',
                selCaption: '.uk-lightbox-caption',
                pauseOnHover: false,
                velocity: 2,
                Animations: Animations$1,
                template: "<div class=\"uk-lightbox uk-overflow-hidden\"> <ul class=\"uk-lightbox-items\"></ul> <div class=\"uk-lightbox-toolbar uk-position-top uk-text-right uk-transition-slide-top uk-transition-opaque\"> <button class=\"uk-lightbox-toolbar-icon uk-close-large\" type=\"button\" uk-close></button> </div> <a class=\"uk-lightbox-button uk-position-center-left uk-position-medium uk-transition-fade\" href uk-slidenav-previous uk-lightbox-item=\"previous\"></a> <a class=\"uk-lightbox-button uk-position-center-right uk-position-medium uk-transition-fade\" href uk-slidenav-next uk-lightbox-item=\"next\"></a> <div class=\"uk-lightbox-toolbar uk-lightbox-caption uk-position-bottom uk-text-center uk-transition-slide-bottom uk-transition-opaque\"></div> </div>"
            })
        ,
        created () {
            const $el = $(this.template);
            const list = $(this.selList, $el);
            this.items.forEach(()=>append(list, '<li>')
            );
            this.$mount(append(this.container, $el));
        },
        computed: {
            caption (_ref, $el) {
                let { selCaption: selCaption  } = _ref;
                return $(selCaption, $el);
            }
        },
        events: [
            {
                name: pointerMove + " " + pointerDown + " keydown",
                handler: 'showControls'
            },
            {
                name: 'click',
                self: true,
                delegate () {
                    return this.selSlides;
                },
                handler (e) {
                    if (e.defaultPrevented) return;
                    this.hide();
                }
            },
            {
                name: 'shown',
                self: true,
                handler () {
                    this.showControls();
                }
            },
            {
                name: 'hide',
                self: true,
                handler () {
                    this.hideControls();
                    removeClass(this.slides, this.clsActive);
                    Transition.stop(this.slides);
                }
            },
            {
                name: 'hidden',
                self: true,
                handler () {
                    this.$destroy(true);
                }
            },
            {
                name: 'keyup',
                el () {
                    return document;
                },
                handler (e) {
                    if (!this.isToggled(this.$el) || !this.draggable) return;
                    switch(e.keyCode){
                        case 37:
                            this.show('previous');
                            break;
                        case 39:
                            this.show('next');
                            break;
                    }
                }
            },
            {
                name: 'beforeitemshow',
                handler (e) {
                    if (this.isToggled()) return;
                    this.draggable = false;
                    e.preventDefault();
                    this.toggleElement(this.$el, true, false);
                    this.animation = Animations$1['scale'];
                    removeClass(e.target, this.clsActive);
                    this.stack.splice(1, 0, this.index);
                }
            },
            {
                name: 'itemshow',
                handler () {
                    html1(this.caption, this.getItem().caption || '');
                    for(let j = -this.preload; j <= this.preload; j++)this.loadItem(this.index + j);
                }
            },
            {
                name: 'itemshown',
                handler () {
                    this.draggable = this.$props.draggable;
                }
            },
            {
                name: 'itemload',
                async handler (_, item) {
                    const { source: src , type: type , alt: alt = '' , poster: poster , attrs: attrs = {}  } = item;
                    this.setItem(item, '<span uk-spinner></span>');
                    if (!src) return;
                    let matches;
                    const iframeAttrs = {
                        frameborder: '0',
                        allow: 'autoplay',
                        allowfullscreen: '',
                        style: 'max-width: 100%; box-sizing: border-box;',
                        'uk-responsive': '',
                        'uk-video': "" + this.videoAutoplay
                    };
                    // Image
                    if (type === 'image' || src.match(/\.(avif|jpe?g|jfif|a?png|gif|svg|webp)($|\?)/i)) try {
                        const { width: width , height: height  } = await getImage(src, attrs.srcset, attrs.size);
                        this.setItem(item, createEl('img', {
                            src: src,
                            width: width,
                            height: height,
                            alt: alt,
                            ...attrs
                        }));
                    } catch (e) {
                        this.setError(item);
                    }
                    else if (type === 'video' || src.match(/\.(mp4|webm|ogv)($|\?)/i)) {
                        const video = createEl('video', {
                            src: src,
                            poster: poster,
                            controls: '',
                            playsinline: '',
                            'uk-video': "" + this.videoAutoplay,
                            ...attrs
                        });
                        on(video, 'loadedmetadata', ()=>{
                            attr1(video, {
                                width: video.videoWidth,
                                height: video.videoHeight
                            });
                            this.setItem(item, video);
                        });
                        on(video, 'error', ()=>this.setError(item)
                        );
                    // Iframe
                    } else if (type === 'iframe' || src.match(/\.(html|php)($|\?)/i)) this.setItem(item, createEl('iframe', {
                        src: src,
                        frameborder: '0',
                        allowfullscreen: '',
                        class: 'uk-lightbox-iframe',
                        ...attrs
                    }));
                    else if (matches = src.match(/\/\/(?:.*?youtube(-nocookie)?\..*?[?&]v=|youtu\.be\/)([\w-]{11})[&?]?(.*)?/)) this.setItem(item, createEl('iframe', {
                        src: "https://www.youtube" + (matches[1] || '') + ".com/embed/" + matches[2] + (matches[3] ? "?" + matches[3] : ''),
                        width: 1920,
                        height: 1080,
                        ...iframeAttrs,
                        ...attrs
                    }));
                    else if (matches = src.match(/\/\/.*?vimeo\.[a-z]+\/(\d+)[&?]?(.*)?/)) try {
                        const { height: height , width: width  } = await (await fetch("https://vimeo.com/api/oembed.json?maxwidth=1920&url=" + encodeURI(src), {
                            credentials: 'omit'
                        })).json();
                        this.setItem(item, createEl('iframe', {
                            src: "https://player.vimeo.com/video/" + matches[1] + (matches[2] ? "?" + matches[2] : ''),
                            width: width,
                            height: height,
                            ...iframeAttrs,
                            ...attrs
                        }));
                    } catch (e3) {
                        this.setError(item);
                    }
                }
            }
        ],
        methods: {
            loadItem (index) {
                if (index === void 0) index = this.index;
                const item = this.getItem(index);
                if (!this.getSlide(item).childElementCount) trigger(this.$el, 'itemload', [
                    item
                ]);
            },
            getItem (index) {
                if (index === void 0) index = this.index;
                return this.items[getIndex(index, this.slides)];
            },
            setItem (item, content) {
                trigger(this.$el, 'itemloaded', [
                    this,
                    html1(this.getSlide(item), content)
                ]);
            },
            getSlide (item) {
                return this.slides[this.items.indexOf(item)];
            },
            setError (item) {
                this.setItem(item, '<span uk-icon="icon: bolt; ratio: 2"></span>');
            },
            showControls () {
                clearTimeout(this.controlsTimer);
                this.controlsTimer = setTimeout(this.hideControls, this.delayControls);
                addClass(this.$el, 'uk-active', 'uk-transition-active');
            },
            hideControls () {
                removeClass(this.$el, 'uk-active', 'uk-transition-active');
            }
        }
    };
    function createEl(tag, attrs) {
        const el = fragment("<" + tag + ">");
        attr1(el, attrs);
        return el;
    }
    var lightbox = {
        install: install$1,
        props: {
            toggle: String
        },
        data: {
            toggle: 'a'
        },
        computed: {
            toggles: {
                get (_ref, $el) {
                    let { toggle: toggle  } = _ref;
                    return $$(toggle, $el);
                },
                watch () {
                    this.hide();
                }
            }
        },
        disconnected () {
            this.hide();
        },
        events: [
            {
                name: 'click',
                delegate () {
                    return this.toggle + ":not(.uk-disabled)";
                },
                handler (e) {
                    e.preventDefault();
                    this.show(e.current);
                }
            }
        ],
        methods: {
            show (index) {
                const items = uniqueBy(this.toggles.map(toItem), 'source');
                if (isElement(index)) {
                    const { source: source  } = toItem(index);
                    index = findIndex(items, (_ref2)=>{
                        let { source: src  } = _ref2;
                        return source === src;
                    });
                }
                this.panel = this.panel || this.$create('lightboxPanel', {
                    ...this.$props,
                    items: items
                });
                on(this.panel.$el, 'hidden', ()=>this.panel = false
                );
                return this.panel.show(index);
            },
            hide () {
                var _this$panel;
                return (_this$panel = this.panel) == null ? void 0 : _this$panel.hide();
            }
        }
    };
    function install$1(UIkit, Lightbox) {
        if (!UIkit.lightboxPanel) UIkit.component('lightboxPanel', LightboxPanel);
        assign(Lightbox.props, UIkit.component('lightboxPanel').options.props);
    }
    function toItem(el) {
        const item = {};
        for (const attr of [
            'href',
            'caption',
            'type',
            'poster',
            'alt',
            'attrs'
        ])item[attr === 'href' ? 'source' : attr] = data1(el, attr);
        item.attrs = parseOptions(item.attrs);
        return item;
    }
    var notification1 = {
        mixins: [
            Container
        ],
        functional: true,
        args: [
            'message',
            'status'
        ],
        data: {
            message: '',
            status: '',
            timeout: 5000,
            group: null,
            pos: 'top-center',
            clsContainer: 'uk-notification',
            clsClose: 'uk-notification-close',
            clsMsg: 'uk-notification-message'
        },
        install: install,
        computed: {
            marginProp (_ref) {
                let { pos: pos  } = _ref;
                return "margin" + (startsWith(pos, 'top') ? 'Top' : 'Bottom');
            },
            startProps () {
                return {
                    opacity: 0,
                    [this.marginProp]: -this.$el.offsetHeight
                };
            }
        },
        created () {
            const container = $("." + this.clsContainer + "-" + this.pos, this.container) || append(this.container, "<div class=\"" + this.clsContainer + " " + this.clsContainer + "-" + this.pos + "\" style=\"display: block\"></div>");
            this.$mount(append(container, "<div class=\"" + this.clsMsg + (this.status ? " " + this.clsMsg + "-" + this.status : '') + "\"> <a href class=\"" + this.clsClose + "\" data-uk-close></a> <div>" + this.message + "</div> </div>"));
        },
        async connected () {
            const margin = toFloat(css1(this.$el, this.marginProp));
            await Transition.start(css1(this.$el, this.startProps), {
                opacity: 1,
                [this.marginProp]: margin
            });
            if (this.timeout) this.timer = setTimeout(this.close, this.timeout);
        },
        events: {
            click (e) {
                if (closest(e.target, 'a[href="#"],a[href=""]')) e.preventDefault();
                this.close();
            },
            [pointerEnter] () {
                if (this.timer) clearTimeout(this.timer);
            },
            [pointerLeave] () {
                if (this.timeout) this.timer = setTimeout(this.close, this.timeout);
            }
        },
        methods: {
            async close (immediate) {
                const removeFn = (el)=>{
                    const container = parent1(el);
                    trigger(el, 'close', [
                        this
                    ]);
                    remove$1(el);
                    if (!(container != null && container.hasChildNodes())) remove$1(container);
                };
                if (this.timer) clearTimeout(this.timer);
                if (!immediate) await Transition.start(this.$el, this.startProps);
                removeFn(this.$el);
            }
        }
    };
    function install(UIkit) {
        UIkit.notification.closeAll = function(group, immediate) {
            apply(document.body, (el)=>{
                const notification = UIkit.getComponent(el, 'notification');
                if (notification && (!group || group === notification.group)) notification.close(immediate);
            });
        };
    }
    const props1 = {
        x: transformFn1,
        y: transformFn1,
        rotate: transformFn1,
        scale: transformFn1,
        color: colorFn,
        backgroundColor: colorFn,
        borderColor: colorFn,
        blur: filterFn1,
        hue: filterFn1,
        fopacity: filterFn1,
        grayscale: filterFn1,
        invert: filterFn1,
        saturate: filterFn1,
        sepia: filterFn1,
        opacity: cssPropFn,
        stroke: strokeFn,
        bgx: backgroundFn,
        bgy: backgroundFn
    };
    const { keys: keys1  } = Object;
    var Parallax = {
        mixins: [
            Media
        ],
        props: fillObject(keys1(props1), 'list'),
        data: fillObject(keys1(props1), undefined),
        computed: {
            props (properties, $el) {
                return keys1(props1).reduce((result, prop)=>{
                    if (!isUndefined(properties[prop])) result[prop] = props1[prop](prop, $el, properties[prop].slice());
                    return result;
                }, {});
            }
        },
        events: {
            load () {
                this.$emit();
            }
        },
        methods: {
            reset () {
                for(const prop in this.getCss(0))css1(this.$el, prop, '');
            },
            getCss (percent) {
                const css = {
                    transform: '',
                    filter: ''
                };
                for(const prop in this.props)this.props[prop](css, percent);
                return css;
            }
        }
    };
    function transformFn1(prop, el, stops) {
        let unit = getUnit(stops) || ({
            x: 'px',
            y: 'px',
            rotate: 'deg'
        })[prop] || '';
        let transformFn;
        if (prop === 'x' || prop === 'y') {
            prop = "translate" + ucfirst(prop);
            transformFn = (stop)=>toFloat(toFloat(stop).toFixed(unit === 'px' ? 0 : 6))
            ;
        } else if (prop === 'scale') {
            unit = '';
            transformFn = (stop)=>getUnit([
                    stop
                ]) ? toPx(stop, 'width', el, true) / el.offsetWidth : stop
            ;
        }
        if (stops.length === 1) stops.unshift(prop === 'scale' ? 1 : 0);
        stops = parseStops(stops, transformFn);
        return (css, percent)=>{
            css.transform += " " + prop + "(" + getValue(stops, percent) + unit + ")";
        };
    }
    function colorFn(prop, el, stops) {
        if (stops.length === 1) stops.unshift(getCssValue(el, prop, ''));
        stops = parseStops(stops, (stop)=>parseColor(el, stop)
        );
        return (css, percent)=>{
            const [start, end, p] = getStop(stops, percent);
            const value4 = start.map((value, i)=>{
                value += p * (end[i] - value);
                return i === 3 ? toFloat(value) : parseInt(value, 10);
            }).join(',');
            css[prop] = "rgba(" + value4 + ")";
        };
    }
    function parseColor(el, color) {
        return getCssValue(el, 'color', color).split(/[(),]/g).slice(1, -1).concat(1).slice(0, 4).map(toFloat);
    }
    function filterFn1(prop, el, stops) {
        if (stops.length === 1) stops.unshift(0);
        const unit = getUnit(stops) || ({
            blur: 'px',
            hue: 'deg'
        })[prop] || '%';
        prop = ({
            fopacity: 'opacity',
            hue: 'hue-rotate'
        })[prop] || prop;
        stops = parseStops(stops);
        return (css, percent)=>{
            const value = getValue(stops, percent);
            css.filter += " " + prop + "(" + (value + unit) + ")";
        };
    }
    function cssPropFn(prop, el, stops) {
        if (stops.length === 1) stops.unshift(getCssValue(el, prop, ''));
        stops = parseStops(stops);
        return (css, percent)=>{
            css[prop] = getValue(stops, percent);
        };
    }
    function strokeFn(prop, el, stops) {
        if (stops.length === 1) stops.unshift(0);
        const unit = getUnit(stops);
        const length = getMaxPathLength(el);
        stops = parseStops(stops.reverse(), (stop)=>{
            stop = toFloat(stop);
            return unit === '%' ? stop * length / 100 : stop;
        });
        if (!stops.some((_ref)=>{
            let [value] = _ref;
            return value;
        })) return noop;
        css1(el, 'strokeDasharray', length);
        return (css, percent)=>{
            css.strokeDashoffset = getValue(stops, percent);
        };
    }
    function backgroundFn(prop, el, stops) {
        if (stops.length === 1) stops.unshift(0);
        prop = prop.substr(-1);
        const attr = prop === 'y' ? 'height' : 'width';
        stops = parseStops(stops, (stop)=>toPx(stop, attr, el)
        );
        const bgPos = getCssValue(el, "background-position-" + prop, '');
        return getCssValue(el, 'backgroundSize', '') === 'cover' ? backgroundCoverFn(prop, el, stops, bgPos, attr) : setBackgroundPosFn(prop, stops, bgPos);
    }
    function backgroundCoverFn(prop, el, stops, bgPos, attr) {
        const dimImage = getBackgroundImageDimensions(el);
        if (!dimImage.width) return noop;
        const values = stops.map((_ref2)=>{
            let [value] = _ref2;
            return value;
        });
        const min = Math.min(...values);
        const max = Math.max(...values);
        const down = values.indexOf(min) < values.indexOf(max);
        const diff = max - min;
        let pos = (down ? -diff : 0) - (down ? min : max);
        const dimEl = {
            width: el.offsetWidth,
            height: el.offsetHeight
        };
        const baseDim = Dimensions.cover(dimImage, dimEl);
        const span = baseDim[attr] - dimEl[attr];
        if (span < diff) dimEl[attr] = baseDim[attr] + diff - span;
        else if (span > diff) {
            const posPercentage = dimEl[attr] / toPx(bgPos, attr, el, true);
            if (posPercentage) pos -= (span - diff) / posPercentage;
        }
        const dim = Dimensions.cover(dimImage, dimEl);
        const fn = setBackgroundPosFn(prop, stops, pos + "px");
        return (css, percent)=>{
            fn(css, percent);
            css.backgroundSize = dim.width + "px " + dim.height + "px";
            css.backgroundRepeat = 'no-repeat';
        };
    }
    function setBackgroundPosFn(prop, stops, pos) {
        return function(css, percent) {
            css["background-position-" + prop] = "calc(" + pos + " + " + getValue(stops, percent) + "px)";
        };
    }
    const dimensions1 = {};
    function getBackgroundImageDimensions(el) {
        const src = css1(el, 'backgroundImage').replace(/^none|url\(["']?(.+?)["']?\)$/, '$1');
        if (dimensions1[src]) return dimensions1[src];
        const image = new Image();
        if (src) {
            image.src = src;
            if (!image.naturalWidth) {
                image.onload = ()=>{
                    dimensions1[src] = toDimensions(image);
                    trigger(el, createEvent('load', false));
                };
                return toDimensions(image);
            }
        }
        return dimensions1[src] = toDimensions(image);
    }
    function toDimensions(image) {
        return {
            width: image.naturalWidth,
            height: image.naturalHeight
        };
    }
    function parseStops(stops, fn) {
        if (fn === void 0) fn = toFloat;
        const result = [];
        const { length: length  } = stops;
        let nullIndex = 0;
        for(let i = 0; i < length; i++){
            let [value, percent] = isString(stops[i]) ? stops[i].trim().split(' ') : [
                stops[i]
            ];
            value = fn(value);
            percent = percent ? toFloat(percent) / 100 : null;
            if (i === 0) {
                if (percent === null) percent = 0;
                else if (percent) result.push([
                    value,
                    0
                ]);
            } else if (i === length - 1) {
                if (percent === null) percent = 1;
                else if (percent !== 1) {
                    result.push([
                        value,
                        percent
                    ]);
                    percent = 1;
                }
            }
            result.push([
                value,
                percent
            ]);
            if (percent === null) nullIndex++;
            else if (nullIndex) {
                const leftPercent = result[i - nullIndex - 1][1];
                const p = (percent - leftPercent) / (nullIndex + 1);
                for(let j = nullIndex; j > 0; j--)result[i - j][1] = leftPercent + p * (nullIndex - j + 1);
                nullIndex = 0;
            }
        }
        return result;
    }
    function getStop(stops, percent) {
        const index = findIndex(stops.slice(1), (_ref3)=>{
            let [, targetPercent] = _ref3;
            return percent <= targetPercent;
        }) + 1;
        return [
            stops[index - 1][0],
            stops[index][0],
            (percent - stops[index - 1][1]) / (stops[index][1] - stops[index - 1][1])
        ];
    }
    function getValue(stops, percent) {
        const [start, end, p] = getStop(stops, percent);
        return isNumber(start) ? start + Math.abs(start - end) * p * (start < end ? 1 : -1) : +end;
    }
    const unitRe = /^-?\d+([^\s]*)/;
    function getUnit(stops, defaultUnit) {
        for (const stop of stops){
            const match = stop.match == null ? void 0 : stop.match(unitRe);
            if (match) return match[1];
        }
        return defaultUnit;
    }
    function getCssValue(el, prop, value) {
        const prev = el.style[prop];
        const val = css1(css1(el, prop, value), prop);
        el.style[prop] = prev;
        return val;
    }
    function fillObject(keys, value) {
        return keys.reduce((data, prop)=>{
            data[prop] = value;
            return data;
        }, {});
    }
    var parallax = {
        mixins: [
            Parallax,
            Resize,
            Scroll
        ],
        props: {
            target: String,
            viewport: Number,
            easing: Number,
            start: String,
            end: String
        },
        data: {
            target: false,
            viewport: 1,
            easing: 1,
            start: 0,
            end: 0
        },
        computed: {
            target (_ref, $el) {
                let { target: target  } = _ref;
                return getOffsetElement(target && query(target, $el) || $el);
            },
            start (_ref2) {
                let { start: start  } = _ref2;
                return toPx(start, 'height', this.target, true);
            },
            end (_ref3) {
                let { end: end , viewport: viewport  } = _ref3;
                return toPx(end || (viewport = (1 - viewport) * 100) && viewport + "vh+" + viewport + "%", 'height', this.target, true);
            }
        },
        update: {
            read (_ref4, types) {
                let { percent: percent  } = _ref4;
                if (!types.has('scroll')) percent = false;
                if (!this.matchMedia) return;
                const prev = percent;
                percent = ease1(scrolledOver(this.target, this.start, this.end), this.easing);
                return {
                    percent: percent,
                    style: prev === percent ? false : this.getCss(percent)
                };
            },
            write (_ref5) {
                let { style: style  } = _ref5;
                if (!this.matchMedia) {
                    this.reset();
                    return;
                }
                style && css1(this.$el, style);
            },
            events: [
                'scroll',
                'resize'
            ]
        }
    };
    function ease1(percent, easing) {
        return easing >= 0 ? Math.pow(percent, easing + 1) : 1 - Math.pow(1 - percent, -easing + 1);
    }
    // SVG elements do not inherit from HTMLElement
    function getOffsetElement(el) {
        return el ? 'offsetTop' in el ? el : getOffsetElement(parent1(el)) : document.documentElement;
    }
    var SliderReactive = {
        update: {
            write () {
                if (this.stack.length || this.dragging) return;
                const index = this.getValidIndex(this.index);
                if (!~this.prevIndex || this.index !== index) this.show(index);
            },
            events: [
                'resize'
            ]
        }
    };
    var SliderPreload = {
        mixins: [
            Lazyload
        ],
        connected () {
            this.lazyload(this.slides, this.getAdjacentSlides);
        }
    };
    function Transitioner(prev, next, dir, _ref) {
        let { center: center , easing: easing , list: list  } = _ref;
        const deferred = new Deferred();
        const from = prev ? getLeft(prev, list, center) : getLeft(next, list, center) + dimensions$1(next).width * dir;
        const to = next ? getLeft(next, list, center) : from + dimensions$1(prev).width * dir * (isRtl ? -1 : 1);
        return {
            dir: dir,
            show (duration, percent, linear) {
                if (percent === void 0) percent = 0;
                const timing = linear ? 'linear' : easing;
                duration -= Math.round(duration * clamp(percent, -1, 1));
                this.translate(percent);
                percent = prev ? percent : clamp(percent, 0, 1);
                triggerUpdate(this.getItemIn(), 'itemin', {
                    percent: percent,
                    duration: duration,
                    timing: timing,
                    dir: dir
                });
                prev && triggerUpdate(this.getItemIn(true), 'itemout', {
                    percent: 1 - percent,
                    duration: duration,
                    timing: timing,
                    dir: dir
                });
                Transition.start(list, {
                    transform: translate1(-to * (isRtl ? -1 : 1), 'px')
                }, duration, timing).then(deferred.resolve, noop);
                return deferred.promise;
            },
            cancel () {
                Transition.cancel(list);
            },
            reset () {
                css1(list, 'transform', '');
            },
            forward (duration, percent) {
                if (percent === void 0) percent = this.percent();
                Transition.cancel(list);
                return this.show(duration, percent, true);
            },
            translate (percent) {
                const distance = this.getDistance() * dir * (isRtl ? -1 : 1);
                css1(list, 'transform', translate1(clamp(-to + (distance - distance * percent), -getWidth(list), dimensions$1(list).width) * (isRtl ? -1 : 1), 'px'));
                const actives = this.getActives();
                const itemIn = this.getItemIn();
                const itemOut = this.getItemIn(true);
                percent = prev ? clamp(percent, -1, 1) : 0;
                for (const slide of children1(list)){
                    const isActive = includes(actives, slide);
                    const isIn = slide === itemIn;
                    const isOut = slide === itemOut;
                    const translateIn = isIn || !isOut && (isActive || dir * (isRtl ? -1 : 1) === -1 ^ getElLeft(slide, list) > getElLeft(prev || next));
                    triggerUpdate(slide, "itemtranslate" + (translateIn ? 'in' : 'out'), {
                        dir: dir,
                        percent: isOut ? 1 - percent : isIn ? percent : isActive ? 1 : 0
                    });
                }
            },
            percent () {
                return Math.abs((css1(list, 'transform').split(',')[4] * (isRtl ? -1 : 1) + from) / (to - from));
            },
            getDistance () {
                return Math.abs(to - from);
            },
            getItemIn (out) {
                if (out === void 0) out = false;
                let actives = this.getActives();
                let nextActives = inView1(list, getLeft(next || prev, list, center));
                if (out) {
                    const temp = actives;
                    actives = nextActives;
                    nextActives = temp;
                }
                return nextActives[findIndex(nextActives, (el)=>!includes(actives, el)
                )];
            },
            getActives () {
                return inView1(list, getLeft(prev || next, list, center));
            }
        };
    }
    function getLeft(el, list, center) {
        const left = getElLeft(el, list);
        return center ? left - centerEl(el, list) : Math.min(left, getMax(list));
    }
    function getMax(list) {
        return Math.max(0, getWidth(list) - dimensions$1(list).width);
    }
    function getWidth(list) {
        return children1(list).reduce((right, el)=>dimensions$1(el).width + right
        , 0);
    }
    function centerEl(el, list) {
        return dimensions$1(list).width / 2 - dimensions$1(el).width / 2;
    }
    function getElLeft(el, list) {
        return el && (position1(el).left + (isRtl ? dimensions$1(el).width - dimensions$1(list).width : 0)) * (isRtl ? -1 : 1) || 0;
    }
    function inView1(list, listLeft) {
        listLeft -= 1;
        const listWidth = dimensions$1(list).width;
        const listRight = listLeft + listWidth + 2;
        return children1(list).filter((slide)=>{
            const slideLeft = getElLeft(slide, list);
            const slideRight = slideLeft + Math.min(dimensions$1(slide).width, listWidth);
            return slideLeft >= listLeft && slideRight <= listRight;
        });
    }
    function triggerUpdate(el, type, data) {
        trigger(el, createEvent(type, false, false, data));
    }
    var slider = {
        mixins: [
            Class,
            Slider,
            SliderReactive,
            SliderPreload
        ],
        props: {
            center: Boolean,
            sets: Boolean
        },
        data: {
            center: false,
            sets: false,
            attrItem: 'uk-slider-item',
            selList: '.uk-slider-items',
            selNav: '.uk-slider-nav',
            clsContainer: 'uk-slider-container',
            Transitioner: Transitioner
        },
        computed: {
            avgWidth () {
                return getWidth(this.list) / this.length;
            },
            finite (_ref) {
                let { finite: finite  } = _ref;
                return finite || Math.ceil(getWidth(this.list)) < Math.trunc(dimensions$1(this.list).width + getMaxElWidth(this.list) + this.center);
            },
            maxIndex () {
                if (!this.finite || this.center && !this.sets) return this.length - 1;
                if (this.center) return last1(this.sets);
                let lft = 0;
                const max = getMax(this.list);
                const index = findIndex(this.slides, (el)=>{
                    if (lft >= max) return true;
                    lft += dimensions$1(el).width;
                });
                return ~index ? index : this.length - 1;
            },
            sets (_ref2) {
                let { sets: enabled  } = _ref2;
                if (!enabled) return;
                let left = 0;
                const sets = [];
                const width = dimensions$1(this.list).width;
                for(let i = 0; i < this.slides.length; i++){
                    const slideWidth = dimensions$1(this.slides[i]).width;
                    if (left + slideWidth > width) left = 0;
                    if (this.center) {
                        if (left < width / 2 && left + slideWidth + dimensions$1(this.slides[+i + 1]).width / 2 > width / 2) {
                            sets.push(+i);
                            left = width / 2 - slideWidth / 2;
                        }
                    } else if (left === 0) sets.push(Math.min(+i, this.maxIndex));
                    left += slideWidth;
                }
                if (sets.length) return sets;
            },
            transitionOptions () {
                return {
                    center: this.center,
                    list: this.list
                };
            }
        },
        connected () {
            toggleClass(this.$el, this.clsContainer, !$("." + this.clsContainer, this.$el));
        },
        update: {
            write () {
                for (const el of this.navItems){
                    const index = toNumber(data1(el, this.attrItem));
                    if (index !== false) el.hidden = !this.maxIndex || index > this.maxIndex || this.sets && !includes(this.sets, index);
                }
                if (this.length && !this.dragging && !this.stack.length) {
                    this.reorder();
                    this._translate(1);
                }
                this.updateActiveClasses();
            },
            events: [
                'resize'
            ]
        },
        events: {
            beforeitemshow (e) {
                if (!this.dragging && this.sets && this.stack.length < 2 && !includes(this.sets, this.index)) this.index = this.getValidIndex();
                const diff = Math.abs(this.index - this.prevIndex + (this.dir > 0 && this.index < this.prevIndex || this.dir < 0 && this.index > this.prevIndex ? (this.maxIndex + 1) * this.dir : 0));
                if (!this.dragging && diff > 1) {
                    for(let i = 0; i < diff; i++)this.stack.splice(1, 0, this.dir > 0 ? 'next' : 'previous');
                    e.preventDefault();
                    return;
                }
                const index = this.dir < 0 || !this.slides[this.prevIndex] ? this.index : this.prevIndex;
                this.duration = speedUp(this.avgWidth / this.velocity) * (dimensions$1(this.slides[index]).width / this.avgWidth);
                this.reorder();
            },
            itemshow () {
                if (~this.prevIndex) addClass(this._getTransitioner().getItemIn(), this.clsActive);
            },
            itemshown () {
                this.updateActiveClasses();
            }
        },
        methods: {
            reorder () {
                if (this.finite) {
                    css1(this.slides, 'order', '');
                    return;
                }
                const index = this.dir > 0 && this.slides[this.prevIndex] ? this.prevIndex : this.index;
                this.slides.forEach((slide, i)=>css1(slide, 'order', this.dir > 0 && i < index ? 1 : this.dir < 0 && i >= this.index ? -1 : '')
                );
                if (!this.center) return;
                const next = this.slides[index];
                let width = dimensions$1(this.list).width / 2 - dimensions$1(next).width / 2;
                let j = 0;
                while(width > 0){
                    const slideIndex = this.getIndex(--j + index, index);
                    const slide = this.slides[slideIndex];
                    css1(slide, 'order', slideIndex > index ? -2 : -1);
                    width -= dimensions$1(slide).width;
                }
            },
            updateActiveClasses () {
                const actives = this._getTransitioner(this.index).getActives();
                const activeClasses = [
                    this.clsActive,
                    (!this.sets || includes(this.sets, toFloat(this.index))) && this.clsActivated || ''
                ];
                for (const slide of this.slides)toggleClass(slide, activeClasses, includes(actives, slide));
            },
            getValidIndex (index, prevIndex) {
                if (index === void 0) index = this.index;
                if (prevIndex === void 0) prevIndex = this.prevIndex;
                index = this.getIndex(index, prevIndex);
                if (!this.sets) return index;
                let prev;
                do {
                    if (includes(this.sets, index)) return index;
                    prev = index;
                    index = this.getIndex(index + this.dir, prevIndex);
                }while (index !== prev)
                return index;
            },
            getAdjacentSlides () {
                const { width: width  } = dimensions$1(this.list);
                const left = -width;
                const right = width * 2;
                const slideWidth = dimensions$1(this.slides[this.index]).width;
                const slideLeft = this.center ? width / 2 - slideWidth / 2 : 0;
                const slides = new Set();
                for (const i of [
                    -1,
                    1
                ]){
                    let currentLeft = slideLeft + (i > 0 ? slideWidth : 0);
                    let j = 0;
                    do {
                        const slide = this.slides[this.getIndex(this.index + i + (j++) * i)];
                        currentLeft += dimensions$1(slide).width * i;
                        slides.add(slide);
                    }while (this.slides.length > j && currentLeft > left && currentLeft < right)
                }
                return Array.from(slides);
            }
        }
    };
    function getMaxElWidth(list) {
        return Math.max(0, ...children1(list).map((el)=>dimensions$1(el).width
        ));
    }
    var sliderParallax = {
        mixins: [
            Parallax
        ],
        data: {
            selItem: '!li'
        },
        beforeConnect () {
            this.item = query(this.selItem, this.$el);
        },
        disconnected () {
            this.item = null;
        },
        events: [
            {
                name: 'itemin itemout',
                self: true,
                el () {
                    return this.item;
                },
                handler (_ref) {
                    let { type: type , detail: { percent: percent , duration: duration , timing: timing , dir: dir  }  } = _ref;
                    fastdom.read(()=>{
                        const propsFrom = this.getCss(getCurrentPercent(type, dir, percent));
                        const propsTo = this.getCss(isIn1(type) ? 0.5 : dir > 0 ? 1 : 0);
                        fastdom.write(()=>{
                            css1(this.$el, propsFrom);
                            Transition.start(this.$el, propsTo, duration, timing).catch(noop);
                        });
                    });
                }
            },
            {
                name: 'transitioncanceled transitionend',
                self: true,
                el () {
                    return this.item;
                },
                handler () {
                    Transition.cancel(this.$el);
                }
            },
            {
                name: 'itemtranslatein itemtranslateout',
                self: true,
                el () {
                    return this.item;
                },
                handler (_ref2) {
                    let { type: type , detail: { percent: percent , dir: dir  }  } = _ref2;
                    fastdom.read(()=>{
                        const props = this.getCss(getCurrentPercent(type, dir, percent));
                        fastdom.write(()=>css1(this.$el, props)
                        );
                    });
                }
            }
        ]
    };
    function isIn1(type) {
        return endsWith(type, 'in');
    }
    function getCurrentPercent(type, dir, percent) {
        percent /= 2;
        return isIn1(type) ^ dir < 0 ? percent : 1 - percent;
    }
    var Animations1 = {
        ...Animations$2,
        fade: {
            show () {
                return [
                    {
                        opacity: 0,
                        zIndex: 0
                    },
                    {
                        zIndex: -1
                    }
                ];
            },
            percent (current) {
                return 1 - css1(current, 'opacity');
            },
            translate (percent) {
                return [
                    {
                        opacity: 1 - percent,
                        zIndex: 0
                    },
                    {
                        zIndex: -1
                    }
                ];
            }
        },
        scale: {
            show () {
                return [
                    {
                        opacity: 0,
                        transform: scale3d(1.5),
                        zIndex: 0
                    },
                    {
                        zIndex: -1
                    }
                ];
            },
            percent (current) {
                return 1 - css1(current, 'opacity');
            },
            translate (percent) {
                return [
                    {
                        opacity: 1 - percent,
                        transform: scale3d(1 + 0.5 * percent),
                        zIndex: 0
                    },
                    {
                        zIndex: -1
                    }
                ];
            }
        },
        pull: {
            show (dir) {
                return dir < 0 ? [
                    {
                        transform: translate1(30),
                        zIndex: -1
                    },
                    {
                        transform: translate1(),
                        zIndex: 0
                    }
                ] : [
                    {
                        transform: translate1(-100),
                        zIndex: 0
                    },
                    {
                        transform: translate1(),
                        zIndex: -1
                    }
                ];
            },
            percent (current, next, dir) {
                return dir < 0 ? 1 - translated(next) : translated(current);
            },
            translate (percent, dir) {
                return dir < 0 ? [
                    {
                        transform: translate1(30 * percent),
                        zIndex: -1
                    },
                    {
                        transform: translate1(-100 * (1 - percent)),
                        zIndex: 0
                    }
                ] : [
                    {
                        transform: translate1(-percent * 100),
                        zIndex: 0
                    },
                    {
                        transform: translate1(30 * (1 - percent)),
                        zIndex: -1
                    }
                ];
            }
        },
        push: {
            show (dir) {
                return dir < 0 ? [
                    {
                        transform: translate1(100),
                        zIndex: 0
                    },
                    {
                        transform: translate1(),
                        zIndex: -1
                    }
                ] : [
                    {
                        transform: translate1(-30),
                        zIndex: -1
                    },
                    {
                        transform: translate1(),
                        zIndex: 0
                    }
                ];
            },
            percent (current, next, dir) {
                return dir > 0 ? 1 - translated(next) : translated(current);
            },
            translate (percent, dir) {
                return dir < 0 ? [
                    {
                        transform: translate1(percent * 100),
                        zIndex: 0
                    },
                    {
                        transform: translate1(-30 * (1 - percent)),
                        zIndex: -1
                    }
                ] : [
                    {
                        transform: translate1(-30 * percent),
                        zIndex: -1
                    },
                    {
                        transform: translate1(100 * (1 - percent)),
                        zIndex: 0
                    }
                ];
            }
        }
    };
    var slideshow = {
        mixins: [
            Class,
            Slideshow,
            SliderReactive,
            SliderPreload
        ],
        props: {
            ratio: String,
            minHeight: Number,
            maxHeight: Number
        },
        data: {
            ratio: '16:9',
            minHeight: false,
            maxHeight: false,
            selList: '.uk-slideshow-items',
            attrItem: 'uk-slideshow-item',
            selNav: '.uk-slideshow-nav',
            Animations: Animations1
        },
        update: {
            read () {
                if (!this.list) return false;
                let [width, height] = this.ratio.split(':').map(Number);
                height = height * this.list.offsetWidth / width || 0;
                if (this.minHeight) height = Math.max(this.minHeight, height);
                if (this.maxHeight) height = Math.min(this.maxHeight, height);
                return {
                    height: height - boxModelAdjust(this.list, 'height', 'content-box')
                };
            },
            write (_ref) {
                let { height: height  } = _ref;
                height > 0 && css1(this.list, 'minHeight', height);
            },
            events: [
                'resize'
            ]
        },
        methods: {
            getAdjacentSlides () {
                return [
                    1,
                    -1
                ].map((i)=>this.slides[this.getIndex(this.index + i)]
                );
            }
        }
    };
    var sortable1 = {
        mixins: [
            Class,
            Animate
        ],
        props: {
            group: String,
            threshold: Number,
            clsItem: String,
            clsPlaceholder: String,
            clsDrag: String,
            clsDragState: String,
            clsBase: String,
            clsNoDrag: String,
            clsEmpty: String,
            clsCustom: String,
            handle: String
        },
        data: {
            group: false,
            threshold: 5,
            clsItem: 'uk-sortable-item',
            clsPlaceholder: 'uk-sortable-placeholder',
            clsDrag: 'uk-sortable-drag',
            clsDragState: 'uk-drag',
            clsBase: 'uk-sortable',
            clsNoDrag: 'uk-sortable-nodrag',
            clsEmpty: 'uk-sortable-empty',
            clsCustom: '',
            handle: false,
            pos: {}
        },
        created () {
            for (const key of [
                'init',
                'start',
                'move',
                'end'
            ]){
                const fn = this[key];
                this[key] = (e)=>{
                    assign(this.pos, getEventPos(e));
                    fn(e);
                };
            }
        },
        events: {
            name: pointerDown,
            passive: false,
            handler: 'init'
        },
        computed: {
            target () {
                return (this.$el.tBodies || [
                    this.$el
                ])[0];
            },
            items () {
                return children1(this.target);
            },
            isEmpty: {
                get () {
                    return isEmpty(this.items);
                },
                watch (empty) {
                    toggleClass(this.target, this.clsEmpty, empty);
                },
                immediate: true
            },
            handles: {
                get (_ref, el) {
                    let { handle: handle  } = _ref;
                    return handle ? $$(handle, el) : this.items;
                },
                watch (handles, prev) {
                    css1(prev, {
                        touchAction: '',
                        userSelect: ''
                    });
                    css1(handles, {
                        touchAction: hasTouch ? 'none' : '',
                        userSelect: 'none'
                    }); // touchAction set to 'none' causes a performance drop in Chrome 80
                },
                immediate: true
            }
        },
        update: {
            write (data) {
                if (!this.drag || !parent1(this.placeholder)) return;
                const { pos: { x: x , y: y  } , origin: { offsetTop: offsetTop , offsetLeft: offsetLeft  } , placeholder: placeholder  } = this;
                css1(this.drag, {
                    top: y - offsetTop,
                    left: x - offsetLeft
                });
                const sortable = this.getSortable(document.elementFromPoint(x, y));
                if (!sortable) return;
                const { items: items  } = sortable;
                if (items.some(Transition.inProgress)) return;
                const target = findTarget(items, {
                    x: x,
                    y: y
                });
                if (items.length && (!target || target === placeholder)) return;
                const previous = this.getSortable(placeholder);
                const insertTarget = findInsertTarget(sortable.target, target, placeholder, x, y, sortable === previous && data.moved !== target);
                if (insertTarget === false) return;
                if (insertTarget && placeholder === insertTarget) return;
                if (sortable !== previous) {
                    previous.remove(placeholder);
                    data.moved = target;
                } else delete data.moved;
                sortable.insert(placeholder, insertTarget);
                this.touched.add(sortable);
            },
            events: [
                'move'
            ]
        },
        methods: {
            init (e) {
                const { target: target , button: button , defaultPrevented: defaultPrevented  } = e;
                const [placeholder] = this.items.filter((el)=>within(target, el)
                );
                if (!placeholder || defaultPrevented || button > 0 || isInput(target) || within(target, "." + this.clsNoDrag) || this.handle && !within(target, this.handle)) return;
                e.preventDefault();
                this.touched = new Set([
                    this
                ]);
                this.placeholder = placeholder;
                this.origin = {
                    target: target,
                    index: index1(placeholder),
                    ...this.pos
                };
                on(document, pointerMove, this.move);
                on(document, pointerUp, this.end);
                if (!this.threshold) this.start(e);
            },
            start (e) {
                this.drag = appendDrag(this.$container, this.placeholder);
                const { left: left , top: top  } = this.placeholder.getBoundingClientRect();
                assign(this.origin, {
                    offsetLeft: this.pos.x - left,
                    offsetTop: this.pos.y - top
                });
                addClass(this.drag, this.clsDrag, this.clsCustom);
                addClass(this.placeholder, this.clsPlaceholder);
                addClass(this.items, this.clsItem);
                addClass(document.documentElement, this.clsDragState);
                trigger(this.$el, 'start', [
                    this,
                    this.placeholder
                ]);
                trackScroll(this.pos);
                this.move(e);
            },
            move (e) {
                if (this.drag) this.$emit('move');
                else if (Math.abs(this.pos.x - this.origin.x) > this.threshold || Math.abs(this.pos.y - this.origin.y) > this.threshold) this.start(e);
            },
            end () {
                off1(document, pointerMove, this.move);
                off1(document, pointerUp, this.end);
                if (!this.drag) return;
                untrackScroll();
                const sortable = this.getSortable(this.placeholder);
                if (this === sortable) {
                    if (this.origin.index !== index1(this.placeholder)) trigger(this.$el, 'moved', [
                        this,
                        this.placeholder
                    ]);
                } else {
                    trigger(sortable.$el, 'added', [
                        sortable,
                        this.placeholder
                    ]);
                    trigger(this.$el, 'removed', [
                        this,
                        this.placeholder
                    ]);
                }
                trigger(this.$el, 'stop', [
                    this,
                    this.placeholder
                ]);
                remove$1(this.drag);
                this.drag = null;
                for (const { clsPlaceholder: clsPlaceholder , clsItem: clsItem  } of this.touched)for (const sortable2 of this.touched)removeClass(sortable2.items, clsPlaceholder, clsItem);
                this.touched = null;
                removeClass(document.documentElement, this.clsDragState);
            },
            insert (element, target) {
                addClass(this.items, this.clsItem);
                const insert = ()=>target ? before(target, element) : append(this.target, element)
                ;
                this.animate(insert);
            },
            remove (element) {
                if (!within(element, this.target)) return;
                this.animate(()=>remove$1(element)
                );
            },
            getSortable (element) {
                do {
                    const sortable = this.$getComponent(element, 'sortable');
                    if (sortable && (sortable === this || this.group !== false && sortable.group === this.group)) return sortable;
                }while (element = parent1(element))
            }
        }
    };
    let trackTimer;
    function trackScroll(pos) {
        let last = Date.now();
        trackTimer = setInterval(()=>{
            let { x: x , y: y  } = pos;
            y += scrollTop1(window);
            const dist = (Date.now() - last) * 0.3;
            last = Date.now();
            scrollParents(document.elementFromPoint(x, pos.y), /auto|scroll/).reverse().some((scrollEl)=>{
                let { scrollTop: scroll , scrollHeight: scrollHeight  } = scrollEl;
                const { top: top , bottom: bottom , height: height  } = offsetViewport(scrollEl);
                if (top < y && top + 35 > y) scroll -= dist;
                else if (bottom > y && bottom - 35 < y) scroll += dist;
                else return;
                if (scroll > 0 && scroll < scrollHeight - height) {
                    scrollTop1(scrollEl, scroll);
                    return true;
                }
            });
        }, 15);
    }
    function untrackScroll() {
        clearInterval(trackTimer);
    }
    function appendDrag(container, element) {
        const clone = append(container, element.outerHTML.replace(/(^<)(?:li|tr)|(?:li|tr)(\/>$)/g, '$1div$2'));
        css1(clone, 'margin', '0', 'important');
        css1(clone, {
            boxSizing: 'border-box',
            width: element.offsetWidth,
            height: element.offsetHeight,
            padding: css1(element, 'padding')
        });
        height1(clone.firstElementChild, height1(element.firstElementChild));
        return clone;
    }
    function findTarget(items, point) {
        return items[findIndex(items, (item)=>pointInRect(point, item.getBoundingClientRect())
        )];
    }
    function findInsertTarget(list, target, placeholder, x, y, sameList) {
        if (!children1(list).length) return;
        const rect = target.getBoundingClientRect();
        if (!sameList) {
            if (!isHorizontal1(list, placeholder)) return y < rect.top + rect.height / 2 ? target : target.nextElementSibling;
            return target;
        }
        const placeholderRect = placeholder.getBoundingClientRect();
        const sameRow = linesIntersect([
            rect.top,
            rect.bottom
        ], [
            placeholderRect.top,
            placeholderRect.bottom
        ]);
        const pointerPos = sameRow ? x : y;
        const lengthProp = sameRow ? 'width' : 'height';
        const startProp = sameRow ? 'left' : 'top';
        const endProp = sameRow ? 'right' : 'bottom';
        const diff = placeholderRect[lengthProp] < rect[lengthProp] ? rect[lengthProp] - placeholderRect[lengthProp] : 0;
        if (placeholderRect[startProp] < rect[startProp]) {
            if (diff && pointerPos < rect[startProp] + diff) return false;
            return target.nextElementSibling;
        }
        if (diff && pointerPos > rect[endProp] - diff) return false;
        return target;
    }
    function isHorizontal1(list, placeholder) {
        const single = children1(list).length === 1;
        if (single) append(list, placeholder);
        const items = children1(list);
        const isHorizontal = items.some((el9, i)=>{
            const rectA = el9.getBoundingClientRect();
            return items.slice(i + 1).some((el)=>{
                const rectB = el.getBoundingClientRect();
                return !linesIntersect([
                    rectA.left,
                    rectA.right
                ], [
                    rectB.left,
                    rectB.right
                ]);
            });
        });
        if (single) remove$1(placeholder);
        return isHorizontal;
    }
    function linesIntersect(lineA, lineB) {
        return lineA[1] > lineB[0] && lineB[1] > lineA[0];
    }
    var tooltip = {
        mixins: [
            Container,
            Togglable,
            Position
        ],
        args: 'title',
        props: {
            delay: Number,
            title: String
        },
        data: {
            pos: 'top',
            title: '',
            delay: 0,
            animation: [
                'uk-animation-scale-up'
            ],
            duration: 100,
            cls: 'uk-active'
        },
        beforeConnect () {
            this._hasTitle = hasAttr(this.$el, 'title');
            attr1(this.$el, 'title', '');
            this.updateAria(false);
            makeFocusable(this.$el);
        },
        disconnected () {
            this.hide();
            attr1(this.$el, 'title', this._hasTitle ? this.title : null);
        },
        methods: {
            show () {
                if (this.isToggled(this.tooltip || null) || !this.title) return;
                this._unbind = once(document, "show keydown " + pointerDown, this.hide, false, (e)=>e.type === pointerDown && !within(e.target, this.$el) || e.type === 'keydown' && e.keyCode === 27 || e.type === 'show' && e.detail[0] !== this && e.detail[0].$name === this.$name
                );
                clearTimeout(this.showTimer);
                this.showTimer = setTimeout(this._show, this.delay);
            },
            async hide () {
                if (matches1(this.$el, 'input:focus')) return;
                clearTimeout(this.showTimer);
                if (!this.isToggled(this.tooltip || null)) return;
                await this.toggleElement(this.tooltip, false, false);
                remove$1(this.tooltip);
                this.tooltip = null;
                this._unbind();
            },
            _show () {
                this.tooltip = append(this.container, "<div class=\"uk-" + this.$options.name + "\"> <div class=\"uk-" + this.$options.name + "-inner\">" + this.title + "</div> </div>");
                on(this.tooltip, 'toggled', (e, toggled)=>{
                    this.updateAria(toggled);
                    if (!toggled) return;
                    this.positionAt(this.tooltip, this.$el);
                    const [dir, align] = getAlignment(this.tooltip, this.$el, this.pos);
                    this.origin = this.axis === 'y' ? flipPosition(dir) + "-" + align : align + "-" + flipPosition(dir);
                });
                this.toggleElement(this.tooltip, true);
            },
            updateAria (toggled) {
                attr1(this.$el, 'aria-expanded', toggled);
            }
        },
        events: {
            focus: 'show',
            blur: 'hide',
            [pointerEnter + " " + pointerLeave] (e) {
                if (!isTouch(e)) this[e.type === pointerEnter ? 'show' : 'hide']();
            },
            // Clicking a button does not give it focus on all browsers and platforms
            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#clicking_and_focus
            [pointerDown] (e) {
                if (isTouch(e)) this.show();
            }
        }
    };
    function makeFocusable(el) {
        if (!isFocusable(el)) attr1(el, 'tabindex', '0');
    }
    function getAlignment(el, target, _ref) {
        let [dir, align] = _ref;
        const elOffset = offset1(el);
        const targetOffset = offset1(target);
        const properties = [
            [
                'left',
                'right'
            ],
            [
                'top',
                'bottom'
            ]
        ];
        for (const props of properties){
            if (elOffset[props[0]] >= targetOffset[props[1]]) {
                dir = props[1];
                break;
            }
            if (elOffset[props[1]] <= targetOffset[props[0]]) {
                dir = props[0];
                break;
            }
        }
        const props3 = includes(properties[0], dir) ? properties[1] : properties[0];
        if (elOffset[props3[0]] === targetOffset[props3[0]]) align = props3[0];
        else if (elOffset[props3[1]] === targetOffset[props3[1]]) align = props3[1];
        else align = 'center';
        return [
            dir,
            align
        ];
    }
    var upload1 = {
        props: {
            allow: String,
            clsDragover: String,
            concurrent: Number,
            maxSize: Number,
            method: String,
            mime: String,
            msgInvalidMime: String,
            msgInvalidName: String,
            msgInvalidSize: String,
            multiple: Boolean,
            name: String,
            params: Object,
            type: String,
            url: String
        },
        data: {
            allow: false,
            clsDragover: 'uk-dragover',
            concurrent: 1,
            maxSize: 0,
            method: 'POST',
            mime: false,
            msgInvalidMime: 'Invalid File Type: %s',
            msgInvalidName: 'Invalid File Name: %s',
            msgInvalidSize: 'Invalid File Size: %s Kilobytes Max',
            multiple: false,
            name: 'files[]',
            params: {},
            type: '',
            url: '',
            abort: noop,
            beforeAll: noop,
            beforeSend: noop,
            complete: noop,
            completeAll: noop,
            error: noop,
            fail: noop,
            load: noop,
            loadEnd: noop,
            loadStart: noop,
            progress: noop
        },
        events: {
            change (e) {
                if (!matches1(e.target, 'input[type="file"]')) return;
                e.preventDefault();
                if (e.target.files) this.upload(e.target.files);
                e.target.value = '';
            },
            drop (e) {
                stop1(e);
                const transfer = e.dataTransfer;
                if (!(transfer != null && transfer.files)) return;
                removeClass(this.$el, this.clsDragover);
                this.upload(transfer.files);
            },
            dragenter (e) {
                stop1(e);
            },
            dragover (e) {
                stop1(e);
                addClass(this.$el, this.clsDragover);
            },
            dragleave (e) {
                stop1(e);
                removeClass(this.$el, this.clsDragover);
            }
        },
        methods: {
            async upload (files1) {
                files1 = toArray(files1);
                if (!files1.length) return;
                trigger(this.$el, 'upload', [
                    files1
                ]);
                for (const file1 of files1){
                    if (this.maxSize && this.maxSize * 1000 < file1.size) {
                        this.fail(this.msgInvalidSize.replace('%s', this.maxSize));
                        return;
                    }
                    if (this.allow && !match1(this.allow, file1.name)) {
                        this.fail(this.msgInvalidName.replace('%s', this.allow));
                        return;
                    }
                    if (this.mime && !match1(this.mime, file1.type)) {
                        this.fail(this.msgInvalidMime.replace('%s', this.mime));
                        return;
                    }
                }
                if (!this.multiple) files1 = files1.slice(0, 1);
                this.beforeAll(this, files1);
                const chunks = chunk(files1, this.concurrent);
                const upload = async (files)=>{
                    const data = new FormData();
                    files.forEach((file)=>data.append(this.name, file)
                    );
                    for(const key in this.params)data.append(key, this.params[key]);
                    try {
                        const xhr1 = await ajax(this.url, {
                            data: data,
                            method: this.method,
                            responseType: this.type,
                            beforeSend: (env)=>{
                                const { xhr: xhr  } = env;
                                xhr.upload && on(xhr.upload, 'progress', this.progress);
                                for (const type of [
                                    'loadStart',
                                    'load',
                                    'loadEnd',
                                    'abort'
                                ])on(xhr, type.toLowerCase(), this[type]);
                                return this.beforeSend(env);
                            }
                        });
                        this.complete(xhr1);
                        if (chunks.length) await upload(chunks.shift());
                        else this.completeAll(xhr1);
                    } catch (e) {
                        this.error(e);
                    }
                };
                await upload(chunks.shift());
            }
        }
    };
    function match1(pattern, path) {
        return path.match(new RegExp("^" + pattern.replace(/\//g, '\\/').replace(/\*\*/g, '(\\/[^\\/]+)*').replace(/\*/g, '[^\\/]+').replace(/((?!\\))\?/g, '$1.') + "$", 'i'));
    }
    function chunk(files, size) {
        const chunks = [];
        for(let i = 0; i < files.length; i += size)chunks.push(files.slice(i, i + size));
        return chunks;
    }
    function stop1(e) {
        e.preventDefault();
        e.stopPropagation();
    }
    var components1 = /*#__PURE__*/ Object.freeze({
        __proto__: null,
        Countdown: countdown,
        Filter: filter1,
        Lightbox: lightbox,
        LightboxPanel: LightboxPanel,
        Notification: notification1,
        Parallax: parallax,
        Slider: slider,
        SliderParallax: sliderParallax,
        Slideshow: slideshow,
        SlideshowParallax: sliderParallax,
        Sortable: sortable1,
        Tooltip: tooltip,
        Upload: upload1
    });
    each(components1, (component, name)=>UIkit1.component(name, component)
    );
    return UIkit1;
});



var $93da2243eb9df8d8$exports = {};
/*! UIkit 3.14.0 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */ (function(global, factory) {
    $93da2243eb9df8d8$exports = factory();
})($93da2243eb9df8d8$exports, function() {
    'use strict';
    function plugin(UIkit) {
        if (plugin.installed) return;
        UIkit.icon.add({
            "500px": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.624,11.866c-0.141,0.132,0.479,0.658,0.662,0.418c0.051-0.046,0.607-0.61,0.662-0.664c0,0,0.738,0.719,0.814,0.719 c0.1,0,0.207-0.055,0.322-0.17c0.27-0.269,0.135-0.416,0.066-0.495l-0.631-0.616l0.658-0.668c0.146-0.156,0.021-0.314-0.1-0.449 c-0.182-0.18-0.359-0.226-0.471-0.125l-0.656,0.654l-0.654-0.654c-0.033-0.034-0.08-0.045-0.124-0.045 c-0.079,0-0.191,0.068-0.307,0.181c-0.202,0.202-0.247,0.351-0.133,0.462l0.665,0.665L9.624,11.866z\"/><path d=\"M11.066,2.884c-1.061,0-2.185,0.248-3.011,0.604c-0.087,0.034-0.141,0.106-0.15,0.205C7.893,3.784,7.919,3.909,7.982,4.066 c0.05,0.136,0.187,0.474,0.452,0.372c0.844-0.326,1.779-0.507,2.633-0.507c0.963,0,1.9,0.191,2.781,0.564 c0.695,0.292,1.357,0.719,2.078,1.34c0.051,0.044,0.105,0.068,0.164,0.068c0.143,0,0.273-0.137,0.389-0.271 c0.191-0.214,0.324-0.395,0.135-0.575c-0.686-0.654-1.436-1.138-2.363-1.533C13.24,3.097,12.168,2.884,11.066,2.884z\"/><path d=\"M16.43,15.747c-0.092-0.028-0.242,0.05-0.309,0.119l0,0c-0.652,0.652-1.42,1.169-2.268,1.521 c-0.877,0.371-1.814,0.551-2.779,0.551c-0.961,0-1.896-0.189-2.775-0.564c-0.848-0.36-1.612-0.879-2.268-1.53 c-0.682-0.688-1.196-1.455-1.529-2.268c-0.325-0.799-0.471-1.643-0.471-1.643c-0.045-0.24-0.258-0.249-0.567-0.203 c-0.128,0.021-0.519,0.079-0.483,0.36v0.01c0.105,0.644,0.289,1.284,0.545,1.895c0.417,0.969,1.002,1.849,1.756,2.604 c0.757,0.754,1.636,1.34,2.604,1.757C8.901,18.785,9.97,19,11.088,19c1.104,0,2.186-0.215,3.188-0.645 c1.838-0.896,2.604-1.757,2.604-1.757c0.182-0.204,0.227-0.317-0.1-0.643C16.779,15.956,16.525,15.774,16.43,15.747z\"/><path d=\"M5.633,13.287c0.293,0.71,0.723,1.341,1.262,1.882c0.54,0.54,1.172,0.971,1.882,1.264c0.731,0.303,1.509,0.461,2.298,0.461 c0.801,0,1.578-0.158,2.297-0.461c0.711-0.293,1.344-0.724,1.883-1.264c0.543-0.541,0.971-1.172,1.264-1.882 c0.314-0.721,0.463-1.5,0.463-2.298c0-0.79-0.148-1.569-0.463-2.289c-0.293-0.699-0.721-1.329-1.264-1.881 c-0.539-0.541-1.172-0.959-1.867-1.263c-0.721-0.303-1.5-0.461-2.299-0.461c-0.802,0-1.613,0.159-2.322,0.461 c-0.577,0.25-1.544,0.867-2.119,1.454v0.012V2.108h8.16C15.1,2.104,15.1,1.69,15.1,1.552C15.1,1.417,15.1,1,14.809,1H5.915 C5.676,1,5.527,1.192,5.527,1.384v6.84c0,0.214,0.273,0.372,0.529,0.428c0.5,0.105,0.614-0.056,0.737-0.224l0,0 c0.18-0.273,0.776-0.884,0.787-0.894c0.901-0.905,2.117-1.408,3.416-1.408c1.285,0,2.5,0.501,3.412,1.408 c0.914,0.914,1.408,2.122,1.408,3.405c0,1.288-0.508,2.496-1.408,3.405c-0.9,0.896-2.152,1.406-3.438,1.406 c-0.877,0-1.711-0.229-2.433-0.671v-4.158c0-0.553,0.237-1.151,0.643-1.614c0.462-0.519,1.094-0.799,1.782-0.799 c0.664,0,1.293,0.253,1.758,0.715c0.459,0.459,0.709,1.071,0.709,1.723c0,1.385-1.094,2.468-2.488,2.468 c-0.273,0-0.769-0.121-0.781-0.125c-0.281-0.087-0.405,0.306-0.438,0.436c-0.159,0.496,0.079,0.585,0.123,0.607 c0.452,0.137,0.743,0.157,1.129,0.157c1.973,0,3.572-1.6,3.572-3.57c0-1.964-1.6-3.552-3.572-3.552c-0.97,0-1.872,0.36-2.546,1.038 c-0.656,0.631-1.027,1.487-1.027,2.322v3.438v-0.011c-0.372-0.42-0.732-1.041-0.981-1.682c-0.102-0.248-0.315-0.202-0.607-0.113 c-0.135,0.035-0.519,0.157-0.44,0.439C5.372,12.799,5.577,13.164,5.633,13.287z\"/></svg>",
            "album": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"5\" y=\"2\" width=\"10\" height=\"1\"/><rect x=\"3\" y=\"4\" width=\"14\" height=\"1\"/><rect fill=\"none\" stroke=\"#000\" x=\"1.5\" y=\"6.5\" width=\"17\" height=\"11\"/></svg>",
            "arrow-down": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"10.5,16.08 5.63,10.66 6.37,10 10.5,14.58 14.63,10 15.37,10.66\"/><line fill=\"none\" stroke=\"#000\" x1=\"10.5\" y1=\"4\" x2=\"10.5\" y2=\"15\"/></svg>",
            "arrow-left": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" points=\"10 14 5 9.5 10 5\"/><line fill=\"none\" stroke=\"#000\" x1=\"16\" y1=\"9.5\" x2=\"5\" y2=\"9.52\"/></svg>",
            "arrow-right": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" points=\"10 5 15 9.5 10 14\"/><line fill=\"none\" stroke=\"#000\" x1=\"4\" y1=\"9.5\" x2=\"15\" y2=\"9.5\"/></svg>",
            "arrow-up": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"10.5,4 15.37,9.4 14.63,10.08 10.5,5.49 6.37,10.08 5.63,9.4\"/><line fill=\"none\" stroke=\"#000\" x1=\"10.5\" y1=\"16\" x2=\"10.5\" y2=\"5\"/></svg>",
            "bag": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" d=\"M7.5,7.5V4A2.48,2.48,0,0,1,10,1.5,2.54,2.54,0,0,1,12.5,4V7.5\"/><polygon fill=\"none\" stroke=\"#000\" points=\"16.5 7.5 3.5 7.5 2.5 18.5 17.5 18.5 16.5 7.5\"/></svg>",
            "ban": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"10\" cy=\"10\" r=\"9\"/><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" x1=\"4\" y1=\"3.5\" x2=\"16\" y2=\"16.5\"/></svg>",
            "behance": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.5,10.6c-0.4-0.5-0.9-0.9-1.6-1.1c1.7-1,2.2-3.2,0.7-4.7C7.8,4,6.3,4,5.2,4C3.5,4,1.7,4,0,4v12c1.7,0,3.4,0,5.2,0 c1,0,2.1,0,3.1-0.5C10.2,14.6,10.5,12.3,9.5,10.6L9.5,10.6z M5.6,6.1c1.8,0,1.8,2.7-0.1,2.7c-1,0-2,0-2.9,0V6.1H5.6z M2.6,13.8v-3.1 c1.1,0,2.1,0,3.2,0c2.1,0,2.1,3.2,0.1,3.2L2.6,13.8z\"/><path d=\"M19.9,10.9C19.7,9.2,18.7,7.6,17,7c-4.2-1.3-7.3,3.4-5.3,7.1c0.9,1.7,2.8,2.3,4.7,2.1c1.7-0.2,2.9-1.3,3.4-2.9h-2.2 c-0.4,1.3-2.4,1.5-3.5,0.6c-0.4-0.4-0.6-1.1-0.6-1.7H20C20,11.7,19.9,10.9,19.9,10.9z M13.5,10.6c0-1.6,2.3-2.7,3.5-1.4 c0.4,0.4,0.5,0.9,0.6,1.4H13.5L13.5,10.6z\"/><rect x=\"13\" y=\"4\" width=\"5\" height=\"1.4\"/></svg>",
            "bell": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M17,15.5 L3,15.5 C2.99,14.61 3.79,13.34 4.1,12.51 C4.58,11.3 4.72,10.35 5.19,7.01 C5.54,4.53 5.89,3.2 7.28,2.16 C8.13,1.56 9.37,1.5 9.81,1.5 L9.96,1.5 C9.96,1.5 11.62,1.41 12.67,2.17 C14.08,3.2 14.42,4.54 14.77,7.02 C15.26,10.35 15.4,11.31 15.87,12.52 C16.2,13.34 17.01,14.61 17,15.5 L17,15.5 Z\"/><path fill=\"none\" stroke=\"#000\" d=\"M12.39,16 C12.39,17.37 11.35,18.43 9.91,18.43 C8.48,18.43 7.42,17.37 7.42,16\"/></svg>",
            "bold": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5,15.3 C5.66,15.3 5.9,15 5.9,14.53 L5.9,5.5 C5.9,4.92 5.56,4.7 5,4.7 L5,4 L8.95,4 C12.6,4 13.7,5.37 13.7,6.9 C13.7,7.87 13.14,9.17 10.86,9.59 L10.86,9.7 C13.25,9.86 14.29,11.28 14.3,12.54 C14.3,14.47 12.94,16 9,16 L5,16 L5,15.3 Z M9,9.3 C11.19,9.3 11.8,8.5 11.85,7 C11.85,5.65 11.3,4.8 9,4.8 L7.67,4.8 L7.67,9.3 L9,9.3 Z M9.185,15.22 C11.97,15 12.39,14 12.4,12.58 C12.4,11.15 11.39,10 9,10 L7.67,10 L7.67,15 L9.18,15 Z\"/></svg>",
            "bolt": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4.74,20 L7.73,12 L3,12 L15.43,1 L12.32,9 L17.02,9 L4.74,20 L4.74,20 L4.74,20 Z M9.18,11 L7.1,16.39 L14.47,10 L10.86,10 L12.99,4.67 L5.61,11 L9.18,11 L9.18,11 L9.18,11 Z\"/></svg>",
            "bookmark": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"none\" stroke=\"#000\" points=\"5.5 1.5 15.5 1.5 15.5 17.5 10.5 12.5 5.5 17.5\"/></svg>",
            "calendar": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M 2,3 2,17 18,17 18,3 2,3 Z M 17,16 3,16 3,8 17,8 17,16 Z M 17,7 3,7 3,4 17,4 17,7 Z\"/><rect width=\"1\" height=\"3\" x=\"6\" y=\"2\"/><rect width=\"1\" height=\"3\" x=\"13\" y=\"2\"/></svg>",
            "camera": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"10\" cy=\"10.8\" r=\"3.8\"/><path fill=\"none\" stroke=\"#000\" d=\"M1,4.5 C0.7,4.5 0.5,4.7 0.5,5 L0.5,17 C0.5,17.3 0.7,17.5 1,17.5 L19,17.5 C19.3,17.5 19.5,17.3 19.5,17 L19.5,5 C19.5,4.7 19.3,4.5 19,4.5 L13.5,4.5 L13.5,2.9 C13.5,2.6 13.3,2.5 13,2.5 L7,2.5 C6.7,2.5 6.5,2.6 6.5,2.9 L6.5,4.5 L1,4.5 L1,4.5 Z\"/></svg>",
            "cart": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"7.3\" cy=\"17.3\" r=\"1.4\"/><circle cx=\"13.3\" cy=\"17.3\" r=\"1.4\"/><polyline fill=\"none\" stroke=\"#000\" points=\"0 2 3.2 4 5.3 12.5 16 12.5 18 6.5 8 6.5\"/></svg>",
            "check": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" points=\"4,10 8,15 17,4\"/></svg>",
            "chevron-double-left": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" points=\"10 14 6 10 10 6\"/><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" points=\"14 14 10 10 14 6\"/></svg>",
            "chevron-double-right": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" points=\"10 6 14 10 10 14\"/><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" points=\"6 6 10 10 6 14\"/></svg>",
            "chevron-down": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" points=\"16 7 10 13 4 7\"/></svg>",
            "chevron-left": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" points=\"13 16 7 10 13 4\"/></svg>",
            "chevron-right": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" points=\"7 4 13 10 7 16\"/></svg>",
            "chevron-up": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" points=\"4 13 10 7 16 13\"/></svg>",
            "clock": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"10\" cy=\"10\" r=\"9\"/><rect x=\"9\" y=\"4\" width=\"1\" height=\"7\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M13.018,14.197 L9.445,10.625\"/></svg>",
            "close": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.06\" d=\"M16,16 L4,4\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.06\" d=\"M16,4 L4,16\"/></svg>",
            "cloud-download": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.3,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6\"/><polyline fill=\"none\" stroke=\"#000\" points=\"11.75 16 9.5 18.25 7.25 16\"/><path fill=\"none\" stroke=\"#000\" d=\"M9.5,18 L9.5,9.5\"/></svg>",
            "cloud-upload": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.31,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6\"/><polyline fill=\"none\" stroke=\"#000\" points=\"7.25 11.75 9.5 9.5 11.75 11.75\"/><path fill=\"none\" stroke=\"#000\" d=\"M9.5,18 L9.5,9.5\"/></svg>",
            "code": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.01\" points=\"13,4 19,10 13,16\"/><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.01\" points=\"7,4 1,10 7,16\"/></svg>",
            "cog": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" cx=\"9.997\" cy=\"10\" r=\"3.31\"/><path fill=\"none\" stroke=\"#000\" d=\"M18.488,12.285 L16.205,16.237 C15.322,15.496 14.185,15.281 13.303,15.791 C12.428,16.289 12.047,17.373 12.246,18.5 L7.735,18.5 C7.938,17.374 7.553,16.299 6.684,15.791 C5.801,15.27 4.655,15.492 3.773,16.237 L1.5,12.285 C2.573,11.871 3.317,10.999 3.317,9.991 C3.305,8.98 2.573,8.121 1.5,7.716 L3.765,3.784 C4.645,4.516 5.794,4.738 6.687,4.232 C7.555,3.722 7.939,2.637 7.735,1.5 L12.263,1.5 C12.072,2.637 12.441,3.71 13.314,4.22 C14.206,4.73 15.343,4.516 16.225,3.794 L18.487,7.714 C17.404,8.117 16.661,8.988 16.67,10.009 C16.672,11.018 17.415,11.88 18.488,12.285 L18.488,12.285 Z\"/></svg>",
            "comment": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6,18.71 L6,14 L1,14 L1,1 L19,1 L19,14 L10.71,14 L6,18.71 L6,18.71 Z M2,13 L7,13 L7,16.29 L10.29,13 L18,13 L18,2 L2,2 L2,13 L2,13 Z\"/></svg>",
            "commenting": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"none\" stroke=\"#000\" points=\"1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5\"/><circle cx=\"10\" cy=\"8\" r=\"1\"/><circle cx=\"6\" cy=\"8\" r=\"1\"/><circle cx=\"14\" cy=\"8\" r=\"1\"/></svg>",
            "comments": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" points=\"2 0.5 19.5 0.5 19.5 13\"/><path d=\"M5,19.71 L5,15 L0,15 L0,2 L18,2 L18,15 L9.71,15 L5,19.71 L5,19.71 L5,19.71 Z M1,14 L6,14 L6,17.29 L9.29,14 L17,14 L17,3 L1,3 L1,14 L1,14 L1,14 Z\"/></svg>",
            "copy": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect fill=\"none\" stroke=\"#000\" x=\"3.5\" y=\"2.5\" width=\"12\" height=\"16\"/><polyline fill=\"none\" stroke=\"#000\" points=\"5 0.5 17.5 0.5 17.5 17\"/></svg>",
            "credit-card": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect fill=\"none\" stroke=\"#000\" x=\"1.5\" y=\"4.5\" width=\"17\" height=\"12\"/><rect x=\"1\" y=\"7\" width=\"18\" height=\"3\"/></svg>",
            "database": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><ellipse fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"4.64\" rx=\"7.5\" ry=\"3.14\"/><path fill=\"none\" stroke=\"#000\" d=\"M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11\"/><path fill=\"none\" stroke=\"#000\" d=\"M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25\"/><path fill=\"none\" stroke=\"#000\" d=\"M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64\"/></svg>",
            "desktop": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"8\" y=\"15\" width=\"1\" height=\"2\"/><rect x=\"11\" y=\"15\" width=\"1\" height=\"2\"/><rect x=\"5\" y=\"16\" width=\"10\" height=\"1\"/><rect fill=\"none\" stroke=\"#000\" x=\"1.5\" y=\"3.5\" width=\"17\" height=\"11\"/></svg>",
            "discord": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><path d=\"M16.074,4.361a14.243,14.243,0,0,0-3.61-1.134,10.61,10.61,0,0,0-.463.96,13.219,13.219,0,0,0-4,0,10.138,10.138,0,0,0-.468-.96A14.206,14.206,0,0,0,3.919,4.364,15.146,15.146,0,0,0,1.324,14.5a14.435,14.435,0,0,0,4.428,2.269A10.982,10.982,0,0,0,6.7,15.21a9.294,9.294,0,0,1-1.494-.727c.125-.093.248-.19.366-.289a10.212,10.212,0,0,0,8.854,0c.119.1.242.2.366.289a9.274,9.274,0,0,1-1.5.728,10.8,10.8,0,0,0,.948,1.562,14.419,14.419,0,0,0,4.431-2.27A15.128,15.128,0,0,0,16.074,4.361Zm-8.981,8.1a1.7,1.7,0,0,1-1.573-1.79A1.689,1.689,0,0,1,7.093,8.881a1.679,1.679,0,0,1,1.573,1.791A1.687,1.687,0,0,1,7.093,12.462Zm5.814,0a1.7,1.7,0,0,1-1.573-1.79,1.689,1.689,0,0,1,1.573-1.791,1.679,1.679,0,0,1,1.573,1.791A1.688,1.688,0,0,1,12.907,12.462Z\"/></svg>",
            "download": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" points=\"14,10 9.5,14.5 5,10\"/><rect x=\"3\" y=\"17\" width=\"13\" height=\"1\"/><line fill=\"none\" stroke=\"#000\" x1=\"9.5\" y1=\"13.91\" x2=\"9.5\" y2=\"3\"/></svg>",
            "dribbble": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.4\" d=\"M1.3,8.9c0,0,5,0.1,8.6-1c1.4-0.4,2.6-0.9,4-1.9 c1.4-1.1,2.5-2.5,2.5-2.5\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.4\" d=\"M3.9,16.6c0,0,1.7-2.8,3.5-4.2 c1.8-1.3,4-2,5.7-2.2C16,10,19,10.6,19,10.6\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.4\" d=\"M6.9,1.6c0,0,3.3,4.6,4.2,6.8 c0.4,0.9,1.3,3.1,1.9,5.2c0.6,2,0.9,4.4,0.9,4.4\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.4\" cx=\"10\" cy=\"10\" r=\"9\"/></svg>",
            "etsy": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><path d=\"M8,4.26C8,4.07,8,4,8.31,4h4.46c.79,0,1.22.67,1.53,1.91l.25,1h.76c.14-2.82.26-4,.26-4S13.65,3,12.52,3H6.81L3.75,2.92v.84l1,.2c.73.11.9.27,1,1,0,0,.06,2,.06,5.17s-.06,5.14-.06,5.14c0,.59-.23.81-1,.94l-1,.2v.84l3.06-.1h5.11c1.15,0,3.82.1,3.82.1,0-.7.45-3.88.51-4.22h-.73l-.76,1.69a2.25,2.25,0,0,1-2.45,1.47H9.4c-1,0-1.44-.4-1.44-1.24V10.44s2.16,0,2.86.06c.55,0,.85.19,1.06,1l.23,1H13L12.9,9.94,13,7.41h-.85l-.28,1.13c-.16.74-.28.84-1,1-1,.1-2.89.09-2.89.09Z\"/></svg>",
            "expand": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"13 2 18 2 18 7 17 7 17 3 13 3\"/><polygon points=\"2 13 3 13 3 17 7 17 7 18 2 18\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M11,9 L17,3\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M3,17 L9,11\"/></svg>",
            "facebook": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11,10h2.6l0.4-3H11V5.3c0-0.9,0.2-1.5,1.5-1.5H14V1.1c-0.3,0-1-0.1-2.1-0.1C9.6,1,8,2.4,8,5v2H5.5v3H8v8h3V10z\"/></svg>",
            "file-edit": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" d=\"M18.65,1.68 C18.41,1.45 18.109,1.33 17.81,1.33 C17.499,1.33 17.209,1.45 16.98,1.68 L8.92,9.76 L8,12.33 L10.55,11.41 L18.651,3.34 C19.12,2.87 19.12,2.15 18.65,1.68 L18.65,1.68 L18.65,1.68 Z\"/><polyline fill=\"none\" stroke=\"#000\" points=\"16.5 8.482 16.5 18.5 3.5 18.5 3.5 1.5 14.211 1.5\"/></svg>",
            "file-pdf": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect fill=\"none\" stroke=\"#000\" width=\"13\" height=\"17\" x=\"3.5\" y=\"1.5\"/><path d=\"M14.65 11.67c-.48.3-1.37-.19-1.79-.37a4.65 4.65 0 0 1 1.49.06c.35.1.36.28.3.31zm-6.3.06l.43-.79a14.7 14.7 0 0 0 .75-1.64 5.48 5.48 0 0 0 1.25 1.55l.2.15a16.36 16.36 0 0 0-2.63.73zM9.5 5.32c.2 0 .32.5.32.97a1.99 1.99 0 0 1-.23 1.04 5.05 5.05 0 0 1-.17-1.3s0-.71.08-.71zm-3.9 9a4.35 4.35 0 0 1 1.21-1.46l.24-.22a4.35 4.35 0 0 1-1.46 1.68zm9.23-3.3a2.05 2.05 0 0 0-1.32-.3 11.07 11.07 0 0 0-1.58.11 4.09 4.09 0 0 1-.74-.5 5.39 5.39 0 0 1-1.32-2.06 10.37 10.37 0 0 0 .28-2.62 1.83 1.83 0 0 0-.07-.25.57.57 0 0 0-.52-.4H9.4a.59.59 0 0 0-.6.38 6.95 6.95 0 0 0 .37 3.14c-.26.63-1 2.12-1 2.12-.3.58-.57 1.08-.82 1.5l-.8.44A3.11 3.11 0 0 0 5 14.16a.39.39 0 0 0 .15.42l.24.13c1.15.56 2.28-1.74 2.66-2.42a23.1 23.1 0 0 1 3.59-.85 4.56 4.56 0 0 0 2.91.8.5.5 0 0 0 .3-.21 1.1 1.1 0 0 0 .12-.75.84.84 0 0 0-.14-.25z\"/></svg>",
            "file-text": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect fill=\"none\" stroke=\"#000\" width=\"13\" height=\"17\" x=\"3.5\" y=\"1.5\"/><line fill=\"none\" stroke=\"#000\" x1=\"6\" x2=\"12\" y1=\"12.5\" y2=\"12.5\"/><line fill=\"none\" stroke=\"#000\" x1=\"6\" x2=\"14\" y1=\"8.5\" y2=\"8.5\"/><line fill=\"none\" stroke=\"#000\" x1=\"6\" x2=\"14\" y1=\"6.5\" y2=\"6.5\"/><line fill=\"none\" stroke=\"#000\" x1=\"6\" x2=\"14\" y1=\"10.5\" y2=\"10.5\"/></svg>",
            "file": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect fill=\"none\" stroke=\"#000\" x=\"3.5\" y=\"1.5\" width=\"13\" height=\"17\"/></svg>",
            "flickr": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"5.5\" cy=\"9.5\" r=\"3.5\"/><circle cx=\"14.5\" cy=\"9.5\" r=\"3.5\"/></svg>",
            "folder": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"none\" stroke=\"#000\" points=\"9.5 5.5 8.5 3.5 1.5 3.5 1.5 16.5 18.5 16.5 18.5 5.5\"/></svg>",
            "forward": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.47,13.11 C4.02,10.02 6.27,7.85 9.04,6.61 C9.48,6.41 10.27,6.13 11,5.91 L11,2 L18.89,9 L11,16 L11,12.13 C9.25,12.47 7.58,13.19 6.02,14.25 C3.03,16.28 1.63,18.54 1.63,18.54 C1.63,18.54 1.38,15.28 2.47,13.11 L2.47,13.11 Z M5.3,13.53 C6.92,12.4 9.04,11.4 12,10.92 L12,13.63 L17.36,9 L12,4.25 L12,6.8 C11.71,6.86 10.86,7.02 9.67,7.49 C6.79,8.65 4.58,10.96 3.49,13.08 C3.18,13.7 2.68,14.87 2.49,16 C3.28,15.05 4.4,14.15 5.3,13.53 L5.3,13.53 Z\"/></svg>",
            "foursquare": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.23,2 C15.96,2 16.4,2.41 16.5,2.86 C16.57,3.15 16.56,3.44 16.51,3.73 C16.46,4.04 14.86,11.72 14.75,12.03 C14.56,12.56 14.16,12.82 13.61,12.83 C13.03,12.84 11.09,12.51 10.69,13 C10.38,13.38 7.79,16.39 6.81,17.53 C6.61,17.76 6.4,17.96 6.08,17.99 C5.68,18.04 5.29,17.87 5.17,17.45 C5.12,17.28 5.1,17.09 5.1,16.91 C5.1,12.4 4.86,7.81 5.11,3.31 C5.17,2.5 5.81,2.12 6.53,2 L15.23,2 L15.23,2 Z M9.76,11.42 C9.94,11.19 10.17,11.1 10.45,11.1 L12.86,11.1 C13.12,11.1 13.31,10.94 13.36,10.69 C13.37,10.64 13.62,9.41 13.74,8.83 C13.81,8.52 13.53,8.28 13.27,8.28 C12.35,8.29 11.42,8.28 10.5,8.28 C9.84,8.28 9.83,7.69 9.82,7.21 C9.8,6.85 10.13,6.55 10.5,6.55 C11.59,6.56 12.67,6.55 13.76,6.55 C14.03,6.55 14.23,6.4 14.28,6.14 C14.34,5.87 14.67,4.29 14.67,4.29 C14.67,4.29 14.82,3.74 14.19,3.74 L7.34,3.74 C7,3.75 6.84,4.02 6.84,4.33 C6.84,7.58 6.85,14.95 6.85,14.99 C6.87,15 8.89,12.51 9.76,11.42 L9.76,11.42 Z\"/></svg>",
            "future": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline points=\"19 2 18 2 18 6 14 6 14 7 19 7 19 2\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M18,6.548 C16.709,3.29 13.354,1 9.6,1 C4.6,1 0.6,5 0.6,10 C0.6,15 4.6,19 9.6,19 C14.6,19 18.6,15 18.6,10\"/><rect x=\"9\" y=\"4\" width=\"1\" height=\"7\"/><path d=\"M13.018,14.197 L9.445,10.625\" fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\"/></svg>",
            "git-branch": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"3\" r=\"2\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14\" cy=\"6\" r=\"2\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"7\" cy=\"17\" r=\"2\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5\"/></svg>",
            "git-fork": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"5.79\" cy=\"2.79\" r=\"1.79\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"14.19\" cy=\"2.79\" r=\"1.79\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" cx=\"10.03\" cy=\"16.79\" r=\"1.79\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"2\" d=\"M5.79,4.57 L5.79,6.56 C5.79,9.19 10.03,10.22 10.03,13.31 C10.03,14.86 10.04,14.55 10.04,14.55 C10.04,14.37 10.04,14.86 10.04,13.31 C10.04,10.22 14.2,9.19 14.2,6.56 L14.2,4.57\"/></svg>",
            "github-alt": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10,0.5 C4.75,0.5 0.5,4.76 0.5,10.01 C0.5,15.26 4.75,19.51 10,19.51 C15.24,19.51 19.5,15.26 19.5,10.01 C19.5,4.76 15.25,0.5 10,0.5 L10,0.5 Z M12.81,17.69 C12.81,17.69 12.81,17.7 12.79,17.69 C12.47,17.75 12.35,17.59 12.35,17.36 L12.35,16.17 C12.35,15.45 12.09,14.92 11.58,14.56 C12.2,14.51 12.77,14.39 13.26,14.21 C13.87,13.98 14.36,13.69 14.74,13.29 C15.42,12.59 15.76,11.55 15.76,10.17 C15.76,9.25 15.45,8.46 14.83,7.8 C15.1,7.08 15.07,6.29 14.75,5.44 L14.51,5.42 C14.34,5.4 14.06,5.46 13.67,5.61 C13.25,5.78 12.79,6.03 12.31,6.35 C11.55,6.16 10.81,6.05 10.09,6.05 C9.36,6.05 8.61,6.15 7.88,6.35 C7.28,5.96 6.75,5.68 6.26,5.54 C6.07,5.47 5.9,5.44 5.78,5.44 L5.42,5.44 C5.06,6.29 5.04,7.08 5.32,7.8 C4.7,8.46 4.4,9.25 4.4,10.17 C4.4,11.94 4.96,13.16 6.08,13.84 C6.53,14.13 7.05,14.32 7.69,14.43 C8.03,14.5 8.32,14.54 8.55,14.55 C8.07,14.89 7.82,15.42 7.82,16.16 L7.82,17.51 C7.8,17.69 7.7,17.8 7.51,17.8 C4.21,16.74 1.82,13.65 1.82,10.01 C1.82,5.5 5.49,1.83 10,1.83 C14.5,1.83 18.17,5.5 18.17,10.01 C18.18,13.53 15.94,16.54 12.81,17.69 L12.81,17.69 Z\"/></svg>",
            "github": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10,1 C5.03,1 1,5.03 1,10 C1,13.98 3.58,17.35 7.16,18.54 C7.61,18.62 7.77,18.34 7.77,18.11 C7.77,17.9 7.76,17.33 7.76,16.58 C5.26,17.12 4.73,15.37 4.73,15.37 C4.32,14.33 3.73,14.05 3.73,14.05 C2.91,13.5 3.79,13.5 3.79,13.5 C4.69,13.56 5.17,14.43 5.17,14.43 C5.97,15.8 7.28,15.41 7.79,15.18 C7.87,14.6 8.1,14.2 8.36,13.98 C6.36,13.75 4.26,12.98 4.26,9.53 C4.26,8.55 4.61,7.74 5.19,7.11 C5.1,6.88 4.79,5.97 5.28,4.73 C5.28,4.73 6.04,4.49 7.75,5.65 C8.47,5.45 9.24,5.35 10,5.35 C10.76,5.35 11.53,5.45 12.25,5.65 C13.97,4.48 14.72,4.73 14.72,4.73 C15.21,5.97 14.9,6.88 14.81,7.11 C15.39,7.74 15.73,8.54 15.73,9.53 C15.73,12.99 13.63,13.75 11.62,13.97 C11.94,14.25 12.23,14.8 12.23,15.64 C12.23,16.84 12.22,17.81 12.22,18.11 C12.22,18.35 12.38,18.63 12.84,18.54 C16.42,17.35 19,13.98 19,10 C19,5.03 14.97,1 10,1 L10,1 Z\"/></svg>",
            "gitter": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"3.5\" y=\"1\" width=\"1.531\" height=\"11.471\"/><rect x=\"7.324\" y=\"4.059\" width=\"1.529\" height=\"15.294\"/><rect x=\"11.148\" y=\"4.059\" width=\"1.527\" height=\"15.294\"/><rect x=\"14.971\" y=\"4.059\" width=\"1.529\" height=\"8.412\"/></svg>",
            "google": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.86,9.09 C18.46,12.12 17.14,16.05 13.81,17.56 C9.45,19.53 4.13,17.68 2.47,12.87 C0.68,7.68 4.22,2.42 9.5,2.03 C11.57,1.88 13.42,2.37 15.05,3.65 C15.22,3.78 15.37,3.93 15.61,4.14 C14.9,4.81 14.23,5.45 13.5,6.14 C12.27,5.08 10.84,4.72 9.28,4.98 C8.12,5.17 7.16,5.76 6.37,6.63 C4.88,8.27 4.62,10.86 5.76,12.82 C6.95,14.87 9.17,15.8 11.57,15.25 C13.27,14.87 14.76,13.33 14.89,11.75 L10.51,11.75 L10.51,9.09 L17.86,9.09 L17.86,9.09 Z\"/></svg>",
            "grid": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"2\" y=\"2\" width=\"3\" height=\"3\"/><rect x=\"8\" y=\"2\" width=\"3\" height=\"3\"/><rect x=\"14\" y=\"2\" width=\"3\" height=\"3\"/><rect x=\"2\" y=\"8\" width=\"3\" height=\"3\"/><rect x=\"8\" y=\"8\" width=\"3\" height=\"3\"/><rect x=\"14\" y=\"8\" width=\"3\" height=\"3\"/><rect x=\"2\" y=\"14\" width=\"3\" height=\"3\"/><rect x=\"8\" y=\"14\" width=\"3\" height=\"3\"/><rect x=\"14\" y=\"14\" width=\"3\" height=\"3\"/></svg>",
            "happy": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"13\" cy=\"7\" r=\"1\"/><circle cx=\"7\" cy=\"7\" r=\"1\"/><circle fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"10\" r=\"8.5\"/><path fill=\"none\" stroke=\"#000\" d=\"M14.6,11.4 C13.9,13.3 12.1,14.5 10,14.5 C7.9,14.5 6.1,13.3 5.4,11.4\"/></svg>",
            "hashtag": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.431,8 L15.661,7 L12.911,7 L13.831,3 L12.901,3 L11.98,7 L9.29,7 L10.21,3 L9.281,3 L8.361,7 L5.23,7 L5,8 L8.13,8 L7.21,12 L4.23,12 L4,13 L6.98,13 L6.061,17 L6.991,17 L7.911,13 L10.601,13 L9.681,17 L10.611,17 L11.531,13 L14.431,13 L14.661,12 L11.76,12 L12.681,8 L15.431,8 Z M10.831,12 L8.141,12 L9.061,8 L11.75,8 L10.831,12 Z\"/></svg>",
            "heart": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.03\" d=\"M10,4 C10,4 8.1,2 5.74,2 C3.38,2 1,3.55 1,6.73 C1,8.84 2.67,10.44 2.67,10.44 L10,18 L17.33,10.44 C17.33,10.44 19,8.84 19,6.73 C19,3.55 16.62,2 14.26,2 C11.9,2 10,4 10,4 L10,4 Z\"/></svg>",
            "history": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"#000\" points=\"1 2 2 2 2 6 6 6 6 7 1 7 1 2\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M2.1,6.548 C3.391,3.29 6.746,1 10.5,1 C15.5,1 19.5,5 19.5,10 C19.5,15 15.5,19 10.5,19 C5.5,19 1.5,15 1.5,10\"/><rect x=\"9\" y=\"4\" width=\"1\" height=\"7\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M13.018,14.197 L9.445,10.625\"/></svg>",
            "home": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"18.65 11.35 10 2.71 1.35 11.35 0.65 10.65 10 1.29 19.35 10.65\"/><polygon points=\"15 4 18 4 18 7 17 7 17 5 15 5\"/><polygon points=\"3 11 4 11 4 18 7 18 7 12 12 12 12 18 16 18 16 11 17 11 17 19 11 19 11 13 8 13 8 19 3 19\"/></svg>",
            "image": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"16.1\" cy=\"6.1\" r=\"1.1\"/><rect fill=\"none\" stroke=\"#000\" x=\".5\" y=\"2.5\" width=\"19\" height=\"15\"/><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.01\" points=\"4,13 8,9 13,14\"/><polyline fill=\"none\" stroke=\"#000\" stroke-width=\"1.01\" points=\"11,12 12.5,10.5 16,14\"/></svg>",
            "info": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.13,11.59 C11.97,12.84 10.35,14.12 9.1,14.16 C6.17,14.2 9.89,9.46 8.74,8.37 C9.3,8.16 10.62,7.83 10.62,8.81 C10.62,9.63 10.12,10.55 9.88,11.32 C8.66,15.16 12.13,11.15 12.14,11.18 C12.16,11.21 12.16,11.35 12.13,11.59 C12.08,11.95 12.16,11.35 12.13,11.59 L12.13,11.59 Z M11.56,5.67 C11.56,6.67 9.36,7.15 9.36,6.03 C9.36,5 11.56,4.54 11.56,5.67 L11.56,5.67 Z\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"10\" cy=\"10\" r=\"9\"/></svg>",
            "instagram": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13.55,1H6.46C3.45,1,1,3.44,1,6.44v7.12c0,3,2.45,5.44,5.46,5.44h7.08c3.02,0,5.46-2.44,5.46-5.44V6.44 C19.01,3.44,16.56,1,13.55,1z M17.5,14c0,1.93-1.57,3.5-3.5,3.5H6c-1.93,0-3.5-1.57-3.5-3.5V6c0-1.93,1.57-3.5,3.5-3.5h8 c1.93,0,3.5,1.57,3.5,3.5V14z\"/><circle cx=\"14.87\" cy=\"5.26\" r=\"1.09\"/><path d=\"M10.03,5.45c-2.55,0-4.63,2.06-4.63,4.6c0,2.55,2.07,4.61,4.63,4.61c2.56,0,4.63-2.061,4.63-4.61 C14.65,7.51,12.58,5.45,10.03,5.45L10.03,5.45L10.03,5.45z M10.08,13c-1.66,0-3-1.34-3-2.99c0-1.65,1.34-2.99,3-2.99s3,1.34,3,2.99 C13.08,11.66,11.74,13,10.08,13L10.08,13L10.08,13z\"/></svg>",
            "italic": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.63,5.48 L10.15,14.52 C10,15.08 10.37,15.25 11.92,15.3 L11.72,16 L6,16 L6.2,15.31 C7.78,15.26 8.19,15.09 8.34,14.53 L10.82,5.49 C10.97,4.92 10.63,4.76 9.09,4.71 L9.28,4 L15,4 L14.81,4.69 C13.23,4.75 12.78,4.91 12.63,5.48 L12.63,5.48 Z\"/></svg>",
            "joomla": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7.8,13.4l1.7-1.7L5.9,8c-0.6-0.5-0.6-1.5,0-2c0.6-0.6,1.4-0.6,2,0l1.7-1.7c-1-1-2.3-1.3-3.6-1C5.8,2.2,4.8,1.4,3.7,1.4 c-1.3,0-2.3,1-2.3,2.3c0,1.1,0.8,2,1.8,2.3c-0.4,1.3-0.1,2.8,1,3.8L7.8,13.4L7.8,13.4z\"/><path d=\"M10.2,4.3c1-1,2.5-1.4,3.8-1c0.2-1.1,1.1-2,2.3-2c1.3,0,2.3,1,2.3,2.3c0,1.2-0.9,2.2-2,2.3c0.4,1.3,0,2.8-1,3.8L13.9,8 c0.6-0.5,0.6-1.5,0-2c-0.5-0.6-1.5-0.6-2,0L8.2,9.7L6.5,8\"/><path d=\"M14.1,16.8c-1.3,0.4-2.8,0.1-3.8-1l1.7-1.7c0.6,0.6,1.5,0.6,2,0c0.5-0.6,0.6-1.5,0-2l-3.7-3.7L12,6.7l3.7,3.7 c1,1,1.3,2.4,1,3.6c1.1,0.2,2,1.1,2,2.3c0,1.3-1,2.3-2.3,2.3C15.2,18.6,14.3,17.8,14.1,16.8\"/><path d=\"M13.2,12.2l-3.7,3.7c-1,1-2.4,1.3-3.6,1c-0.2,1-1.2,1.8-2.2,1.8c-1.3,0-2.3-1-2.3-2.3c0-1.1,0.8-2,1.8-2.3 c-0.3-1.3,0-2.7,1-3.7l1.7,1.7c-0.6,0.6-0.6,1.5,0,2c0.6,0.6,1.4,0.6,2,0l3.7-3.7\"/></svg>",
            "laptop": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect y=\"16\" width=\"20\" height=\"1\"/><rect fill=\"none\" stroke=\"#000\" x=\"2.5\" y=\"4.5\" width=\"15\" height=\"10\"/></svg>",
            "lifesaver": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10,0.5 C4.76,0.5 0.5,4.76 0.5,10 C0.5,15.24 4.76,19.5 10,19.5 C15.24,19.5 19.5,15.24 19.5,10 C19.5,4.76 15.24,0.5 10,0.5 L10,0.5 Z M10,1.5 C11.49,1.5 12.89,1.88 14.11,2.56 L11.85,4.82 C11.27,4.61 10.65,4.5 10,4.5 C9.21,4.5 8.47,4.67 7.79,4.96 L5.58,2.75 C6.87,1.95 8.38,1.5 10,1.5 L10,1.5 Z M4.96,7.8 C4.67,8.48 4.5,9.21 4.5,10 C4.5,10.65 4.61,11.27 4.83,11.85 L2.56,14.11 C1.88,12.89 1.5,11.49 1.5,10 C1.5,8.38 1.95,6.87 2.75,5.58 L4.96,7.79 L4.96,7.8 L4.96,7.8 Z M10,18.5 C8.25,18.5 6.62,17.97 5.27,17.06 L7.46,14.87 C8.22,15.27 9.08,15.5 10,15.5 C10.79,15.5 11.53,15.33 12.21,15.04 L14.42,17.25 C13.13,18.05 11.62,18.5 10,18.5 L10,18.5 Z M10,14.5 C7.52,14.5 5.5,12.48 5.5,10 C5.5,7.52 7.52,5.5 10,5.5 C12.48,5.5 14.5,7.52 14.5,10 C14.5,12.48 12.48,14.5 10,14.5 L10,14.5 Z M15.04,12.21 C15.33,11.53 15.5,10.79 15.5,10 C15.5,9.08 15.27,8.22 14.87,7.46 L17.06,5.27 C17.97,6.62 18.5,8.25 18.5,10 C18.5,11.62 18.05,13.13 17.25,14.42 L15.04,12.21 L15.04,12.21 Z\"/></svg>",
            "link": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M10.625,12.375 L7.525,15.475 C6.825,16.175 5.925,16.175 5.225,15.475 L4.525,14.775 C3.825,14.074 3.825,13.175 4.525,12.475 L7.625,9.375\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M9.325,7.375 L12.425,4.275 C13.125,3.575 14.025,3.575 14.724,4.275 L15.425,4.975 C16.125,5.675 16.125,6.575 15.425,7.275 L12.325,10.375\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M7.925,11.875 L11.925,7.975\"/></svg>",
            "linkedin": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.77,17.89 L5.77,7.17 L2.21,7.17 L2.21,17.89 L5.77,17.89 L5.77,17.89 Z M3.99,5.71 C5.23,5.71 6.01,4.89 6.01,3.86 C5.99,2.8 5.24,2 4.02,2 C2.8,2 2,2.8 2,3.85 C2,4.88 2.77,5.7 3.97,5.7 L3.99,5.7 L3.99,5.71 L3.99,5.71 Z\"/><path d=\"M7.75,17.89 L11.31,17.89 L11.31,11.9 C11.31,11.58 11.33,11.26 11.43,11.03 C11.69,10.39 12.27,9.73 13.26,9.73 C14.55,9.73 15.06,10.71 15.06,12.15 L15.06,17.89 L18.62,17.89 L18.62,11.74 C18.62,8.45 16.86,6.92 14.52,6.92 C12.6,6.92 11.75,7.99 11.28,8.73 L11.3,8.73 L11.3,7.17 L7.75,7.17 C7.79,8.17 7.75,17.89 7.75,17.89 L7.75,17.89 L7.75,17.89 Z\"/></svg>",
            "list": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"6\" y=\"4\" width=\"12\" height=\"1\"/><rect x=\"6\" y=\"9\" width=\"12\" height=\"1\"/><rect x=\"6\" y=\"14\" width=\"12\" height=\"1\"/><rect x=\"2\" y=\"4\" width=\"2\" height=\"1\"/><rect x=\"2\" y=\"9\" width=\"2\" height=\"1\"/><rect x=\"2\" y=\"14\" width=\"2\" height=\"1\"/></svg>",
            "location": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.01\" d=\"M10,0.5 C6.41,0.5 3.5,3.39 3.5,6.98 C3.5,11.83 10,19 10,19 C10,19 16.5,11.83 16.5,6.98 C16.5,3.39 13.59,0.5 10,0.5 L10,0.5 Z\"/><circle fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"6.8\" r=\"2.3\"/></svg>",
            "lock": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect fill=\"none\" stroke=\"#000\" height=\"10\" width=\"13\" y=\"8.5\" x=\"3.5\"/><path fill=\"none\" stroke=\"#000\" d=\"M6.5,8 L6.5,4.88 C6.5,3.01 8.07,1.5 10,1.5 C11.93,1.5 13.5,3.01 13.5,4.88 L13.5,8\"/></svg>",
            "mail": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" points=\"1.4,6.5 10,11 18.6,6.5\"/><path d=\"M 1,4 1,16 19,16 19,4 1,4 Z M 18,15 2,15 2,5 18,5 18,15 Z\"/></svg>",
            "menu": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"2\" y=\"4\" width=\"16\" height=\"1\"/><rect x=\"2\" y=\"9\" width=\"16\" height=\"1\"/><rect x=\"2\" y=\"14\" width=\"16\" height=\"1\"/></svg>",
            "microphone": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><line fill=\"none\" stroke=\"#000\" x1=\"10\" x2=\"10\" y1=\"16.44\" y2=\"18.5\"/><line fill=\"none\" stroke=\"#000\" x1=\"7\" x2=\"13\" y1=\"18.5\" y2=\"18.5\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M13.5 4.89v5.87a3.5 3.5 0 0 1-7 0V4.89a3.5 3.5 0 0 1 7 0z\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M15.5 10.36V11a5.5 5.5 0 0 1-11 0v-.6\"/></svg>",
            "minus-circle": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"9.5\" cy=\"9.5\" r=\"9\"/><line fill=\"none\" stroke=\"#000\" x1=\"5\" y1=\"9.5\" x2=\"14\" y2=\"9.5\"/></svg>",
            "minus": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect height=\"1\" width=\"18\" y=\"9\" x=\"1\"/></svg>",
            "more-vertical": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"10\" cy=\"3\" r=\"2\"/><circle cx=\"10\" cy=\"10\" r=\"2\"/><circle cx=\"10\" cy=\"17\" r=\"2\"/></svg>",
            "more": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"3\" cy=\"10\" r=\"2\"/><circle cx=\"10\" cy=\"10\" r=\"2\"/><circle cx=\"17\" cy=\"10\" r=\"2\"/></svg>",
            "move": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"4,5 1,5 1,9 2,9 2,6 4,6\"/><polygon points=\"1,16 2,16 2,18 4,18 4,19 1,19\"/><polygon points=\"14,16 14,19 11,19 11,18 13,18 13,16\"/><rect fill=\"none\" stroke=\"#000\" x=\"5.5\" y=\"1.5\" width=\"13\" height=\"13\"/><rect x=\"1\" y=\"11\" width=\"1\" height=\"3\"/><rect x=\"6\" y=\"18\" width=\"3\" height=\"1\"/></svg>",
            "nut": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"none\" stroke=\"#000\" points=\"2.5,5.7 10,1.3 17.5,5.7 17.5,14.3 10,18.7 2.5,14.3\"/><circle fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"10\" r=\"3.5\"/></svg>",
            "pagekit": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"3,1 17,1 17,16 10,16 10,13 14,13 14,4 6,4 6,16 10,16 10,19 3,19\"/></svg>",
            "paint-bucket": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.21,1 L0,11.21 L8.1,19.31 L18.31,9.1 L10.21,1 L10.21,1 Z M16.89,9.1 L15,11 L1.7,11 L10.21,2.42 L16.89,9.1 Z\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M6.42,2.33 L11.7,7.61\"/><path d=\"M18.49,12 C18.49,12 20,14.06 20,15.36 C20,16.28 19.24,17 18.49,17 L18.49,17 C17.74,17 17,16.28 17,15.36 C17,14.06 18.49,12 18.49,12 L18.49,12 Z\"/></svg>",
            "pencil": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" d=\"M17.25,6.01 L7.12,16.1 L3.82,17.2 L5.02,13.9 L15.12,3.88 C15.71,3.29 16.66,3.29 17.25,3.88 C17.83,4.47 17.83,5.42 17.25,6.01 L17.25,6.01 Z\"/><path fill=\"none\" stroke=\"#000\" d=\"M15.98,7.268 L13.851,5.148\"/></svg>",
            "phone-landscape": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" d=\"M17,5.5 C17.8,5.5 18.5,6.2 18.5,7 L18.5,14 C18.5,14.8 17.8,15.5 17,15.5 L3,15.5 C2.2,15.5 1.5,14.8 1.5,14 L1.5,7 C1.5,6.2 2.2,5.5 3,5.5 L17,5.5 L17,5.5 L17,5.5 Z\"/><circle cx=\"3.8\" cy=\"10.5\" r=\".8\"/></svg>",
            "phone": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" d=\"M15.5,17 C15.5,17.8 14.8,18.5 14,18.5 L7,18.5 C6.2,18.5 5.5,17.8 5.5,17 L5.5,3 C5.5,2.2 6.2,1.5 7,1.5 L14,1.5 C14.8,1.5 15.5,2.2 15.5,3 L15.5,17 L15.5,17 L15.5,17 Z\"/><circle cx=\"10.5\" cy=\"16.5\" r=\".8\"/></svg>",
            "pinterest": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.21,1 C5.5,1 3,4.16 3,7.61 C3,9.21 3.85,11.2 5.22,11.84 C5.43,11.94 5.54,11.89 5.58,11.69 C5.62,11.54 5.8,10.8 5.88,10.45 C5.91,10.34 5.89,10.24 5.8,10.14 C5.36,9.59 5,8.58 5,7.65 C5,5.24 6.82,2.91 9.93,2.91 C12.61,2.91 14.49,4.74 14.49,7.35 C14.49,10.3 13,12.35 11.06,12.35 C9.99,12.35 9.19,11.47 9.44,10.38 C9.75,9.08 10.35,7.68 10.35,6.75 C10.35,5.91 9.9,5.21 8.97,5.21 C7.87,5.21 6.99,6.34 6.99,7.86 C6.99,8.83 7.32,9.48 7.32,9.48 C7.32,9.48 6.24,14.06 6.04,14.91 C5.7,16.35 6.08,18.7 6.12,18.9 C6.14,19.01 6.26,19.05 6.33,18.95 C6.44,18.81 7.74,16.85 8.11,15.44 C8.24,14.93 8.79,12.84 8.79,12.84 C9.15,13.52 10.19,14.09 11.29,14.09 C14.58,14.09 16.96,11.06 16.96,7.3 C16.94,3.7 14,1 10.21,1\"/></svg>",
            "play-circle": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" points=\"8.5 7 13.5 10 8.5 13\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"10\" cy=\"10\" r=\"9\"/></svg>",
            "play": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"none\" stroke=\"#000\" points=\"6.5,5 14.5,10 6.5,15\"/></svg>",
            "plus-circle": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"9.5\" cy=\"9.5\" r=\"9\"/><line fill=\"none\" stroke=\"#000\" x1=\"9.5\" y1=\"5\" x2=\"9.5\" y2=\"14\"/><line fill=\"none\" stroke=\"#000\" x1=\"5\" y1=\"9.5\" x2=\"14\" y2=\"9.5\"/></svg>",
            "plus": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"9\" y=\"1\" width=\"1\" height=\"17\"/><rect x=\"1\" y=\"9\" width=\"17\" height=\"1\"/></svg>",
            "print": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" points=\"4.5 13.5 1.5 13.5 1.5 6.5 18.5 6.5 18.5 13.5 15.5 13.5\"/><polyline fill=\"none\" stroke=\"#000\" points=\"15.5 6.5 15.5 2.5 4.5 2.5 4.5 6.5\"/><rect fill=\"none\" stroke=\"#000\" width=\"11\" height=\"6\" x=\"4.5\" y=\"11.5\"/><rect width=\"8\" height=\"1\" x=\"6\" y=\"13\"/><rect width=\"8\" height=\"1\" x=\"6\" y=\"15\"/></svg>",
            "pull": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"6.85,8 9.5,10.6 12.15,8 12.85,8.7 9.5,12 6.15,8.7\"/><line fill=\"none\" stroke=\"#000\" x1=\"9.5\" y1=\"11\" x2=\"9.5\" y2=\"2\"/><polyline fill=\"none\" stroke=\"#000\" points=\"6,5.5 3.5,5.5 3.5,18.5 15.5,18.5 15.5,5.5 13,5.5\"/></svg>",
            "push": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"12.15,4 9.5,1.4 6.85,4 6.15,3.3 9.5,0 12.85,3.3\"/><line fill=\"none\" stroke=\"#000\" x1=\"9.5\" y1=\"10\" x2=\"9.5\" y2=\"1\"/><polyline fill=\"none\" stroke=\"#000\" points=\"6 5.5 3.5 5.5 3.5 18.5 15.5 18.5 15.5 5.5 13 5.5\"/></svg>",
            "question": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"10\" cy=\"10\" r=\"9\"/><circle cx=\"10.44\" cy=\"14.42\" r=\"1.05\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.2\" d=\"M8.17,7.79 C8.17,4.75 12.72,4.73 12.72,7.72 C12.72,8.67 11.81,9.15 11.23,9.75 C10.75,10.24 10.51,10.73 10.45,11.4 C10.44,11.53 10.43,11.64 10.43,11.75\"/></svg>",
            "quote-right": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.27,7.79 C17.27,9.45 16.97,10.43 15.99,12.02 C14.98,13.64 13,15.23 11.56,15.97 L11.1,15.08 C12.34,14.2 13.14,13.51 14.02,11.82 C14.27,11.34 14.41,10.92 14.49,10.54 C14.3,10.58 14.09,10.6 13.88,10.6 C12.06,10.6 10.59,9.12 10.59,7.3 C10.59,5.48 12.06,4 13.88,4 C15.39,4 16.67,5.02 17.05,6.42 C17.19,6.82 17.27,7.27 17.27,7.79 L17.27,7.79 Z\"/><path d=\"M8.68,7.79 C8.68,9.45 8.38,10.43 7.4,12.02 C6.39,13.64 4.41,15.23 2.97,15.97 L2.51,15.08 C3.75,14.2 4.55,13.51 5.43,11.82 C5.68,11.34 5.82,10.92 5.9,10.54 C5.71,10.58 5.5,10.6 5.29,10.6 C3.47,10.6 2,9.12 2,7.3 C2,5.48 3.47,4 5.29,4 C6.8,4 8.08,5.02 8.46,6.42 C8.6,6.82 8.68,7.27 8.68,7.79 L8.68,7.79 Z\"/></svg>",
            "receiver": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.01\" d=\"M6.189,13.611C8.134,15.525 11.097,18.239 13.867,18.257C16.47,18.275 18.2,16.241 18.2,16.241L14.509,12.551L11.539,13.639L6.189,8.29L7.313,5.355L3.76,1.8C3.76,1.8 1.732,3.537 1.7,6.092C1.667,8.809 4.347,11.738 6.189,13.611\"/></svg>",
            "reddit": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 9.05a2.56 2.56 0 0 0-2.56-2.56 2.59 2.59 0 0 0-1.88.82 10.63 10.63 0 0 0-4.14-1v-.08c.58-1.62 1.58-3.89 2.7-4.1.38-.08.77.12 1.19.57a1.15 1.15 0 0 0-.06.37 1.48 1.48 0 1 0 1.51-1.45 1.43 1.43 0 0 0-.76.19A2.29 2.29 0 0 0 12.91 1c-2.11.43-3.39 4.38-3.63 5.19 0 0 0 .11-.06.11a10.65 10.65 0 0 0-3.75 1A2.56 2.56 0 0 0 1 9.05a2.42 2.42 0 0 0 .72 1.76A5.18 5.18 0 0 0 1.24 13c0 3.66 3.92 6.64 8.73 6.64s8.74-3 8.74-6.64a5.23 5.23 0 0 0-.46-2.13A2.58 2.58 0 0 0 19 9.05zm-16.88 0a1.44 1.44 0 0 1 2.27-1.19 7.68 7.68 0 0 0-2.07 1.91 1.33 1.33 0 0 1-.2-.72zM10 18.4c-4.17 0-7.55-2.4-7.55-5.4S5.83 7.53 10 7.53 17.5 10 17.5 13s-3.38 5.4-7.5 5.4zm7.69-8.61a7.62 7.62 0 0 0-2.09-1.91 1.41 1.41 0 0 1 .84-.28 1.47 1.47 0 0 1 1.44 1.45 1.34 1.34 0 0 1-.21.72z\"/><path d=\"M6.69 12.58a1.39 1.39 0 1 1 1.39-1.39 1.38 1.38 0 0 1-1.38 1.39z\"/><path d=\"M14.26 11.2a1.39 1.39 0 1 1-1.39-1.39 1.39 1.39 0 0 1 1.39 1.39z\"/><path d=\"M13.09 14.88a.54.54 0 0 1-.09.77 5.3 5.3 0 0 1-3.26 1.19 5.61 5.61 0 0 1-3.4-1.22.55.55 0 1 1 .73-.83 4.09 4.09 0 0 0 5.25 0 .56.56 0 0 1 .77.09z\"/></svg>",
            "refresh": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M17.08,11.15 C17.09,11.31 17.1,11.47 17.1,11.64 C17.1,15.53 13.94,18.69 10.05,18.69 C6.16,18.68 3,15.53 3,11.63 C3,7.74 6.16,4.58 10.05,4.58 C10.9,4.58 11.71,4.73 12.46,5\"/><polyline fill=\"none\" stroke=\"#000\" points=\"9.9 2 12.79 4.89 9.79 7.9\"/></svg>",
            "reply": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.7,13.11 C16.12,10.02 13.84,7.85 11.02,6.61 C10.57,6.41 9.75,6.13 9,5.91 L9,2 L1,9 L9,16 L9,12.13 C10.78,12.47 12.5,13.19 14.09,14.25 C17.13,16.28 18.56,18.54 18.56,18.54 C18.56,18.54 18.81,15.28 17.7,13.11 L17.7,13.11 Z M14.82,13.53 C13.17,12.4 11.01,11.4 8,10.92 L8,13.63 L2.55,9 L8,4.25 L8,6.8 C8.3,6.86 9.16,7.02 10.37,7.49 C13.3,8.65 15.54,10.96 16.65,13.08 C16.97,13.7 17.48,14.86 17.68,16 C16.87,15.05 15.73,14.15 14.82,13.53 L14.82,13.53 Z\"/></svg>",
            "rss": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"3.12\" cy=\"16.8\" r=\"1.85\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M1.5,8.2 C1.78,8.18 2.06,8.16 2.35,8.16 C7.57,8.16 11.81,12.37 11.81,17.57 C11.81,17.89 11.79,18.19 11.76,18.5\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M1.5,2.52 C1.78,2.51 2.06,2.5 2.35,2.5 C10.72,2.5 17.5,9.24 17.5,17.57 C17.5,17.89 17.49,18.19 17.47,18.5\"/></svg>",
            "search": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"9\" cy=\"9\" r=\"7\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M14,14 L18,18 L14,14 Z\"/></svg>",
            "server": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"3\" y=\"3\" width=\"1\" height=\"2\"/><rect x=\"5\" y=\"3\" width=\"1\" height=\"2\"/><rect x=\"7\" y=\"3\" width=\"1\" height=\"2\"/><rect x=\"16\" y=\"3\" width=\"1\" height=\"1\"/><rect x=\"16\" y=\"10\" width=\"1\" height=\"1\"/><circle fill=\"none\" stroke=\"#000\" cx=\"9.9\" cy=\"17.4\" r=\"1.4\"/><rect x=\"3\" y=\"10\" width=\"1\" height=\"2\"/><rect x=\"5\" y=\"10\" width=\"1\" height=\"2\"/><rect x=\"9.5\" y=\"14\" width=\"1\" height=\"2\"/><rect x=\"3\" y=\"17\" width=\"6\" height=\"1\"/><rect x=\"11\" y=\"17\" width=\"6\" height=\"1\"/><rect fill=\"none\" stroke=\"#000\" x=\"1.5\" y=\"1.5\" width=\"17\" height=\"5\"/><rect fill=\"none\" stroke=\"#000\" x=\"1.5\" y=\"8.5\" width=\"17\" height=\"5\"/></svg>",
            "settings": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><ellipse fill=\"none\" stroke=\"#000\" cx=\"6.11\" cy=\"3.55\" rx=\"2.11\" ry=\"2.15\"/><ellipse fill=\"none\" stroke=\"#000\" cx=\"6.11\" cy=\"15.55\" rx=\"2.11\" ry=\"2.15\"/><circle fill=\"none\" stroke=\"#000\" cx=\"13.15\" cy=\"9.55\" r=\"2.15\"/><rect x=\"1\" y=\"3\" width=\"3\" height=\"1\"/><rect x=\"10\" y=\"3\" width=\"8\" height=\"1\"/><rect x=\"1\" y=\"9\" width=\"8\" height=\"1\"/><rect x=\"15\" y=\"9\" width=\"3\" height=\"1\"/><rect x=\"1\" y=\"15\" width=\"3\" height=\"1\"/><rect x=\"10\" y=\"15\" width=\"8\" height=\"1\"/></svg>",
            "shrink": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"11 4 12 4 12 8 16 8 16 9 11 9\"/><polygon points=\"4 11 9 11 9 16 8 16 8 12 4 12\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M12,8 L18,2\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M2,18 L8,12\"/></svg>",
            "sign-in": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"7 2 17 2 17 17 7 17 7 16 16 16 16 3 7 3\"/><polygon points=\"9.1 13.4 8.5 12.8 11.28 10 4 10 4 9 11.28 9 8.5 6.2 9.1 5.62 13 9.5\"/></svg>",
            "sign-out": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"13.1 13.4 12.5 12.8 15.28 10 8 10 8 9 15.28 9 12.5 6.2 13.1 5.62 17 9.5\"/><polygon points=\"13 2 3 2 3 17 13 17 13 16 4 16 4 3 13 3\"/></svg>",
            "social": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" x1=\"13.4\" y1=\"14\" x2=\"6.3\" y2=\"10.7\"/><line fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" x1=\"13.5\" y1=\"5.5\" x2=\"6.5\" y2=\"8.8\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"15.5\" cy=\"4.6\" r=\"2.3\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"15.5\" cy=\"14.8\" r=\"2.3\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"4.5\" cy=\"9.8\" r=\"2.3\"/></svg>",
            "soundcloud": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.2,9.4c-0.4,0-0.8,0.1-1.101,0.2c-0.199-2.5-2.399-4.5-5-4.5c-0.6,0-1.2,0.1-1.7,0.3C9.2,5.5,9.1,5.6,9.1,5.6V15h8 c1.601,0,2.801-1.2,2.801-2.8C20,10.7,18.7,9.4,17.2,9.4L17.2,9.4z\"/><rect x=\"6\" y=\"6.5\" width=\"1.5\" height=\"8.5\"/><rect x=\"3\" y=\"8\" width=\"1.5\" height=\"7\"/><rect y=\"10\" width=\"1.5\" height=\"5\"/></svg>",
            "star": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"none\" stroke=\"#000\" stroke-width=\"1.01\" points=\"10 2 12.63 7.27 18.5 8.12 14.25 12.22 15.25 18 10 15.27 4.75 18 5.75 12.22 1.5 8.12 7.37 7.27\"/></svg>",
            "strikethrough": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6,13.02 L6.65,13.02 C7.64,15.16 8.86,16.12 10.41,16.12 C12.22,16.12 12.92,14.93 12.92,13.89 C12.92,12.55 11.99,12.03 9.74,11.23 C8.05,10.64 6.23,10.11 6.23,7.83 C6.23,5.5 8.09,4.09 10.4,4.09 C11.44,4.09 12.13,4.31 12.72,4.54 L13.33,4 L13.81,4 L13.81,7.59 L13.16,7.59 C12.55,5.88 11.52,4.89 10.07,4.89 C8.84,4.89 7.89,5.69 7.89,7.03 C7.89,8.29 8.89,8.78 10.88,9.45 C12.57,10.03 14.38,10.6 14.38,12.91 C14.38,14.75 13.27,16.93 10.18,16.93 C9.18,16.93 8.17,16.69 7.46,16.39 L6.52,17 L6,17 L6,13.02 L6,13.02 Z\"/><rect x=\"3\" y=\"10\" width=\"15\" height=\"1\"/></svg>",
            "table": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"1\" y=\"3\" width=\"18\" height=\"1\"/><rect x=\"1\" y=\"7\" width=\"18\" height=\"1\"/><rect x=\"1\" y=\"11\" width=\"18\" height=\"1\"/><rect x=\"1\" y=\"15\" width=\"18\" height=\"1\"/></svg>",
            "tablet-landscape": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" d=\"M1.5,5 C1.5,4.2 2.2,3.5 3,3.5 L17,3.5 C17.8,3.5 18.5,4.2 18.5,5 L18.5,16 C18.5,16.8 17.8,17.5 17,17.5 L3,17.5 C2.2,17.5 1.5,16.8 1.5,16 L1.5,5 L1.5,5 L1.5,5 Z\"/><circle cx=\"3.7\" cy=\"10.5\" r=\".8\"/></svg>",
            "tablet": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" d=\"M5,18.5 C4.2,18.5 3.5,17.8 3.5,17 L3.5,3 C3.5,2.2 4.2,1.5 5,1.5 L16,1.5 C16.8,1.5 17.5,2.2 17.5,3 L17.5,17 C17.5,17.8 16.8,18.5 16,18.5 L5,18.5 L5,18.5 L5,18.5 Z\"/><circle cx=\"10.5\" cy=\"16.3\" r=\".8\"/></svg>",
            "tag": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M17.5,3.71 L17.5,7.72 C17.5,7.96 17.4,8.2 17.21,8.39 L8.39,17.2 C7.99,17.6 7.33,17.6 6.93,17.2 L2.8,13.07 C2.4,12.67 2.4,12.01 2.8,11.61 L11.61,2.8 C11.81,2.6 12.08,2.5 12.34,2.5 L16.19,2.5 C16.52,2.5 16.86,2.63 17.11,2.88 C17.35,3.11 17.48,3.4 17.5,3.71 L17.5,3.71 Z\"/><circle cx=\"14\" cy=\"6\" r=\"1\"/></svg>",
            "thumbnails": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect fill=\"none\" stroke=\"#000\" x=\"3.5\" y=\"3.5\" width=\"5\" height=\"5\"/><rect fill=\"none\" stroke=\"#000\" x=\"11.5\" y=\"3.5\" width=\"5\" height=\"5\"/><rect fill=\"none\" stroke=\"#000\" x=\"11.5\" y=\"11.5\" width=\"5\" height=\"5\"/><rect fill=\"none\" stroke=\"#000\" x=\"3.5\" y=\"11.5\" width=\"5\" height=\"5\"/></svg>",
            "tiktok": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.24,6V8.82a6.79,6.79,0,0,1-4-1.28v5.81A5.26,5.26,0,1,1,8,8.1a4.36,4.36,0,0,1,.72.05v2.9A2.57,2.57,0,0,0,7.64,11a2.4,2.4,0,1,0,2.77,2.38V2h2.86a4,4,0,0,0,1.84,3.38A4,4,0,0,0,17.24,6Z\"/></svg>",
            "trash": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" points=\"6.5 3 6.5 1.5 13.5 1.5 13.5 3\"/><polyline fill=\"none\" stroke=\"#000\" points=\"4.5 4 4.5 18.5 15.5 18.5 15.5 4\"/><rect x=\"8\" y=\"7\" width=\"1\" height=\"9\"/><rect x=\"11\" y=\"7\" width=\"1\" height=\"9\"/><rect x=\"2\" y=\"3\" width=\"16\" height=\"1\"/></svg>",
            "triangle-down": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"5 7 15 7 10 12\"/></svg>",
            "triangle-left": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"12 5 7 10 12 15\"/></svg>",
            "triangle-right": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"8 5 13 10 8 15\"/></svg>",
            "triangle-up": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"5 13 10 8 15 13\"/></svg>",
            "tripadvisor": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19.021,7.866C19.256,6.862,20,5.854,20,5.854h-3.346C14.781,4.641,12.504,4,9.98,4C7.363,4,4.999,4.651,3.135,5.876H0\tc0,0,0.738,0.987,0.976,1.988c-0.611,0.837-0.973,1.852-0.973,2.964c0,2.763,2.249,5.009,5.011,5.009\tc1.576,0,2.976-0.737,3.901-1.879l1.063,1.599l1.075-1.615c0.475,0.611,1.1,1.111,1.838,1.451c1.213,0.547,2.574,0.612,3.825,0.15\tc2.589-0.963,3.913-3.852,2.964-6.439c-0.175-0.463-0.4-0.876-0.675-1.238H19.021z M16.38,14.594\tc-1.002,0.371-2.088,0.328-3.06-0.119c-0.688-0.317-1.252-0.817-1.657-1.438c-0.164-0.25-0.313-0.52-0.417-0.811\tc-0.124-0.328-0.186-0.668-0.217-1.014c-0.063-0.689,0.037-1.396,0.339-2.043c0.448-0.971,1.251-1.71,2.25-2.079\tc2.075-0.765,4.375,0.3,5.14,2.366c0.762,2.066-0.301,4.37-2.363,5.134L16.38,14.594L16.38,14.594z M8.322,13.066\tc-0.72,1.059-1.935,1.76-3.309,1.76c-2.207,0-4.001-1.797-4.001-3.996c0-2.203,1.795-4.002,4.001-4.002\tc2.204,0,3.999,1.8,3.999,4.002c0,0.137-0.024,0.261-0.04,0.396c-0.067,0.678-0.284,1.313-0.648,1.853v-0.013H8.322z M2.472,10.775\tc0,1.367,1.112,2.479,2.476,2.479c1.363,0,2.472-1.11,2.472-2.479c0-1.359-1.11-2.468-2.472-2.468\tC3.584,8.306,2.473,9.416,2.472,10.775L2.472,10.775z M12.514,10.775c0,1.367,1.104,2.479,2.471,2.479\tc1.363,0,2.474-1.108,2.474-2.479c0-1.359-1.11-2.468-2.474-2.468c-1.364,0-2.477,1.109-2.477,2.468H12.514z M3.324,10.775\tc0-0.893,0.726-1.618,1.614-1.618c0.889,0,1.625,0.727,1.625,1.618c0,0.898-0.725,1.627-1.625,1.627\tc-0.901,0-1.625-0.729-1.625-1.627H3.324z M13.354,10.775c0-0.893,0.726-1.618,1.627-1.618c0.886,0,1.61,0.727,1.61,1.618\tc0,0.898-0.726,1.627-1.626,1.627s-1.625-0.729-1.625-1.627H13.354z M9.977,4.875c1.798,0,3.425,0.324,4.849,0.968\tc-0.535,0.015-1.061,0.108-1.586,0.3c-1.264,0.463-2.264,1.388-2.815,2.604c-0.262,0.551-0.398,1.133-0.448,1.72\tC9.79,7.905,7.677,5.873,5.076,5.82C6.501,5.208,8.153,4.875,9.94,4.875H9.977z\"/></svg>",
            "tumblr": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.885,8.598c0,0,0,3.393,0,4.996c0,0.282,0,0.66,0.094,0.942c0.377,1.509,1.131,2.545,2.545,3.11 c1.319,0.472,2.356,0.472,3.676,0c0.565-0.188,1.132-0.659,1.132-0.659l-0.849-2.263c0,0-1.036,0.378-1.603,0.283 c-0.565-0.094-1.226-0.66-1.226-1.508c0-1.603,0-4.902,0-4.902h2.828V5.771h-2.828V2H8.205c0,0-0.094,0.66-0.188,0.942 C7.828,3.791,7.262,4.733,6.603,5.394C5.848,6.147,5,6.43,5,6.43v2.168H6.885z\"/></svg>",
            "tv": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect x=\"7\" y=\"16\" width=\"6\" height=\"1\"/><rect fill=\"none\" stroke=\"#000\" x=\".5\" y=\"3.5\" width=\"19\" height=\"11\"/></svg>",
            "twitch": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.23,1,2,4.23V15.85H5.88v3.23L9.1,15.85h2.59L17.5,10V1Zm11,8.4L13.62,12H11L8.78,14.24V12H5.88V2.29H16.21Z\"/><rect x=\"12.98\" y=\"4.55\" width=\"1.29\" height=\"3.88\"/><rect x=\"9.43\" y=\"4.55\" width=\"1.29\" height=\"3.88\"/></svg>",
            "twitter": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19,4.74 C18.339,5.029 17.626,5.229 16.881,5.32 C17.644,4.86 18.227,4.139 18.503,3.28 C17.79,3.7 17.001,4.009 16.159,4.17 C15.485,3.45 14.526,3 13.464,3 C11.423,3 9.771,4.66 9.771,6.7 C9.771,6.99 9.804,7.269 9.868,7.539 C6.795,7.38 4.076,5.919 2.254,3.679 C1.936,4.219 1.754,4.86 1.754,5.539 C1.754,6.82 2.405,7.95 3.397,8.61 C2.79,8.589 2.22,8.429 1.723,8.149 L1.723,8.189 C1.723,9.978 2.997,11.478 4.686,11.82 C4.376,11.899 4.049,11.939 3.713,11.939 C3.475,11.939 3.245,11.919 3.018,11.88 C3.49,13.349 4.852,14.419 6.469,14.449 C5.205,15.429 3.612,16.019 1.882,16.019 C1.583,16.019 1.29,16.009 1,15.969 C2.635,17.019 4.576,17.629 6.662,17.629 C13.454,17.629 17.17,12 17.17,7.129 C17.17,6.969 17.166,6.809 17.157,6.649 C17.879,6.129 18.504,5.478 19,4.74\"/></svg>",
            "uikit": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon points=\"14.4,3.1 11.3,5.1 15,7.3 15,12.9 10,15.7 5,12.9 5,8.5 2,6.8 2,14.8 9.9,19.5 18,14.8 18,5.3\"/><polygon points=\"9.8,4.2 6.7,2.4 9.8,0.4 12.9,2.3\"/></svg>",
            "unlock": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><rect fill=\"none\" stroke=\"#000\" x=\"3.5\" y=\"8.5\" width=\"13\" height=\"10\"/><path fill=\"none\" stroke=\"#000\" d=\"M6.5,8.5 L6.5,4.9 C6.5,3 8.1,1.5 10,1.5 C11.9,1.5 13.5,3 13.5,4.9\"/></svg>",
            "upload": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polyline fill=\"none\" stroke=\"#000\" points=\"5 8 9.5 3.5 14 8\"/><rect x=\"3\" y=\"17\" width=\"13\" height=\"1\"/><line fill=\"none\" stroke=\"#000\" x1=\"9.5\" y1=\"15\" x2=\"9.5\" y2=\"4\"/></svg>",
            "user": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"9.9\" cy=\"6.4\" r=\"4.4\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M1.5,19 C2.3,14.5 5.8,11.2 10,11.2 C14.2,11.2 17.7,14.6 18.5,19.2\"/></svg>",
            "users": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"7.7\" cy=\"8.6\" r=\"3.5\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M1,18.1 C1.7,14.6 4.4,12.1 7.6,12.1 C10.9,12.1 13.7,14.8 14.3,18.3\"/><path fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" d=\"M11.4,4 C12.8,2.4 15.4,2.8 16.3,4.7 C17.2,6.6 15.7,8.9 13.6,8.9 C16.5,8.9 18.8,11.3 19.2,14.1\"/></svg>",
            "video-camera": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"none\" stroke=\"#000\" points=\"17.5 6.9 17.5 13.1 13.5 10.4 13.5 14.5 2.5 14.5 2.5 5.5 13.5 5.5 13.5 9.6 17.5 6.9\"/></svg>",
            "vimeo": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.065,7.59C1.84,7.367,1.654,7.082,1.468,6.838c-0.332-0.42-0.137-0.411,0.274-0.772c1.026-0.91,2.004-1.896,3.127-2.688 c1.017-0.713,2.365-1.173,3.286-0.039c0.849,1.045,0.869,2.629,1.084,3.891c0.215,1.309,0.421,2.648,0.88,3.901 c0.127,0.352,0.37,1.018,0.81,1.074c0.567,0.078,1.145-0.917,1.408-1.289c0.684-0.987,1.611-2.317,1.494-3.587 c-0.115-1.349-1.572-1.095-2.482-0.773c0.146-1.514,1.555-3.216,2.912-3.792c1.439-0.597,3.579-0.587,4.302,1.036 c0.772,1.759,0.078,3.802-0.763,5.396c-0.918,1.731-2.1,3.333-3.363,4.829c-1.114,1.329-2.432,2.787-4.093,3.422 c-1.897,0.723-3.021-0.686-3.667-2.318c-0.705-1.777-1.056-3.771-1.565-5.621C4.898,8.726,4.644,7.836,4.136,7.191 C3.473,6.358,2.72,7.141,2.065,7.59C1.977,7.502,2.115,7.551,2.065,7.59L2.065,7.59z\"/></svg>",
            "warning": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"10\" cy=\"14\" r=\"1\"/><circle fill=\"none\" stroke=\"#000\" stroke-width=\"1.1\" cx=\"10\" cy=\"10\" r=\"9\"/><path d=\"M10.97,7.72 C10.85,9.54 10.56,11.29 10.56,11.29 C10.51,11.87 10.27,12 9.99,12 C9.69,12 9.49,11.87 9.43,11.29 C9.43,11.29 9.16,9.54 9.03,7.72 C8.96,6.54 9.03,6 9.03,6 C9.03,5.45 9.46,5.02 9.99,5 C10.53,5.01 10.97,5.44 10.97,6 C10.97,6 11.04,6.54 10.97,7.72 L10.97,7.72 Z\"/></svg>",
            "whatsapp": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16.7,3.3c-1.8-1.8-4.1-2.8-6.7-2.8c-5.2,0-9.4,4.2-9.4,9.4c0,1.7,0.4,3.3,1.3,4.7l-1.3,4.9l5-1.3c1.4,0.8,2.9,1.2,4.5,1.2 l0,0l0,0c5.2,0,9.4-4.2,9.4-9.4C19.5,7.4,18.5,5,16.7,3.3 M10.1,17.7L10.1,17.7c-1.4,0-2.8-0.4-4-1.1l-0.3-0.2l-3,0.8l0.8-2.9 l-0.2-0.3c-0.8-1.2-1.2-2.7-1.2-4.2c0-4.3,3.5-7.8,7.8-7.8c2.1,0,4.1,0.8,5.5,2.3c1.5,1.5,2.3,3.4,2.3,5.5 C17.9,14.2,14.4,17.7,10.1,17.7 M14.4,11.9c-0.2-0.1-1.4-0.7-1.6-0.8c-0.2-0.1-0.4-0.1-0.5,0.1c-0.2,0.2-0.6,0.8-0.8,0.9 c-0.1,0.2-0.3,0.2-0.5,0.1c-0.2-0.1-1-0.4-1.9-1.2c-0.7-0.6-1.2-1.4-1.3-1.6c-0.1-0.2,0-0.4,0.1-0.5C8,8.8,8.1,8.7,8.2,8.5 c0.1-0.1,0.2-0.2,0.2-0.4c0.1-0.2,0-0.3,0-0.4C8.4,7.6,7.9,6.5,7.7,6C7.5,5.5,7.3,5.6,7.2,5.6c-0.1,0-0.3,0-0.4,0 c-0.2,0-0.4,0.1-0.6,0.3c-0.2,0.2-0.8,0.8-0.8,2c0,1.2,0.8,2.3,1,2.4c0.1,0.2,1.7,2.5,4,3.5c0.6,0.2,1,0.4,1.3,0.5 c0.6,0.2,1.1,0.2,1.5,0.1c0.5-0.1,1.4-0.6,1.6-1.1c0.2-0.5,0.2-1,0.1-1.1C14.8,12.1,14.6,12,14.4,11.9\"/></svg>",
            "wordpress": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10,0.5c-5.2,0-9.5,4.3-9.5,9.5s4.3,9.5,9.5,9.5c5.2,0,9.5-4.3,9.5-9.5S15.2,0.5,10,0.5L10,0.5L10,0.5z M15.6,3.9h-0.1 c-0.8,0-1.4,0.7-1.4,1.5c0,0.7,0.4,1.3,0.8,1.9c0.3,0.6,0.7,1.3,0.7,2.3c0,0.7-0.3,1.5-0.6,2.7L14.1,15l-3-8.9 c0.5,0,0.9-0.1,0.9-0.1C12.5,6,12.5,5.3,12,5.4c0,0-1.3,0.1-2.2,0.1C9,5.5,7.7,5.4,7.7,5.4C7.2,5.3,7.2,6,7.6,6c0,0,0.4,0.1,0.9,0.1 l1.3,3.5L8,15L5,6.1C5.5,6.1,5.9,6,5.9,6C6.4,6,6.3,5.3,5.9,5.4c0,0-1.3,0.1-2.2,0.1c-0.2,0-0.3,0-0.5,0c1.5-2.2,4-3.7,6.9-3.7 C12.2,1.7,14.1,2.6,15.6,3.9L15.6,3.9L15.6,3.9z M2.5,6.6l3.9,10.8c-2.7-1.3-4.6-4.2-4.6-7.4C1.8,8.8,2,7.6,2.5,6.6L2.5,6.6L2.5,6.6 z M10.2,10.7l2.5,6.9c0,0,0,0.1,0.1,0.1C11.9,18,11,18.2,10,18.2c-0.8,0-1.6-0.1-2.3-0.3L10.2,10.7L10.2,10.7L10.2,10.7z M14.2,17.1 l2.5-7.3c0.5-1.2,0.6-2.1,0.6-2.9c0-0.3,0-0.6-0.1-0.8c0.6,1.2,1,2.5,1,4C18.3,13,16.6,15.7,14.2,17.1L14.2,17.1L14.2,17.1z\"/></svg>",
            "world": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" stroke=\"#000\" d=\"M1,10.5 L19,10.5\"/><path fill=\"none\" stroke=\"#000\" d=\"M2.35,15.5 L17.65,15.5\"/><path fill=\"none\" stroke=\"#000\" d=\"M2.35,5.5 L17.523,5.5\"/><path fill=\"none\" stroke=\"#000\" d=\"M10,19.46 L9.98,19.46 C7.31,17.33 5.61,14.141 5.61,10.58 C5.61,7.02 7.33,3.83 10,1.7 C10.01,1.7 9.99,1.7 10,1.7 L10,1.7 C12.67,3.83 14.4,7.02 14.4,10.58 C14.4,14.141 12.67,17.33 10,19.46 L10,19.46 L10,19.46 L10,19.46 Z\"/><circle fill=\"none\" stroke=\"#000\" cx=\"10\" cy=\"10.5\" r=\"9\"/></svg>",
            "xing": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4.4,4.56 C4.24,4.56 4.11,4.61 4.05,4.72 C3.98,4.83 3.99,4.97 4.07,5.12 L5.82,8.16 L5.82,8.17 L3.06,13.04 C2.99,13.18 2.99,13.33 3.06,13.44 C3.12,13.55 3.24,13.62 3.4,13.62 L6,13.62 C6.39,13.62 6.57,13.36 6.71,13.12 C6.71,13.12 9.41,8.35 9.51,8.16 C9.49,8.14 7.72,5.04 7.72,5.04 C7.58,4.81 7.39,4.56 6.99,4.56 L4.4,4.56 L4.4,4.56 Z\"/><path d=\"M15.3,1 C14.91,1 14.74,1.25 14.6,1.5 C14.6,1.5 9.01,11.42 8.82,11.74 C8.83,11.76 12.51,18.51 12.51,18.51 C12.64,18.74 12.84,19 13.23,19 L15.82,19 C15.98,19 16.1,18.94 16.16,18.83 C16.23,18.72 16.23,18.57 16.16,18.43 L12.5,11.74 L12.5,11.72 L18.25,1.56 C18.32,1.42 18.32,1.27 18.25,1.16 C18.21,1.06 18.08,1 17.93,1 L15.3,1 L15.3,1 Z\"/></svg>",
            "yelp": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.175,14.971c-0.112,0.77-1.686,2.767-2.406,3.054c-0.246,0.1-0.487,0.076-0.675-0.069\tc-0.122-0.096-2.446-3.859-2.446-3.859c-0.194-0.293-0.157-0.682,0.083-0.978c0.234-0.284,0.581-0.393,0.881-0.276\tc0.016,0.01,4.21,1.394,4.332,1.482c0.178,0.148,0.263,0.379,0.225,0.646L17.175,14.971L17.175,14.971z M11.464,10.789\tc-0.203-0.307-0.199-0.666,0.009-0.916c0,0,2.625-3.574,2.745-3.657c0.203-0.135,0.452-0.141,0.69-0.025\tc0.691,0.335,2.085,2.405,2.167,3.199v0.027c0.024,0.271-0.082,0.491-0.273,0.623c-0.132,0.083-4.43,1.155-4.43,1.155\tc-0.322,0.096-0.68-0.06-0.882-0.381L11.464,10.789z M9.475,9.563C9.32,9.609,8.848,9.757,8.269,8.817c0,0-3.916-6.16-4.007-6.351\tc-0.057-0.212,0.011-0.455,0.202-0.65C5.047,1.211,8.21,0.327,9.037,0.529c0.27,0.069,0.457,0.238,0.522,0.479\tc0.047,0.266,0.433,5.982,0.488,7.264C10.098,9.368,9.629,9.517,9.475,9.563z M9.927,19.066c-0.083,0.225-0.273,0.373-0.54,0.421\tc-0.762,0.13-3.15-0.751-3.647-1.342c-0.096-0.131-0.155-0.262-0.167-0.394c-0.011-0.095,0-0.189,0.036-0.272\tc0.061-0.155,2.917-3.538,2.917-3.538c0.214-0.272,0.595-0.355,0.952-0.213c0.345,0.13,0.56,0.428,0.536,0.749\tC10.014,14.479,9.977,18.923,9.927,19.066z M3.495,13.912c-0.235-0.009-0.444-0.148-0.568-0.382c-0.089-0.17-0.151-0.453-0.19-0.794\tC2.63,11.701,2.761,10.144,3.07,9.648c0.145-0.226,0.357-0.345,0.592-0.336c0.154,0,4.255,1.667,4.255,1.667\tc0.321,0.118,0.521,0.453,0.5,0.833c-0.023,0.37-0.236,0.655-0.551,0.738L3.495,13.912z\"/></svg>",
            "youtube": "<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15,4.1c1,0.1,2.3,0,3,0.8c0.8,0.8,0.9,2.1,0.9,3.1C19,9.2,19,10.9,19,12c-0.1,1.1,0,2.4-0.5,3.4c-0.5,1.1-1.4,1.5-2.5,1.6 c-1.2,0.1-8.6,0.1-11,0c-1.1-0.1-2.4-0.1-3.2-1c-0.7-0.8-0.7-2-0.8-3C1,11.8,1,10.1,1,8.9c0-1.1,0-2.4,0.5-3.4C2,4.5,3,4.3,4.1,4.2 C5.3,4.1,12.6,4,15,4.1z M8,7.5v6l5.5-3L8,7.5z\"/></svg>"
        });
    }
    if (typeof window !== 'undefined' && window.UIkit) window.UIkit.use(plugin);
    return plugin;
});




var $bh6RR = parcelRequire("bh6RR");

var $bh6RR = parcelRequire("bh6RR");


var $eJmBa = parcelRequire("eJmBa");

var $eJmBa = parcelRequire("eJmBa");
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/ var $f7d7080b51a7036f$var$__defProp = Object.defineProperty;
var $f7d7080b51a7036f$var$__getOwnPropDesc = Object.getOwnPropertyDescriptor;
var $f7d7080b51a7036f$var$__getOwnPropNames = Object.getOwnPropertyNames;
var $f7d7080b51a7036f$var$__hasOwnProp = Object.prototype.hasOwnProperty;
var $f7d7080b51a7036f$var$__markAsModule = (target)=>$f7d7080b51a7036f$var$__defProp(target, "__esModule", {
        value: true
    })
;
var $f7d7080b51a7036f$var$__reExport = (target, module, desc)=>{
    if (module && typeof module === "object" || typeof module === "function") {
        for (let key of $f7d7080b51a7036f$var$__getOwnPropNames(module))if (!$f7d7080b51a7036f$var$__hasOwnProp.call(target, key) && key !== "default") $f7d7080b51a7036f$var$__defProp(target, key, {
            get: ()=>module[key]
            ,
            enumerable: !(desc = $f7d7080b51a7036f$var$__getOwnPropDesc(module, key)) || desc.enumerable
        });
    }
    return target;
};
// src/typescript/lib/typescriptServicesMetadata.ts
var $f7d7080b51a7036f$var$typescriptVersion = "4.4.4";
// src/fillers/monaco-editor-core.ts
var $f7d7080b51a7036f$var$monaco_editor_core_exports = {};
$f7d7080b51a7036f$var$__markAsModule($f7d7080b51a7036f$var$monaco_editor_core_exports);
$f7d7080b51a7036f$var$__reExport($f7d7080b51a7036f$var$monaco_editor_core_exports, $eJmBa);
// src/typescript/monaco.contribution.ts
var $f7d7080b51a7036f$export$2932e787d4bab445;
(function(ModuleKind2) {
    ModuleKind2[ModuleKind2["None"] = 0] = "None";
    ModuleKind2[ModuleKind2["CommonJS"] = 1] = "CommonJS";
    ModuleKind2[ModuleKind2["AMD"] = 2] = "AMD";
    ModuleKind2[ModuleKind2["UMD"] = 3] = "UMD";
    ModuleKind2[ModuleKind2["System"] = 4] = "System";
    ModuleKind2[ModuleKind2["ES2015"] = 5] = "ES2015";
    ModuleKind2[ModuleKind2["ESNext"] = 99] = "ESNext";
})($f7d7080b51a7036f$export$2932e787d4bab445 || ($f7d7080b51a7036f$export$2932e787d4bab445 = {}));
var $f7d7080b51a7036f$export$23b47a46c244d065;
(function(JsxEmit2) {
    JsxEmit2[JsxEmit2["None"] = 0] = "None";
    JsxEmit2[JsxEmit2["Preserve"] = 1] = "Preserve";
    JsxEmit2[JsxEmit2["React"] = 2] = "React";
    JsxEmit2[JsxEmit2["ReactNative"] = 3] = "ReactNative";
    JsxEmit2[JsxEmit2["ReactJSX"] = 4] = "ReactJSX";
    JsxEmit2[JsxEmit2["ReactJSXDev"] = 5] = "ReactJSXDev";
})($f7d7080b51a7036f$export$23b47a46c244d065 || ($f7d7080b51a7036f$export$23b47a46c244d065 = {}));
var $f7d7080b51a7036f$export$c28f76d17c23333a;
(function(NewLineKind2) {
    NewLineKind2[NewLineKind2["CarriageReturnLineFeed"] = 0] = "CarriageReturnLineFeed";
    NewLineKind2[NewLineKind2["LineFeed"] = 1] = "LineFeed";
})($f7d7080b51a7036f$export$c28f76d17c23333a || ($f7d7080b51a7036f$export$c28f76d17c23333a = {}));
var $f7d7080b51a7036f$export$36609ff6f261a579;
(function(ScriptTarget2) {
    ScriptTarget2[ScriptTarget2["ES3"] = 0] = "ES3";
    ScriptTarget2[ScriptTarget2["ES5"] = 1] = "ES5";
    ScriptTarget2[ScriptTarget2["ES2015"] = 2] = "ES2015";
    ScriptTarget2[ScriptTarget2["ES2016"] = 3] = "ES2016";
    ScriptTarget2[ScriptTarget2["ES2017"] = 4] = "ES2017";
    ScriptTarget2[ScriptTarget2["ES2018"] = 5] = "ES2018";
    ScriptTarget2[ScriptTarget2["ES2019"] = 6] = "ES2019";
    ScriptTarget2[ScriptTarget2["ES2020"] = 7] = "ES2020";
    ScriptTarget2[ScriptTarget2["ESNext"] = 99] = "ESNext";
    ScriptTarget2[ScriptTarget2["JSON"] = 100] = "JSON";
    ScriptTarget2[ScriptTarget2["Latest"] = 99] = "Latest";
})($f7d7080b51a7036f$export$36609ff6f261a579 || ($f7d7080b51a7036f$export$36609ff6f261a579 = {}));
var $f7d7080b51a7036f$export$2e45c31d6e8ee3d0;
(function(ModuleResolutionKind2) {
    ModuleResolutionKind2[ModuleResolutionKind2["Classic"] = 1] = "Classic";
    ModuleResolutionKind2[ModuleResolutionKind2["NodeJs"] = 2] = "NodeJs";
})($f7d7080b51a7036f$export$2e45c31d6e8ee3d0 || ($f7d7080b51a7036f$export$2e45c31d6e8ee3d0 = {}));
var $f7d7080b51a7036f$var$LanguageServiceDefaultsImpl = class {
    get onDidChange() {
        return this._onDidChange.event;
    }
    get onDidExtraLibsChange() {
        return this._onDidExtraLibsChange.event;
    }
    get workerOptions() {
        return this._workerOptions;
    }
    get inlayHintsOptions() {
        return this._inlayHintsOptions;
    }
    getExtraLibs() {
        return this._extraLibs;
    }
    addExtraLib(content, _filePath) {
        let filePath;
        if (typeof _filePath === "undefined") filePath = `ts:extralib-${Math.random().toString(36).substring(2, 15)}`;
        else filePath = _filePath;
        if (this._extraLibs[filePath] && this._extraLibs[filePath].content === content) return {
            dispose: ()=>{}
        };
        let myVersion = 1;
        if (this._removedExtraLibs[filePath]) myVersion = this._removedExtraLibs[filePath] + 1;
        if (this._extraLibs[filePath]) myVersion = this._extraLibs[filePath].version + 1;
        this._extraLibs[filePath] = {
            content: content,
            version: myVersion
        };
        this._fireOnDidExtraLibsChangeSoon();
        return {
            dispose: ()=>{
                let extraLib = this._extraLibs[filePath];
                if (!extraLib) return;
                if (extraLib.version !== myVersion) return;
                delete this._extraLibs[filePath];
                this._removedExtraLibs[filePath] = myVersion;
                this._fireOnDidExtraLibsChangeSoon();
            }
        };
    }
    setExtraLibs(libs) {
        for(const filePath in this._extraLibs)this._removedExtraLibs[filePath] = this._extraLibs[filePath].version;
        this._extraLibs = Object.create(null);
        if (libs && libs.length > 0) for (const lib of libs){
            const filePath = lib.filePath || `ts:extralib-${Math.random().toString(36).substring(2, 15)}`;
            const content = lib.content;
            let myVersion = 1;
            if (this._removedExtraLibs[filePath]) myVersion = this._removedExtraLibs[filePath] + 1;
            this._extraLibs[filePath] = {
                content: content,
                version: myVersion
            };
        }
        this._fireOnDidExtraLibsChangeSoon();
    }
    _fireOnDidExtraLibsChangeSoon() {
        if (this._onDidExtraLibsChangeTimeout !== -1) return;
        this._onDidExtraLibsChangeTimeout = window.setTimeout(()=>{
            this._onDidExtraLibsChangeTimeout = -1;
            this._onDidExtraLibsChange.fire(void 0);
        }, 0);
    }
    getCompilerOptions() {
        return this._compilerOptions;
    }
    setCompilerOptions(options) {
        this._compilerOptions = options || Object.create(null);
        this._onDidChange.fire(void 0);
    }
    getDiagnosticsOptions() {
        return this._diagnosticsOptions;
    }
    setDiagnosticsOptions(options) {
        this._diagnosticsOptions = options || Object.create(null);
        this._onDidChange.fire(void 0);
    }
    setWorkerOptions(options) {
        this._workerOptions = options || Object.create(null);
        this._onDidChange.fire(void 0);
    }
    setInlayHintsOptions(options) {
        this._inlayHintsOptions = options || Object.create(null);
        this._onDidChange.fire(void 0);
    }
    setMaximumWorkerIdleTime(value) {}
    setEagerModelSync(value) {
        this._eagerModelSync = value;
    }
    getEagerModelSync() {
        return this._eagerModelSync;
    }
    constructor(compilerOptions, diagnosticsOptions, workerOptions, inlayHintsOptions){
        this._onDidChange = new $f7d7080b51a7036f$var$monaco_editor_core_exports.Emitter();
        this._onDidExtraLibsChange = new $f7d7080b51a7036f$var$monaco_editor_core_exports.Emitter();
        this._extraLibs = Object.create(null);
        this._removedExtraLibs = Object.create(null);
        this._eagerModelSync = false;
        this.setCompilerOptions(compilerOptions);
        this.setDiagnosticsOptions(diagnosticsOptions);
        this.setWorkerOptions(workerOptions);
        this.setInlayHintsOptions(inlayHintsOptions);
        this._onDidExtraLibsChangeTimeout = -1;
    }
};
var $f7d7080b51a7036f$export$30d76bc34f51c345 = $f7d7080b51a7036f$var$typescriptVersion;
var $f7d7080b51a7036f$export$5b7e032c201ff89d = new $f7d7080b51a7036f$var$LanguageServiceDefaultsImpl({
    allowNonTsExtensions: true,
    target: 99
}, {
    noSemanticValidation: false,
    noSyntaxValidation: false,
    onlyVisible: false
}, {}, {});
var $f7d7080b51a7036f$export$15c6eb181a3131d2 = new $f7d7080b51a7036f$var$LanguageServiceDefaultsImpl({
    allowNonTsExtensions: true,
    allowJs: true,
    target: 99
}, {
    noSemanticValidation: true,
    noSyntaxValidation: false,
    onlyVisible: false
}, {}, {});
var $f7d7080b51a7036f$export$f4433c6b950b070e = ()=>{
    return $f7d7080b51a7036f$var$getMode().then((mode)=>mode.getTypeScriptWorker()
    );
};
var $f7d7080b51a7036f$export$42142bcd5970f8e8 = ()=>{
    return $f7d7080b51a7036f$var$getMode().then((mode)=>mode.getJavaScriptWorker()
    );
};
$f7d7080b51a7036f$var$monaco_editor_core_exports.languages.typescript = {
    ModuleKind: $f7d7080b51a7036f$export$2932e787d4bab445,
    JsxEmit: $f7d7080b51a7036f$export$23b47a46c244d065,
    NewLineKind: $f7d7080b51a7036f$export$c28f76d17c23333a,
    ScriptTarget: $f7d7080b51a7036f$export$36609ff6f261a579,
    ModuleResolutionKind: $f7d7080b51a7036f$export$2e45c31d6e8ee3d0,
    typescriptVersion: $f7d7080b51a7036f$export$30d76bc34f51c345,
    typescriptDefaults: $f7d7080b51a7036f$export$5b7e032c201ff89d,
    javascriptDefaults: $f7d7080b51a7036f$export$15c6eb181a3131d2,
    getTypeScriptWorker: $f7d7080b51a7036f$export$f4433c6b950b070e,
    getJavaScriptWorker: $f7d7080b51a7036f$export$42142bcd5970f8e8
};

function $f7d7080b51a7036f$var$getMode() {
    var resolve, reject;
    return (parcelRequire("9Xa8W"));
}
$f7d7080b51a7036f$var$monaco_editor_core_exports.languages.onLanguage("typescript", ()=>{
    return $f7d7080b51a7036f$var$getMode().then((mode)=>mode.setupTypeScript($f7d7080b51a7036f$export$5b7e032c201ff89d)
    );
});
$f7d7080b51a7036f$var$monaco_editor_core_exports.languages.onLanguage("javascript", ()=>{
    return $f7d7080b51a7036f$var$getMode().then((mode)=>mode.setupJavaScript($f7d7080b51a7036f$export$15c6eb181a3131d2)
    );
});



var $eJmBa = parcelRequire("eJmBa");

var $eJmBa = parcelRequire("eJmBa");
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/ var $76157bc70531c502$var$__defProp = Object.defineProperty;
var $76157bc70531c502$var$__getOwnPropDesc = Object.getOwnPropertyDescriptor;
var $76157bc70531c502$var$__getOwnPropNames = Object.getOwnPropertyNames;
var $76157bc70531c502$var$__hasOwnProp = Object.prototype.hasOwnProperty;
var $76157bc70531c502$var$__markAsModule = (target)=>$76157bc70531c502$var$__defProp(target, "__esModule", {
        value: true
    })
;
var $76157bc70531c502$var$__reExport = (target, module, desc)=>{
    if (module && typeof module === "object" || typeof module === "function") {
        for (let key of $76157bc70531c502$var$__getOwnPropNames(module))if (!$76157bc70531c502$var$__hasOwnProp.call(target, key) && key !== "default") $76157bc70531c502$var$__defProp(target, key, {
            get: ()=>module[key]
            ,
            enumerable: !(desc = $76157bc70531c502$var$__getOwnPropDesc(module, key)) || desc.enumerable
        });
    }
    return target;
};
// src/fillers/monaco-editor-core.ts
var $76157bc70531c502$var$monaco_editor_core_exports = {};
$76157bc70531c502$var$__markAsModule($76157bc70531c502$var$monaco_editor_core_exports);
$76157bc70531c502$var$__reExport($76157bc70531c502$var$monaco_editor_core_exports, $eJmBa);
// src/css/monaco.contribution.ts
var $76157bc70531c502$var$LanguageServiceDefaultsImpl = class {
    get onDidChange() {
        return this._onDidChange.event;
    }
    get languageId() {
        return this._languageId;
    }
    get modeConfiguration() {
        return this._modeConfiguration;
    }
    get diagnosticsOptions() {
        return this.options;
    }
    get options() {
        return this._options;
    }
    setOptions(options) {
        this._options = options || Object.create(null);
        this._onDidChange.fire(this);
    }
    setDiagnosticsOptions(options) {
        this.setOptions(options);
    }
    setModeConfiguration(modeConfiguration) {
        this._modeConfiguration = modeConfiguration || Object.create(null);
        this._onDidChange.fire(this);
    }
    constructor(languageId, options, modeConfiguration){
        this._onDidChange = new $76157bc70531c502$var$monaco_editor_core_exports.Emitter();
        this._languageId = languageId;
        this.setOptions(options);
        this.setModeConfiguration(modeConfiguration);
    }
};
var $76157bc70531c502$var$optionsDefault = {
    validate: true,
    lint: {
        compatibleVendorPrefixes: "ignore",
        vendorPrefix: "warning",
        duplicateProperties: "warning",
        emptyRules: "warning",
        importStatement: "ignore",
        boxModel: "ignore",
        universalSelector: "ignore",
        zeroUnits: "ignore",
        fontFaceProperties: "warning",
        hexColorLength: "error",
        argumentsInColorFunction: "error",
        unknownProperties: "warning",
        ieHack: "ignore",
        unknownVendorSpecificProperties: "ignore",
        propertyIgnoredDueToDisplay: "warning",
        important: "ignore",
        float: "ignore",
        idSelector: "ignore"
    },
    data: {
        useDefaultDataProvider: true
    }
};
var $76157bc70531c502$var$modeConfigurationDefault = {
    completionItems: true,
    hovers: true,
    documentSymbols: true,
    definitions: true,
    references: true,
    documentHighlights: true,
    rename: true,
    colors: true,
    foldingRanges: true,
    diagnostics: true,
    selectionRanges: true
};
var $76157bc70531c502$export$c2a404aa831e27bd = new $76157bc70531c502$var$LanguageServiceDefaultsImpl("css", $76157bc70531c502$var$optionsDefault, $76157bc70531c502$var$modeConfigurationDefault);
var $76157bc70531c502$export$54af320ade247add = new $76157bc70531c502$var$LanguageServiceDefaultsImpl("scss", $76157bc70531c502$var$optionsDefault, $76157bc70531c502$var$modeConfigurationDefault);
var $76157bc70531c502$export$c8aa2efd916a3011 = new $76157bc70531c502$var$LanguageServiceDefaultsImpl("less", $76157bc70531c502$var$optionsDefault, $76157bc70531c502$var$modeConfigurationDefault);
$76157bc70531c502$var$monaco_editor_core_exports.languages.css = {
    cssDefaults: $76157bc70531c502$export$c2a404aa831e27bd,
    lessDefaults: $76157bc70531c502$export$c8aa2efd916a3011,
    scssDefaults: $76157bc70531c502$export$54af320ade247add
};

function $76157bc70531c502$var$getMode() {
    var resolve, reject;
    return (parcelRequire("34QYk"));
}
$76157bc70531c502$var$monaco_editor_core_exports.languages.onLanguage("less", ()=>{
    $76157bc70531c502$var$getMode().then((mode)=>mode.setupMode($76157bc70531c502$export$c8aa2efd916a3011)
    );
});
$76157bc70531c502$var$monaco_editor_core_exports.languages.onLanguage("scss", ()=>{
    $76157bc70531c502$var$getMode().then((mode)=>mode.setupMode($76157bc70531c502$export$54af320ade247add)
    );
});
$76157bc70531c502$var$monaco_editor_core_exports.languages.onLanguage("css", ()=>{
    $76157bc70531c502$var$getMode().then((mode)=>mode.setupMode($76157bc70531c502$export$c2a404aa831e27bd)
    );
});



var $eJmBa = parcelRequire("eJmBa");

var $eJmBa = parcelRequire("eJmBa");
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/ var $f6044a977c602ed7$var$__defProp = Object.defineProperty;
var $f6044a977c602ed7$var$__getOwnPropDesc = Object.getOwnPropertyDescriptor;
var $f6044a977c602ed7$var$__getOwnPropNames = Object.getOwnPropertyNames;
var $f6044a977c602ed7$var$__hasOwnProp = Object.prototype.hasOwnProperty;
var $f6044a977c602ed7$var$__markAsModule = (target)=>$f6044a977c602ed7$var$__defProp(target, "__esModule", {
        value: true
    })
;
var $f6044a977c602ed7$var$__reExport = (target, module, desc)=>{
    if (module && typeof module === "object" || typeof module === "function") {
        for (let key of $f6044a977c602ed7$var$__getOwnPropNames(module))if (!$f6044a977c602ed7$var$__hasOwnProp.call(target, key) && key !== "default") $f6044a977c602ed7$var$__defProp(target, key, {
            get: ()=>module[key]
            ,
            enumerable: !(desc = $f6044a977c602ed7$var$__getOwnPropDesc(module, key)) || desc.enumerable
        });
    }
    return target;
};
// src/fillers/monaco-editor-core.ts
var $f6044a977c602ed7$var$monaco_editor_core_exports = {};
$f6044a977c602ed7$var$__markAsModule($f6044a977c602ed7$var$monaco_editor_core_exports);
$f6044a977c602ed7$var$__reExport($f6044a977c602ed7$var$monaco_editor_core_exports, $eJmBa);
// src/json/monaco.contribution.ts
var $f6044a977c602ed7$var$LanguageServiceDefaultsImpl = class {
    get onDidChange() {
        return this._onDidChange.event;
    }
    get languageId() {
        return this._languageId;
    }
    get modeConfiguration() {
        return this._modeConfiguration;
    }
    get diagnosticsOptions() {
        return this._diagnosticsOptions;
    }
    setDiagnosticsOptions(options) {
        this._diagnosticsOptions = options || Object.create(null);
        this._onDidChange.fire(this);
    }
    setModeConfiguration(modeConfiguration) {
        this._modeConfiguration = modeConfiguration || Object.create(null);
        this._onDidChange.fire(this);
    }
    constructor(languageId, diagnosticsOptions, modeConfiguration){
        this._onDidChange = new $f6044a977c602ed7$var$monaco_editor_core_exports.Emitter();
        this._languageId = languageId;
        this.setDiagnosticsOptions(diagnosticsOptions);
        this.setModeConfiguration(modeConfiguration);
    }
};
var $f6044a977c602ed7$var$diagnosticDefault = {
    validate: true,
    allowComments: true,
    schemas: [],
    enableSchemaRequest: false,
    schemaRequest: "warning",
    schemaValidation: "warning",
    comments: "error",
    trailingCommas: "error"
};
var $f6044a977c602ed7$var$modeConfigurationDefault = {
    documentFormattingEdits: true,
    documentRangeFormattingEdits: true,
    completionItems: true,
    hovers: true,
    documentSymbols: true,
    tokens: true,
    colors: true,
    foldingRanges: true,
    diagnostics: true,
    selectionRanges: true
};
var $f6044a977c602ed7$export$f9a800bb9a97e438 = new $f6044a977c602ed7$var$LanguageServiceDefaultsImpl("json", $f6044a977c602ed7$var$diagnosticDefault, $f6044a977c602ed7$var$modeConfigurationDefault);
$f6044a977c602ed7$var$monaco_editor_core_exports.languages.json = {
    jsonDefaults: $f6044a977c602ed7$export$f9a800bb9a97e438
};

function $f6044a977c602ed7$var$getMode() {
    var resolve, reject;
    return (parcelRequire("76WfE"));
}
$f6044a977c602ed7$var$monaco_editor_core_exports.languages.register({
    id: "json",
    extensions: [
        ".json",
        ".bowerrc",
        ".jshintrc",
        ".jscsrc",
        ".eslintrc",
        ".babelrc",
        ".har"
    ],
    aliases: [
        "JSON",
        "json"
    ],
    mimetypes: [
        "application/json"
    ]
});
$f6044a977c602ed7$var$monaco_editor_core_exports.languages.onLanguage("json", ()=>{
    $f6044a977c602ed7$var$getMode().then((mode)=>mode.setupMode($f6044a977c602ed7$export$f9a800bb9a97e438)
    );
});



var $eJmBa = parcelRequire("eJmBa");

var $eJmBa = parcelRequire("eJmBa");
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/ var $36343d77d73376cb$var$__defProp = Object.defineProperty;
var $36343d77d73376cb$var$__getOwnPropDesc = Object.getOwnPropertyDescriptor;
var $36343d77d73376cb$var$__getOwnPropNames = Object.getOwnPropertyNames;
var $36343d77d73376cb$var$__hasOwnProp = Object.prototype.hasOwnProperty;
var $36343d77d73376cb$var$__markAsModule = (target)=>$36343d77d73376cb$var$__defProp(target, "__esModule", {
        value: true
    })
;
var $36343d77d73376cb$var$__reExport = (target, module, desc)=>{
    if (module && typeof module === "object" || typeof module === "function") {
        for (let key of $36343d77d73376cb$var$__getOwnPropNames(module))if (!$36343d77d73376cb$var$__hasOwnProp.call(target, key) && key !== "default") $36343d77d73376cb$var$__defProp(target, key, {
            get: ()=>module[key]
            ,
            enumerable: !(desc = $36343d77d73376cb$var$__getOwnPropDesc(module, key)) || desc.enumerable
        });
    }
    return target;
};
// src/fillers/monaco-editor-core.ts
var $36343d77d73376cb$var$monaco_editor_core_exports = {};
$36343d77d73376cb$var$__markAsModule($36343d77d73376cb$var$monaco_editor_core_exports);
$36343d77d73376cb$var$__reExport($36343d77d73376cb$var$monaco_editor_core_exports, $eJmBa);
// src/html/monaco.contribution.ts
var $36343d77d73376cb$var$LanguageServiceDefaultsImpl = class {
    get onDidChange() {
        return this._onDidChange.event;
    }
    get languageId() {
        return this._languageId;
    }
    get options() {
        return this._options;
    }
    get modeConfiguration() {
        return this._modeConfiguration;
    }
    setOptions(options) {
        this._options = options || Object.create(null);
        this._onDidChange.fire(this);
    }
    setModeConfiguration(modeConfiguration) {
        this._modeConfiguration = modeConfiguration || Object.create(null);
        this._onDidChange.fire(this);
    }
    constructor(languageId, options, modeConfiguration){
        this._onDidChange = new $36343d77d73376cb$var$monaco_editor_core_exports.Emitter();
        this._languageId = languageId;
        this.setOptions(options);
        this.setModeConfiguration(modeConfiguration);
    }
};
var $36343d77d73376cb$var$formatDefaults = {
    tabSize: 4,
    insertSpaces: false,
    wrapLineLength: 120,
    unformatted: 'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',
    contentUnformatted: "pre",
    indentInnerHtml: false,
    preserveNewLines: true,
    maxPreserveNewLines: void 0,
    indentHandlebars: false,
    endWithNewline: false,
    extraLiners: "head, body, /html",
    wrapAttributes: "auto"
};
var $36343d77d73376cb$var$optionsDefault = {
    format: $36343d77d73376cb$var$formatDefaults,
    suggest: {},
    data: {
        useDefaultDataProvider: true
    }
};
function $36343d77d73376cb$var$getConfigurationDefault(languageId) {
    return {
        completionItems: true,
        hovers: true,
        documentSymbols: true,
        links: true,
        documentHighlights: true,
        rename: true,
        colors: true,
        foldingRanges: true,
        selectionRanges: true,
        diagnostics: languageId === $36343d77d73376cb$var$htmlLanguageId,
        documentFormattingEdits: languageId === $36343d77d73376cb$var$htmlLanguageId,
        documentRangeFormattingEdits: languageId === $36343d77d73376cb$var$htmlLanguageId
    };
}
var $36343d77d73376cb$var$htmlLanguageId = "html";
var $36343d77d73376cb$var$handlebarsLanguageId = "handlebars";
var $36343d77d73376cb$var$razorLanguageId = "razor";
var $36343d77d73376cb$export$5fef39c1049dc16a = $36343d77d73376cb$export$282c563ccf44ceb9($36343d77d73376cb$var$htmlLanguageId, $36343d77d73376cb$var$optionsDefault, $36343d77d73376cb$var$getConfigurationDefault($36343d77d73376cb$var$htmlLanguageId));
var $36343d77d73376cb$export$57db705433ed60e4 = $36343d77d73376cb$export$5fef39c1049dc16a.defaults;
var $36343d77d73376cb$export$7128923f244739ae = $36343d77d73376cb$export$282c563ccf44ceb9($36343d77d73376cb$var$handlebarsLanguageId, $36343d77d73376cb$var$optionsDefault, $36343d77d73376cb$var$getConfigurationDefault($36343d77d73376cb$var$handlebarsLanguageId));
var $36343d77d73376cb$export$d6789e1e299dadea = $36343d77d73376cb$export$7128923f244739ae.defaults;
var $36343d77d73376cb$export$c0c348172212aa68 = $36343d77d73376cb$export$282c563ccf44ceb9($36343d77d73376cb$var$razorLanguageId, $36343d77d73376cb$var$optionsDefault, $36343d77d73376cb$var$getConfigurationDefault($36343d77d73376cb$var$razorLanguageId));
var $36343d77d73376cb$export$ca427800aa66cf63 = $36343d77d73376cb$export$c0c348172212aa68.defaults;
$36343d77d73376cb$var$monaco_editor_core_exports.languages.html = {
    htmlDefaults: $36343d77d73376cb$export$57db705433ed60e4,
    razorDefaults: $36343d77d73376cb$export$ca427800aa66cf63,
    handlebarDefaults: $36343d77d73376cb$export$d6789e1e299dadea,
    htmlLanguageService: $36343d77d73376cb$export$5fef39c1049dc16a,
    handlebarLanguageService: $36343d77d73376cb$export$7128923f244739ae,
    razorLanguageService: $36343d77d73376cb$export$c0c348172212aa68,
    registerHTMLLanguageService: $36343d77d73376cb$export$282c563ccf44ceb9
};

function $36343d77d73376cb$var$getMode() {
    var resolve, reject;
    return (parcelRequire("9Gvbg"));
}
function $36343d77d73376cb$export$282c563ccf44ceb9(languageId, options = $36343d77d73376cb$var$optionsDefault, modeConfiguration = $36343d77d73376cb$var$getConfigurationDefault(languageId)) {
    const defaults = new $36343d77d73376cb$var$LanguageServiceDefaultsImpl(languageId, options, modeConfiguration);
    let mode;
    const onLanguageListener = $36343d77d73376cb$var$monaco_editor_core_exports.languages.onLanguage(languageId, async ()=>{
        mode = (await $36343d77d73376cb$var$getMode()).setupMode(defaults);
    });
    return {
        defaults: defaults,
        dispose () {
            onLanguageListener.dispose();
            mode === null || mode === void 0 ? void 0 : mode.dispose();
            mode = void 0;
        }
    };
}


parcelRequire("eJmBa");

var $eJmBa = parcelRequire("eJmBa");
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(337587859b1c171314b40503171188b6cea6a32a)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/ var $15e28085d3043f37$var$__defProp = Object.defineProperty;
var $15e28085d3043f37$var$__getOwnPropDesc = Object.getOwnPropertyDescriptor;
var $15e28085d3043f37$var$__getOwnPropNames = Object.getOwnPropertyNames;
var $15e28085d3043f37$var$__hasOwnProp = Object.prototype.hasOwnProperty;
var $15e28085d3043f37$var$__markAsModule = (target)=>$15e28085d3043f37$var$__defProp(target, "__esModule", {
        value: true
    })
;
var $15e28085d3043f37$var$__reExport = (target, module, desc)=>{
    if (module && typeof module === "object" || typeof module === "function") {
        for (let key of $15e28085d3043f37$var$__getOwnPropNames(module))if (!$15e28085d3043f37$var$__hasOwnProp.call(target, key) && key !== "default") $15e28085d3043f37$var$__defProp(target, key, {
            get: ()=>module[key]
            ,
            enumerable: !(desc = $15e28085d3043f37$var$__getOwnPropDesc(module, key)) || desc.enumerable
        });
    }
    return target;
};
// src/fillers/monaco-editor-core.ts
var $15e28085d3043f37$var$monaco_editor_core_exports = {};
$15e28085d3043f37$var$__markAsModule($15e28085d3043f37$var$monaco_editor_core_exports);
$15e28085d3043f37$var$__reExport($15e28085d3043f37$var$monaco_editor_core_exports, $eJmBa);
// src/basic-languages/_.contribution.ts
var $15e28085d3043f37$var$languageDefinitions = {};
var $15e28085d3043f37$var$lazyLanguageLoaders = {};
var $15e28085d3043f37$var$LazyLanguageLoader = class {
    static getOrCreate(languageId) {
        if (!$15e28085d3043f37$var$lazyLanguageLoaders[languageId]) $15e28085d3043f37$var$lazyLanguageLoaders[languageId] = new $15e28085d3043f37$var$LazyLanguageLoader(languageId);
        return $15e28085d3043f37$var$lazyLanguageLoaders[languageId];
    }
    whenLoaded() {
        return this._lazyLoadPromise;
    }
    load() {
        if (!this._loadingTriggered) {
            this._loadingTriggered = true;
            $15e28085d3043f37$var$languageDefinitions[this._languageId].loader().then((mod)=>this._lazyLoadPromiseResolve(mod)
            , (err)=>this._lazyLoadPromiseReject(err)
            );
        }
        return this._lazyLoadPromise;
    }
    constructor(languageId){
        this._languageId = languageId;
        this._loadingTriggered = false;
        this._lazyLoadPromise = new Promise((resolve, reject)=>{
            this._lazyLoadPromiseResolve = resolve;
            this._lazyLoadPromiseReject = reject;
        });
    }
};
function $15e28085d3043f37$export$f02cbd868e2f57cf(languageId) {
    return $15e28085d3043f37$var$LazyLanguageLoader.getOrCreate(languageId).load();
}
function $15e28085d3043f37$export$b5daeabefb05ee6b(def) {
    const languageId = def.id;
    $15e28085d3043f37$var$languageDefinitions[languageId] = def;
    $15e28085d3043f37$var$monaco_editor_core_exports.languages.register(def);
    const lazyLanguageLoader = $15e28085d3043f37$var$LazyLanguageLoader.getOrCreate(languageId);
    $15e28085d3043f37$var$monaco_editor_core_exports.languages.setMonarchTokensProvider(languageId, lazyLanguageLoader.whenLoaded().then((mod)=>mod.language
    ));
    $15e28085d3043f37$var$monaco_editor_core_exports.languages.onLanguage(languageId, ()=>{
        lazyLanguageLoader.load().then((mod)=>{
            $15e28085d3043f37$var$monaco_editor_core_exports.languages.setLanguageConfiguration(languageId, mod.conf);
        });
    });
}



$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "abap",
    extensions: [
        ".abap"
    ],
    aliases: [
        "abap",
        "ABAP"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("3zkn6"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "apex",
    extensions: [
        ".cls"
    ],
    aliases: [
        "Apex",
        "apex"
    ],
    mimetypes: [
        "text/x-apex-source",
        "text/x-apex"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("lQbI7"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "azcli",
    extensions: [
        ".azcli"
    ],
    aliases: [
        "Azure CLI",
        "azcli"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("kMSLQ"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "bat",
    extensions: [
        ".bat",
        ".cmd"
    ],
    aliases: [
        "Batch",
        "bat"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("3mXlD"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "bicep",
    extensions: [
        ".bicep"
    ],
    aliases: [
        "Bicep"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("aaZxz"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "cameligo",
    extensions: [
        ".mligo"
    ],
    aliases: [
        "Cameligo"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("aCQhS"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "clojure",
    extensions: [
        ".clj",
        ".cljs",
        ".cljc",
        ".edn"
    ],
    aliases: [
        "clojure",
        "Clojure"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("gAS8a"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "coffeescript",
    extensions: [
        ".coffee"
    ],
    aliases: [
        "CoffeeScript",
        "coffeescript",
        "coffee"
    ],
    mimetypes: [
        "text/x-coffeescript",
        "text/coffeescript"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("6jBfN"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "c",
    extensions: [
        ".c",
        ".h"
    ],
    aliases: [
        "C",
        "c"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("flF2Q"));
    }
});

$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "cpp",
    extensions: [
        ".cpp",
        ".cc",
        ".cxx",
        ".hpp",
        ".hh",
        ".hxx"
    ],
    aliases: [
        "C++",
        "Cpp",
        "cpp"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("flF2Q"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "csharp",
    extensions: [
        ".cs",
        ".csx",
        ".cake"
    ],
    aliases: [
        "C#",
        "csharp"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("b9qWz"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "csp",
    extensions: [],
    aliases: [
        "CSP",
        "csp"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("biBJl"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "css",
    extensions: [
        ".css"
    ],
    aliases: [
        "CSS",
        "css"
    ],
    mimetypes: [
        "text/css"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("iu5TG"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "dart",
    extensions: [
        ".dart"
    ],
    aliases: [
        "Dart",
        "dart"
    ],
    mimetypes: [
        "text/x-dart-source",
        "text/x-dart"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("32KBl"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "dockerfile",
    extensions: [
        ".dockerfile"
    ],
    filenames: [
        "Dockerfile"
    ],
    aliases: [
        "Dockerfile"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("4kaY9"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "ecl",
    extensions: [
        ".ecl"
    ],
    aliases: [
        "ECL",
        "Ecl",
        "ecl"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("9AoDc"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "elixir",
    extensions: [
        ".ex",
        ".exs"
    ],
    aliases: [
        "Elixir",
        "elixir",
        "ex"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("kcSGV"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "flow9",
    extensions: [
        ".flow"
    ],
    aliases: [
        "Flow9",
        "Flow",
        "flow9",
        "flow"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("ccmQn"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "fsharp",
    extensions: [
        ".fs",
        ".fsi",
        ".ml",
        ".mli",
        ".fsx",
        ".fsscript"
    ],
    aliases: [
        "F#",
        "FSharp",
        "fsharp"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("9UUsA"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "go",
    extensions: [
        ".go"
    ],
    aliases: [
        "Go"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("aVKz3"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "graphql",
    extensions: [
        ".graphql",
        ".gql"
    ],
    aliases: [
        "GraphQL",
        "graphql",
        "gql"
    ],
    mimetypes: [
        "application/graphql"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("4cNgG"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "handlebars",
    extensions: [
        ".handlebars",
        ".hbs"
    ],
    aliases: [
        "Handlebars",
        "handlebars",
        "hbs"
    ],
    mimetypes: [
        "text/x-handlebars-template"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("4nyyO"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "hcl",
    extensions: [
        ".tf",
        ".tfvars",
        ".hcl"
    ],
    aliases: [
        "Terraform",
        "tf",
        "HCL",
        "hcl"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("gjxGb"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "html",
    extensions: [
        ".html",
        ".htm",
        ".shtml",
        ".xhtml",
        ".mdoc",
        ".jsp",
        ".asp",
        ".aspx",
        ".jshtm"
    ],
    aliases: [
        "HTML",
        "htm",
        "html",
        "xhtml"
    ],
    mimetypes: [
        "text/html",
        "text/x-jshtm",
        "text/template",
        "text/ng-template"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("fO8ba"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "ini",
    extensions: [
        ".ini",
        ".properties",
        ".gitconfig"
    ],
    filenames: [
        "config",
        ".gitattributes",
        ".gitconfig",
        ".editorconfig"
    ],
    aliases: [
        "Ini",
        "ini"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("7O7Nl"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "java",
    extensions: [
        ".java",
        ".jav"
    ],
    aliases: [
        "Java",
        "java"
    ],
    mimetypes: [
        "text/x-java-source",
        "text/x-java"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("k1v92"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "javascript",
    extensions: [
        ".js",
        ".es6",
        ".jsx",
        ".mjs"
    ],
    firstLine: "^#!.*\\bnode",
    filenames: [
        "jakefile"
    ],
    aliases: [
        "JavaScript",
        "javascript",
        "js"
    ],
    mimetypes: [
        "text/javascript"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("bnEl4"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "julia",
    extensions: [
        ".jl"
    ],
    aliases: [
        "julia",
        "Julia"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("lViTB"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "kotlin",
    extensions: [
        ".kt"
    ],
    aliases: [
        "Kotlin",
        "kotlin"
    ],
    mimetypes: [
        "text/x-kotlin-source",
        "text/x-kotlin"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("ezNRy"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "less",
    extensions: [
        ".less"
    ],
    aliases: [
        "Less",
        "less"
    ],
    mimetypes: [
        "text/x-less",
        "text/less"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("cKi9A"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "lexon",
    extensions: [
        ".lex"
    ],
    aliases: [
        "Lexon"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("4Yqsl"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "lua",
    extensions: [
        ".lua"
    ],
    aliases: [
        "Lua",
        "lua"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("iGAJX"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "liquid",
    extensions: [
        ".liquid",
        ".html.liquid"
    ],
    aliases: [
        "Liquid",
        "liquid"
    ],
    mimetypes: [
        "application/liquid"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("9kNHH"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "m3",
    extensions: [
        ".m3",
        ".i3",
        ".mg",
        ".ig"
    ],
    aliases: [
        "Modula-3",
        "Modula3",
        "modula3",
        "m3"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("9AeMm"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "markdown",
    extensions: [
        ".md",
        ".markdown",
        ".mdown",
        ".mkdn",
        ".mkd",
        ".mdwn",
        ".mdtxt",
        ".mdtext"
    ],
    aliases: [
        "Markdown",
        "markdown"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("3Zpd3"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "mips",
    extensions: [
        ".s"
    ],
    aliases: [
        "MIPS",
        "MIPS-V"
    ],
    mimetypes: [
        "text/x-mips",
        "text/mips",
        "text/plaintext"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("bT8Dp"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "msdax",
    extensions: [
        ".dax",
        ".msdax"
    ],
    aliases: [
        "DAX",
        "MSDAX"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("geCPt"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "mysql",
    extensions: [],
    aliases: [
        "MySQL",
        "mysql"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("5gh5A"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "objective-c",
    extensions: [
        ".m"
    ],
    aliases: [
        "Objective-C"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("8IQgc"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "pascal",
    extensions: [
        ".pas",
        ".p",
        ".pp"
    ],
    aliases: [
        "Pascal",
        "pas"
    ],
    mimetypes: [
        "text/x-pascal-source",
        "text/x-pascal"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("hNjWh"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "pascaligo",
    extensions: [
        ".ligo"
    ],
    aliases: [
        "Pascaligo",
        "ligo"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("iNGrI"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "perl",
    extensions: [
        ".pl"
    ],
    aliases: [
        "Perl",
        "pl"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("VQGai"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "pgsql",
    extensions: [],
    aliases: [
        "PostgreSQL",
        "postgres",
        "pg",
        "postgre"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("5HbVP"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "php",
    extensions: [
        ".php",
        ".php4",
        ".php5",
        ".phtml",
        ".ctp"
    ],
    aliases: [
        "PHP",
        "php"
    ],
    mimetypes: [
        "application/x-php"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("wcl10"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "pla",
    extensions: [
        ".pla"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("hN3jw"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "postiats",
    extensions: [
        ".dats",
        ".sats",
        ".hats"
    ],
    aliases: [
        "ATS",
        "ATS/Postiats"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("6qhJq"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "powerquery",
    extensions: [
        ".pq",
        ".pqm"
    ],
    aliases: [
        "PQ",
        "M",
        "Power Query",
        "Power Query M"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("8xNzl"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "powershell",
    extensions: [
        ".ps1",
        ".psm1",
        ".psd1"
    ],
    aliases: [
        "PowerShell",
        "powershell",
        "ps",
        "ps1"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("3cfXN"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "proto",
    extensions: [
        ".proto"
    ],
    aliases: [
        "protobuf",
        "Protocol Buffers"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("lOmau"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "pug",
    extensions: [
        ".jade",
        ".pug"
    ],
    aliases: [
        "Pug",
        "Jade",
        "jade"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("exCWA"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "python",
    extensions: [
        ".py",
        ".rpy",
        ".pyw",
        ".cpy",
        ".gyp",
        ".gypi"
    ],
    aliases: [
        "Python",
        "py"
    ],
    firstLine: "^#!/.*\\bpython[0-9.-]*\\b",
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("iLzwk"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "qsharp",
    extensions: [
        ".qs"
    ],
    aliases: [
        "Q#",
        "qsharp"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("2c3ti"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "r",
    extensions: [
        ".r",
        ".rhistory",
        ".rmd",
        ".rprofile",
        ".rt"
    ],
    aliases: [
        "R",
        "r"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("fuDyT"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "razor",
    extensions: [
        ".cshtml"
    ],
    aliases: [
        "Razor",
        "razor"
    ],
    mimetypes: [
        "text/x-cshtml"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("ddp5U"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "redis",
    extensions: [
        ".redis"
    ],
    aliases: [
        "redis"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("l5TlS"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "redshift",
    extensions: [],
    aliases: [
        "Redshift",
        "redshift"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("dzx9j"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "restructuredtext",
    extensions: [
        ".rst"
    ],
    aliases: [
        "reStructuredText",
        "restructuredtext"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("l9jmz"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "ruby",
    extensions: [
        ".rb",
        ".rbx",
        ".rjs",
        ".gemspec",
        ".pp"
    ],
    filenames: [
        "rakefile",
        "Gemfile"
    ],
    aliases: [
        "Ruby",
        "rb"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("a1cVw"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "rust",
    extensions: [
        ".rs",
        ".rlib"
    ],
    aliases: [
        "Rust",
        "rust"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("54AeN"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "sb",
    extensions: [
        ".sb"
    ],
    aliases: [
        "Small Basic",
        "sb"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("dQHpZ"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "scala",
    extensions: [
        ".scala",
        ".sc",
        ".sbt"
    ],
    aliases: [
        "Scala",
        "scala",
        "SBT",
        "Sbt",
        "sbt",
        "Dotty",
        "dotty"
    ],
    mimetypes: [
        "text/x-scala-source",
        "text/x-scala",
        "text/x-sbt",
        "text/x-dotty"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("jE8Q4"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "scheme",
    extensions: [
        ".scm",
        ".ss",
        ".sch",
        ".rkt"
    ],
    aliases: [
        "scheme",
        "Scheme"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("1bfOI"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "scss",
    extensions: [
        ".scss"
    ],
    aliases: [
        "Sass",
        "sass",
        "scss"
    ],
    mimetypes: [
        "text/x-scss",
        "text/scss"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("2NmVz"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "shell",
    extensions: [
        ".sh",
        ".bash"
    ],
    aliases: [
        "Shell",
        "sh"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("6anB2"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "sol",
    extensions: [
        ".sol"
    ],
    aliases: [
        "sol",
        "solidity",
        "Solidity"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("385fJ"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "aes",
    extensions: [
        ".aes"
    ],
    aliases: [
        "aes",
        "sophia",
        "Sophia"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("2U0Qt"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "sparql",
    extensions: [
        ".rq"
    ],
    aliases: [
        "sparql",
        "SPARQL"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("2tuCY"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "sql",
    extensions: [
        ".sql"
    ],
    aliases: [
        "SQL"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("2Mhyx"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "st",
    extensions: [
        ".st",
        ".iecst",
        ".iecplc",
        ".lc3lib"
    ],
    aliases: [
        "StructuredText",
        "scl",
        "stl"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("6eX3k"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "swift",
    aliases: [
        "Swift",
        "swift"
    ],
    extensions: [
        ".swift"
    ],
    mimetypes: [
        "text/swift"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("fU8GC"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "systemverilog",
    extensions: [
        ".sv",
        ".svh"
    ],
    aliases: [
        "SV",
        "sv",
        "SystemVerilog",
        "systemverilog"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("bAqr2"));
    }
});

$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "verilog",
    extensions: [
        ".v",
        ".vh"
    ],
    aliases: [
        "V",
        "v",
        "Verilog",
        "verilog"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("bAqr2"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "tcl",
    extensions: [
        ".tcl"
    ],
    aliases: [
        "tcl",
        "Tcl",
        "tcltk",
        "TclTk",
        "tcl/tk",
        "Tcl/Tk"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("gl2mI"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "twig",
    extensions: [
        ".twig"
    ],
    aliases: [
        "Twig",
        "twig"
    ],
    mimetypes: [
        "text/x-twig"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("6LtZw"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "typescript",
    extensions: [
        ".ts",
        ".tsx"
    ],
    aliases: [
        "TypeScript",
        "ts",
        "typescript"
    ],
    mimetypes: [
        "text/typescript"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("i4hGw"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "vb",
    extensions: [
        ".vb"
    ],
    aliases: [
        "Visual Basic",
        "vb"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("37aDp"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "xml",
    extensions: [
        ".xml",
        ".dtd",
        ".ascx",
        ".csproj",
        ".config",
        ".wxi",
        ".wxl",
        ".wxs",
        ".xaml",
        ".svg",
        ".svgz",
        ".opf",
        ".xsl"
    ],
    firstLine: "(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",
    aliases: [
        "XML",
        "xml"
    ],
    mimetypes: [
        "text/xml",
        "application/xml",
        "application/xaml+xml",
        "application/xml-dtd"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("bwtK1"));
    }
});




$15e28085d3043f37$export$b5daeabefb05ee6b({
    id: "yaml",
    extensions: [
        ".yaml",
        ".yml"
    ],
    aliases: [
        "YAML",
        "yaml",
        "YML",
        "yml"
    ],
    mimetypes: [
        "application/x-yaml",
        "text/x-yaml"
    ],
    loader: ()=>{
        var resolve, reject;
        return (parcelRequire("dzOHB"));
    }
});




parcelRequire("4m5ki");
parcelRequire("f5MzX");
parcelRequire("8Bu3B");
parcelRequire("fAidt");
var $18f7dae051d014cc$exports = {};

var $6eCoB = parcelRequire("6eCoB");

var $eeQ9E = parcelRequire("eeQ9E");

var $ecpYn = parcelRequire("ecpYn");


var $g9Zlr = parcelRequire("g9Zlr");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");

var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $18f7dae051d014cc$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $18f7dae051d014cc$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $18f7dae051d014cc$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $18f7dae051d014cc$export$3d83c0749714b612 = new $h4kGX.RawContextKey('selectionAnchorSet', false);
let $18f7dae051d014cc$var$SelectionAnchorController = class SelectionAnchorController {
    static get(editor) {
        return editor.getContribution(SelectionAnchorController.ID);
    }
    setSelectionAnchor() {
        if (this.editor.hasModel()) {
            const position = this.editor.getPosition();
            const previousDecorations = this.decorationId ? [
                this.decorationId
            ] : [];
            const newDecorationId = this.editor.deltaDecorations(previousDecorations, [
                {
                    range: $jS6at.Selection.fromPositions(position, position),
                    options: {
                        description: 'selection-anchor',
                        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
                        hoverMessage: new $eeQ9E.MarkdownString().appendText($1WuVQ.localize('selectionAnchor', "Selection Anchor")),
                        className: 'selection-anchor'
                    }
                }
            ]);
            this.decorationId = newDecorationId[0];
            this.selectionAnchorSetContextKey.set(!!this.decorationId);
            $6eCoB.alert($1WuVQ.localize('anchorSet', "Anchor set at {0}:{1}", position.lineNumber, position.column));
        }
    }
    goToSelectionAnchor() {
        if (this.editor.hasModel() && this.decorationId) {
            const anchorPosition = this.editor.getModel().getDecorationRange(this.decorationId);
            if (anchorPosition) this.editor.setPosition(anchorPosition.getStartPosition());
        }
    }
    selectFromAnchorToCursor() {
        if (this.editor.hasModel() && this.decorationId) {
            const start = this.editor.getModel().getDecorationRange(this.decorationId);
            if (start) {
                const end = this.editor.getPosition();
                this.editor.setSelection($jS6at.Selection.fromPositions(start.getStartPosition(), end));
                this.cancelSelectionAnchor();
            }
        }
    }
    cancelSelectionAnchor() {
        if (this.decorationId) {
            this.editor.deltaDecorations([
                this.decorationId
            ], []);
            this.decorationId = undefined;
            this.selectionAnchorSetContextKey.set(false);
        }
    }
    dispose() {
        this.cancelSelectionAnchor();
        this.modelChangeListener.dispose();
    }
    constructor(editor, contextKeyService){
        this.editor = editor;
        this.selectionAnchorSetContextKey = $18f7dae051d014cc$export$3d83c0749714b612.bindTo(contextKeyService);
        this.modelChangeListener = editor.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset()
        );
    }
};
$18f7dae051d014cc$var$SelectionAnchorController.ID = 'editor.contrib.selectionAnchorController';
$18f7dae051d014cc$var$SelectionAnchorController = $18f7dae051d014cc$var$__decorate([
    $18f7dae051d014cc$var$__param(1, $h4kGX.IContextKeyService)
], $18f7dae051d014cc$var$SelectionAnchorController);
class $18f7dae051d014cc$var$SetSelectionAnchor extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $18f7dae051d014cc$var$__awaiter(this, void 0, void 0, function*() {
            const controller = $18f7dae051d014cc$var$SelectionAnchorController.get(editor);
            controller.setSelectionAnchor();
        });
    }
    constructor(){
        super({
            id: 'editor.action.setSelectionAnchor',
            label: $1WuVQ.localize('setSelectionAnchor', "Set Selection Anchor"),
            alias: 'Set Selection Anchor',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2080 /* KeyB */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $18f7dae051d014cc$var$GoToSelectionAnchor extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $18f7dae051d014cc$var$__awaiter(this, void 0, void 0, function*() {
            const controller = $18f7dae051d014cc$var$SelectionAnchorController.get(editor);
            controller.goToSelectionAnchor();
        });
    }
    constructor(){
        super({
            id: 'editor.action.goToSelectionAnchor',
            label: $1WuVQ.localize('goToSelectionAnchor', "Go to Selection Anchor"),
            alias: 'Go to Selection Anchor',
            precondition: $18f7dae051d014cc$export$3d83c0749714b612
        });
    }
}
class $18f7dae051d014cc$var$SelectFromAnchorToCursor extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $18f7dae051d014cc$var$__awaiter(this, void 0, void 0, function*() {
            const controller = $18f7dae051d014cc$var$SelectionAnchorController.get(editor);
            controller.selectFromAnchorToCursor();
        });
    }
    constructor(){
        super({
            id: 'editor.action.selectFromAnchorToCursor',
            label: $1WuVQ.localize('selectFromAnchorToCursor', "Select from Anchor to Cursor"),
            alias: 'Select from Anchor to Cursor',
            precondition: $18f7dae051d014cc$export$3d83c0749714b612,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2089 /* KeyK */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $18f7dae051d014cc$var$CancelSelectionAnchor extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $18f7dae051d014cc$var$__awaiter(this, void 0, void 0, function*() {
            const controller = $18f7dae051d014cc$var$SelectionAnchorController.get(editor);
            controller.cancelSelectionAnchor();
        });
    }
    constructor(){
        super({
            id: 'editor.action.cancelSelectionAnchor',
            label: $1WuVQ.localize('cancelSelectionAnchor', "Cancel Selection Anchor"),
            alias: 'Cancel Selection Anchor',
            precondition: $18f7dae051d014cc$export$3d83c0749714b612,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 9 /* Escape */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorContribution($18f7dae051d014cc$var$SelectionAnchorController.ID, $18f7dae051d014cc$var$SelectionAnchorController);
$g9Zlr.registerEditorAction($18f7dae051d014cc$var$SetSelectionAnchor);
$g9Zlr.registerEditorAction($18f7dae051d014cc$var$GoToSelectionAnchor);
$g9Zlr.registerEditorAction($18f7dae051d014cc$var$SelectFromAnchorToCursor);
$g9Zlr.registerEditorAction($18f7dae051d014cc$var$CancelSelectionAnchor);



var $5piST = parcelRequire("5piST");

var $6W1JA = parcelRequire("6W1JA");


var $g9Zlr = parcelRequire("g9Zlr");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");

var $96X4O = parcelRequire("96X4O");

var $72tIz = parcelRequire("72tIz");

var $kYyDx = parcelRequire("kYyDx");

var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
const $a0883ee4b2ffc30c$var$overviewRulerBracketMatchForeground = $kL4Ig.registerColor('editorOverviewRuler.bracketMatchForeground', {
    dark: '#A0A0A0',
    light: '#A0A0A0',
    hc: '#A0A0A0'
}, $1WuVQ.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));
class $a0883ee4b2ffc30c$var$JumpToBracketAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let controller = $a0883ee4b2ffc30c$export$b2b226e5cffb93ca.get(editor);
        if (!controller) return;
        controller.jumpToBracket();
    }
    constructor(){
        super({
            id: 'editor.action.jumpToBracket',
            label: $1WuVQ.localize('smartSelect.jumpBracket', "Go to Bracket"),
            alias: 'Go to Bracket',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3160 /* Backslash */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $a0883ee4b2ffc30c$var$SelectToBracketAction extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        const controller = $a0883ee4b2ffc30c$export$b2b226e5cffb93ca.get(editor);
        if (!controller) return;
        let selectBrackets = true;
        if (args && args.selectBrackets === false) selectBrackets = false;
        controller.selectToBracket(selectBrackets);
    }
    constructor(){
        super({
            id: 'editor.action.selectToBracket',
            label: $1WuVQ.localize('smartSelect.selectToBracket', "Select to Bracket"),
            alias: 'Select to Bracket',
            precondition: undefined,
            description: {
                description: `Select to Bracket`,
                args: [
                    {
                        name: 'args',
                        schema: {
                            type: 'object',
                            properties: {
                                'selectBrackets': {
                                    type: 'boolean',
                                    default: true
                                }
                            }
                        }
                    }
                ]
            }
        });
    }
}
class $a0883ee4b2ffc30c$var$BracketsData {
    constructor(position, brackets, options){
        this.position = position;
        this.brackets = brackets;
        this.options = options;
    }
}
class $a0883ee4b2ffc30c$export$b2b226e5cffb93ca extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution($a0883ee4b2ffc30c$export$b2b226e5cffb93ca.ID);
    }
    jumpToBracket() {
        if (!this._editor.hasModel()) return;
        const model = this._editor.getModel();
        const newSelections = this._editor.getSelections().map((selection)=>{
            const position = selection.getStartPosition();
            // find matching brackets if position is on a bracket
            const brackets = model.bracketPairs.matchBracket(position);
            let newCursorPosition = null;
            if (brackets) {
                if (brackets[0].containsPosition(position)) newCursorPosition = brackets[1].getStartPosition();
                else if (brackets[1].containsPosition(position)) newCursorPosition = brackets[0].getStartPosition();
            } else {
                // find the enclosing brackets if the position isn't on a matching bracket
                const enclosingBrackets = model.bracketPairs.findEnclosingBrackets(position);
                if (enclosingBrackets) newCursorPosition = enclosingBrackets[0].getStartPosition();
                else {
                    // no enclosing brackets, try the very first next bracket
                    const nextBracket = model.bracketPairs.findNextBracket(position);
                    if (nextBracket && nextBracket.range) newCursorPosition = nextBracket.range.getStartPosition();
                }
            }
            if (newCursorPosition) return new $jS6at.Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);
            return new $jS6at.Selection(position.lineNumber, position.column, position.lineNumber, position.column);
        });
        this._editor.setSelections(newSelections);
        this._editor.revealRange(newSelections[0]);
    }
    selectToBracket(selectBrackets) {
        if (!this._editor.hasModel()) return;
        const model = this._editor.getModel();
        const newSelections = [];
        this._editor.getSelections().forEach((selection)=>{
            const position = selection.getStartPosition();
            let brackets = model.bracketPairs.matchBracket(position);
            if (!brackets) {
                brackets = model.bracketPairs.findEnclosingBrackets(position);
                if (!brackets) {
                    const nextBracket = model.bracketPairs.findNextBracket(position);
                    if (nextBracket && nextBracket.range) brackets = model.bracketPairs.matchBracket(nextBracket.range.getStartPosition());
                }
            }
            let selectFrom = null;
            let selectTo = null;
            if (brackets) {
                brackets.sort($1YFxJ.Range.compareRangesUsingStarts);
                const [open, close] = brackets;
                selectFrom = selectBrackets ? open.getStartPosition() : open.getEndPosition();
                selectTo = selectBrackets ? close.getEndPosition() : close.getStartPosition();
                if (close.containsPosition(position)) {
                    // select backwards if the cursor was on the closing bracket
                    const tmp = selectFrom;
                    selectFrom = selectTo;
                    selectTo = tmp;
                }
            }
            if (selectFrom && selectTo) newSelections.push(new $jS6at.Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));
        });
        if (newSelections.length > 0) {
            this._editor.setSelections(newSelections);
            this._editor.revealRange(newSelections[0]);
        }
    }
    _updateBrackets() {
        if (this._matchBrackets === 'never') return;
        this._recomputeBrackets();
        let newDecorations = [], newDecorationsLen = 0;
        for (const bracketData of this._lastBracketsData){
            let brackets = bracketData.brackets;
            if (brackets) {
                newDecorations[newDecorationsLen++] = {
                    range: brackets[0],
                    options: bracketData.options
                };
                newDecorations[newDecorationsLen++] = {
                    range: brackets[1],
                    options: bracketData.options
                };
            }
        }
        this._decorations = this._editor.deltaDecorations(this._decorations, newDecorations);
    }
    _recomputeBrackets() {
        if (!this._editor.hasModel() || !this._editor.hasWidgetFocus()) {
            // no model or no focus => no brackets!
            this._lastBracketsData = [];
            this._lastVersionId = 0;
            return;
        }
        const selections = this._editor.getSelections();
        if (selections.length > 100) {
            // no bracket matching for high numbers of selections
            this._lastBracketsData = [];
            this._lastVersionId = 0;
            return;
        }
        const model = this._editor.getModel();
        const versionId = model.getVersionId();
        let previousData = [];
        if (this._lastVersionId === versionId) // use the previous data only if the model is at the same version id
        previousData = this._lastBracketsData;
        let positions = [], positionsLen = 0;
        for(let i = 0, len = selections.length; i < len; i++){
            let selection = selections[i];
            if (selection.isEmpty()) // will bracket match a cursor only if the selection is collapsed
            positions[positionsLen++] = selection.getStartPosition();
        }
        // sort positions for `previousData` cache hits
        if (positions.length > 1) positions.sort($fqrfT.Position.compare);
        let newData = [], newDataLen = 0;
        let previousIndex = 0, previousLen = previousData.length;
        for(let i1 = 0, len1 = positions.length; i1 < len1; i1++){
            let position = positions[i1];
            while(previousIndex < previousLen && previousData[previousIndex].position.isBefore(position))previousIndex++;
            if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) newData[newDataLen++] = previousData[previousIndex];
            else {
                let brackets = model.bracketPairs.matchBracket(position);
                let options = $a0883ee4b2ffc30c$export$b2b226e5cffb93ca._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;
                if (!brackets && this._matchBrackets === 'always') {
                    brackets = model.bracketPairs.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */ );
                    options = $a0883ee4b2ffc30c$export$b2b226e5cffb93ca._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;
                }
                newData[newDataLen++] = new $a0883ee4b2ffc30c$var$BracketsData(position, brackets, options);
            }
        }
        this._lastBracketsData = newData;
        this._lastVersionId = versionId;
    }
    constructor(editor){
        super();
        this._editor = editor;
        this._lastBracketsData = [];
        this._lastVersionId = 0;
        this._decorations = [];
        this._updateBracketsSoon = this._register(new $5piST.RunOnceScheduler(()=>this._updateBrackets()
        , 50));
        this._matchBrackets = this._editor.getOption(63 /* matchBrackets */ );
        this._updateBracketsSoon.schedule();
        this._register(editor.onDidChangeCursorPosition((e)=>{
            if (this._matchBrackets === 'never') // Early exit if nothing needs to be done!
            // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)
            return;
            this._updateBracketsSoon.schedule();
        }));
        this._register(editor.onDidChangeModelContent((e)=>{
            this._updateBracketsSoon.schedule();
        }));
        this._register(editor.onDidChangeModel((e)=>{
            this._lastBracketsData = [];
            this._decorations = [];
            this._updateBracketsSoon.schedule();
        }));
        this._register(editor.onDidChangeModelLanguageConfiguration((e)=>{
            this._lastBracketsData = [];
            this._updateBracketsSoon.schedule();
        }));
        this._register(editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(63 /* matchBrackets */ )) {
                this._matchBrackets = this._editor.getOption(63 /* matchBrackets */ );
                this._decorations = this._editor.deltaDecorations(this._decorations, []);
                this._lastBracketsData = [];
                this._lastVersionId = 0;
                this._updateBracketsSoon.schedule();
            }
        }));
        this._register(editor.onDidBlurEditorWidget(()=>{
            this._updateBracketsSoon.schedule();
        }));
        this._register(editor.onDidFocusEditorWidget(()=>{
            this._updateBracketsSoon.schedule();
        }));
    }
}
$a0883ee4b2ffc30c$export$b2b226e5cffb93ca.ID = 'editor.contrib.bracketMatchingController';
$a0883ee4b2ffc30c$export$b2b226e5cffb93ca._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = $72tIz.ModelDecorationOptions.register({
    description: 'bracket-match-overview',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'bracket-match',
    overviewRuler: {
        color: $5Wwop.themeColorFromId($a0883ee4b2ffc30c$var$overviewRulerBracketMatchForeground),
        position: $96X4O.OverviewRulerLane.Center
    }
});
$a0883ee4b2ffc30c$export$b2b226e5cffb93ca._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = $72tIz.ModelDecorationOptions.register({
    description: 'bracket-match-no-overview',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'bracket-match'
});
$g9Zlr.registerEditorContribution($a0883ee4b2ffc30c$export$b2b226e5cffb93ca.ID, $a0883ee4b2ffc30c$export$b2b226e5cffb93ca);
$g9Zlr.registerEditorAction($a0883ee4b2ffc30c$var$SelectToBracketAction);
$g9Zlr.registerEditorAction($a0883ee4b2ffc30c$var$JumpToBracketAction);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const bracketMatchBackground = theme.getColor($kYyDx.editorBracketMatchBackground);
    if (bracketMatchBackground) collector.addRule(`.monaco-editor .bracket-match { background-color: ${bracketMatchBackground}; }`);
    const bracketMatchBorder = theme.getColor($kYyDx.editorBracketMatchBorder);
    if (bracketMatchBorder) collector.addRule(`.monaco-editor .bracket-match { border: 1px solid ${bracketMatchBorder}; }`);
});
// Go to menu
$iCLhR.MenuRegistry.appendMenuItem($iCLhR.MenuId.MenubarGoMenu, {
    group: '5_infile_nav',
    command: {
        id: 'editor.action.jumpToBracket',
        title: $1WuVQ.localize({
            key: 'miGoToBracket',
            comment: [
                '&& denotes a mnemonic'
            ]
        }, "Go to &&Bracket")
    },
    order: 2
});



var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");
class $d87798661b607f03$export$2acdcd460d66aef1 {
    getEditOperations(model, builder) {
        if (this._selection.startLineNumber !== this._selection.endLineNumber || this._selection.isEmpty()) return;
        const lineNumber = this._selection.startLineNumber;
        const startColumn = this._selection.startColumn;
        const endColumn = this._selection.endColumn;
        if (this._isMovingLeft && startColumn === 1) return;
        if (!this._isMovingLeft && endColumn === model.getLineMaxColumn(lineNumber)) return;
        if (this._isMovingLeft) {
            const rangeBefore = new $1YFxJ.Range(lineNumber, startColumn - 1, lineNumber, startColumn);
            const charBefore = model.getValueInRange(rangeBefore);
            builder.addEditOperation(rangeBefore, null);
            builder.addEditOperation(new $1YFxJ.Range(lineNumber, endColumn, lineNumber, endColumn), charBefore);
        } else {
            const rangeAfter = new $1YFxJ.Range(lineNumber, endColumn, lineNumber, endColumn + 1);
            const charAfter = model.getValueInRange(rangeAfter);
            builder.addEditOperation(rangeAfter, null);
            builder.addEditOperation(new $1YFxJ.Range(lineNumber, startColumn, lineNumber, startColumn), charAfter);
        }
    }
    computeCursorState(model, helper) {
        if (this._isMovingLeft) return new $jS6at.Selection(this._selection.startLineNumber, this._selection.startColumn - 1, this._selection.endLineNumber, this._selection.endColumn - 1);
        else return new $jS6at.Selection(this._selection.startLineNumber, this._selection.startColumn + 1, this._selection.endLineNumber, this._selection.endColumn + 1);
    }
    constructor(selection, isMovingLeft){
        this._selection = selection;
        this._isMovingLeft = isMovingLeft;
    }
}



var $1WuVQ = parcelRequire("1WuVQ");
class $6f2d8cc9b340cfb9$var$MoveCaretAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        let commands = [];
        let selections = editor.getSelections();
        for (const selection of selections)commands.push(new $d87798661b607f03$export$2acdcd460d66aef1(selection, this.left));
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(left, opts){
        super(opts);
        this.left = left;
    }
}
class $6f2d8cc9b340cfb9$var$MoveCaretLeftAction extends $6f2d8cc9b340cfb9$var$MoveCaretAction {
    constructor(){
        super(true, {
            id: 'editor.action.moveCarretLeftAction',
            label: $1WuVQ.localize('caret.moveLeft', "Move Selected Text Left"),
            alias: 'Move Selected Text Left',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $6f2d8cc9b340cfb9$var$MoveCaretRightAction extends $6f2d8cc9b340cfb9$var$MoveCaretAction {
    constructor(){
        super(false, {
            id: 'editor.action.moveCarretRightAction',
            label: $1WuVQ.localize('caret.moveRight', "Move Selected Text Right"),
            alias: 'Move Selected Text Right',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
$g9Zlr.registerEditorAction($6f2d8cc9b340cfb9$var$MoveCaretLeftAction);
$g9Zlr.registerEditorAction($6f2d8cc9b340cfb9$var$MoveCaretRightAction);



var $g9Zlr = parcelRequire("g9Zlr");

var $eSuzf = parcelRequire("eSuzf");

var $j9dU4 = parcelRequire("j9dU4");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");

var $1WuVQ = parcelRequire("1WuVQ");
class $f8eadf21ab512028$var$TransposeLettersAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        let model = editor.getModel();
        let commands = [];
        let selections = editor.getSelections();
        for (let selection of selections){
            if (!selection.isEmpty()) continue;
            let lineNumber = selection.startLineNumber;
            let column = selection.startColumn;
            let lastColumn = model.getLineMaxColumn(lineNumber);
            if (lineNumber === 1 && (column === 1 || column === 2 && lastColumn === 2)) continue;
            // handle special case: when at end of line, transpose left two chars
            // otherwise, transpose left and right chars
            let endPosition = column === lastColumn ? selection.getPosition() : $j9dU4.MoveOperations.rightPosition(model, selection.getPosition().lineNumber, selection.getPosition().column);
            let middlePosition = $j9dU4.MoveOperations.leftPosition(model, endPosition);
            let beginPosition = $j9dU4.MoveOperations.leftPosition(model, middlePosition);
            let leftChar = model.getValueInRange($1YFxJ.Range.fromPositions(beginPosition, middlePosition));
            let rightChar = model.getValueInRange($1YFxJ.Range.fromPositions(middlePosition, endPosition));
            let replaceRange = $1YFxJ.Range.fromPositions(beginPosition, endPosition);
            commands.push(new $eSuzf.ReplaceCommand(replaceRange, rightChar + leftChar));
        }
        if (commands.length > 0) {
            editor.pushUndoStop();
            editor.executeCommands(this.id, commands);
            editor.pushUndoStop();
        }
    }
    constructor(){
        super({
            id: 'editor.action.transposeLetters',
            label: $1WuVQ.localize('transposeLetters.label', "Transpose Letters"),
            alias: 'Transpose Letters',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 306 /* KeyT */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorAction($f8eadf21ab512028$var$TransposeLettersAction);


var $14560abb0eb2996a$exports = {};

var $cBBwi = parcelRequire("cBBwi");

var $7e5Mc = parcelRequire("7e5Mc");

var $gdSAz = parcelRequire("gdSAz");

var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");

var $7oeKV = parcelRequire("7oeKV");

var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $4ZL8G = parcelRequire("4ZL8G");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $14560abb0eb2996a$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $14560abb0eb2996a$var$CLIPBOARD_CONTEXT_MENU_GROUP = '9_cutcopypaste';
const $14560abb0eb2996a$var$supportsCut = $7e5Mc.isNative || document.queryCommandSupported('cut');
const $14560abb0eb2996a$var$supportsCopy = $7e5Mc.isNative || document.queryCommandSupported('copy');
// Firefox only supports navigator.clipboard.readText() in browser extensions.
// See https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/readText#Browser_compatibility
// When loading over http, navigator.clipboard can be undefined. See https://github.com/microsoft/monaco-editor/issues/2313
const $14560abb0eb2996a$var$supportsPaste = typeof navigator.clipboard === 'undefined' || $cBBwi.isFirefox ? document.queryCommandSupported('paste') : true;
function $14560abb0eb2996a$var$registerCommand(command) {
    command.register();
    return command;
}
const $14560abb0eb2996a$export$c126fcd83420b17 = $14560abb0eb2996a$var$supportsCut ? $14560abb0eb2996a$var$registerCommand(new $g9Zlr.MultiCommand({
    id: 'editor.action.clipboardCutAction',
    precondition: undefined,
    kbOpts: // Do not bind cut keybindings in the browser,
    // since browsers do that for us and it avoids security prompts
    $7e5Mc.isNative ? {
        primary: 2102 /* KeyX */ ,
        win: {
            primary: 2102 /* KeyX */ ,
            secondary: [
                1044 /* Delete */ 
            ]
        },
        weight: 100 /* EditorContrib */ 
    } : undefined,
    menuOpts: [
        {
            menuId: $iCLhR.MenuId.MenubarEditMenu,
            group: '2_ccp',
            title: $1WuVQ.localize({
                key: 'miCut',
                comment: [
                    '&& denotes a mnemonic'
                ]
            }, "Cu&&t"),
            order: 1
        },
        {
            menuId: $iCLhR.MenuId.EditorContext,
            group: $14560abb0eb2996a$var$CLIPBOARD_CONTEXT_MENU_GROUP,
            title: $1WuVQ.localize('actions.clipboard.cutLabel', "Cut"),
            when: $7oeKV.EditorContextKeys.writable,
            order: 1
        },
        {
            menuId: $iCLhR.MenuId.CommandPalette,
            group: '',
            title: $1WuVQ.localize('actions.clipboard.cutLabel', "Cut"),
            order: 1
        },
        {
            menuId: $iCLhR.MenuId.SimpleEditorContext,
            group: $14560abb0eb2996a$var$CLIPBOARD_CONTEXT_MENU_GROUP,
            title: $1WuVQ.localize('actions.clipboard.cutLabel', "Cut"),
            when: $7oeKV.EditorContextKeys.writable,
            order: 1
        }
    ]
})) : undefined;
const $14560abb0eb2996a$export$958df07cbf9735fc = $14560abb0eb2996a$var$supportsCopy ? $14560abb0eb2996a$var$registerCommand(new $g9Zlr.MultiCommand({
    id: 'editor.action.clipboardCopyAction',
    precondition: undefined,
    kbOpts: // Do not bind copy keybindings in the browser,
    // since browsers do that for us and it avoids security prompts
    $7e5Mc.isNative ? {
        primary: 2081 /* KeyC */ ,
        win: {
            primary: 2081 /* KeyC */ ,
            secondary: [
                2067 /* Insert */ 
            ]
        },
        weight: 100 /* EditorContrib */ 
    } : undefined,
    menuOpts: [
        {
            menuId: $iCLhR.MenuId.MenubarEditMenu,
            group: '2_ccp',
            title: $1WuVQ.localize({
                key: 'miCopy',
                comment: [
                    '&& denotes a mnemonic'
                ]
            }, "&&Copy"),
            order: 2
        },
        {
            menuId: $iCLhR.MenuId.EditorContext,
            group: $14560abb0eb2996a$var$CLIPBOARD_CONTEXT_MENU_GROUP,
            title: $1WuVQ.localize('actions.clipboard.copyLabel', "Copy"),
            order: 2
        },
        {
            menuId: $iCLhR.MenuId.CommandPalette,
            group: '',
            title: $1WuVQ.localize('actions.clipboard.copyLabel', "Copy"),
            order: 1
        },
        {
            menuId: $iCLhR.MenuId.SimpleEditorContext,
            group: $14560abb0eb2996a$var$CLIPBOARD_CONTEXT_MENU_GROUP,
            title: $1WuVQ.localize('actions.clipboard.copyLabel', "Copy"),
            order: 2
        }
    ]
})) : undefined;
$iCLhR.MenuRegistry.appendMenuItem($iCLhR.MenuId.MenubarEditMenu, {
    submenu: $iCLhR.MenuId.MenubarCopy,
    title: {
        value: $1WuVQ.localize('copy as', "Copy As"),
        original: 'Copy As'
    },
    group: '2_ccp',
    order: 3
});
$iCLhR.MenuRegistry.appendMenuItem($iCLhR.MenuId.EditorContext, {
    submenu: $iCLhR.MenuId.EditorContextCopy,
    title: {
        value: $1WuVQ.localize('copy as', "Copy As"),
        original: 'Copy As'
    },
    group: $14560abb0eb2996a$var$CLIPBOARD_CONTEXT_MENU_GROUP,
    order: 3
});
const $14560abb0eb2996a$export$c386eebeb0318c58 = $14560abb0eb2996a$var$supportsPaste ? $14560abb0eb2996a$var$registerCommand(new $g9Zlr.MultiCommand({
    id: 'editor.action.clipboardPasteAction',
    precondition: undefined,
    kbOpts: // Do not bind paste keybindings in the browser,
    // since browsers do that for us and it avoids security prompts
    $7e5Mc.isNative ? {
        primary: 2100 /* KeyV */ ,
        win: {
            primary: 2100 /* KeyV */ ,
            secondary: [
                1043 /* Insert */ 
            ]
        },
        linux: {
            primary: 2100 /* KeyV */ ,
            secondary: [
                1043 /* Insert */ 
            ]
        },
        weight: 100 /* EditorContrib */ 
    } : undefined,
    menuOpts: [
        {
            menuId: $iCLhR.MenuId.MenubarEditMenu,
            group: '2_ccp',
            title: $1WuVQ.localize({
                key: 'miPaste',
                comment: [
                    '&& denotes a mnemonic'
                ]
            }, "&&Paste"),
            order: 4
        },
        {
            menuId: $iCLhR.MenuId.EditorContext,
            group: $14560abb0eb2996a$var$CLIPBOARD_CONTEXT_MENU_GROUP,
            title: $1WuVQ.localize('actions.clipboard.pasteLabel', "Paste"),
            when: $7oeKV.EditorContextKeys.writable,
            order: 4
        },
        {
            menuId: $iCLhR.MenuId.CommandPalette,
            group: '',
            title: $1WuVQ.localize('actions.clipboard.pasteLabel', "Paste"),
            order: 1
        },
        {
            menuId: $iCLhR.MenuId.SimpleEditorContext,
            group: $14560abb0eb2996a$var$CLIPBOARD_CONTEXT_MENU_GROUP,
            title: $1WuVQ.localize('actions.clipboard.pasteLabel', "Paste"),
            when: $7oeKV.EditorContextKeys.writable,
            order: 4
        }
    ]
})) : undefined;
class $14560abb0eb2996a$var$ExecCommandCopyWithSyntaxHighlightingAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        const emptySelectionClipboard = editor.getOption(32 /* emptySelectionClipboard */ );
        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) return;
        $gdSAz.CopyOptions.forceCopyWithSyntaxHighlighting = true;
        editor.focus();
        document.execCommand('copy');
        $gdSAz.CopyOptions.forceCopyWithSyntaxHighlighting = false;
    }
    constructor(){
        super({
            id: 'editor.action.clipboardCopyWithSyntaxHighlightingAction',
            label: $1WuVQ.localize('actions.clipboard.copyWithSyntaxHighlightingLabel', "Copy With Syntax Highlighting"),
            alias: 'Copy With Syntax Highlighting',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
function $14560abb0eb2996a$var$registerExecCommandImpl(target, browserCommand) {
    if (!target) return;
    // 1. handle case when focus is in editor.
    target.addImplementation(10000, 'code-editor', (accessor, args)=>{
        // Only if editor text focus (i.e. not if editor has widget focus).
        const focusedEditor = accessor.get($7lWR1.ICodeEditorService).getFocusedCodeEditor();
        if (focusedEditor && focusedEditor.hasTextFocus()) {
            // Do not execute if there is no selection and empty selection clipboard is off
            const emptySelectionClipboard = focusedEditor.getOption(32 /* emptySelectionClipboard */ );
            const selection = focusedEditor.getSelection();
            if (selection && selection.isEmpty() && !emptySelectionClipboard) return true;
            document.execCommand(browserCommand);
            return true;
        }
        return false;
    });
    // 2. (default) handle case when focus is somewhere else.
    target.addImplementation(0, 'generic-dom', (accessor, args)=>{
        document.execCommand(browserCommand);
        return true;
    });
}
$14560abb0eb2996a$var$registerExecCommandImpl($14560abb0eb2996a$export$c126fcd83420b17, 'cut');
$14560abb0eb2996a$var$registerExecCommandImpl($14560abb0eb2996a$export$958df07cbf9735fc, 'copy');
if ($14560abb0eb2996a$export$c386eebeb0318c58) {
    // 1. Paste: handle case when focus is in editor.
    $14560abb0eb2996a$export$c386eebeb0318c58.addImplementation(10000, 'code-editor', (accessor, args)=>{
        const codeEditorService = accessor.get($7lWR1.ICodeEditorService);
        const clipboardService = accessor.get($4ZL8G.IClipboardService);
        // Only if editor text focus (i.e. not if editor has widget focus).
        const focusedEditor = codeEditorService.getFocusedCodeEditor();
        if (focusedEditor && focusedEditor.hasTextFocus()) {
            const result = document.execCommand('paste');
            // Use the clipboard service if document.execCommand('paste') was not successful
            if (!result && $7e5Mc.isWeb) return (()=>$14560abb0eb2996a$var$__awaiter(void 0, void 0, void 0, function*() {
                    const clipboardText = yield clipboardService.readText();
                    if (clipboardText !== '') {
                        const metadata = $gdSAz.InMemoryClipboardMetadataManager.INSTANCE.get(clipboardText);
                        let pasteOnNewLine = false;
                        let multicursorText = null;
                        let mode = null;
                        if (metadata) {
                            pasteOnNewLine = focusedEditor.getOption(32 /* emptySelectionClipboard */ ) && !!metadata.isFromEmptySelection;
                            multicursorText = typeof metadata.multicursorText !== 'undefined' ? metadata.multicursorText : null;
                            mode = metadata.mode;
                        }
                        focusedEditor.trigger('keyboard', "paste" /* Paste */ , {
                            text: clipboardText,
                            pasteOnNewLine: pasteOnNewLine,
                            multicursorText: multicursorText,
                            mode: mode
                        });
                    }
                })
            )();
            return true;
        }
        return false;
    });
    // 2. Paste: (default) handle case when focus is somewhere else.
    $14560abb0eb2996a$export$c386eebeb0318c58.addImplementation(0, 'generic-dom', (accessor, args)=>{
        document.execCommand('paste');
        return true;
    });
}
if ($14560abb0eb2996a$var$supportsCopy) $g9Zlr.registerEditorAction($14560abb0eb2996a$var$ExecCommandCopyWithSyntaxHighlightingAction);



var $g9Zlr = parcelRequire("g9Zlr");
var $9e6374eaa54e223a$exports = {};

$parcel$export($9e6374eaa54e223a$exports, "QuickFixController", function () { return $9e6374eaa54e223a$export$12bfd62cda48c28c; }, function (v) { return $9e6374eaa54e223a$export$12bfd62cda48c28c = v; });
$parcel$export($9e6374eaa54e223a$exports, "QuickFixAction", function () { return $9e6374eaa54e223a$export$882e0ee127a25fbb; }, function (v) { return $9e6374eaa54e223a$export$882e0ee127a25fbb = v; });
$parcel$export($9e6374eaa54e223a$exports, "AutoFixAction", function () { return $9e6374eaa54e223a$export$2bffd38cf19da049; }, function (v) { return $9e6374eaa54e223a$export$2bffd38cf19da049 = v; });
$parcel$export($9e6374eaa54e223a$exports, "CodeActionCommand", function () { return $9e6374eaa54e223a$export$94d24ce7f8ca1f8c; }, function (v) { return $9e6374eaa54e223a$export$94d24ce7f8ca1f8c = v; });
$parcel$export($9e6374eaa54e223a$exports, "RefactorAction", function () { return $9e6374eaa54e223a$export$717c8b29cf6c7de0; }, function (v) { return $9e6374eaa54e223a$export$717c8b29cf6c7de0 = v; });
$parcel$export($9e6374eaa54e223a$exports, "SourceAction", function () { return $9e6374eaa54e223a$export$6754a4b1b720e9fb; }, function (v) { return $9e6374eaa54e223a$export$6754a4b1b720e9fb = v; });
$parcel$export($9e6374eaa54e223a$exports, "OrganizeImportsAction", function () { return $9e6374eaa54e223a$export$839e26b4813ba04c; }, function (v) { return $9e6374eaa54e223a$export$839e26b4813ba04c = v; });
$parcel$export($9e6374eaa54e223a$exports, "FixAllAction", function () { return $9e6374eaa54e223a$export$900fefaddb0995e3; }, function (v) { return $9e6374eaa54e223a$export$900fefaddb0995e3 = v; });

var $1vhHo = parcelRequire("1vhHo");
class $8b732b5f2d8cc37c$export$b624eff549462981 {
    /**
     * Get the wrapped value.
     *
     * This will force evaluation of the lazy value if it has not been resolved yet. Lazy values are only
     * resolved once. `getValue` will re-throw exceptions that are hit while resolving the value
     */ getValue() {
        if (!this._didRun) try {
            this._value = this.executor();
        } catch (err) {
            this._error = err;
        } finally{
            this._didRun = true;
        }
        if (this._error) throw this._error;
        return this._value;
    }
    /**
     * Get the wrapped value without forcing evaluation.
     */ get rawValue() {
        return this._value;
    }
    constructor(executor){
        this.executor = executor;
        this._didRun = false;
    }
}



var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $g9Zlr = parcelRequire("g9Zlr");

var $e4ShP = parcelRequire("e4ShP");

var $7oeKV = parcelRequire("7oeKV");
var $1ff12a7310549990$exports = {};

$parcel$export($1ff12a7310549990$exports, "codeActionCommandId", function () { return $1ff12a7310549990$export$47d177835ea6d398; }, function (v) { return $1ff12a7310549990$export$47d177835ea6d398 = v; });
$parcel$export($1ff12a7310549990$exports, "refactorCommandId", function () { return $1ff12a7310549990$export$691d097e330e1493; }, function (v) { return $1ff12a7310549990$export$691d097e330e1493 = v; });
$parcel$export($1ff12a7310549990$exports, "sourceActionCommandId", function () { return $1ff12a7310549990$export$239def49abcdebc4; }, function (v) { return $1ff12a7310549990$export$239def49abcdebc4 = v; });
$parcel$export($1ff12a7310549990$exports, "organizeImportsCommandId", function () { return $1ff12a7310549990$export$9f47236fc64ddcf5; }, function (v) { return $1ff12a7310549990$export$9f47236fc64ddcf5 = v; });
$parcel$export($1ff12a7310549990$exports, "fixAllCommandId", function () { return $1ff12a7310549990$export$9866f0c931c06a92; }, function (v) { return $1ff12a7310549990$export$9866f0c931c06a92 = v; });
$parcel$export($1ff12a7310549990$exports, "CodeActionItem", function () { return $1ff12a7310549990$export$1ff0bf878d7aea77; }, function (v) { return $1ff12a7310549990$export$1ff0bf878d7aea77 = v; });
$parcel$export($1ff12a7310549990$exports, "getCodeActions", function () { return $1ff12a7310549990$export$52ee0249dd058aac; }, function (v) { return $1ff12a7310549990$export$52ee0249dd058aac = v; });

var $duSG1 = parcelRequire("duSG1");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $bUZVY = parcelRequire("bUZVY");

var $78AWm = parcelRequire("78AWm");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $goPht = parcelRequire("goPht");

var $75At3 = parcelRequire("75At3");

var $c0VS7 = parcelRequire("c0VS7");

var $5IX4y = parcelRequire("5IX4y");
class $213ada70c3870067$export$c72b5966cfff6b4d {
    equals(other) {
        return this.value === other.value;
    }
    contains(other) {
        return this.equals(other) || this.value === '' || other.value.startsWith(this.value + $213ada70c3870067$export$c72b5966cfff6b4d.sep);
    }
    intersects(other) {
        return this.contains(other) || other.contains(this);
    }
    append(part) {
        return new $213ada70c3870067$export$c72b5966cfff6b4d(this.value + $213ada70c3870067$export$c72b5966cfff6b4d.sep + part);
    }
    constructor(value){
        this.value = value;
    }
}
$213ada70c3870067$export$c72b5966cfff6b4d.sep = '.';
$213ada70c3870067$export$c72b5966cfff6b4d.None = new $213ada70c3870067$export$c72b5966cfff6b4d('@@none@@'); // Special code action that contains nothing
$213ada70c3870067$export$c72b5966cfff6b4d.Empty = new $213ada70c3870067$export$c72b5966cfff6b4d('');
$213ada70c3870067$export$c72b5966cfff6b4d.QuickFix = new $213ada70c3870067$export$c72b5966cfff6b4d('quickfix');
$213ada70c3870067$export$c72b5966cfff6b4d.Refactor = new $213ada70c3870067$export$c72b5966cfff6b4d('refactor');
$213ada70c3870067$export$c72b5966cfff6b4d.Source = new $213ada70c3870067$export$c72b5966cfff6b4d('source');
$213ada70c3870067$export$c72b5966cfff6b4d.SourceOrganizeImports = $213ada70c3870067$export$c72b5966cfff6b4d.Source.append('organizeImports');
$213ada70c3870067$export$c72b5966cfff6b4d.SourceFixAll = $213ada70c3870067$export$c72b5966cfff6b4d.Source.append('fixAll');
function $213ada70c3870067$export$260c8da5ecf5f71d(filter, providedKind) {
    // A provided kind may be a subset or superset of our filtered kind.
    if (filter.include && !filter.include.intersects(providedKind)) return false;
    if (filter.excludes) {
        if (filter.excludes.some((exclude)=>$213ada70c3870067$var$excludesAction(providedKind, exclude, filter.include)
        )) return false;
    }
    // Don't return source actions unless they are explicitly requested
    if (!filter.includeSourceActions && $213ada70c3870067$export$c72b5966cfff6b4d.Source.contains(providedKind)) return false;
    return true;
}
function $213ada70c3870067$export$b4bbf6ad637c4d35(filter, action) {
    const actionKind = action.kind ? new $213ada70c3870067$export$c72b5966cfff6b4d(action.kind) : undefined;
    // Filter out actions by kind
    if (filter.include) {
        if (!actionKind || !filter.include.contains(actionKind)) return false;
    }
    if (filter.excludes) {
        if (actionKind && filter.excludes.some((exclude)=>$213ada70c3870067$var$excludesAction(actionKind, exclude, filter.include)
        )) return false;
    }
    // Don't return source actions unless they are explicitly requested
    if (!filter.includeSourceActions) {
        if (actionKind && $213ada70c3870067$export$c72b5966cfff6b4d.Source.contains(actionKind)) return false;
    }
    if (filter.onlyIncludePreferredActions) {
        if (!action.isPreferred) return false;
    }
    return true;
}
function $213ada70c3870067$var$excludesAction(providedKind, exclude, include) {
    if (!exclude.contains(providedKind)) return false;
    if (include && exclude.contains(include)) // The include is more specific, don't filter out
    return false;
    return true;
}
class $213ada70c3870067$export$b4557d8a7419d430 {
    static fromUser(arg, defaults) {
        if (!arg || typeof arg !== 'object') return new $213ada70c3870067$export$b4557d8a7419d430(defaults.kind, defaults.apply, false);
        return new $213ada70c3870067$export$b4557d8a7419d430($213ada70c3870067$export$b4557d8a7419d430.getKindFromUser(arg, defaults.kind), $213ada70c3870067$export$b4557d8a7419d430.getApplyFromUser(arg, defaults.apply), $213ada70c3870067$export$b4557d8a7419d430.getPreferredUser(arg));
    }
    static getApplyFromUser(arg, defaultAutoApply) {
        switch(typeof arg.apply === 'string' ? arg.apply.toLowerCase() : ''){
            case 'first':
                return "first" /* First */ ;
            case 'never':
                return "never" /* Never */ ;
            case 'ifsingle':
                return "ifSingle" /* IfSingle */ ;
            default:
                return defaultAutoApply;
        }
    }
    static getKindFromUser(arg, defaultKind) {
        return typeof arg.kind === 'string' ? new $213ada70c3870067$export$c72b5966cfff6b4d(arg.kind) : defaultKind;
    }
    static getPreferredUser(arg) {
        return typeof arg.preferred === 'boolean' ? arg.preferred : false;
    }
    constructor(kind, apply, preferred){
        this.kind = kind;
        this.apply = apply;
        this.preferred = preferred;
    }
}


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $1ff12a7310549990$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $1ff12a7310549990$export$47d177835ea6d398 = 'editor.action.codeAction';
const $1ff12a7310549990$export$691d097e330e1493 = 'editor.action.refactor';
const $1ff12a7310549990$export$239def49abcdebc4 = 'editor.action.sourceAction';
const $1ff12a7310549990$export$9f47236fc64ddcf5 = 'editor.action.organizeImports';
const $1ff12a7310549990$export$9866f0c931c06a92 = 'editor.action.fixAll';
class $1ff12a7310549990$export$1ff0bf878d7aea77 {
    resolve(token) {
        var _a;
        return $1ff12a7310549990$var$__awaiter(this, void 0, void 0, function*() {
            if (((_a = this.provider) === null || _a === void 0 ? void 0 : _a.resolveCodeAction) && !this.action.edit) {
                let action;
                try {
                    action = yield this.provider.resolveCodeAction(this.action, token);
                } catch (err) {
                    $3FsT3.onUnexpectedExternalError(err);
                }
                if (action) this.action.edit = action.edit;
            }
            return this;
        });
    }
    constructor(action, provider){
        this.action = action;
        this.provider = provider;
    }
}
class $1ff12a7310549990$var$ManagedCodeActionSet extends $6W1JA.Disposable {
    static codeActionsComparator({ action: a  }, { action: b  }) {
        if (a.isPreferred && !b.isPreferred) return -1;
        else if (!a.isPreferred && b.isPreferred) return 1;
        if ($duSG1.isNonEmptyArray(a.diagnostics)) {
            if ($duSG1.isNonEmptyArray(b.diagnostics)) return a.diagnostics[0].message.localeCompare(b.diagnostics[0].message);
            else return -1;
        } else if ($duSG1.isNonEmptyArray(b.diagnostics)) return 1;
        else return 0; // both have no diagnostics
    }
    get hasAutoFix() {
        return this.validActions.some(({ action: fix  })=>!!fix.kind && $213ada70c3870067$export$c72b5966cfff6b4d.QuickFix.contains(new $213ada70c3870067$export$c72b5966cfff6b4d(fix.kind)) && !!fix.isPreferred
        );
    }
    constructor(actions, documentation, disposables){
        super();
        this.documentation = documentation;
        this._register(disposables);
        this.allActions = [
            ...actions
        ].sort($1ff12a7310549990$var$ManagedCodeActionSet.codeActionsComparator);
        this.validActions = this.allActions.filter(({ action: action  })=>!action.disabled
        );
    }
}
const $1ff12a7310549990$var$emptyCodeActionsResponse = {
    actions: [],
    documentation: undefined
};
function $1ff12a7310549990$export$52ee0249dd058aac(model, rangeOrSelection, trigger, progress, token) {
    var _a;
    const filter = trigger.filter || {};
    const codeActionContext = {
        only: (_a = filter.include) === null || _a === void 0 ? void 0 : _a.value,
        trigger: trigger.type
    };
    const cts = new $78AWm.TextModelCancellationTokenSource(model, token);
    const providers = $1ff12a7310549990$var$getCodeActionProviders(model, filter);
    const disposables = new $6W1JA.DisposableStore();
    const promises = providers.map((provider)=>$1ff12a7310549990$var$__awaiter(this, void 0, void 0, function*() {
            try {
                progress.report(provider);
                const providedCodeActions = yield provider.provideCodeActions(model, rangeOrSelection, codeActionContext, cts.token);
                if (providedCodeActions) disposables.add(providedCodeActions);
                if (cts.token.isCancellationRequested) return $1ff12a7310549990$var$emptyCodeActionsResponse;
                const filteredActions = ((providedCodeActions === null || providedCodeActions === void 0 ? void 0 : providedCodeActions.actions) || []).filter((action)=>action && $213ada70c3870067$export$b4bbf6ad637c4d35(filter, action)
                );
                const documentation = $1ff12a7310549990$var$getDocumentation(provider, filteredActions, filter.include);
                return {
                    actions: filteredActions.map((action)=>new $1ff12a7310549990$export$1ff0bf878d7aea77(action, provider)
                    ),
                    documentation: documentation
                };
            } catch (err) {
                if ($3FsT3.isPromiseCanceledError(err)) throw err;
                $3FsT3.onUnexpectedExternalError(err);
                return $1ff12a7310549990$var$emptyCodeActionsResponse;
            }
        })
    );
    const listener = $goPht.CodeActionProviderRegistry.onDidChange(()=>{
        const newProviders = $goPht.CodeActionProviderRegistry.all(model);
        if (!$duSG1.equals(newProviders, providers)) cts.cancel();
    });
    return Promise.all(promises).then((actions)=>{
        const allActions = $duSG1.flatten(actions.map((x)=>x.actions
        ));
        const allDocumentation = $duSG1.coalesce(actions.map((x)=>x.documentation
        ));
        return new $1ff12a7310549990$var$ManagedCodeActionSet(allActions, allDocumentation, disposables);
    }).finally(()=>{
        listener.dispose();
        cts.dispose();
    });
}
function $1ff12a7310549990$var$getCodeActionProviders(model, filter) {
    return $goPht.CodeActionProviderRegistry.all(model)// Don't include providers that we know will not return code actions of interest
    .filter((provider)=>{
        if (!provider.providedCodeActionKinds) // We don't know what type of actions this provider will return.
        return true;
        return provider.providedCodeActionKinds.some((kind)=>$213ada70c3870067$export$260c8da5ecf5f71d(filter, new $213ada70c3870067$export$c72b5966cfff6b4d(kind))
        );
    });
}
function $1ff12a7310549990$var$getDocumentation(provider, providedCodeActions, only) {
    if (!provider.documentation) return undefined;
    const documentation = provider.documentation.map((entry)=>({
            kind: new $213ada70c3870067$export$c72b5966cfff6b4d(entry.kind),
            command: entry.command
        })
    );
    if (only) {
        let currentBest;
        for (const entry of documentation)if (entry.kind.contains(only)) {
            if (!currentBest) currentBest = entry;
            else // Take best match
            if (currentBest.kind.contains(entry.kind)) currentBest = entry;
        }
        if (currentBest) return currentBest === null || currentBest === void 0 ? void 0 : currentBest.command;
    }
    // Otherwise, check to see if any of the provided actions match.
    for (const action of providedCodeActions){
        if (!action.kind) continue;
        for (const entry of documentation){
            if (entry.kind.contains(new $213ada70c3870067$export$c72b5966cfff6b4d(action.kind))) return entry.command;
        }
    }
    return undefined;
}
$c0VS7.CommandsRegistry.registerCommand('_executeCodeActionProvider', function(accessor, resource, rangeOrSelection, kind, itemResolveCount) {
    return $1ff12a7310549990$var$__awaiter(this, void 0, void 0, function*() {
        if (!(resource instanceof $bUZVY.URI)) throw $3FsT3.illegalArgument();
        const model = accessor.get($75At3.IModelService).getModel(resource);
        if (!model) throw $3FsT3.illegalArgument();
        const validatedRangeOrSelection = $jS6at.Selection.isISelection(rangeOrSelection) ? $jS6at.Selection.liftSelection(rangeOrSelection) : $1YFxJ.Range.isIRange(rangeOrSelection) ? model.validateRange(rangeOrSelection) : undefined;
        if (!validatedRangeOrSelection) throw $3FsT3.illegalArgument();
        const include = typeof kind === 'string' ? new $213ada70c3870067$export$c72b5966cfff6b4d(kind) : undefined;
        const codeActionSet = yield $1ff12a7310549990$export$52ee0249dd058aac(model, validatedRangeOrSelection, {
            type: 1 /* Invoke */ ,
            filter: {
                includeSourceActions: true,
                include: include
            }
        }, $5IX4y.Progress.None, $1vhHo.CancellationToken.None);
        const resolving = [];
        const resolveCount = Math.min(codeActionSet.validActions.length, typeof itemResolveCount === 'number' ? itemResolveCount : 0);
        for(let i = 0; i < resolveCount; i++)resolving.push(codeActionSet.validActions[i].resolve($1vhHo.CancellationToken.None));
        try {
            yield Promise.all(resolving);
            return codeActionSet.validActions.map((item)=>item.action
            );
        } finally{
            setTimeout(()=>codeActionSet.dispose()
            , 100);
        }
    });
});


var $a9c75b4d894987ee$exports = {};

$parcel$export($a9c75b4d894987ee$exports, "CodeActionUi", function () { return $a9c75b4d894987ee$export$47357a276704fe7; }, function (v) { return $a9c75b4d894987ee$export$47357a276704fe7 = v; });

var $3FsT3 = parcelRequire("3FsT3");


var $6W1JA = parcelRequire("6W1JA");
var $5e005249879805b3$exports = {};

$parcel$export($5e005249879805b3$exports, "MessageController", function () { return $5e005249879805b3$export$8c2d6d477e341dce; }, function (v) { return $5e005249879805b3$export$8c2d6d477e341dce = v; });

var $6eCoB = parcelRequire("6eCoB");

var $5piST = parcelRequire("5piST");

var $6W1JA = parcelRequire("6W1JA");


var $g9Zlr = parcelRequire("g9Zlr");

var $1YFxJ = parcelRequire("1YFxJ");

var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $5e005249879805b3$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $5e005249879805b3$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $5e005249879805b3$export$8c2d6d477e341dce = class $5e005249879805b3$export$8c2d6d477e341dce {
    static get(editor) {
        return editor.getContribution($5e005249879805b3$export$8c2d6d477e341dce.ID);
    }
    dispose() {
        this._editorListener.dispose();
        this._messageListeners.dispose();
        this._messageWidget.dispose();
        this._visible.reset();
    }
    showMessage(message, position) {
        $6eCoB.alert(message);
        this._visible.set(true);
        this._messageWidget.clear();
        this._messageListeners.clear();
        this._messageWidget.value = new $5e005249879805b3$var$MessageWidget(this._editor, position, message);
        // close on blur, cursor, model change, dispose
        this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage()
        ));
        this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage()
        ));
        this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage()
        ));
        this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage()
        ));
        // 3sec
        this._messageListeners.add(new $5piST.TimeoutTimer(()=>this.closeMessage()
        , 3000));
        // close on mouse move
        let bounds;
        this._messageListeners.add(this._editor.onMouseMove((e)=>{
            // outside the text area
            if (!e.target.position) return;
            if (!bounds) // define bounding box around position and first mouse occurance
            bounds = new $1YFxJ.Range(position.lineNumber - 3, 1, e.target.position.lineNumber + 3, 1);
            else if (!bounds.containsPosition(e.target.position)) // check if position is still in bounds
            this.closeMessage();
        }));
    }
    closeMessage() {
        this._visible.reset();
        this._messageListeners.clear();
        if (this._messageWidget.value) this._messageListeners.add($5e005249879805b3$var$MessageWidget.fadeOut(this._messageWidget.value));
    }
    _onDidAttemptReadOnlyEdit() {
        if (this._editor.hasModel()) this.showMessage($1WuVQ.localize('editor.readonly', "Cannot edit in read-only editor"), this._editor.getPosition());
    }
    constructor(editor, contextKeyService){
        this._messageWidget = new $6W1JA.MutableDisposable();
        this._messageListeners = new $6W1JA.DisposableStore();
        this._editor = editor;
        this._visible = $5e005249879805b3$export$8c2d6d477e341dce.MESSAGE_VISIBLE.bindTo(contextKeyService);
        this._editorListener = this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()
        );
    }
};
$5e005249879805b3$export$8c2d6d477e341dce.ID = 'editor.contrib.messageController';
$5e005249879805b3$export$8c2d6d477e341dce.MESSAGE_VISIBLE = new $h4kGX.RawContextKey('messageVisible', false, $1WuVQ.localize('messageVisible', 'Whether the editor is currently showing an inline message'));
$5e005249879805b3$export$8c2d6d477e341dce = $5e005249879805b3$var$__decorate([
    $5e005249879805b3$var$__param(1, $h4kGX.IContextKeyService)
], $5e005249879805b3$export$8c2d6d477e341dce);
const $5e005249879805b3$var$MessageCommand = $g9Zlr.EditorCommand.bindToContribution($5e005249879805b3$export$8c2d6d477e341dce.get);
$g9Zlr.registerEditorCommand(new $5e005249879805b3$var$MessageCommand({
    id: 'leaveEditorMessage',
    precondition: $5e005249879805b3$export$8c2d6d477e341dce.MESSAGE_VISIBLE,
    handler: (c)=>c.closeMessage()
    ,
    kbOpts: {
        weight: 130,
        primary: 9 /* Escape */ 
    }
}));
class $5e005249879805b3$var$MessageWidget {
    static fadeOut(messageWidget) {
        let handle;
        const dispose = ()=>{
            messageWidget.dispose();
            clearTimeout(handle);
            messageWidget.getDomNode().removeEventListener('animationend', dispose);
        };
        handle = setTimeout(dispose, 110);
        messageWidget.getDomNode().addEventListener('animationend', dispose);
        messageWidget.getDomNode().classList.add('fadeOut');
        return {
            dispose: dispose
        };
    }
    dispose() {
        this._editor.removeContentWidget(this);
    }
    getId() {
        return 'messageoverlay';
    }
    getDomNode() {
        return this._domNode;
    }
    getPosition() {
        return {
            position: this._position,
            preference: [
                1 /* ABOVE */ ,
                2 /* BELOW */ 
            ]
        };
    }
    afterRender(position) {
        this._domNode.classList.toggle('below', position === 2 /* BELOW */ );
    }
    constructor(editor, { lineNumber: lineNumber , column: column  }, text){
        // Editor.IContentWidget.allowEditorOverflow
        this.allowEditorOverflow = true;
        this.suppressMouseDown = false;
        this._editor = editor;
        this._editor.revealLinesInCenterIfOutsideViewport(lineNumber, lineNumber, 0 /* Smooth */ );
        this._position = {
            lineNumber: lineNumber,
            column: column - 1
        };
        this._domNode = document.createElement('div');
        this._domNode.classList.add('monaco-editor-overlaymessage');
        const anchorTop = document.createElement('div');
        anchorTop.classList.add('anchor', 'top');
        this._domNode.appendChild(anchorTop);
        const message = document.createElement('div');
        message.classList.add('message');
        message.textContent = text;
        this._domNode.appendChild(message);
        const anchorBottom = document.createElement('div');
        anchorBottom.classList.add('anchor', 'below');
        this._domNode.appendChild(anchorBottom);
        this._editor.addContentWidget(this);
        this._domNode.classList.add('fadeIn');
    }
}
$g9Zlr.registerEditorContribution($5e005249879805b3$export$8c2d6d477e341dce.ID, $5e005249879805b3$export$8c2d6d477e341dce);



var $6Xx7t = parcelRequire("6Xx7t");
var $1b3662507b8d99cf$exports = {};

$parcel$export($1b3662507b8d99cf$exports, "CodeActionMenu", function () { return $1b3662507b8d99cf$export$b25117b97cd5f4f9; }, function (v) { return $1b3662507b8d99cf$export$b25117b97cd5f4f9 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $g4Naw = parcelRequire("g4Naw");

var $3FsT3 = parcelRequire("3FsT3");


var $6W1JA = parcelRequire("6W1JA");

var $fqrfT = parcelRequire("fqrfT");

var $goPht = parcelRequire("goPht");



var $grLnf = parcelRequire("grLnf");

var $i2aE6 = parcelRequire("i2aE6");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $1b3662507b8d99cf$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $1b3662507b8d99cf$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $1b3662507b8d99cf$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $1b3662507b8d99cf$var$CodeActionAction extends $g4Naw.Action {
    constructor(action, callback){
        super(action.command ? action.command.id : action.title, $1b3662507b8d99cf$var$stripNewlines(action.title), undefined, !action.disabled, callback);
        this.action = action;
    }
}
function $1b3662507b8d99cf$var$stripNewlines(str) {
    return str.replace(/\r\n|\r|\n/g, ' ');
}
let $1b3662507b8d99cf$export$b25117b97cd5f4f9 = class $1b3662507b8d99cf$export$b25117b97cd5f4f9 extends $6W1JA.Disposable {
    get isVisible() {
        return this._visible;
    }
    show(trigger, codeActions, at, options) {
        return $1b3662507b8d99cf$var$__awaiter(this, void 0, void 0, function*() {
            const actionsToShow = options.includeDisabledActions ? codeActions.allActions : codeActions.validActions;
            if (!actionsToShow.length) {
                this._visible = false;
                return;
            }
            if (!this._editor.getDomNode()) {
                // cancel when editor went off-dom
                this._visible = false;
                throw $3FsT3.canceled();
            }
            this._visible = true;
            this._showingActions.value = codeActions;
            const menuActions = this.getMenuActions(trigger, actionsToShow, codeActions.documentation);
            const anchor = $fqrfT.Position.isIPosition(at) ? this._toCoords(at) : at || {
                x: 0,
                y: 0
            };
            const resolver = this._keybindingResolver.getResolver();
            const useShadowDOM = this._editor.getOption(114 /* useShadowDOM */ );
            this._contextMenuService.showContextMenu({
                domForShadowRoot: useShadowDOM ? this._editor.getDomNode() : undefined,
                getAnchor: ()=>anchor
                ,
                getActions: ()=>menuActions
                ,
                onHide: ()=>{
                    this._visible = false;
                    this._editor.focus();
                },
                autoSelectFirstItem: true,
                getKeyBinding: (action)=>action instanceof $1b3662507b8d99cf$var$CodeActionAction ? resolver(action.action) : undefined
            });
        });
    }
    getMenuActions(trigger, actionsToShow, documentation) {
        var _a, _b;
        const toCodeActionAction = (item)=>new $1b3662507b8d99cf$var$CodeActionAction(item.action, ()=>this._delegate.onSelectCodeAction(item)
            )
        ;
        const result = actionsToShow.map(toCodeActionAction);
        const allDocumentation = [
            ...documentation
        ];
        const model = this._editor.getModel();
        if (model && result.length) {
            for (const provider of $goPht.CodeActionProviderRegistry.all(model))if (provider._getAdditionalMenuItems) allDocumentation.push(...provider._getAdditionalMenuItems({
                trigger: trigger.type,
                only: (_b = (_a = trigger.filter) === null || _a === void 0 ? void 0 : _a.include) === null || _b === void 0 ? void 0 : _b.value
            }, actionsToShow.map((item)=>item.action
            )));
        }
        if (allDocumentation.length) result.push(new $g4Naw.Separator(), ...allDocumentation.map((command)=>toCodeActionAction(new $1ff12a7310549990$exports.CodeActionItem({
                title: command.title,
                command: command
            }, undefined))
        ));
        return result;
    }
    _toCoords(position) {
        if (!this._editor.hasModel()) return {
            x: 0,
            y: 0
        };
        this._editor.revealPosition(position, 1 /* Immediate */ );
        this._editor.render();
        // Translate to absolute editor position
        const cursorCoords = this._editor.getScrolledVisiblePosition(position);
        const editorCoords = $8xgjE.getDomNodePagePosition(this._editor.getDomNode());
        const x = editorCoords.left + cursorCoords.left;
        const y = editorCoords.top + cursorCoords.top + cursorCoords.height;
        return {
            x: x,
            y: y
        };
    }
    constructor(_editor, _delegate, _contextMenuService, keybindingService){
        super();
        this._editor = _editor;
        this._delegate = _delegate;
        this._contextMenuService = _contextMenuService;
        this._visible = false;
        this._showingActions = this._register(new $6W1JA.MutableDisposable());
        this._keybindingResolver = new $1b3662507b8d99cf$export$5b41f08e102f6dbe({
            getKeybindings: ()=>keybindingService.getKeybindings()
        });
    }
};
$1b3662507b8d99cf$export$b25117b97cd5f4f9 = $1b3662507b8d99cf$var$__decorate([
    $1b3662507b8d99cf$var$__param(2, $grLnf.IContextMenuService),
    $1b3662507b8d99cf$var$__param(3, $i2aE6.IKeybindingService)
], $1b3662507b8d99cf$export$b25117b97cd5f4f9);
class $1b3662507b8d99cf$export$5b41f08e102f6dbe {
    getResolver() {
        // Lazy since we may not actually ever read the value
        const allCodeActionBindings = new $8b732b5f2d8cc37c$export$b624eff549462981(()=>this._keybindingProvider.getKeybindings().filter((item)=>$1b3662507b8d99cf$export$5b41f08e102f6dbe.codeActionCommands.indexOf(item.command) >= 0
            ).filter((item)=>item.resolvedKeybinding
            ).map((item)=>{
                // Special case these commands since they come built-in with VS Code and don't use 'commandArgs'
                let commandArgs = item.commandArgs;
                if (item.command === $1ff12a7310549990$exports.organizeImportsCommandId) commandArgs = {
                    kind: $213ada70c3870067$export$c72b5966cfff6b4d.SourceOrganizeImports.value
                };
                else if (item.command === $1ff12a7310549990$exports.fixAllCommandId) commandArgs = {
                    kind: $213ada70c3870067$export$c72b5966cfff6b4d.SourceFixAll.value
                };
                return Object.assign({
                    resolvedKeybinding: item.resolvedKeybinding
                }, $213ada70c3870067$export$b4557d8a7419d430.fromUser(commandArgs, {
                    kind: $213ada70c3870067$export$c72b5966cfff6b4d.None,
                    apply: "never" /* Never */ 
                }));
            })
        );
        return (action)=>{
            if (action.kind) {
                const binding = this.bestKeybindingForCodeAction(action, allCodeActionBindings.getValue());
                return binding === null || binding === void 0 ? void 0 : binding.resolvedKeybinding;
            }
            return undefined;
        };
    }
    bestKeybindingForCodeAction(action, candidates) {
        if (!action.kind) return undefined;
        const kind = new $213ada70c3870067$export$c72b5966cfff6b4d(action.kind);
        return candidates.filter((candidate)=>candidate.kind.contains(kind)
        ).filter((candidate)=>{
            if (candidate.preferred) // If the candidate keybinding only applies to preferred actions, the this action must also be preferred
            return action.isPreferred;
            return true;
        }).reduceRight((currentBest, candidate)=>{
            if (!currentBest) return candidate;
            // Select the more specific binding
            return currentBest.kind.contains(candidate.kind) ? candidate : currentBest;
        }, undefined);
    }
    constructor(_keybindingProvider){
        this._keybindingProvider = _keybindingProvider;
    }
}
$1b3662507b8d99cf$export$5b41f08e102f6dbe.codeActionCommands = [
    $1ff12a7310549990$exports.refactorCommandId,
    $1ff12a7310549990$exports.codeActionCommandId,
    $1ff12a7310549990$exports.sourceActionCommandId,
    $1ff12a7310549990$exports.organizeImportsCommandId,
    $1ff12a7310549990$exports.fixAllCommandId
];


var $39fd12a875798ab3$exports = {};

$parcel$export($39fd12a875798ab3$exports, "LightBulbWidget", function () { return $39fd12a875798ab3$export$87ab1750f69500a0; }, function (v) { return $39fd12a875798ab3$export$87ab1750f69500a0 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $6D0Bv = parcelRequire("6D0Bv");

var $jwiar = parcelRequire("jwiar");

var $k4zqw = parcelRequire("k4zqw");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");


var $72tIz = parcelRequire("72tIz");

var $1WuVQ = parcelRequire("1WuVQ");

var $i2aE6 = parcelRequire("i2aE6");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $39fd12a875798ab3$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $39fd12a875798ab3$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $39fd12a875798ab3$var$LightBulbState;
(function(LightBulbState) {
    LightBulbState.Hidden = {
        type: 0 /* Hidden */ 
    };
    class Showing {
        constructor(actions, trigger, editorPosition, widgetPosition){
            this.actions = actions;
            this.trigger = trigger;
            this.editorPosition = editorPosition;
            this.widgetPosition = widgetPosition;
            this.type = 1 /* Showing */ ;
        }
    }
    LightBulbState.Showing = Showing;
})($39fd12a875798ab3$var$LightBulbState || ($39fd12a875798ab3$var$LightBulbState = {}));
let $39fd12a875798ab3$export$87ab1750f69500a0 = class $39fd12a875798ab3$export$87ab1750f69500a0 extends $6W1JA.Disposable {
    dispose() {
        super.dispose();
        this._editor.removeContentWidget(this);
    }
    getId() {
        return 'LightBulbWidget';
    }
    getDomNode() {
        return this._domNode;
    }
    getPosition() {
        return this._state.type === 1 /* Showing */  ? this._state.widgetPosition : null;
    }
    update(actions, trigger, atPosition) {
        if (actions.validActions.length <= 0) return this.hide();
        const options = this._editor.getOptions();
        if (!options.get(56 /* lightbulb */ ).enabled) return this.hide();
        const model = this._editor.getModel();
        if (!model) return this.hide();
        const { lineNumber: lineNumber1 , column: column  } = model.validatePosition(atPosition);
        const tabSize = model.getOptions().tabSize;
        const fontInfo = options.get(43 /* fontInfo */ );
        const lineContent = model.getLineContent(lineNumber1);
        const indent = $72tIz.TextModel.computeIndentLevel(lineContent, tabSize);
        const lineHasSpace = fontInfo.spaceWidth * indent > 22;
        const isFolded = (lineNumber)=>{
            return lineNumber > 2 && this._editor.getTopForLineNumber(lineNumber) === this._editor.getTopForLineNumber(lineNumber - 1);
        };
        let effectiveLineNumber = lineNumber1;
        if (!lineHasSpace) {
            if (lineNumber1 > 1 && !isFolded(lineNumber1 - 1)) effectiveLineNumber -= 1;
            else if (!isFolded(lineNumber1 + 1)) effectiveLineNumber += 1;
            else if (column * fontInfo.spaceWidth < 22) // cannot show lightbulb above/below and showing
            // it inline would overlay the cursor...
            return this.hide();
        }
        this.state = new $39fd12a875798ab3$var$LightBulbState.Showing(actions, trigger, atPosition, {
            position: {
                lineNumber: effectiveLineNumber,
                column: 1
            },
            preference: $39fd12a875798ab3$export$87ab1750f69500a0._posPref
        });
        this._editor.layoutContentWidget(this);
    }
    hide() {
        this.state = $39fd12a875798ab3$var$LightBulbState.Hidden;
        this._editor.layoutContentWidget(this);
    }
    get state() {
        return this._state;
    }
    set state(value) {
        this._state = value;
        this._updateLightBulbTitleAndIcon();
    }
    _updateLightBulbTitleAndIcon() {
        if (this.state.type === 1 /* Showing */  && this.state.actions.hasAutoFix) {
            // update icon
            this._domNode.classList.remove(...$k4zqw.Codicon.lightBulb.classNamesArray);
            this._domNode.classList.add(...$k4zqw.Codicon.lightbulbAutofix.classNamesArray);
            const preferredKb = this._keybindingService.lookupKeybinding(this._preferredFixActionId);
            if (preferredKb) {
                this.title = $1WuVQ.localize('preferredcodeActionWithKb', "Show Code Actions. Preferred Quick Fix Available ({0})", preferredKb.getLabel());
                return;
            }
        }
        // update icon
        this._domNode.classList.remove(...$k4zqw.Codicon.lightbulbAutofix.classNamesArray);
        this._domNode.classList.add(...$k4zqw.Codicon.lightBulb.classNamesArray);
        const kb = this._keybindingService.lookupKeybinding(this._quickFixActionId);
        if (kb) this.title = $1WuVQ.localize('codeActionWithKb', "Show Code Actions ({0})", kb.getLabel());
        else this.title = $1WuVQ.localize('codeAction', "Show Code Actions");
    }
    set title(value) {
        this._domNode.title = value;
    }
    constructor(_editor, _quickFixActionId, _preferredFixActionId, _keybindingService){
        super();
        this._editor = _editor;
        this._quickFixActionId = _quickFixActionId;
        this._preferredFixActionId = _preferredFixActionId;
        this._keybindingService = _keybindingService;
        this._onClick = this._register(new $bkXdq.Emitter());
        this.onClick = this._onClick.event;
        this._state = $39fd12a875798ab3$var$LightBulbState.Hidden;
        this._domNode = document.createElement('div');
        this._domNode.className = $k4zqw.Codicon.lightBulb.classNames;
        this._editor.addContentWidget(this);
        this._register(this._editor.onDidChangeModelContent((_)=>{
            // cancel when the line in question has been removed
            const editorModel = this._editor.getModel();
            if (this.state.type !== 1 /* Showing */  || !editorModel || this.state.editorPosition.lineNumber >= editorModel.getLineCount()) this.hide();
        }));
        $jwiar.Gesture.ignoreTarget(this._domNode);
        this._register($8xgjE.addStandardDisposableGenericMouseDownListner(this._domNode, (e)=>{
            if (this.state.type !== 1 /* Showing */ ) return;
            // Make sure that focus / cursor location is not lost when clicking widget icon
            this._editor.focus();
            e.preventDefault();
            // a bit of extra work to make sure the menu
            // doesn't cover the line-text
            const { top: top , height: height  } = $8xgjE.getDomNodePagePosition(this._domNode);
            const lineHeight = this._editor.getOption(58 /* lineHeight */ );
            let pad = Math.floor(lineHeight / 3);
            if (this.state.widgetPosition.position !== null && this.state.widgetPosition.position.lineNumber < this.state.editorPosition.lineNumber) pad += lineHeight;
            this._onClick.fire({
                x: e.posx,
                y: top + height + pad,
                actions: this.state.actions,
                trigger: this.state.trigger
            });
        }));
        this._register($8xgjE.addDisposableListener(this._domNode, 'mouseenter', (e)=>{
            if ((e.buttons & 1) !== 1) return;
            // mouse enters lightbulb while the primary/left button
            // is being pressed -> hide the lightbulb and block future
            // showings until mouse is released
            this.hide();
            const monitor = new $6D0Bv.GlobalMouseMoveMonitor();
            monitor.startMonitoring(e.target, e.buttons, $6D0Bv.standardMouseMoveMerger, ()=>{}, ()=>{
                monitor.dispose();
            });
        }));
        this._register(this._editor.onDidChangeConfiguration((e)=>{
            // hide when told to do so
            if (e.hasChanged(56 /* lightbulb */ ) && !this._editor.getOption(56 /* lightbulb */ ).enabled) this.hide();
        }));
        this._updateLightBulbTitleAndIcon();
        this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon, this));
    }
};
$39fd12a875798ab3$export$87ab1750f69500a0._posPref = [
    0 /* EXACT */ 
];
$39fd12a875798ab3$export$87ab1750f69500a0 = $39fd12a875798ab3$var$__decorate([
    $39fd12a875798ab3$var$__param(3, $i2aE6.IKeybindingService)
], $39fd12a875798ab3$export$87ab1750f69500a0);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    var _a;
    const editorBackgroundColor = (_a = theme.getColor($kL4Ig.editorBackground)) === null || _a === void 0 ? void 0 : _a.transparent(0.7);
    // Lightbulb Icon
    const editorLightBulbForegroundColor = theme.getColor($kL4Ig.editorLightBulbForeground);
    if (editorLightBulbForegroundColor) collector.addRule(`
		.monaco-editor .contentWidgets ${$k4zqw.Codicon.lightBulb.cssSelector} {
			color: ${editorLightBulbForegroundColor};
			background-color: ${editorBackgroundColor};
		}`);
    // Lightbulb Auto Fix Icon
    const editorLightBulbAutoFixForegroundColor = theme.getColor($kL4Ig.editorLightBulbAutoFixForeground);
    if (editorLightBulbAutoFixForegroundColor) collector.addRule(`
		.monaco-editor .contentWidgets ${$k4zqw.Codicon.lightbulbAutofix.cssSelector} {
			color: ${editorLightBulbAutoFixForegroundColor};
			background-color: ${editorBackgroundColor};
		}`);
});


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $a9c75b4d894987ee$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $a9c75b4d894987ee$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $a9c75b4d894987ee$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var $a9c75b4d894987ee$var$__classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;
};
var $a9c75b4d894987ee$var$__classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var $a9c75b4d894987ee$var$_CodeActionUi_disposed;
let $a9c75b4d894987ee$export$47357a276704fe7 = class $a9c75b4d894987ee$export$47357a276704fe7 extends $6W1JA.Disposable {
    dispose() {
        $a9c75b4d894987ee$var$__classPrivateFieldSet(this, $a9c75b4d894987ee$var$_CodeActionUi_disposed, true, "f");
        super.dispose();
    }
    update(newState) {
        var _a, _b, _c;
        return $a9c75b4d894987ee$var$__awaiter(this, void 0, void 0, function*() {
            if (newState.type !== 1 /* Triggered */ ) {
                (_a = this._lightBulbWidget.rawValue) === null || _a === void 0 || _a.hide();
                return;
            }
            let actions;
            try {
                actions = yield newState.actions;
            } catch (e) {
                $3FsT3.onUnexpectedError(e);
                return;
            }
            if ($a9c75b4d894987ee$var$__classPrivateFieldGet(this, $a9c75b4d894987ee$var$_CodeActionUi_disposed, "f")) return;
            this._lightBulbWidget.getValue().update(actions, newState.trigger, newState.position);
            if (newState.trigger.type === 1 /* Invoke */ ) {
                if ((_b = newState.trigger.filter) === null || _b === void 0 ? void 0 : _b.include) {
                    // Check to see if we want to auto apply.
                    const validActionToApply = this.tryGetValidActionToApply(newState.trigger, actions);
                    if (validActionToApply) {
                        try {
                            this._lightBulbWidget.getValue().hide();
                            yield this.delegate.applyCodeAction(validActionToApply, false);
                        } finally{
                            actions.dispose();
                        }
                        return;
                    }
                    // Check to see if there is an action that we would have applied were it not invalid
                    if (newState.trigger.context) {
                        const invalidAction = this.getInvalidActionThatWouldHaveBeenApplied(newState.trigger, actions);
                        if (invalidAction && invalidAction.action.disabled) {
                            $5e005249879805b3$exports.MessageController.get(this._editor).showMessage(invalidAction.action.disabled, newState.trigger.context.position);
                            actions.dispose();
                            return;
                        }
                    }
                }
                const includeDisabledActions = !!((_c = newState.trigger.filter) === null || _c === void 0 ? void 0 : _c.include);
                if (newState.trigger.context) {
                    if (!actions.allActions.length || !includeDisabledActions && !actions.validActions.length) {
                        $5e005249879805b3$exports.MessageController.get(this._editor).showMessage(newState.trigger.context.notAvailableMessage, newState.trigger.context.position);
                        this._activeCodeActions.value = actions;
                        actions.dispose();
                        return;
                    }
                }
                this._activeCodeActions.value = actions;
                this._codeActionWidget.getValue().show(newState.trigger, actions, newState.position, {
                    includeDisabledActions: includeDisabledActions
                });
            } else // auto magically triggered
            if (this._codeActionWidget.getValue().isVisible) // TODO: Figure out if we should update the showing menu?
            actions.dispose();
            else this._activeCodeActions.value = actions;
        });
    }
    getInvalidActionThatWouldHaveBeenApplied(trigger, actions) {
        if (!actions.allActions.length) return undefined;
        if (trigger.autoApply === "first" /* First */  && actions.validActions.length === 0 || trigger.autoApply === "ifSingle" /* IfSingle */  && actions.allActions.length === 1) return actions.allActions.find(({ action: action  })=>action.disabled
        );
        return undefined;
    }
    tryGetValidActionToApply(trigger, actions) {
        if (!actions.validActions.length) return undefined;
        if (trigger.autoApply === "first" /* First */  && actions.validActions.length > 0 || trigger.autoApply === "ifSingle" /* IfSingle */  && actions.validActions.length === 1) return actions.validActions[0];
        return undefined;
    }
    showCodeActionList(trigger, actions, at, options) {
        return $a9c75b4d894987ee$var$__awaiter(this, void 0, void 0, function*() {
            this._codeActionWidget.getValue().show(trigger, actions, at, options);
        });
    }
    constructor(_editor, quickFixActionId, preferredFixActionId, delegate, instantiationService){
        super();
        this._editor = _editor;
        this.delegate = delegate;
        this._activeCodeActions = this._register(new $6W1JA.MutableDisposable());
        $a9c75b4d894987ee$var$_CodeActionUi_disposed.set(this, false);
        this._codeActionWidget = new $8b732b5f2d8cc37c$export$b624eff549462981(()=>{
            return this._register(instantiationService.createInstance($1b3662507b8d99cf$exports.CodeActionMenu, this._editor, {
                onSelectCodeAction: (action)=>$a9c75b4d894987ee$var$__awaiter(this, void 0, void 0, function*() {
                        this.delegate.applyCodeAction(action, /* retrigger */ true);
                    })
            }));
        });
        this._lightBulbWidget = new $8b732b5f2d8cc37c$export$b624eff549462981(()=>{
            const widget = this._register(instantiationService.createInstance($39fd12a875798ab3$exports.LightBulbWidget, this._editor, quickFixActionId, preferredFixActionId));
            this._register(widget.onClick((e)=>this.showCodeActionList(e.trigger, e.actions, e, {
                    includeDisabledActions: false
                })
            ));
            return widget;
        });
    }
};
$a9c75b4d894987ee$var$_CodeActionUi_disposed = new WeakMap();
$a9c75b4d894987ee$export$47357a276704fe7 = $a9c75b4d894987ee$var$__decorate([
    $a9c75b4d894987ee$var$__param(4, $6Xx7t.IInstantiationService)
], $a9c75b4d894987ee$export$47357a276704fe7);




var $1WuVQ = parcelRequire("1WuVQ");

var $c0VS7 = parcelRequire("c0VS7");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $ehxrG = parcelRequire("ehxrG");

var $7MTz8 = parcelRequire("7MTz8");

var $5IX4y = parcelRequire("5IX4y");

var $dDQuJ = parcelRequire("dDQuJ");
var $63bef91d62daa029$exports = {};

$parcel$export($63bef91d62daa029$exports, "SUPPORTED_CODE_ACTIONS", function () { return $63bef91d62daa029$export$1209f8b35536d626; }, function (v) { return $63bef91d62daa029$export$1209f8b35536d626 = v; });
$parcel$export($63bef91d62daa029$exports, "CodeActionModel", function () { return $63bef91d62daa029$export$d2ba69ecaab87b2c; }, function (v) { return $63bef91d62daa029$export$d2ba69ecaab87b2c = v; });

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $lvxAj = parcelRequire("lvxAj");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $h4kGX = parcelRequire("h4kGX");

var $5IX4y = parcelRequire("5IX4y");

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $63bef91d62daa029$var$__classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var $63bef91d62daa029$var$__classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;
};
var $63bef91d62daa029$var$_CodeActionModel_isDisposed;
const $63bef91d62daa029$export$1209f8b35536d626 = new $h4kGX.RawContextKey('supportedCodeAction', '');
class $63bef91d62daa029$var$CodeActionOracle extends $6W1JA.Disposable {
    trigger(trigger) {
        const selection = this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);
        return this._createEventAndSignalChange(trigger, selection);
    }
    _onMarkerChanges(resources) {
        const model = this._editor.getModel();
        if (!model) return;
        if (resources.some((resource)=>$lvxAj.isEqual(resource, model.uri)
        )) this._autoTriggerTimer.cancelAndSet(()=>{
            this.trigger({
                type: 2 /* Auto */ 
            });
        }, this._delay);
    }
    _onCursorChange() {
        this._autoTriggerTimer.cancelAndSet(()=>{
            this.trigger({
                type: 2 /* Auto */ 
            });
        }, this._delay);
    }
    _getRangeOfMarker(selection) {
        const model = this._editor.getModel();
        if (!model) return undefined;
        for (const marker of this._markerService.read({
            resource: model.uri
        })){
            const markerRange = model.validateRange(marker);
            if ($1YFxJ.Range.intersectRanges(markerRange, selection)) return $1YFxJ.Range.lift(markerRange);
        }
        return undefined;
    }
    _getRangeOfSelectionUnlessWhitespaceEnclosed(trigger) {
        if (!this._editor.hasModel()) return undefined;
        const model = this._editor.getModel();
        const selection = this._editor.getSelection();
        if (selection.isEmpty() && trigger.type === 2 /* Auto */ ) {
            const { lineNumber: lineNumber , column: column  } = selection.getPosition();
            const line = model.getLineContent(lineNumber);
            if (line.length === 0) // empty line
            return undefined;
            else if (column === 1) {
                // look only right
                if (/\s/.test(line[0])) return undefined;
            } else if (column === model.getLineMaxColumn(lineNumber)) {
                // look only left
                if (/\s/.test(line[line.length - 1])) return undefined;
            } else {
                // look left and right
                if (/\s/.test(line[column - 2]) && /\s/.test(line[column - 1])) return undefined;
            }
        }
        return selection;
    }
    _createEventAndSignalChange(trigger, selection) {
        const model = this._editor.getModel();
        if (!selection || !model) {
            // cancel
            this._signalChange(undefined);
            return undefined;
        }
        const markerRange = this._getRangeOfMarker(selection);
        const position = markerRange ? markerRange.getStartPosition() : selection.getStartPosition();
        const e = {
            trigger: trigger,
            selection: selection,
            position: position
        };
        this._signalChange(e);
        return e;
    }
    constructor(_editor, _markerService, _signalChange, _delay = 250){
        super();
        this._editor = _editor;
        this._markerService = _markerService;
        this._signalChange = _signalChange;
        this._delay = _delay;
        this._autoTriggerTimer = this._register(new $5piST.TimeoutTimer());
        this._register(this._markerService.onMarkerChanged((e)=>this._onMarkerChanges(e)
        ));
        this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()
        ));
    }
}
var $63bef91d62daa029$export$6e13bf9b6b21a756;
(function($63bef91d62daa029$export$6e13bf9b6b21a756) {
    $63bef91d62daa029$export$6e13bf9b6b21a756.Empty = {
        type: 0 /* Empty */ 
    };
    class Triggered {
        cancel() {
            this._cancellablePromise.cancel();
        }
        constructor(trigger, rangeOrSelection, position, _cancellablePromise){
            this.trigger = trigger;
            this.rangeOrSelection = rangeOrSelection;
            this.position = position;
            this._cancellablePromise = _cancellablePromise;
            this.type = 1 /* Triggered */ ;
            this.actions = _cancellablePromise.catch((e)=>{
                if ($3FsT3.isPromiseCanceledError(e)) return $63bef91d62daa029$var$emptyCodeActionSet;
                throw e;
            });
        }
    }
    $63bef91d62daa029$export$6e13bf9b6b21a756.Triggered = Triggered;
})($63bef91d62daa029$export$6e13bf9b6b21a756 || ($63bef91d62daa029$export$6e13bf9b6b21a756 = {}));
const $63bef91d62daa029$var$emptyCodeActionSet = {
    allActions: [],
    validActions: [],
    dispose: ()=>{},
    documentation: [],
    hasAutoFix: false
};
class $63bef91d62daa029$export$d2ba69ecaab87b2c extends $6W1JA.Disposable {
    dispose() {
        if ($63bef91d62daa029$var$__classPrivateFieldGet(this, $63bef91d62daa029$var$_CodeActionModel_isDisposed, "f")) return;
        $63bef91d62daa029$var$__classPrivateFieldSet(this, $63bef91d62daa029$var$_CodeActionModel_isDisposed, true, "f");
        super.dispose();
        this.setState($63bef91d62daa029$export$6e13bf9b6b21a756.Empty, true);
    }
    _update() {
        if ($63bef91d62daa029$var$__classPrivateFieldGet(this, $63bef91d62daa029$var$_CodeActionModel_isDisposed, "f")) return;
        this._codeActionOracle.value = undefined;
        this.setState($63bef91d62daa029$export$6e13bf9b6b21a756.Empty);
        const model = this._editor.getModel();
        if (model && $goPht.CodeActionProviderRegistry.has(model) && !this._editor.getOption(80 /* readOnly */ )) {
            const supportedActions = [];
            for (const provider of $goPht.CodeActionProviderRegistry.all(model))if (Array.isArray(provider.providedCodeActionKinds)) supportedActions.push(...provider.providedCodeActionKinds);
            this._supportedCodeActions.set(supportedActions.join(' '));
            this._codeActionOracle.value = new $63bef91d62daa029$var$CodeActionOracle(this._editor, this._markerService, (trigger)=>{
                var _a;
                if (!trigger) {
                    this.setState($63bef91d62daa029$export$6e13bf9b6b21a756.Empty);
                    return;
                }
                const actions = $5piST.createCancelablePromise((token)=>$1ff12a7310549990$exports.getCodeActions(model, trigger.selection, trigger.trigger, $5IX4y.Progress.None, token)
                );
                if (trigger.trigger.type === 1 /* Invoke */ ) (_a = this._progressService) === null || _a === void 0 || _a.showWhile(actions, 250);
                this.setState(new $63bef91d62daa029$export$6e13bf9b6b21a756.Triggered(trigger.trigger, trigger.selection, trigger.position, actions));
            }, undefined);
            this._codeActionOracle.value.trigger({
                type: 2 /* Auto */ 
            });
        } else this._supportedCodeActions.reset();
    }
    trigger(trigger) {
        if (this._codeActionOracle.value) this._codeActionOracle.value.trigger(trigger);
    }
    setState(newState, skipNotify) {
        if (newState === this._state) return;
        // Cancel old request
        if (this._state.type === 1 /* Triggered */ ) this._state.cancel();
        this._state = newState;
        if (!skipNotify && !$63bef91d62daa029$var$__classPrivateFieldGet(this, $63bef91d62daa029$var$_CodeActionModel_isDisposed, "f")) this._onDidChangeState.fire(newState);
    }
    constructor(_editor, _markerService, contextKeyService, _progressService){
        super();
        this._editor = _editor;
        this._markerService = _markerService;
        this._progressService = _progressService;
        this._codeActionOracle = this._register(new $6W1JA.MutableDisposable());
        this._state = $63bef91d62daa029$export$6e13bf9b6b21a756.Empty;
        this._onDidChangeState = this._register(new $bkXdq.Emitter());
        this.onDidChangeState = this._onDidChangeState.event;
        $63bef91d62daa029$var$_CodeActionModel_isDisposed.set(this, false);
        this._supportedCodeActions = $63bef91d62daa029$export$1209f8b35536d626.bindTo(contextKeyService);
        this._register(this._editor.onDidChangeModel(()=>this._update()
        ));
        this._register(this._editor.onDidChangeModelLanguage(()=>this._update()
        ));
        this._register($goPht.CodeActionProviderRegistry.onDidChange(()=>this._update()
        ));
        this._update();
    }
}
$63bef91d62daa029$var$_CodeActionModel_isDisposed = new WeakMap();



/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $9e6374eaa54e223a$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $9e6374eaa54e223a$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $9e6374eaa54e223a$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
function $9e6374eaa54e223a$var$contextKeyForSupportedActions(kind) {
    return $h4kGX.ContextKeyExpr.regex($63bef91d62daa029$exports.SUPPORTED_CODE_ACTIONS.keys()[0], new RegExp('(\\s|^)' + $i4xl7.escapeRegExpCharacters(kind.value) + '\\b'));
}
const $9e6374eaa54e223a$var$argsSchema = {
    type: 'object',
    defaultSnippets: [
        {
            body: {
                kind: ''
            }
        }
    ],
    properties: {
        'kind': {
            type: 'string',
            description: $1WuVQ.localize('args.schema.kind', "Kind of the code action to run.")
        },
        'apply': {
            type: 'string',
            description: $1WuVQ.localize('args.schema.apply', "Controls when the returned actions are applied."),
            default: "ifSingle" /* IfSingle */ ,
            enum: [
                "first" /* First */ ,
                "ifSingle" /* IfSingle */ ,
                "never" /* Never */ 
            ],
            enumDescriptions: [
                $1WuVQ.localize('args.schema.apply.first', "Always apply the first returned code action."),
                $1WuVQ.localize('args.schema.apply.ifSingle', "Apply the first returned code action if it is the only one."),
                $1WuVQ.localize('args.schema.apply.never', "Do not apply the returned code actions."), 
            ]
        },
        'preferred': {
            type: 'boolean',
            default: false,
            description: $1WuVQ.localize('args.schema.preferred', "Controls if only preferred code actions should be returned.")
        }
    }
};
let $9e6374eaa54e223a$export$12bfd62cda48c28c = class $9e6374eaa54e223a$export$12bfd62cda48c28c extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution($9e6374eaa54e223a$export$12bfd62cda48c28c.ID);
    }
    update(newState) {
        this._ui.getValue().update(newState);
    }
    showCodeActions(trigger, actions, at) {
        return this._ui.getValue().showCodeActionList(trigger, actions, at, {
            includeDisabledActions: false
        });
    }
    manualTriggerAtCurrentPosition(notAvailableMessage, filter, autoApply) {
        if (!this._editor.hasModel()) return;
        $5e005249879805b3$exports.MessageController.get(this._editor).closeMessage();
        const triggerPosition = this._editor.getPosition();
        this._trigger({
            type: 1 /* Invoke */ ,
            filter: filter,
            autoApply: autoApply,
            context: {
                notAvailableMessage: notAvailableMessage,
                position: triggerPosition
            }
        });
    }
    _trigger(trigger) {
        return this._model.trigger(trigger);
    }
    _applyCodeAction(action) {
        return this._instantiationService.invokeFunction($9e6374eaa54e223a$export$69c5fd17c7ee0695, action, this._editor);
    }
    constructor(editor, markerService, contextKeyService, progressService, _instantiationService){
        super();
        this._instantiationService = _instantiationService;
        this._editor = editor;
        this._model = this._register(new $63bef91d62daa029$exports.CodeActionModel(this._editor, markerService, contextKeyService, progressService));
        this._register(this._model.onDidChangeState((newState)=>this.update(newState)
        ));
        this._ui = new $8b732b5f2d8cc37c$export$b624eff549462981(()=>this._register(new $a9c75b4d894987ee$exports.CodeActionUi(editor, $9e6374eaa54e223a$export$882e0ee127a25fbb.Id, $9e6374eaa54e223a$export$2bffd38cf19da049.Id, {
                applyCodeAction: (action, retrigger)=>$9e6374eaa54e223a$var$__awaiter(this, void 0, void 0, function*() {
                        try {
                            yield this._applyCodeAction(action);
                        } finally{
                            if (retrigger) this._trigger({
                                type: 2 /* Auto */ ,
                                filter: {}
                            });
                        }
                    })
            }, this._instantiationService))
        );
    }
};
$9e6374eaa54e223a$export$12bfd62cda48c28c.ID = 'editor.contrib.quickFixController';
$9e6374eaa54e223a$export$12bfd62cda48c28c = $9e6374eaa54e223a$var$__decorate([
    $9e6374eaa54e223a$var$__param(1, $ehxrG.IMarkerService),
    $9e6374eaa54e223a$var$__param(2, $h4kGX.IContextKeyService),
    $9e6374eaa54e223a$var$__param(3, $5IX4y.IEditorProgressService),
    $9e6374eaa54e223a$var$__param(4, $6Xx7t.IInstantiationService)
], $9e6374eaa54e223a$export$12bfd62cda48c28c);
function $9e6374eaa54e223a$export$69c5fd17c7ee0695(accessor, item, editor) {
    return $9e6374eaa54e223a$var$__awaiter(this, void 0, void 0, function*() {
        const bulkEditService = accessor.get($e4ShP.IBulkEditService);
        const commandService = accessor.get($c0VS7.ICommandService);
        const telemetryService = accessor.get($dDQuJ.ITelemetryService);
        const notificationService = accessor.get($7MTz8.INotificationService);
        telemetryService.publicLog2('codeAction.applyCodeAction', {
            codeActionTitle: item.action.title,
            codeActionKind: item.action.kind,
            codeActionIsPreferred: !!item.action.isPreferred
        });
        yield item.resolve($1vhHo.CancellationToken.None);
        if (item.action.edit) yield bulkEditService.apply($e4ShP.ResourceEdit.convert(item.action.edit), {
            editor: editor,
            label: item.action.title
        });
        if (item.action.command) try {
            yield commandService.executeCommand(item.action.command.id, ...item.action.command.arguments || []);
        } catch (err) {
            const message = $9e6374eaa54e223a$var$asMessage(err);
            notificationService.error(typeof message === 'string' ? message : $1WuVQ.localize('applyCodeActionFailed', "An unknown error occurred while applying the code action"));
        }
    });
}
function $9e6374eaa54e223a$var$asMessage(err) {
    if (typeof err === 'string') return err;
    else if (err instanceof Error && typeof err.message === 'string') return err.message;
    else return undefined;
}
function $9e6374eaa54e223a$var$triggerCodeActionsForEditorSelection(editor, notAvailableMessage, filter, autoApply) {
    if (editor.hasModel()) {
        const controller = $9e6374eaa54e223a$export$12bfd62cda48c28c.get(editor);
        if (controller) controller.manualTriggerAtCurrentPosition(notAvailableMessage, filter, autoApply);
    }
}
class $9e6374eaa54e223a$export$882e0ee127a25fbb extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $9e6374eaa54e223a$var$triggerCodeActionsForEditorSelection(editor, $1WuVQ.localize('editor.action.quickFix.noneMessage', "No code actions available"), undefined, undefined);
    }
    constructor(){
        super({
            id: $9e6374eaa54e223a$export$882e0ee127a25fbb.Id,
            label: $1WuVQ.localize('quickfix.trigger.label', "Quick Fix..."),
            alias: 'Quick Fix...',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasCodeActionsProvider),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2132 /* Period */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$9e6374eaa54e223a$export$882e0ee127a25fbb.Id = 'editor.action.quickFix';
class $9e6374eaa54e223a$export$94d24ce7f8ca1f8c extends $g9Zlr.EditorCommand {
    runEditorCommand(_accessor, editor, userArgs) {
        const args = $213ada70c3870067$export$b4557d8a7419d430.fromUser(userArgs, {
            kind: $213ada70c3870067$export$c72b5966cfff6b4d.Empty,
            apply: "ifSingle" /* IfSingle */ 
        });
        return $9e6374eaa54e223a$var$triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string' ? args.preferred ? $1WuVQ.localize('editor.action.codeAction.noneMessage.preferred.kind', "No preferred code actions for '{0}' available", userArgs.kind) : $1WuVQ.localize('editor.action.codeAction.noneMessage.kind', "No code actions for '{0}' available", userArgs.kind) : args.preferred ? $1WuVQ.localize('editor.action.codeAction.noneMessage.preferred', "No preferred code actions available") : $1WuVQ.localize('editor.action.codeAction.noneMessage', "No code actions available"), {
            include: args.kind,
            includeSourceActions: true,
            onlyIncludePreferredActions: args.preferred
        }, args.apply);
    }
    constructor(){
        super({
            id: $1ff12a7310549990$exports.codeActionCommandId,
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasCodeActionsProvider),
            description: {
                description: 'Trigger a code action',
                args: [
                    {
                        name: 'args',
                        schema: $9e6374eaa54e223a$var$argsSchema
                    }
                ]
            }
        });
    }
}
class $9e6374eaa54e223a$export$717c8b29cf6c7de0 extends $g9Zlr.EditorAction {
    run(_accessor, editor, userArgs) {
        const args = $213ada70c3870067$export$b4557d8a7419d430.fromUser(userArgs, {
            kind: $213ada70c3870067$export$c72b5966cfff6b4d.Refactor,
            apply: "never" /* Never */ 
        });
        return $9e6374eaa54e223a$var$triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string' ? args.preferred ? $1WuVQ.localize('editor.action.refactor.noneMessage.preferred.kind', "No preferred refactorings for '{0}' available", userArgs.kind) : $1WuVQ.localize('editor.action.refactor.noneMessage.kind', "No refactorings for '{0}' available", userArgs.kind) : args.preferred ? $1WuVQ.localize('editor.action.refactor.noneMessage.preferred', "No preferred refactorings available") : $1WuVQ.localize('editor.action.refactor.noneMessage', "No refactorings available"), {
            include: $213ada70c3870067$export$c72b5966cfff6b4d.Refactor.contains(args.kind) ? args.kind : $213ada70c3870067$export$c72b5966cfff6b4d.None,
            onlyIncludePreferredActions: args.preferred
        }, args.apply);
    }
    constructor(){
        super({
            id: $1ff12a7310549990$exports.refactorCommandId,
            label: $1WuVQ.localize('refactor.label', "Refactor..."),
            alias: 'Refactor...',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasCodeActionsProvider),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3120 /* KeyR */ ,
                mac: {
                    primary: 1328 /* KeyR */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: '1_modification',
                order: 2,
                when: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $9e6374eaa54e223a$var$contextKeyForSupportedActions($213ada70c3870067$export$c72b5966cfff6b4d.Refactor))
            },
            description: {
                description: 'Refactor...',
                args: [
                    {
                        name: 'args',
                        schema: $9e6374eaa54e223a$var$argsSchema
                    }
                ]
            }
        });
    }
}
class $9e6374eaa54e223a$export$6754a4b1b720e9fb extends $g9Zlr.EditorAction {
    run(_accessor, editor, userArgs) {
        const args = $213ada70c3870067$export$b4557d8a7419d430.fromUser(userArgs, {
            kind: $213ada70c3870067$export$c72b5966cfff6b4d.Source,
            apply: "never" /* Never */ 
        });
        return $9e6374eaa54e223a$var$triggerCodeActionsForEditorSelection(editor, typeof (userArgs === null || userArgs === void 0 ? void 0 : userArgs.kind) === 'string' ? args.preferred ? $1WuVQ.localize('editor.action.source.noneMessage.preferred.kind', "No preferred source actions for '{0}' available", userArgs.kind) : $1WuVQ.localize('editor.action.source.noneMessage.kind', "No source actions for '{0}' available", userArgs.kind) : args.preferred ? $1WuVQ.localize('editor.action.source.noneMessage.preferred', "No preferred source actions available") : $1WuVQ.localize('editor.action.source.noneMessage', "No source actions available"), {
            include: $213ada70c3870067$export$c72b5966cfff6b4d.Source.contains(args.kind) ? args.kind : $213ada70c3870067$export$c72b5966cfff6b4d.None,
            includeSourceActions: true,
            onlyIncludePreferredActions: args.preferred
        }, args.apply);
    }
    constructor(){
        super({
            id: $1ff12a7310549990$exports.sourceActionCommandId,
            label: $1WuVQ.localize('source.label', "Source Action..."),
            alias: 'Source Action...',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasCodeActionsProvider),
            contextMenuOpts: {
                group: '1_modification',
                order: 2.1,
                when: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $9e6374eaa54e223a$var$contextKeyForSupportedActions($213ada70c3870067$export$c72b5966cfff6b4d.Source))
            },
            description: {
                description: 'Source Action...',
                args: [
                    {
                        name: 'args',
                        schema: $9e6374eaa54e223a$var$argsSchema
                    }
                ]
            }
        });
    }
}
class $9e6374eaa54e223a$export$839e26b4813ba04c extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $9e6374eaa54e223a$var$triggerCodeActionsForEditorSelection(editor, $1WuVQ.localize('editor.action.organize.noneMessage', "No organize imports action available"), {
            include: $213ada70c3870067$export$c72b5966cfff6b4d.SourceOrganizeImports,
            includeSourceActions: true
        }, "ifSingle" /* IfSingle */ );
    }
    constructor(){
        super({
            id: $1ff12a7310549990$exports.organizeImportsCommandId,
            label: $1WuVQ.localize('organizeImports.label', "Organize Imports"),
            alias: 'Organize Imports',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $9e6374eaa54e223a$var$contextKeyForSupportedActions($213ada70c3870067$export$c72b5966cfff6b4d.SourceOrganizeImports)),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1581 /* KeyO */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $9e6374eaa54e223a$export$900fefaddb0995e3 extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $9e6374eaa54e223a$var$triggerCodeActionsForEditorSelection(editor, $1WuVQ.localize('fixAll.noneMessage', "No fix all action available"), {
            include: $213ada70c3870067$export$c72b5966cfff6b4d.SourceFixAll,
            includeSourceActions: true
        }, "ifSingle" /* IfSingle */ );
    }
    constructor(){
        super({
            id: $1ff12a7310549990$exports.fixAllCommandId,
            label: $1WuVQ.localize('fixAll.label', "Fix All"),
            alias: 'Fix All',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $9e6374eaa54e223a$var$contextKeyForSupportedActions($213ada70c3870067$export$c72b5966cfff6b4d.SourceFixAll))
        });
    }
}
class $9e6374eaa54e223a$export$2bffd38cf19da049 extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $9e6374eaa54e223a$var$triggerCodeActionsForEditorSelection(editor, $1WuVQ.localize('editor.action.autoFix.noneMessage', "No auto fixes available"), {
            include: $213ada70c3870067$export$c72b5966cfff6b4d.QuickFix,
            onlyIncludePreferredActions: true
        }, "ifSingle" /* IfSingle */ );
    }
    constructor(){
        super({
            id: $9e6374eaa54e223a$export$2bffd38cf19da049.Id,
            label: $1WuVQ.localize('autoFix.label', "Auto Fix..."),
            alias: 'Auto Fix...',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $9e6374eaa54e223a$var$contextKeyForSupportedActions($213ada70c3870067$export$c72b5966cfff6b4d.QuickFix)),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1620 /* Period */ ,
                mac: {
                    primary: 2644 /* Period */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$9e6374eaa54e223a$export$2bffd38cf19da049.Id = 'editor.action.autoFix';


$g9Zlr.registerEditorContribution($9e6374eaa54e223a$exports.QuickFixController.ID, $9e6374eaa54e223a$exports.QuickFixController);
$g9Zlr.registerEditorAction($9e6374eaa54e223a$exports.QuickFixAction);
$g9Zlr.registerEditorAction($9e6374eaa54e223a$exports.RefactorAction);
$g9Zlr.registerEditorAction($9e6374eaa54e223a$exports.SourceAction);
$g9Zlr.registerEditorAction($9e6374eaa54e223a$exports.OrganizeImportsAction);
$g9Zlr.registerEditorAction($9e6374eaa54e223a$exports.AutoFixAction);
$g9Zlr.registerEditorAction($9e6374eaa54e223a$exports.FixAllAction);
$g9Zlr.registerEditorCommand(new $9e6374eaa54e223a$exports.CodeActionCommand());


var $7aef72a5d3a7fd50$exports = {};

var $8xgjE = parcelRequire("8xgjE");

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $2fM9s = parcelRequire("2fM9s");

var $6W1JA = parcelRequire("6W1JA");

var $78AWm = parcelRequire("78AWm");

var $g9Zlr = parcelRequire("g9Zlr");

var $iB8dk = parcelRequire("iB8dk");

var $7oeKV = parcelRequire("7oeKV");

var $goPht = parcelRequire("goPht");

var $9Vnse = parcelRequire("9Vnse");
var $9f8f2c6aa18f325a$exports = {};

$parcel$export($9f8f2c6aa18f325a$exports, "CodeLensModel", function () { return $9f8f2c6aa18f325a$export$c6268d20d31c03ba; }, function (v) { return $9f8f2c6aa18f325a$export$c6268d20d31c03ba = v; });
$parcel$export($9f8f2c6aa18f325a$exports, "getCodeLensModel", function () { return $9f8f2c6aa18f325a$export$bebcff98c7e74873; }, function (v) { return $9f8f2c6aa18f325a$export$bebcff98c7e74873 = v; });

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $erLC3 = parcelRequire("erLC3");

var $bUZVY = parcelRequire("bUZVY");

var $goPht = parcelRequire("goPht");

var $75At3 = parcelRequire("75At3");

var $c0VS7 = parcelRequire("c0VS7");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $9f8f2c6aa18f325a$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $9f8f2c6aa18f325a$export$c6268d20d31c03ba {
    dispose() {
        this._disposables.dispose();
    }
    add(list, provider) {
        this._disposables.add(list);
        for (const symbol of list.lenses)this.lenses.push({
            symbol: symbol,
            provider: provider
        });
    }
    constructor(){
        this.lenses = [];
        this._disposables = new $6W1JA.DisposableStore();
    }
}
function $9f8f2c6aa18f325a$export$bebcff98c7e74873(model, token) {
    return $9f8f2c6aa18f325a$var$__awaiter(this, void 0, void 0, function*() {
        const provider1 = $goPht.CodeLensProviderRegistry.ordered(model);
        const providerRanks = new Map();
        const result = new $9f8f2c6aa18f325a$export$c6268d20d31c03ba();
        const promises = provider1.map((provider, i)=>$9f8f2c6aa18f325a$var$__awaiter(this, void 0, void 0, function*() {
                providerRanks.set(provider, i);
                try {
                    const list = yield Promise.resolve(provider.provideCodeLenses(model, token));
                    if (list) result.add(list, provider);
                } catch (err) {
                    $3FsT3.onUnexpectedExternalError(err);
                }
            })
        );
        yield Promise.all(promises);
        result.lenses = result.lenses.sort((a, b)=>{
            // sort by lineNumber, provider-rank, and column
            if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) return -1;
            else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) return 1;
            else if (providerRanks.get(a.provider) < providerRanks.get(b.provider)) return -1;
            else if (providerRanks.get(a.provider) > providerRanks.get(b.provider)) return 1;
            else if (a.symbol.range.startColumn < b.symbol.range.startColumn) return -1;
            else if (a.symbol.range.startColumn > b.symbol.range.startColumn) return 1;
            else return 0;
        });
        return result;
    });
}
$c0VS7.CommandsRegistry.registerCommand('_executeCodeLensProvider', function(accessor, ...args) {
    let [uri, itemResolveCount] = args;
    $erLC3.assertType($bUZVY.URI.isUri(uri));
    $erLC3.assertType(typeof itemResolveCount === 'number' || !itemResolveCount);
    const model = accessor.get($75At3.IModelService).getModel(uri);
    if (!model) throw $3FsT3.illegalArgument();
    const result = [];
    const disposables = new $6W1JA.DisposableStore();
    return $9f8f2c6aa18f325a$export$bebcff98c7e74873(model, $1vhHo.CancellationToken.None).then((value)=>{
        disposables.add(value);
        let resolve = [];
        for (const item of value.lenses){
            if (itemResolveCount === undefined || itemResolveCount === null || Boolean(item.symbol.command)) result.push(item.symbol);
            else if (itemResolveCount-- > 0 && item.provider.resolveCodeLens) resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, $1vhHo.CancellationToken.None)).then((symbol)=>result.push(symbol || item.symbol)
            ));
        }
        return Promise.all(resolve);
    }).then(()=>{
        return result;
    }).finally(()=>{
        // make sure to return results, then (on next tick)
        // dispose the results
        setTimeout(()=>disposables.dispose()
        , 100);
    });
});


var $8196cdf07007cb4c$exports = {};

$parcel$export($8196cdf07007cb4c$exports, "ICodeLensCache", function () { return $8196cdf07007cb4c$export$49a51fe6a3a59e77; }, function (v) { return $8196cdf07007cb4c$export$49a51fe6a3a59e77 = v; });

var $5piST = parcelRequire("5piST");

var $et8fh = parcelRequire("et8fh");

var $dNpei = parcelRequire("dNpei");

var $1YFxJ = parcelRequire("1YFxJ");


var $fjjY8 = parcelRequire("fjjY8");

var $6Xx7t = parcelRequire("6Xx7t");

var $4toHF = parcelRequire("4toHF");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $8196cdf07007cb4c$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $8196cdf07007cb4c$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $8196cdf07007cb4c$export$49a51fe6a3a59e77 = $6Xx7t.createDecorator('ICodeLensCache');
class $8196cdf07007cb4c$var$CacheItem {
    constructor(lineCount, data){
        this.lineCount = lineCount;
        this.data = data;
    }
}
let $8196cdf07007cb4c$export$ff670dd45c13b8eb = class $8196cdf07007cb4c$export$ff670dd45c13b8eb {
    put(model, data) {
        // create a copy of the model that is without command-ids
        // but with comand-labels
        const copyItems = data.lenses.map((item)=>{
            var _a;
            return {
                range: item.symbol.range,
                command: item.symbol.command && {
                    id: '',
                    title: (_a = item.symbol.command) === null || _a === void 0 ? void 0 : _a.title
                }
            };
        });
        const copyModel = new $9f8f2c6aa18f325a$exports.CodeLensModel();
        copyModel.add({
            lenses: copyItems,
            dispose: ()=>{}
        }, this._fakeProvider);
        const item1 = new $8196cdf07007cb4c$var$CacheItem(model.getLineCount(), copyModel);
        this._cache.set(model.uri.toString(), item1);
    }
    get(model) {
        const item = this._cache.get(model.uri.toString());
        return item && item.lineCount === model.getLineCount() ? item.data : undefined;
    }
    delete(model) {
        this._cache.delete(model.uri.toString());
    }
    // --- persistence
    _serialize() {
        const data = Object.create(null);
        for (const [key, value] of this._cache){
            const lines = new Set();
            for (const d of value.data.lenses)lines.add(d.symbol.range.startLineNumber);
            data[key] = {
                lineCount: value.lineCount,
                lines: [
                    ...lines.values()
                ]
            };
        }
        return JSON.stringify(data);
    }
    _deserialize(raw) {
        try {
            const data = JSON.parse(raw);
            for(const key in data){
                const element = data[key];
                const lenses = [];
                for (const line of element.lines)lenses.push({
                    range: new $1YFxJ.Range(line, 1, line, 11)
                });
                const model = new $9f8f2c6aa18f325a$exports.CodeLensModel();
                model.add({
                    lenses: lenses,
                    dispose () {}
                }, this._fakeProvider);
                this._cache.set(key, new $8196cdf07007cb4c$var$CacheItem(element.lineCount, model));
            }
        } catch (_a) {
        // ignore...
        }
    }
    constructor(storageService){
        this._fakeProvider = new class {
            provideCodeLenses() {
                throw new Error('not supported');
            }
        };
        this._cache = new $dNpei.LRUCache(20, 0.75);
        // remove old data
        const oldkey = 'codelens/cache';
        $5piST.runWhenIdle(()=>storageService.remove(oldkey, 1 /* WORKSPACE */ )
        );
        // restore lens data on start
        const key = 'codelens/cache2';
        const raw = storageService.get(key, 1 /* WORKSPACE */ , '{}');
        this._deserialize(raw);
        // store lens data on shutdown
        $et8fh.once(storageService.onWillSaveState)((e)=>{
            if (e.reason === $4toHF.WillSaveStateReason.SHUTDOWN) storageService.store(key, this._serialize(), 1 /* WORKSPACE */ , 1 /* MACHINE */ );
        });
    }
};
$8196cdf07007cb4c$export$ff670dd45c13b8eb = $8196cdf07007cb4c$var$__decorate([
    $8196cdf07007cb4c$var$__param(0, $4toHF.IStorageService)
], $8196cdf07007cb4c$export$ff670dd45c13b8eb);
$fjjY8.registerSingleton($8196cdf07007cb4c$export$49a51fe6a3a59e77, $8196cdf07007cb4c$export$ff670dd45c13b8eb);



var $8xgjE = parcelRequire("8xgjE");

var $4yyh4 = parcelRequire("4yyh4");


var $1YFxJ = parcelRequire("1YFxJ");

var $72tIz = parcelRequire("72tIz");
class $37b3125934624de7$var$CodeLensViewZone {
    onComputedHeight(height) {
        if (this._lastHeight === undefined) this._lastHeight = height;
        else if (this._lastHeight !== height) {
            this._lastHeight = height;
            this._onHeight();
        }
    }
    isVisible() {
        return this._lastHeight !== 0 && this.domNode.hasAttribute('monaco-visible-view-zone');
    }
    constructor(afterLineNumber, heightInPx, onHeight){
        this.afterLineNumber = afterLineNumber;
        this.heightInPx = heightInPx;
        this._onHeight = onHeight;
        this.suppressMouseDown = true;
        this.domNode = document.createElement('div');
    }
}
class $37b3125934624de7$var$CodeLensContentWidget {
    withCommands(lenses, animate) {
        this._commands.clear();
        let children = [];
        let hasSymbol = false;
        for(let i = 0; i < lenses.length; i++){
            const lens = lenses[i];
            if (!lens) continue;
            hasSymbol = true;
            if (lens.command) {
                const title = $4yyh4.renderLabelWithIcons(lens.command.title.trim());
                if (lens.command.id) {
                    children.push($8xgjE.$('a', {
                        id: String(i),
                        title: lens.command.tooltip
                    }, ...title));
                    this._commands.set(String(i), lens.command);
                } else children.push($8xgjE.$('span', {
                    title: lens.command.tooltip
                }, ...title));
                if (i + 1 < lenses.length) children.push($8xgjE.$('span', undefined, '\u00a0|\u00a0'));
            }
        }
        if (!hasSymbol) // symbols but no commands
        $8xgjE.reset(this._domNode, $8xgjE.$('span', undefined, 'no commands'));
        else {
            // symbols and commands
            $8xgjE.reset(this._domNode, ...children);
            if (this._isEmpty && animate) this._domNode.classList.add('fadein');
            this._isEmpty = false;
        }
    }
    getCommand(link) {
        return link.parentElement === this._domNode ? this._commands.get(link.id) : undefined;
    }
    getId() {
        return this._id;
    }
    getDomNode() {
        return this._domNode;
    }
    updatePosition(line) {
        const column = this._editor.getModel().getLineFirstNonWhitespaceColumn(line);
        this._widgetPosition = {
            position: {
                lineNumber: line,
                column: column
            },
            preference: [
                1 /* ABOVE */ 
            ]
        };
    }
    getPosition() {
        return this._widgetPosition || null;
    }
    constructor(editor, className, line){
        // Editor.IContentWidget.allowEditorOverflow
        this.allowEditorOverflow = false;
        this.suppressMouseDown = true;
        this._commands = new Map();
        this._isEmpty = true;
        this._editor = editor;
        this._id = `codelens.widget-${$37b3125934624de7$var$CodeLensContentWidget._idPool++}`;
        this.updatePosition(line);
        this._domNode = document.createElement('span');
        this._domNode.className = `codelens-decoration ${className}`;
    }
}
$37b3125934624de7$var$CodeLensContentWidget._idPool = 0;
class $37b3125934624de7$export$76bdebf29cc4b59e {
    addDecoration(decoration, callback) {
        this._addDecorations.push(decoration);
        this._addDecorationsCallbacks.push(callback);
    }
    removeDecoration(decorationId) {
        this._removeDecorations.push(decorationId);
    }
    commit(changeAccessor) {
        let resultingDecorations = changeAccessor.deltaDecorations(this._removeDecorations, this._addDecorations);
        for(let i = 0, len = resultingDecorations.length; i < len; i++)this._addDecorationsCallbacks[i](resultingDecorations[i]);
    }
    constructor(){
        this._removeDecorations = [];
        this._addDecorations = [];
        this._addDecorationsCallbacks = [];
    }
}
class $37b3125934624de7$export$c4760329dfff1b1c {
    _createContentWidgetIfNecessary() {
        if (!this._contentWidget) {
            this._contentWidget = new $37b3125934624de7$var$CodeLensContentWidget(this._editor, this._className, this._viewZone.afterLineNumber + 1);
            this._editor.addContentWidget(this._contentWidget);
        } else this._editor.layoutContentWidget(this._contentWidget);
    }
    dispose(helper, viewZoneChangeAccessor) {
        this._decorationIds.forEach(helper.removeDecoration, helper);
        this._decorationIds = [];
        if (viewZoneChangeAccessor) viewZoneChangeAccessor.removeZone(this._viewZoneId);
        if (this._contentWidget) {
            this._editor.removeContentWidget(this._contentWidget);
            this._contentWidget = undefined;
        }
        this._isDisposed = true;
    }
    isDisposed() {
        return this._isDisposed;
    }
    isValid() {
        return this._decorationIds.some((id, i)=>{
            const range = this._editor.getModel().getDecorationRange(id);
            const symbol = this._data[i].symbol;
            return !!(range && $1YFxJ.Range.isEmpty(symbol.range) === range.isEmpty());
        });
    }
    updateCodeLensSymbols(data, helper) {
        this._decorationIds.forEach(helper.removeDecoration, helper);
        this._decorationIds = [];
        this._data = data;
        this._data.forEach((codeLensData, i)=>{
            helper.addDecoration({
                range: codeLensData.symbol.range,
                options: $72tIz.ModelDecorationOptions.EMPTY
            }, (id)=>this._decorationIds[i] = id
            );
        });
    }
    updateHeight(height, viewZoneChangeAccessor) {
        this._viewZone.heightInPx = height;
        viewZoneChangeAccessor.layoutZone(this._viewZoneId);
        if (this._contentWidget) this._editor.layoutContentWidget(this._contentWidget);
    }
    computeIfNecessary(model) {
        if (!this._viewZone.isVisible()) return null;
        // Read editor current state
        for(let i = 0; i < this._decorationIds.length; i++){
            const range = model.getDecorationRange(this._decorationIds[i]);
            if (range) this._data[i].symbol.range = range;
        }
        return this._data;
    }
    updateCommands(symbols) {
        this._createContentWidgetIfNecessary();
        this._contentWidget.withCommands(symbols, true);
        for(let i = 0; i < this._data.length; i++){
            const resolved = symbols[i];
            if (resolved) {
                const { symbol: symbol  } = this._data[i];
                symbol.command = resolved.command || symbol.command;
            }
        }
    }
    getCommand(link) {
        var _a;
        return (_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.getCommand(link);
    }
    getLineNumber() {
        const range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);
        if (range) return range.startLineNumber;
        return -1;
    }
    update(viewZoneChangeAccessor) {
        if (this.isValid()) {
            const range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);
            if (range) {
                this._viewZone.afterLineNumber = range.startLineNumber - 1;
                viewZoneChangeAccessor.layoutZone(this._viewZoneId);
                if (this._contentWidget) {
                    this._contentWidget.updatePosition(range.startLineNumber);
                    this._editor.layoutContentWidget(this._contentWidget);
                }
            }
        }
    }
    getItems() {
        return this._data;
    }
    constructor(data, editor, className, helper, viewZoneChangeAccessor, heightInPx, updateCallback){
        this._isDisposed = false;
        this._editor = editor;
        this._className = className;
        this._data = data;
        // create combined range, track all ranges with decorations,
        // check if there is already something to render
        this._decorationIds = [];
        let range;
        let lenses = [];
        this._data.forEach((codeLensData, i)=>{
            if (codeLensData.symbol.command) lenses.push(codeLensData.symbol);
            helper.addDecoration({
                range: codeLensData.symbol.range,
                options: $72tIz.ModelDecorationOptions.EMPTY
            }, (id)=>this._decorationIds[i] = id
            );
            // the range contains all lenses on this line
            if (!range) range = $1YFxJ.Range.lift(codeLensData.symbol.range);
            else range = $1YFxJ.Range.plusRange(range, codeLensData.symbol.range);
        });
        this._viewZone = new $37b3125934624de7$var$CodeLensViewZone(range.startLineNumber - 1, heightInPx, updateCallback);
        this._viewZoneId = viewZoneChangeAccessor.addZone(this._viewZone);
        if (lenses.length > 0) {
            this._createContentWidgetIfNecessary();
            this._contentWidget.withCommands(lenses, false);
        }
    }
}



var $1WuVQ = parcelRequire("1WuVQ");

var $c0VS7 = parcelRequire("c0VS7");

var $7MTz8 = parcelRequire("7MTz8");

var $1GAzQ = parcelRequire("1GAzQ");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $7aef72a5d3a7fd50$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $7aef72a5d3a7fd50$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $7aef72a5d3a7fd50$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
let $7aef72a5d3a7fd50$export$2ad2fe275c1424ff = class $7aef72a5d3a7fd50$export$2ad2fe275c1424ff {
    dispose() {
        var _a;
        this._localDispose();
        this._disposables.dispose();
        this._oldCodeLensModels.dispose();
        (_a = this._currentCodeLensModel) === null || _a === void 0 || _a.dispose();
        this._styleElement.remove();
    }
    _getLayoutInfo() {
        let fontSize = this._editor.getOption(16 /* codeLensFontSize */ );
        let codeLensHeight;
        if (!fontSize || fontSize < 5) {
            fontSize = this._editor.getOption(45 /* fontSize */ ) * .9 | 0;
            codeLensHeight = this._editor.getOption(58 /* lineHeight */ );
        } else codeLensHeight = fontSize * Math.max(1.3, this._editor.getOption(58 /* lineHeight */ ) / this._editor.getOption(45 /* fontSize */ )) | 0;
        return {
            codeLensHeight: codeLensHeight,
            fontSize: fontSize
        };
    }
    _updateLensStyle() {
        const { codeLensHeight: codeLensHeight , fontSize: fontSize  } = this._getLayoutInfo();
        const fontFamily = this._editor.getOption(15 /* codeLensFontFamily */ );
        const editorFontInfo = this._editor.getOption(43 /* fontInfo */ );
        const fontFamilyVar = `--codelens-font-family${this._styleClassName}`;
        const fontFeaturesVar = `--codelens-font-features${this._styleClassName}`;
        let newStyle = `
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${codeLensHeight}px; font-size: ${fontSize}px; padding-right: ${Math.round(fontSize * 0.5)}px; font-feature-settings: var(${fontFeaturesVar}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${codeLensHeight}px; font-size: ${fontSize}px; }
		`;
        if (fontFamily) newStyle += `.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${fontFamilyVar}), ${$iB8dk.EDITOR_FONT_DEFAULTS.fontFamily}}`;
        this._styleElement.textContent = newStyle;
        this._editor.getContainerDomNode().style.setProperty(fontFamilyVar, fontFamily !== null && fontFamily !== void 0 ? fontFamily : 'inherit');
        this._editor.getContainerDomNode().style.setProperty(fontFeaturesVar, editorFontInfo.fontFeatureSettings);
        //
        this._editor.changeViewZones((accessor)=>{
            for (let lens of this._lenses)lens.updateHeight(codeLensHeight, accessor);
        });
    }
    _localDispose() {
        var _a, _b, _c;
        (_a = this._getCodeLensModelPromise) === null || _a === void 0 || _a.cancel();
        this._getCodeLensModelPromise = undefined;
        (_b = this._resolveCodeLensesPromise) === null || _b === void 0 || _b.cancel();
        this._resolveCodeLensesPromise = undefined;
        this._localToDispose.clear();
        this._oldCodeLensModels.clear();
        (_c = this._currentCodeLensModel) === null || _c === void 0 || _c.dispose();
    }
    _onModelChange() {
        this._localDispose();
        const model = this._editor.getModel();
        if (!model) return;
        if (!this._editor.getOption(14 /* codeLens */ )) return;
        const cachedLenses = this._codeLensCache.get(model);
        if (cachedLenses) this._renderCodeLensSymbols(cachedLenses);
        if (!$goPht.CodeLensProviderRegistry.has(model)) {
            // no provider -> return but check with
            // cached lenses. they expire after 30 seconds
            if (cachedLenses) this._localToDispose.add($5piST.disposableTimeout(()=>{
                const cachedLensesNow = this._codeLensCache.get(model);
                if (cachedLenses === cachedLensesNow) {
                    this._codeLensCache.delete(model);
                    this._onModelChange();
                }
            }, 30000));
            return;
        }
        for (const provider of $goPht.CodeLensProviderRegistry.all(model))if (typeof provider.onDidChange === 'function') {
            let registration = provider.onDidChange(()=>scheduler.schedule()
            );
            this._localToDispose.add(registration);
        }
        const scheduler = new $5piST.RunOnceScheduler(()=>{
            var _a;
            const t1 = Date.now();
            (_a = this._getCodeLensModelPromise) === null || _a === void 0 || _a.cancel();
            this._getCodeLensModelPromise = $5piST.createCancelablePromise((token)=>$9f8f2c6aa18f325a$exports.getCodeLensModel(model, token)
            );
            this._getCodeLensModelPromise.then((result)=>{
                if (this._currentCodeLensModel) this._oldCodeLensModels.add(this._currentCodeLensModel);
                this._currentCodeLensModel = result;
                // cache model to reduce flicker
                this._codeLensCache.put(model, result);
                // update moving average
                const newDelay = this._getCodeLensModelDelays.update(model, Date.now() - t1);
                scheduler.delay = newDelay;
                // render lenses
                this._renderCodeLensSymbols(result);
                // dom.scheduleAtNextAnimationFrame(() => this._resolveCodeLensesInViewport());
                this._resolveCodeLensesInViewportSoon();
            }, $3FsT3.onUnexpectedError);
        }, this._getCodeLensModelDelays.get(model));
        this._localToDispose.add(scheduler);
        this._localToDispose.add($6W1JA.toDisposable(()=>this._resolveCodeLensesScheduler.cancel()
        ));
        this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{
            this._editor.changeDecorations((decorationsAccessor)=>{
                this._editor.changeViewZones((viewZonesAccessor)=>{
                    let toDispose = [];
                    let lastLensLineNumber = -1;
                    this._lenses.forEach((lens)=>{
                        if (!lens.isValid() || lastLensLineNumber === lens.getLineNumber()) // invalid -> lens collapsed, attach range doesn't exist anymore
                        // line_number -> lenses should never be on the same line
                        toDispose.push(lens);
                        else {
                            lens.update(viewZonesAccessor);
                            lastLensLineNumber = lens.getLineNumber();
                        }
                    });
                    let helper = new $37b3125934624de7$export$76bdebf29cc4b59e();
                    toDispose.forEach((l)=>{
                        l.dispose(helper, viewZonesAccessor);
                        this._lenses.splice(this._lenses.indexOf(l), 1);
                    });
                    helper.commit(decorationsAccessor);
                });
            });
            // Ask for all references again
            scheduler.schedule();
        }));
        this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{
            scheduler.schedule();
        }));
        this._localToDispose.add(this._editor.onDidScrollChange((e)=>{
            if (e.scrollTopChanged && this._lenses.length > 0) this._resolveCodeLensesInViewportSoon();
        }));
        this._localToDispose.add(this._editor.onDidLayoutChange(()=>{
            this._resolveCodeLensesInViewportSoon();
        }));
        this._localToDispose.add($6W1JA.toDisposable(()=>{
            if (this._editor.getModel()) {
                const scrollState = $78AWm.StableEditorScrollState.capture(this._editor);
                this._editor.changeDecorations((decorationsAccessor)=>{
                    this._editor.changeViewZones((viewZonesAccessor)=>{
                        this._disposeAllLenses(decorationsAccessor, viewZonesAccessor);
                    });
                });
                scrollState.restore(this._editor);
            } else // No accessors available
            this._disposeAllLenses(undefined, undefined);
        }));
        this._localToDispose.add(this._editor.onMouseDown((e)=>{
            if (e.target.type !== 9 /* CONTENT_WIDGET */ ) return;
            let target = e.target.element;
            if ((target === null || target === void 0 ? void 0 : target.tagName) === 'SPAN') target = target.parentElement;
            if ((target === null || target === void 0 ? void 0 : target.tagName) === 'A') for (const lens of this._lenses){
                let command = lens.getCommand(target);
                if (command) {
                    this._commandService.executeCommand(command.id, ...command.arguments || []).catch((err)=>this._notificationService.error(err)
                    );
                    break;
                }
            }
        }));
        scheduler.schedule();
    }
    _disposeAllLenses(decChangeAccessor, viewZoneChangeAccessor) {
        const helper = new $37b3125934624de7$export$76bdebf29cc4b59e();
        for (const lens of this._lenses)lens.dispose(helper, viewZoneChangeAccessor);
        if (decChangeAccessor) helper.commit(decChangeAccessor);
        this._lenses.length = 0;
    }
    _renderCodeLensSymbols(symbols) {
        if (!this._editor.hasModel()) return;
        let maxLineNumber = this._editor.getModel().getLineCount();
        let groups = [];
        let lastGroup;
        for (let symbol of symbols.lenses){
            let line = symbol.symbol.range.startLineNumber;
            if (line < 1 || line > maxLineNumber) continue;
            else if (lastGroup && lastGroup[lastGroup.length - 1].symbol.range.startLineNumber === line) // on same line as previous
            lastGroup.push(symbol);
            else {
                // on later line as previous
                lastGroup = [
                    symbol
                ];
                groups.push(lastGroup);
            }
        }
        const scrollState = $78AWm.StableEditorScrollState.capture(this._editor);
        const layoutInfo = this._getLayoutInfo();
        this._editor.changeDecorations((decorationsAccessor)=>{
            this._editor.changeViewZones((viewZoneAccessor)=>{
                const helper = new $37b3125934624de7$export$76bdebf29cc4b59e();
                let codeLensIndex = 0;
                let groupsIndex = 0;
                while(groupsIndex < groups.length && codeLensIndex < this._lenses.length){
                    let symbolsLineNumber = groups[groupsIndex][0].symbol.range.startLineNumber;
                    let codeLensLineNumber = this._lenses[codeLensIndex].getLineNumber();
                    if (codeLensLineNumber < symbolsLineNumber) {
                        this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);
                        this._lenses.splice(codeLensIndex, 1);
                    } else if (codeLensLineNumber === symbolsLineNumber) {
                        this._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex], helper);
                        groupsIndex++;
                        codeLensIndex++;
                    } else {
                        this._lenses.splice(codeLensIndex, 0, new $37b3125934624de7$export$c4760329dfff1b1c(groups[groupsIndex], this._editor, this._styleClassName, helper, viewZoneAccessor, layoutInfo.codeLensHeight, ()=>this._resolveCodeLensesInViewportSoon()
                        ));
                        codeLensIndex++;
                        groupsIndex++;
                    }
                }
                // Delete extra code lenses
                while(codeLensIndex < this._lenses.length){
                    this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);
                    this._lenses.splice(codeLensIndex, 1);
                }
                // Create extra symbols
                while(groupsIndex < groups.length){
                    this._lenses.push(new $37b3125934624de7$export$c4760329dfff1b1c(groups[groupsIndex], this._editor, this._styleClassName, helper, viewZoneAccessor, layoutInfo.codeLensHeight, ()=>this._resolveCodeLensesInViewportSoon()
                    ));
                    groupsIndex++;
                }
                helper.commit(decorationsAccessor);
            });
        });
        scrollState.restore(this._editor);
    }
    _resolveCodeLensesInViewportSoon() {
        const model = this._editor.getModel();
        if (model) this._resolveCodeLensesScheduler.schedule();
    }
    _resolveCodeLensesInViewport() {
        var _a;
        (_a = this._resolveCodeLensesPromise) === null || _a === void 0 || _a.cancel();
        this._resolveCodeLensesPromise = undefined;
        const model = this._editor.getModel();
        if (!model) return;
        const toResolve = [];
        const lenses = [];
        this._lenses.forEach((lens)=>{
            const request = lens.computeIfNecessary(model);
            if (request) {
                toResolve.push(request);
                lenses.push(lens);
            }
        });
        if (toResolve.length === 0) return;
        const t1 = Date.now();
        const resolvePromise = $5piST.createCancelablePromise((token)=>{
            const promises1 = toResolve.map((request1, i1)=>{
                const resolvedSymbols = new Array(request1.length);
                const promises = request1.map((request, i)=>{
                    if (!request.symbol.command && typeof request.provider.resolveCodeLens === 'function') return Promise.resolve(request.provider.resolveCodeLens(model, request.symbol, token)).then((symbol)=>{
                        resolvedSymbols[i] = symbol;
                    }, $3FsT3.onUnexpectedExternalError);
                    else {
                        resolvedSymbols[i] = request.symbol;
                        return Promise.resolve(undefined);
                    }
                });
                return Promise.all(promises).then(()=>{
                    if (!token.isCancellationRequested && !lenses[i1].isDisposed()) lenses[i1].updateCommands(resolvedSymbols);
                });
            });
            return Promise.all(promises1);
        });
        this._resolveCodeLensesPromise = resolvePromise;
        this._resolveCodeLensesPromise.then(()=>{
            // update moving average
            const newDelay = this._resolveCodeLensesDelays.update(model, Date.now() - t1);
            this._resolveCodeLensesScheduler.delay = newDelay;
            if (this._currentCodeLensModel) this._codeLensCache.put(model, this._currentCodeLensModel);
            this._oldCodeLensModels.clear(); // dispose old models once we have updated the UI with the current model
            if (resolvePromise === this._resolveCodeLensesPromise) this._resolveCodeLensesPromise = undefined;
        }, (err)=>{
            $3FsT3.onUnexpectedError(err); // can also be cancellation!
            if (resolvePromise === this._resolveCodeLensesPromise) this._resolveCodeLensesPromise = undefined;
        });
    }
    getLenses() {
        return this._lenses;
    }
    constructor(_editor, _commandService, _notificationService, _codeLensCache){
        this._editor = _editor;
        this._commandService = _commandService;
        this._notificationService = _notificationService;
        this._codeLensCache = _codeLensCache;
        this._disposables = new $6W1JA.DisposableStore();
        this._localToDispose = new $6W1JA.DisposableStore();
        this._lenses = [];
        this._getCodeLensModelDelays = new $9Vnse.LanguageFeatureRequestDelays($goPht.CodeLensProviderRegistry, 250, 2500);
        this._oldCodeLensModels = new $6W1JA.DisposableStore();
        this._resolveCodeLensesDelays = new $9Vnse.LanguageFeatureRequestDelays($goPht.CodeLensProviderRegistry, 250, 2500);
        this._resolveCodeLensesScheduler = new $5piST.RunOnceScheduler(()=>this._resolveCodeLensesInViewport()
        , this._resolveCodeLensesDelays.min);
        this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange()
        ));
        this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange()
        ));
        this._disposables.add(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(43 /* fontInfo */ ) || e.hasChanged(16 /* codeLensFontSize */ ) || e.hasChanged(15 /* codeLensFontFamily */ )) this._updateLensStyle();
            if (e.hasChanged(14 /* codeLens */ )) this._onModelChange();
        }));
        this._disposables.add($goPht.CodeLensProviderRegistry.onDidChange(this._onModelChange, this));
        this._onModelChange();
        this._styleClassName = '_' + $2fM9s.hash(this._editor.getId()).toString(16);
        this._styleElement = $8xgjE.createStyleSheet($8xgjE.isInShadowDOM(this._editor.getContainerDomNode()) ? this._editor.getContainerDomNode() : undefined);
        this._updateLensStyle();
    }
};
$7aef72a5d3a7fd50$export$2ad2fe275c1424ff.ID = 'css.editor.codeLens';
$7aef72a5d3a7fd50$export$2ad2fe275c1424ff = $7aef72a5d3a7fd50$var$__decorate([
    $7aef72a5d3a7fd50$var$__param(1, $c0VS7.ICommandService),
    $7aef72a5d3a7fd50$var$__param(2, $7MTz8.INotificationService),
    $7aef72a5d3a7fd50$var$__param(3, $8196cdf07007cb4c$exports.ICodeLensCache)
], $7aef72a5d3a7fd50$export$2ad2fe275c1424ff);
$g9Zlr.registerEditorContribution($7aef72a5d3a7fd50$export$2ad2fe275c1424ff.ID, $7aef72a5d3a7fd50$export$2ad2fe275c1424ff);
$g9Zlr.registerEditorAction(class ShowLensesInCurrentLine extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $7aef72a5d3a7fd50$var$__awaiter(this, void 0, void 0, function*() {
            if (!editor.hasModel()) return;
            const quickInputService = accessor.get($1GAzQ.IQuickInputService);
            const commandService = accessor.get($c0VS7.ICommandService);
            const notificationService = accessor.get($7MTz8.INotificationService);
            const lineNumber = editor.getSelection().positionLineNumber;
            const codelensController = editor.getContribution($7aef72a5d3a7fd50$export$2ad2fe275c1424ff.ID);
            const items = [];
            for (let lens of codelensController.getLenses()){
                if (lens.getLineNumber() === lineNumber) for (let item of lens.getItems()){
                    const { command: command  } = item.symbol;
                    if (command) items.push({
                        label: command.title,
                        command: command
                    });
                }
            }
            if (items.length === 0) // We dont want an empty picker
            return;
            const item = yield quickInputService.pick(items, {
                canPickMany: false
            });
            if (!item) // Nothing picked
            return;
            try {
                yield commandService.executeCommand(item.command.id, ...item.command.arguments || []);
            } catch (err) {
                notificationService.error(err);
            }
        });
    }
    constructor(){
        super({
            id: 'codelens.showLensesInCurrentLine',
            precondition: $7oeKV.EditorContextKeys.hasCodeLensProvider,
            label: $1WuVQ.localize('showLensOnLine', "Show CodeLens Commands For Current Line"),
            alias: 'Show CodeLens Commands For Current Line'
        });
    }
});



var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $1YFxJ = parcelRequire("1YFxJ");
var $a026c36ea03472cf$exports = {};

$parcel$export($a026c36ea03472cf$exports, "ColorDetector", function () { return $a026c36ea03472cf$export$267b3b1876bfdb86; }, function (v) { return $a026c36ea03472cf$export$267b3b1876bfdb86 = v; });

var $5piST = parcelRequire("5piST");

var $8OIA7 = parcelRequire("8OIA7");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $dF1Cj = parcelRequire("dF1Cj");

var $g9Zlr = parcelRequire("g9Zlr");

var $1YFxJ = parcelRequire("1YFxJ");

var $72tIz = parcelRequire("72tIz");

var $goPht = parcelRequire("goPht");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $bUZVY = parcelRequire("bUZVY");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $75At3 = parcelRequire("75At3");

var $c0VS7 = parcelRequire("c0VS7");
function $fc6cff5a9920e24f$export$6cee60e8aa85e528(model, token) {
    const colors = [];
    const providers = $goPht.ColorProviderRegistry.ordered(model).reverse();
    const promises = providers.map((provider)=>Promise.resolve(provider.provideDocumentColors(model, token)).then((result)=>{
            if (Array.isArray(result)) for (let colorInfo of result)colors.push({
                colorInfo: colorInfo,
                provider: provider
            });
        })
    );
    return Promise.all(promises).then(()=>colors
    );
}
function $fc6cff5a9920e24f$export$c3064c7f8ffdbaa5(model, colorInfo, provider, token) {
    return Promise.resolve(provider.provideColorPresentations(model, colorInfo, token));
}
$c0VS7.CommandsRegistry.registerCommand('_executeDocumentColorProvider', function(accessor, ...args) {
    const [resource] = args;
    if (!(resource instanceof $bUZVY.URI)) throw $3FsT3.illegalArgument();
    const model = accessor.get($75At3.IModelService).getModel(resource);
    if (!model) throw $3FsT3.illegalArgument();
    const rawCIs = [];
    const providers = $goPht.ColorProviderRegistry.ordered(model).reverse();
    const promises = providers.map((provider)=>Promise.resolve(provider.provideDocumentColors(model, $1vhHo.CancellationToken.None)).then((result)=>{
            if (Array.isArray(result)) for (let ci of result)rawCIs.push({
                range: ci.range,
                color: [
                    ci.color.red,
                    ci.color.green,
                    ci.color.blue,
                    ci.color.alpha
                ]
            });
        })
    );
    return Promise.all(promises).then(()=>rawCIs
    );
});
$c0VS7.CommandsRegistry.registerCommand('_executeColorPresentationProvider', function(accessor, ...args) {
    const [color, context] = args;
    const { uri: uri , range: range  } = context;
    if (!(uri instanceof $bUZVY.URI) || !Array.isArray(color) || color.length !== 4 || !$1YFxJ.Range.isIRange(range)) throw $3FsT3.illegalArgument();
    const [red, green, blue, alpha] = color;
    const model = accessor.get($75At3.IModelService).getModel(uri);
    if (!model) throw $3FsT3.illegalArgument();
    const colorInfo = {
        range: range,
        color: {
            red: red,
            green: green,
            blue: blue,
            alpha: alpha
        }
    };
    const presentations = [];
    const providers = $goPht.ColorProviderRegistry.ordered(model).reverse();
    const promises = providers.map((provider)=>Promise.resolve(provider.provideColorPresentations(model, colorInfo, $1vhHo.CancellationToken.None)).then((result)=>{
            if (Array.isArray(result)) presentations.push(...result);
        })
    );
    return Promise.all(promises).then(()=>presentations
    );
});



var $6goiI = parcelRequire("6goiI");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $a026c36ea03472cf$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $a026c36ea03472cf$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $a026c36ea03472cf$var$MAX_DECORATORS = 500;
let $a026c36ea03472cf$export$267b3b1876bfdb86 = class $a026c36ea03472cf$export$267b3b1876bfdb86 extends $6W1JA.Disposable {
    isEnabled() {
        const model = this._editor.getModel();
        if (!model) return false;
        const languageId = model.getLanguageId();
        // handle deprecated settings. [languageId].colorDecorators.enable
        const deprecatedConfig = this._configurationService.getValue(languageId);
        if (deprecatedConfig && typeof deprecatedConfig === 'object') {
            const colorDecorators = deprecatedConfig['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');
            if (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) return colorDecorators['enable'];
        }
        return this._editor.getOption(17 /* colorDecorators */ );
    }
    static get(editor) {
        return editor.getContribution(this.ID);
    }
    dispose() {
        this.stop();
        this.removeAllDecorations();
        super.dispose();
    }
    onModelChanged() {
        this.stop();
        if (!this._isEnabled) return;
        const model = this._editor.getModel();
        if (!model || !$goPht.ColorProviderRegistry.has(model)) return;
        this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{
            if (!this._timeoutTimer) {
                this._timeoutTimer = new $5piST.TimeoutTimer();
                this._timeoutTimer.cancelAndSet(()=>{
                    this._timeoutTimer = null;
                    this.beginCompute();
                }, $a026c36ea03472cf$export$267b3b1876bfdb86.RECOMPUTE_TIME);
            }
        }));
        this.beginCompute();
    }
    beginCompute() {
        this._computePromise = $5piST.createCancelablePromise((token)=>{
            const model = this._editor.getModel();
            if (!model) return Promise.resolve([]);
            return $fc6cff5a9920e24f$export$6cee60e8aa85e528(model, token);
        });
        this._computePromise.then((colorInfos)=>{
            this.updateDecorations(colorInfos);
            this.updateColorDecorators(colorInfos);
            this._computePromise = null;
        }, $3FsT3.onUnexpectedError);
    }
    stop() {
        if (this._timeoutTimer) {
            this._timeoutTimer.cancel();
            this._timeoutTimer = null;
        }
        if (this._computePromise) {
            this._computePromise.cancel();
            this._computePromise = null;
        }
        this._localToDispose.clear();
    }
    updateDecorations(colorDatas) {
        const decorations = colorDatas.map((c)=>({
                range: {
                    startLineNumber: c.colorInfo.range.startLineNumber,
                    startColumn: c.colorInfo.range.startColumn,
                    endLineNumber: c.colorInfo.range.endLineNumber,
                    endColumn: c.colorInfo.range.endColumn
                },
                options: $72tIz.ModelDecorationOptions.EMPTY
            })
        );
        this._decorationsIds = this._editor.deltaDecorations(this._decorationsIds, decorations);
        this._colorDatas = new Map();
        this._decorationsIds.forEach((id, i)=>this._colorDatas.set(id, colorDatas[i])
        );
    }
    updateColorDecorators(colorData) {
        this._colorDecorationClassRefs.clear();
        let decorations = [];
        for(let i = 0; i < colorData.length && decorations.length < $a026c36ea03472cf$var$MAX_DECORATORS; i++){
            const { red: red , green: green , blue: blue , alpha: alpha  } = colorData[i].colorInfo.color;
            const rgba = new $8OIA7.RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);
            let color = `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;
            const ref = this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({
                backgroundColor: color
            }));
            decorations.push({
                range: {
                    startLineNumber: colorData[i].colorInfo.range.startLineNumber,
                    startColumn: colorData[i].colorInfo.range.startColumn,
                    endLineNumber: colorData[i].colorInfo.range.endLineNumber,
                    endColumn: colorData[i].colorInfo.range.endColumn
                },
                options: {
                    description: 'colorDetector',
                    before: {
                        content: $i4xl7.noBreakWhitespace,
                        inlineClassName: `${ref.className} colorpicker-color-decoration`,
                        inlineClassNameAffectsLetterSpacing: true
                    }
                }
            });
        }
        this._colorDecoratorIds = new Set(this._editor.deltaDecorations([
            ...this._colorDecoratorIds
        ], decorations));
    }
    removeAllDecorations() {
        this._decorationsIds = this._editor.deltaDecorations(this._decorationsIds, []);
        this._colorDecoratorIds = new Set(this._editor.deltaDecorations([
            ...this._colorDecoratorIds
        ], []));
        this._colorDecorationClassRefs.clear();
    }
    getColorData(position) {
        const model = this._editor.getModel();
        if (!model) return null;
        const decorations = model.getDecorationsInRange($1YFxJ.Range.fromPositions(position, position)).filter((d)=>this._colorDatas.has(d.id)
        );
        if (decorations.length === 0) return null;
        return this._colorDatas.get(decorations[0].id);
    }
    isColorDecorationId(decorationId) {
        return this._colorDecoratorIds.has(decorationId);
    }
    constructor(_editor, _configurationService){
        super();
        this._editor = _editor;
        this._configurationService = _configurationService;
        this._localToDispose = this._register(new $6W1JA.DisposableStore());
        this._decorationsIds = [];
        this._colorDatas = new Map();
        this._colorDecoratorIds = new Set();
        this._ruleFactory = new $dF1Cj.DynamicCssRules(this._editor);
        this._colorDecorationClassRefs = this._register(new $6W1JA.DisposableStore());
        this._register(_editor.onDidChangeModel(()=>{
            this._isEnabled = this.isEnabled();
            this.onModelChanged();
        }));
        this._register(_editor.onDidChangeModelLanguage(()=>this.onModelChanged()
        ));
        this._register($goPht.ColorProviderRegistry.onDidChange(()=>this.onModelChanged()
        ));
        this._register(_editor.onDidChangeConfiguration(()=>{
            let prevIsEnabled = this._isEnabled;
            this._isEnabled = this.isEnabled();
            if (prevIsEnabled !== this._isEnabled) {
                if (this._isEnabled) this.onModelChanged();
                else this.removeAllDecorations();
            }
        }));
        this._timeoutTimer = null;
        this._computePromise = null;
        this._isEnabled = this.isEnabled();
        this.onModelChanged();
    }
};
$a026c36ea03472cf$export$267b3b1876bfdb86.ID = 'editor.contrib.colorDetector';
$a026c36ea03472cf$export$267b3b1876bfdb86.RECOMPUTE_TIME = 1000; // ms
$a026c36ea03472cf$export$267b3b1876bfdb86 = $a026c36ea03472cf$var$__decorate([
    $a026c36ea03472cf$var$__param(1, $6goiI.IConfigurationService)
], $a026c36ea03472cf$export$267b3b1876bfdb86);
$g9Zlr.registerEditorContribution($a026c36ea03472cf$export$267b3b1876bfdb86.ID, $a026c36ea03472cf$export$267b3b1876bfdb86);


var $e1f3db627688d9c5$exports = {};

$parcel$export($e1f3db627688d9c5$exports, "ModesHoverController", function () { return $e1f3db627688d9c5$export$5fb2eabf73ef0293; }, function (v) { return $e1f3db627688d9c5$export$5fb2eabf73ef0293 = v; });

var $ecpYn = parcelRequire("ecpYn");

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");

var $jwAxq = parcelRequire("jwAxq");
var $b38214ecae1a10ff$exports = {};

$parcel$export($b38214ecae1a10ff$exports, "GotoDefinitionAtPositionEditorContribution", function () { return $b38214ecae1a10ff$export$35cdf6493d1302e; }, function (v) { return $b38214ecae1a10ff$export$35cdf6493d1302e = v; });

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $eeQ9E = parcelRequire("eeQ9E");

var $6W1JA = parcelRequire("6W1JA");

var $erLC3 = parcelRequire("erLC3");


var $78AWm = parcelRequire("78AWm");

var $g9Zlr = parcelRequire("g9Zlr");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $jwAxq = parcelRequire("jwAxq");

var $ftViW = parcelRequire("ftViW");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $7e5Mc = parcelRequire("7e5Mc");
function $b72495b84fdc3258$var$hasModifier(e, modifier) {
    return !!e[modifier];
}
class $b72495b84fdc3258$export$69f99c1197f68370 {
    constructor(source, opts){
        this.target = source.target;
        this.hasTriggerModifier = $b72495b84fdc3258$var$hasModifier(source.event, opts.triggerModifier);
        this.hasSideBySideModifier = $b72495b84fdc3258$var$hasModifier(source.event, opts.triggerSideBySideModifier);
        this.isNoneOrSingleMouseDown = source.event.detail <= 1;
    }
}
class $b72495b84fdc3258$export$40b9eb22d04cd705 {
    constructor(source, opts){
        this.keyCodeIsTriggerKey = source.keyCode === opts.triggerKey;
        this.keyCodeIsSideBySideKey = source.keyCode === opts.triggerSideBySideKey;
        this.hasTriggerModifier = $b72495b84fdc3258$var$hasModifier(source, opts.triggerModifier);
    }
}
class $b72495b84fdc3258$export$17acd7002e6c5cb3 {
    equals(other) {
        return this.triggerKey === other.triggerKey && this.triggerModifier === other.triggerModifier && this.triggerSideBySideKey === other.triggerSideBySideKey && this.triggerSideBySideModifier === other.triggerSideBySideModifier;
    }
    constructor(triggerKey, triggerModifier, triggerSideBySideKey, triggerSideBySideModifier){
        this.triggerKey = triggerKey;
        this.triggerModifier = triggerModifier;
        this.triggerSideBySideKey = triggerSideBySideKey;
        this.triggerSideBySideModifier = triggerSideBySideModifier;
    }
}
function $b72495b84fdc3258$var$createOptions(multiCursorModifier) {
    if (multiCursorModifier === 'altKey') {
        if ($7e5Mc.isMacintosh) return new $b72495b84fdc3258$export$17acd7002e6c5cb3(57 /* Meta */ , 'metaKey', 6 /* Alt */ , 'altKey');
        return new $b72495b84fdc3258$export$17acd7002e6c5cb3(5 /* Ctrl */ , 'ctrlKey', 6 /* Alt */ , 'altKey');
    }
    if ($7e5Mc.isMacintosh) return new $b72495b84fdc3258$export$17acd7002e6c5cb3(6 /* Alt */ , 'altKey', 57 /* Meta */ , 'metaKey');
    return new $b72495b84fdc3258$export$17acd7002e6c5cb3(6 /* Alt */ , 'altKey', 5 /* Ctrl */ , 'ctrlKey');
}
class $b72495b84fdc3258$export$e5a83b5c609cb4bb extends $6W1JA.Disposable {
    _onDidChangeCursorSelection(e) {
        if (e.selection && e.selection.startColumn !== e.selection.endColumn) this._resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/microsoft/vscode/issues/7827)
    }
    _onEditorMouseMove(mouseEvent) {
        this._lastMouseMoveEvent = mouseEvent;
        this._onMouseMoveOrRelevantKeyDown.fire([
            mouseEvent,
            null
        ]);
    }
    _onEditorMouseDown(mouseEvent) {
        // We need to record if we had the trigger key on mouse down because someone might select something in the editor
        // holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then
        // release the mouse button without wanting to do the navigation.
        // With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.
        this._hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;
        this._lineNumberOnMouseDown = mouseEvent.target.position ? mouseEvent.target.position.lineNumber : 0;
    }
    _onEditorMouseUp(mouseEvent) {
        const currentLineNumber = mouseEvent.target.position ? mouseEvent.target.position.lineNumber : 0;
        if (this._hasTriggerKeyOnMouseDown && this._lineNumberOnMouseDown && this._lineNumberOnMouseDown === currentLineNumber) this._onExecute.fire(mouseEvent);
    }
    _onEditorKeyDown(e) {
        if (this._lastMouseMoveEvent && (e.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)
         || e.keyCodeIsSideBySideKey && e.hasTriggerModifier // User pressed Ctrl/Cmd+Alt (goto definition to the side)
        )) this._onMouseMoveOrRelevantKeyDown.fire([
            this._lastMouseMoveEvent,
            e
        ]);
        else if (e.hasTriggerModifier) this._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration
    }
    _onEditorKeyUp(e) {
        if (e.keyCodeIsTriggerKey) this._onCancel.fire();
    }
    _resetHandler() {
        this._lastMouseMoveEvent = null;
        this._hasTriggerKeyOnMouseDown = false;
        this._onCancel.fire();
    }
    constructor(editor){
        super();
        this._onMouseMoveOrRelevantKeyDown = this._register(new $bkXdq.Emitter());
        this.onMouseMoveOrRelevantKeyDown = this._onMouseMoveOrRelevantKeyDown.event;
        this._onExecute = this._register(new $bkXdq.Emitter());
        this.onExecute = this._onExecute.event;
        this._onCancel = this._register(new $bkXdq.Emitter());
        this.onCancel = this._onCancel.event;
        this._editor = editor;
        this._opts = $b72495b84fdc3258$var$createOptions(this._editor.getOption(69 /* multiCursorModifier */ ));
        this._lastMouseMoveEvent = null;
        this._hasTriggerKeyOnMouseDown = false;
        this._lineNumberOnMouseDown = 0;
        this._register(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(69 /* multiCursorModifier */ )) {
                const newOpts = $b72495b84fdc3258$var$createOptions(this._editor.getOption(69 /* multiCursorModifier */ ));
                if (this._opts.equals(newOpts)) return;
                this._opts = newOpts;
                this._lastMouseMoveEvent = null;
                this._hasTriggerKeyOnMouseDown = false;
                this._lineNumberOnMouseDown = 0;
                this._onCancel.fire();
            }
        }));
        this._register(this._editor.onMouseMove((e)=>this._onEditorMouseMove(new $b72495b84fdc3258$export$69f99c1197f68370(e, this._opts))
        ));
        this._register(this._editor.onMouseDown((e)=>this._onEditorMouseDown(new $b72495b84fdc3258$export$69f99c1197f68370(e, this._opts))
        ));
        this._register(this._editor.onMouseUp((e)=>this._onEditorMouseUp(new $b72495b84fdc3258$export$69f99c1197f68370(e, this._opts))
        ));
        this._register(this._editor.onKeyDown((e)=>this._onEditorKeyDown(new $b72495b84fdc3258$export$40b9eb22d04cd705(e, this._opts))
        ));
        this._register(this._editor.onKeyUp((e)=>this._onEditorKeyUp(new $b72495b84fdc3258$export$40b9eb22d04cd705(e, this._opts))
        ));
        this._register(this._editor.onMouseDrag(()=>this._resetHandler()
        ));
        this._register(this._editor.onDidChangeCursorSelection((e)=>this._onDidChangeCursorSelection(e)
        ));
        this._register(this._editor.onDidChangeModel((e)=>this._resetHandler()
        ));
        this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler()
        ));
        this._register(this._editor.onDidScrollChange((e)=>{
            if (e.scrollTopChanged || e.scrollLeftChanged) this._resetHandler();
        }));
    }
}


var $09aad26675037e07$exports = {};

$parcel$export($09aad26675037e07$exports, "IPeekViewService", function () { return $09aad26675037e07$export$8277d1187e5db7d6; }, function (v) { return $09aad26675037e07$export$8277d1187e5db7d6 = v; });
$parcel$export($09aad26675037e07$exports, "PeekContext", function () { return $09aad26675037e07$export$5afd50a7c05ff96a; }, function (v) { return $09aad26675037e07$export$5afd50a7c05ff96a = v; });
$parcel$export($09aad26675037e07$exports, "getOuterEditor", function () { return $09aad26675037e07$export$434a98f74be8c7b9; }, function (v) { return $09aad26675037e07$export$434a98f74be8c7b9 = v; });
$parcel$export($09aad26675037e07$exports, "PeekViewWidget", function () { return $09aad26675037e07$export$85acc0ce60f75b9f; }, function (v) { return $09aad26675037e07$export$85acc0ce60f75b9f = v; });
$parcel$export($09aad26675037e07$exports, "peekViewTitleBackground", function () { return $09aad26675037e07$export$b1e2a843606aa53d; }, function (v) { return $09aad26675037e07$export$b1e2a843606aa53d = v; });
$parcel$export($09aad26675037e07$exports, "peekViewTitleForeground", function () { return $09aad26675037e07$export$5f7b8e8b47f91ad3; }, function (v) { return $09aad26675037e07$export$5f7b8e8b47f91ad3 = v; });
$parcel$export($09aad26675037e07$exports, "peekViewTitleInfoForeground", function () { return $09aad26675037e07$export$cdda5f1c5d2481c1; }, function (v) { return $09aad26675037e07$export$cdda5f1c5d2481c1 = v; });
$parcel$export($09aad26675037e07$exports, "peekViewBorder", function () { return $09aad26675037e07$export$2d4f038d18170ad2; }, function (v) { return $09aad26675037e07$export$2d4f038d18170ad2 = v; });
$parcel$export($09aad26675037e07$exports, "peekViewResultsBackground", function () { return $09aad26675037e07$export$84f26812d83dda36; }, function (v) { return $09aad26675037e07$export$84f26812d83dda36 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $7s6Vc = parcelRequire("7s6Vc");

var $g4Naw = parcelRequire("g4Naw");

var $k4zqw = parcelRequire("k4zqw");

var $8OIA7 = parcelRequire("8OIA7");

var $bkXdq = parcelRequire("bkXdq");

var $freNL = parcelRequire("freNL");


var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");
var $417b9987abbc15ba$exports = {};

$parcel$export($417b9987abbc15ba$exports, "EmbeddedCodeEditorWidget", function () { return $417b9987abbc15ba$export$3c7efbd913d316d0; }, function (v) { return $417b9987abbc15ba$export$3c7efbd913d316d0 = v; });

var $freNL = parcelRequire("freNL");

var $7lWR1 = parcelRequire("7lWR1");

var $f5MzX = parcelRequire("f5MzX");

var $c0VS7 = parcelRequire("c0VS7");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $7MTz8 = parcelRequire("7MTz8");

var $5Wwop = parcelRequire("5Wwop");

var $dcUw3 = parcelRequire("dcUw3");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $417b9987abbc15ba$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $417b9987abbc15ba$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $417b9987abbc15ba$export$3c7efbd913d316d0 = class $417b9987abbc15ba$export$3c7efbd913d316d0 extends $f5MzX.CodeEditorWidget {
    getParentEditor() {
        return this._parentEditor;
    }
    _onParentConfigurationChanged(e) {
        super.updateOptions(this._parentEditor.getRawOptions());
        super.updateOptions(this._overwriteOptions);
    }
    updateOptions(newOptions) {
        $freNL.mixin(this._overwriteOptions, newOptions, true);
        super.updateOptions(this._overwriteOptions);
    }
    constructor(domElement, options, parentEditor, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService){
        super(domElement, Object.assign(Object.assign({}, parentEditor.getRawOptions()), {
            overflowWidgetsDomNode: parentEditor.getOverflowWidgetsDomNode()
        }), {}, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService);
        this._parentEditor = parentEditor;
        this._overwriteOptions = options;
        // Overwrite parent's options
        super.updateOptions(this._overwriteOptions);
        this._register(parentEditor.onDidChangeConfiguration((e)=>this._onParentConfigurationChanged(e)
        ));
    }
};
$417b9987abbc15ba$export$3c7efbd913d316d0 = $417b9987abbc15ba$var$__decorate([
    $417b9987abbc15ba$var$__param(3, $6Xx7t.IInstantiationService),
    $417b9987abbc15ba$var$__param(4, $7lWR1.ICodeEditorService),
    $417b9987abbc15ba$var$__param(5, $c0VS7.ICommandService),
    $417b9987abbc15ba$var$__param(6, $h4kGX.IContextKeyService),
    $417b9987abbc15ba$var$__param(7, $5Wwop.IThemeService),
    $417b9987abbc15ba$var$__param(8, $7MTz8.INotificationService),
    $417b9987abbc15ba$var$__param(9, $dcUw3.IAccessibilityService)
], $417b9987abbc15ba$export$3c7efbd913d316d0);



var $8xgjE = parcelRequire("8xgjE");

var $hQ1Ev = parcelRequire("hQ1Ev");

var $8OIA7 = parcelRequire("8OIA7");

var $iZqFU = parcelRequire("iZqFU");

var $6W1JA = parcelRequire("6W1JA");

var $freNL = parcelRequire("freNL");


var $1YFxJ = parcelRequire("1YFxJ");

var $72tIz = parcelRequire("72tIz");
const $b7e468e592a4a48d$var$defaultColor = new $8OIA7.Color(new $8OIA7.RGBA(0, 122, 204));
const $b7e468e592a4a48d$var$defaultOptions = {
    showArrow: true,
    showFrame: true,
    className: '',
    frameColor: $b7e468e592a4a48d$var$defaultColor,
    arrowColor: $b7e468e592a4a48d$var$defaultColor,
    keepEditorSelection: false
};
const $b7e468e592a4a48d$var$WIDGET_ID = 'vs.editor.contrib.zoneWidget';
class $b7e468e592a4a48d$export$4ca7b154cb5b1d8d {
    onDomNodeTop(top) {
        this._onDomNodeTop(top);
    }
    onComputedHeight(height) {
        this._onComputedHeight(height);
    }
    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight){
        this.id = ''; // A valid zone id should be greater than 0
        this.domNode = domNode;
        this.afterLineNumber = afterLineNumber;
        this.afterColumn = afterColumn;
        this.heightInLines = heightInLines;
        this._onDomNodeTop = onDomNodeTop;
        this._onComputedHeight = onComputedHeight;
    }
}
class $b7e468e592a4a48d$export$4f860089b67ba96 {
    getId() {
        return this._id;
    }
    getDomNode() {
        return this._domNode;
    }
    getPosition() {
        return null;
    }
    constructor(id, domNode){
        this._id = id;
        this._domNode = domNode;
    }
}
class $b7e468e592a4a48d$var$Arrow {
    dispose() {
        this.hide();
        $8xgjE.removeCSSRulesContainingSelector(this._ruleName);
    }
    set color(value) {
        if (this._color !== value) {
            this._color = value;
            this._updateStyle();
        }
    }
    set height(value) {
        if (this._height !== value) {
            this._height = value;
            this._updateStyle();
        }
    }
    _updateStyle() {
        $8xgjE.removeCSSRulesContainingSelector(this._ruleName);
        $8xgjE.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `);
    }
    show(where) {
        if (where.column === 1) // the arrow isn't pretty at column 1 and we need to push it out a little
        where = {
            lineNumber: where.lineNumber,
            column: 2
        };
        this._decorations = this._editor.deltaDecorations(this._decorations, [
            {
                range: $1YFxJ.Range.fromPositions(where),
                options: {
                    description: 'zone-widget-arrow',
                    className: this._ruleName,
                    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ 
                }
            }
        ]);
    }
    hide() {
        this._editor.deltaDecorations(this._decorations, []);
    }
    constructor(_editor){
        this._editor = _editor;
        this._ruleName = $b7e468e592a4a48d$var$Arrow._IdGenerator.nextId();
        this._decorations = [];
        this._color = null;
        this._height = -1;
    //
    }
}
$b7e468e592a4a48d$var$Arrow._IdGenerator = new $iZqFU.IdGenerator('.arrow-decoration-');
class $b7e468e592a4a48d$export$4a50bb71db87eba6 {
    dispose() {
        if (this._overlayWidget) {
            this.editor.removeOverlayWidget(this._overlayWidget);
            this._overlayWidget = null;
        }
        if (this._viewZone) this.editor.changeViewZones((accessor)=>{
            if (this._viewZone) accessor.removeZone(this._viewZone.id);
            this._viewZone = null;
        });
        this.editor.deltaDecorations(this._positionMarkerId, []);
        this._positionMarkerId = [];
        this._disposables.dispose();
    }
    create() {
        this.domNode.classList.add('zone-widget');
        if (this.options.className) this.domNode.classList.add(this.options.className);
        this.container = document.createElement('div');
        this.container.classList.add('zone-widget-container');
        this.domNode.appendChild(this.container);
        if (this.options.showArrow) {
            this._arrow = new $b7e468e592a4a48d$var$Arrow(this.editor);
            this._disposables.add(this._arrow);
        }
        this._fillContainer(this.container);
        this._initSash();
        this._applyStyles();
    }
    style(styles) {
        if (styles.frameColor) this.options.frameColor = styles.frameColor;
        if (styles.arrowColor) this.options.arrowColor = styles.arrowColor;
        this._applyStyles();
    }
    _applyStyles() {
        if (this.container && this.options.frameColor) {
            let frameColor = this.options.frameColor.toString();
            this.container.style.borderTopColor = frameColor;
            this.container.style.borderBottomColor = frameColor;
        }
        if (this._arrow && this.options.arrowColor) {
            let arrowColor = this.options.arrowColor.toString();
            this._arrow.color = arrowColor;
        }
    }
    _getWidth(info) {
        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;
    }
    _getLeft(info) {
        // If minimap is to the left, we move beyond it
        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) return info.minimap.minimapWidth;
        return 0;
    }
    _onViewZoneTop(top) {
        this.domNode.style.top = top + 'px';
    }
    _onViewZoneHeight(height) {
        this.domNode.style.height = `${height}px`;
        if (this.container) {
            let containerHeight = height - this._decoratingElementsHeight();
            this.container.style.height = `${containerHeight}px`;
            const layoutInfo = this.editor.getLayoutInfo();
            this._doLayout(containerHeight, this._getWidth(layoutInfo));
        }
        if (this._resizeSash) this._resizeSash.layout();
    }
    get position() {
        const [id] = this._positionMarkerId;
        if (!id) return undefined;
        const model = this.editor.getModel();
        if (!model) return undefined;
        const range = model.getDecorationRange(id);
        if (!range) return undefined;
        return range.getStartPosition();
    }
    show(rangeOrPos, heightInLines) {
        const range = $1YFxJ.Range.isIRange(rangeOrPos) ? $1YFxJ.Range.lift(rangeOrPos) : $1YFxJ.Range.fromPositions(rangeOrPos);
        this._isShowing = true;
        this._showImpl(range, heightInLines);
        this._isShowing = false;
        this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [
            {
                range: range,
                options: $72tIz.ModelDecorationOptions.EMPTY
            }
        ]);
    }
    hide() {
        if (this._viewZone) {
            this.editor.changeViewZones((accessor)=>{
                if (this._viewZone) accessor.removeZone(this._viewZone.id);
            });
            this._viewZone = null;
        }
        if (this._overlayWidget) {
            this.editor.removeOverlayWidget(this._overlayWidget);
            this._overlayWidget = null;
        }
        if (this._arrow) this._arrow.hide();
    }
    _decoratingElementsHeight() {
        let lineHeight = this.editor.getOption(58 /* lineHeight */ );
        let result = 0;
        if (this.options.showArrow) {
            let arrowHeight = Math.round(lineHeight / 3);
            result += 2 * arrowHeight;
        }
        if (this.options.showFrame) {
            let frameThickness = Math.round(lineHeight / 9);
            result += 2 * frameThickness;
        }
        return result;
    }
    _showImpl(where, heightInLines) {
        const position = where.getStartPosition();
        const layoutInfo = this.editor.getLayoutInfo();
        const width = this._getWidth(layoutInfo);
        this.domNode.style.width = `${width}px`;
        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';
        // Render the widget as zone (rendering) and widget (lifecycle)
        const viewZoneDomNode = document.createElement('div');
        viewZoneDomNode.style.overflow = 'hidden';
        const lineHeight = this.editor.getOption(58 /* lineHeight */ );
        // adjust heightInLines to viewport
        const maxHeightInLines = Math.max(12, this.editor.getLayoutInfo().height / lineHeight * 0.8);
        heightInLines = Math.min(heightInLines, maxHeightInLines);
        let arrowHeight = 0;
        let frameThickness = 0;
        // Render the arrow one 1/3 of an editor line height
        if (this._arrow && this.options.showArrow) {
            arrowHeight = Math.round(lineHeight / 3);
            this._arrow.height = arrowHeight;
            this._arrow.show(position);
        }
        // Render the frame as 1/9 of an editor line height
        if (this.options.showFrame) frameThickness = Math.round(lineHeight / 9);
        // insert zone widget
        this.editor.changeViewZones((accessor)=>{
            if (this._viewZone) accessor.removeZone(this._viewZone.id);
            if (this._overlayWidget) {
                this.editor.removeOverlayWidget(this._overlayWidget);
                this._overlayWidget = null;
            }
            this.domNode.style.top = '-1000px';
            this._viewZone = new $b7e468e592a4a48d$export$4ca7b154cb5b1d8d(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top)=>this._onViewZoneTop(top)
            , (height)=>this._onViewZoneHeight(height)
            );
            this._viewZone.id = accessor.addZone(this._viewZone);
            this._overlayWidget = new $b7e468e592a4a48d$export$4f860089b67ba96($b7e468e592a4a48d$var$WIDGET_ID + this._viewZone.id, this.domNode);
            this.editor.addOverlayWidget(this._overlayWidget);
        });
        if (this.container && this.options.showFrame) {
            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;
            this.container.style.borderTopWidth = width + 'px';
            this.container.style.borderBottomWidth = width + 'px';
        }
        let containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();
        if (this.container) {
            this.container.style.top = arrowHeight + 'px';
            this.container.style.height = containerHeight + 'px';
            this.container.style.overflow = 'hidden';
        }
        this._doLayout(containerHeight, width);
        if (!this.options.keepEditorSelection) this.editor.setSelection(where);
        const model = this.editor.getModel();
        if (model) {
            const revealLine = where.endLineNumber + 1;
            if (revealLine <= model.getLineCount()) // reveal line below the zone widget
            this.revealLine(revealLine, false);
            else // reveal last line atop
            this.revealLine(model.getLineCount(), true);
        }
    }
    revealLine(lineNumber, isLastLine) {
        if (isLastLine) this.editor.revealLineInCenter(lineNumber, 0 /* Smooth */ );
        else this.editor.revealLine(lineNumber, 0 /* Smooth */ );
    }
    setCssClass(className, classToReplace) {
        if (!this.container) return;
        if (classToReplace) this.container.classList.remove(classToReplace);
        this.container.classList.add(className);
    }
    _onWidth(widthInPixel) {
    // implement in subclass
    }
    _doLayout(heightInPixel, widthInPixel) {
    // implement in subclass
    }
    _relayout(newHeightInLines) {
        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) this.editor.changeViewZones((accessor)=>{
            if (this._viewZone) {
                this._viewZone.heightInLines = newHeightInLines;
                accessor.layoutZone(this._viewZone.id);
            }
        });
    }
    // --- sash
    _initSash() {
        if (this._resizeSash) return;
        this._resizeSash = this._disposables.add(new $hQ1Ev.Sash(this.domNode, this, {
            orientation: 1 /* HORIZONTAL */ 
        }));
        if (!this.options.isResizeable) this._resizeSash.state = 0 /* Disabled */ ;
        let data;
        this._disposables.add(this._resizeSash.onDidStart((e)=>{
            if (this._viewZone) data = {
                startY: e.startY,
                heightInLines: this._viewZone.heightInLines
            };
        }));
        this._disposables.add(this._resizeSash.onDidEnd(()=>{
            data = undefined;
        }));
        this._disposables.add(this._resizeSash.onDidChange((evt)=>{
            if (data) {
                let lineDelta = (evt.currentY - data.startY) / this.editor.getOption(58 /* lineHeight */ );
                let roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);
                let newHeightInLines = data.heightInLines + roundedLineDelta;
                if (newHeightInLines > 5 && newHeightInLines < 35) this._relayout(newHeightInLines);
            }
        }));
    }
    getHorizontalSashLeft() {
        return 0;
    }
    getHorizontalSashTop() {
        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - this._decoratingElementsHeight() / 2;
    }
    getHorizontalSashWidth() {
        const layoutInfo = this.editor.getLayoutInfo();
        return layoutInfo.width - layoutInfo.minimap.minimapWidth;
    }
    constructor(editor, options = {}){
        this._arrow = null;
        this._overlayWidget = null;
        this._resizeSash = null;
        this._positionMarkerId = [];
        this._viewZone = null;
        this._disposables = new $6W1JA.DisposableStore();
        this.container = null;
        this._isShowing = false;
        this.editor = editor;
        this.options = $freNL.deepClone(options);
        $freNL.mixin(this.options, $b7e468e592a4a48d$var$defaultOptions, false);
        this.domNode = document.createElement('div');
        if (!this.options.isAccessible) {
            this.domNode.setAttribute('aria-hidden', 'true');
            this.domNode.setAttribute('role', 'presentation');
        }
        this._disposables.add(this.editor.onDidLayoutChange((info)=>{
            const width = this._getWidth(info);
            this.domNode.style.width = width + 'px';
            this.domNode.style.left = this._getLeft(info) + 'px';
            this._onWidth(width);
        }));
    }
}



var $1WuVQ = parcelRequire("1WuVQ");
var $987c6183856787fa$exports = {};

$parcel$export($987c6183856787fa$exports, "createAndFillInActionBarActions", function () { return $987c6183856787fa$export$3b3f8def22d21768; }, function (v) { return $987c6183856787fa$export$3b3f8def22d21768 = v; });
$parcel$export($987c6183856787fa$exports, "MenuEntryActionViewItem", function () { return $987c6183856787fa$export$8606409db23e2e47; }, function (v) { return $987c6183856787fa$export$8606409db23e2e47 = v; });
$parcel$export($987c6183856787fa$exports, "createActionViewItem", function () { return $987c6183856787fa$export$9d27065ccc5be4d8; }, function (v) { return $987c6183856787fa$export$9d27065ccc5be4d8 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $lNmqN = parcelRequire("lNmqN");

var $8pBDX = parcelRequire("8pBDX");

var $8xgjE = parcelRequire("8xgjE");

var $8pBDX = parcelRequire("8pBDX");

var $8xgjE = parcelRequire("8xgjE");

var $lNmqN = parcelRequire("lNmqN");

var $jwiar = parcelRequire("jwiar");

var $g4Naw = parcelRequire("g4Naw");

var $bkXdq = parcelRequire("bkXdq");

class $ddbce2e46bae0cce$export$962ca21a659a1a24 extends $g4Naw.ActionRunner {
    get element() {
        return this._element;
    }
    show() {
        if (!this.visible) {
            this.visible = true;
            this._onDidChangeVisibility.fire(true);
        }
    }
    hide() {
        if (this.visible) {
            this.visible = false;
            this._onDidChangeVisibility.fire(false);
        }
    }
    dispose() {
        super.dispose();
        this.hide();
        if (this.boxContainer) {
            this.boxContainer.remove();
            this.boxContainer = undefined;
        }
        if (this.contents) {
            this.contents.remove();
            this.contents = undefined;
        }
        if (this._label) {
            this._label.remove();
            this._label = undefined;
        }
    }
    constructor(container1, options){
        super();
        this._onDidChangeVisibility = this._register(new $bkXdq.Emitter());
        this.onDidChangeVisibility = this._onDidChangeVisibility.event;
        this._element = $8xgjE.append(container1, $8xgjE.$('.monaco-dropdown'));
        this._label = $8xgjE.append(this._element, $8xgjE.$('.dropdown-label'));
        let labelRenderer = options.labelRenderer;
        if (!labelRenderer) labelRenderer = (container)=>{
            container.textContent = options.label || '';
            return null;
        };
        for (const event2 of [
            $8xgjE.EventType.CLICK,
            $8xgjE.EventType.MOUSE_DOWN,
            $jwiar.EventType.Tap
        ])this._register($8xgjE.addDisposableListener(this.element, event2, (e)=>$8xgjE.EventHelper.stop(e, true)
        )); // prevent default click behaviour to trigger
        for (const event1 of [
            $8xgjE.EventType.MOUSE_DOWN,
            $jwiar.EventType.Tap
        ])this._register($8xgjE.addDisposableListener(this._label, event1, (e)=>{
            if (e instanceof MouseEvent && e.detail > 1) return; // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)
            if (this.visible) this.hide();
            else this.show();
        }));
        this._register($8xgjE.addDisposableListener(this._label, $8xgjE.EventType.KEY_UP, (e)=>{
            const event = new $lNmqN.StandardKeyboardEvent(e);
            if (event.equals(3 /* Enter */ ) || event.equals(10 /* Space */ )) {
                $8xgjE.EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997
                if (this.visible) this.hide();
                else this.show();
            }
        }));
        const cleanupFn = labelRenderer(this._label);
        if (cleanupFn) this._register(cleanupFn);
        this._register($jwiar.Gesture.addTarget(this._label));
    }
}
class $ddbce2e46bae0cce$export$e44a253a59704894 extends $ddbce2e46bae0cce$export$962ca21a659a1a24 {
    set menuOptions(options) {
        this._menuOptions = options;
    }
    get menuOptions() {
        return this._menuOptions;
    }
    get actions() {
        if (this.actionProvider) return this.actionProvider.getActions();
        return this._actions;
    }
    set actions(actions) {
        this._actions = actions;
    }
    show() {
        super.show();
        this.element.classList.add('active');
        this._contextMenuProvider.showContextMenu({
            getAnchor: ()=>this.element
            ,
            getActions: ()=>this.actions
            ,
            getActionsContext: ()=>this.menuOptions ? this.menuOptions.context : null
            ,
            getActionViewItem: (action)=>this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action) : undefined
            ,
            getKeyBinding: (action)=>this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined
            ,
            getMenuClassName: ()=>this.menuClassName
            ,
            onHide: ()=>this.onHide()
            ,
            actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,
            anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* LEFT */ ,
            domForShadowRoot: this.menuAsChild ? this.element : undefined
        });
    }
    hide() {
        super.hide();
    }
    onHide() {
        this.hide();
        this.element.classList.remove('active');
    }
    constructor(container, options){
        super(container, options);
        this._actions = [];
        this._contextMenuProvider = options.contextMenuProvider;
        this.actions = options.actions || [];
        this.actionProvider = options.actionProvider;
        this.menuClassName = options.menuClassName || '';
        this.menuAsChild = !!options.menuAsChild;
    }
}



var $bkXdq = parcelRequire("bkXdq");

class $566a443fbfab7b7d$export$7c477a01defd15d5 extends $8pBDX.BaseActionViewItem {
    render(container) {
        this.actionItem = container;
        const labelRenderer = (el)=>{
            this.element = $8xgjE.append(el, $8xgjE.$('a.action-label'));
            let classNames = [];
            if (typeof this.options.classNames === 'string') classNames = this.options.classNames.split(/\s+/g).filter((s)=>!!s
            );
            else if (this.options.classNames) classNames = this.options.classNames;
            // todo@aeschli: remove codicon, should come through `this.options.classNames`
            if (!classNames.find((c)=>c === 'icon'
            )) classNames.push('codicon');
            this.element.classList.add(...classNames);
            this.element.setAttribute('role', 'button');
            this.element.setAttribute('aria-haspopup', 'true');
            this.element.setAttribute('aria-expanded', 'false');
            this.element.title = this._action.label || '';
            return null;
        };
        const isActionsArray = Array.isArray(this.menuActionsOrProvider);
        const options = {
            contextMenuProvider: this.contextMenuProvider,
            labelRenderer: labelRenderer,
            menuAsChild: this.options.menuAsChild,
            actions: isActionsArray ? this.menuActionsOrProvider : undefined,
            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider
        };
        this.dropdownMenu = this._register(new $ddbce2e46bae0cce$export$e44a253a59704894(container, options));
        this._register(this.dropdownMenu.onDidChangeVisibility((visible)=>{
            var _a;
            (_a = this.element) === null || _a === void 0 || _a.setAttribute('aria-expanded', `${visible}`);
            this._onDidChangeVisibility.fire(visible);
        }));
        this.dropdownMenu.menuOptions = {
            actionViewItemProvider: this.options.actionViewItemProvider,
            actionRunner: this.actionRunner,
            getKeyBinding: this.options.keybindingProvider,
            context: this._context
        };
        if (this.options.anchorAlignmentProvider) {
            const that = this;
            this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), {
                get anchorAlignment () {
                    return that.options.anchorAlignmentProvider();
                }
            });
        }
        this.updateEnabled();
    }
    setActionContext(newContext) {
        super.setActionContext(newContext);
        if (this.dropdownMenu) {
            if (this.dropdownMenu.menuOptions) this.dropdownMenu.menuOptions.context = newContext;
            else this.dropdownMenu.menuOptions = {
                context: newContext
            };
        }
    }
    updateEnabled() {
        var _a, _b;
        const disabled = !this.getAction().enabled;
        (_a = this.actionItem) === null || _a === void 0 || _a.classList.toggle('disabled', disabled);
        (_b = this.element) === null || _b === void 0 || _b.classList.toggle('disabled', disabled);
    }
    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)){
        super(null, action, options);
        this.actionItem = null;
        this._onDidChangeVisibility = this._register(new $bkXdq.Emitter());
        this.menuActionsOrProvider = menuActionsOrProvider;
        this.contextMenuProvider = contextMenuProvider;
        this.options = options;
        if (this.options.actionRunner) this.actionRunner = this.options.actionRunner;
    }
}



var $g4Naw = parcelRequire("g4Naw");

var $hHPco = parcelRequire("hHPco");

var $6W1JA = parcelRequire("6W1JA");

var $7e5Mc = parcelRequire("7e5Mc");


var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $h4kGX = parcelRequire("h4kGX");

var $grLnf = parcelRequire("grLnf");

var $6Xx7t = parcelRequire("6Xx7t");

var $i2aE6 = parcelRequire("i2aE6");

var $7MTz8 = parcelRequire("7MTz8");

var $4toHF = parcelRequire("4toHF");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $987c6183856787fa$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $987c6183856787fa$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $987c6183856787fa$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
function $987c6183856787fa$export$3b3f8def22d21768(menu, options, target, primaryGroup, primaryMaxCount, shouldInlineSubmenu, useSeparatorsInPrimaryActions) {
    const groups = menu.getActions(options);
    const isPrimaryAction = typeof primaryGroup === 'string' ? (actionGroup)=>actionGroup === primaryGroup
     : primaryGroup;
    // Action bars handle alternative actions on their own so the alternative actions should be ignored
    $987c6183856787fa$var$fillInActions(groups, target, false, isPrimaryAction, primaryMaxCount, shouldInlineSubmenu, useSeparatorsInPrimaryActions);
    return $987c6183856787fa$var$asDisposable(groups);
}
function $987c6183856787fa$var$asDisposable(groups) {
    const disposables = new $6W1JA.DisposableStore();
    for (const [, actions] of groups)for (const action of actions)disposables.add(action);
    return disposables;
}
function $987c6183856787fa$var$fillInActions(groups, target, useAlternativeActions, isPrimaryAction = (actionGroup)=>actionGroup === 'navigation'
, primaryMaxCount = Number.MAX_SAFE_INTEGER, shouldInlineSubmenu = ()=>false
, useSeparatorsInPrimaryActions = false) {
    let primaryBucket;
    let secondaryBucket;
    if (Array.isArray(target)) {
        primaryBucket = target;
        secondaryBucket = target;
    } else {
        primaryBucket = target.primary;
        secondaryBucket = target.secondary;
    }
    const submenuInfo = new Set();
    for (const [group, actions] of groups){
        let target;
        if (isPrimaryAction(group)) {
            target = primaryBucket;
            if (target.length > 0 && useSeparatorsInPrimaryActions) target.push(new $g4Naw.Separator());
        } else {
            target = secondaryBucket;
            if (target.length > 0) target.push(new $g4Naw.Separator());
        }
        for (let action of actions){
            if (useAlternativeActions) action = action instanceof $iCLhR.MenuItemAction && action.alt ? action.alt : action;
            const newLen = target.push(action);
            // keep submenu info for later inlining
            if (action instanceof $g4Naw.SubmenuAction) submenuInfo.add({
                group: group,
                action: action,
                index: newLen - 1
            });
        }
    }
    // ask the outside if submenu should be inlined or not. only ask when
    // there would be enough space
    for (const { group: group1 , action: action , index: index  } of submenuInfo){
        const target = isPrimaryAction(group1) ? primaryBucket : secondaryBucket;
        // inlining submenus with length 0 or 1 is easy,
        // larger submenus need to be checked with the overall limit
        const submenuActions = action.actions;
        if ((submenuActions.length <= 1 || target.length + submenuActions.length - 2 <= primaryMaxCount) && shouldInlineSubmenu(action, group1, target.length)) target.splice(index, 1, ...submenuActions);
    }
    // overflow items from the primary group into the secondary bucket
    if (primaryBucket !== secondaryBucket && primaryBucket.length > primaryMaxCount) {
        const overflow = primaryBucket.splice(primaryMaxCount, primaryBucket.length - primaryMaxCount);
        secondaryBucket.unshift(...overflow, new $g4Naw.Separator());
    }
}
let $987c6183856787fa$export$8606409db23e2e47 = class $987c6183856787fa$export$8606409db23e2e47 extends $8pBDX.ActionViewItem {
    get _menuItemAction() {
        return this._action;
    }
    get _commandAction() {
        return this._wantsAltCommand && this._menuItemAction.alt || this._menuItemAction;
    }
    onClick(event) {
        return $987c6183856787fa$var$__awaiter(this, void 0, void 0, function*() {
            event.preventDefault();
            event.stopPropagation();
            try {
                yield this.actionRunner.run(this._commandAction, this._context);
            } catch (err) {
                this._notificationService.error(err);
            }
        });
    }
    render(container) {
        super.render(container);
        container.classList.add('menu-entry');
        this._updateItemClass(this._menuItemAction.item);
        let mouseOver = false;
        let alternativeKeyDown = this._altKey.keyStatus.altKey || ($7e5Mc.isWindows || $7e5Mc.isLinux) && this._altKey.keyStatus.shiftKey;
        const updateAltState = ()=>{
            const wantsAltCommand = mouseOver && alternativeKeyDown;
            if (wantsAltCommand !== this._wantsAltCommand) {
                this._wantsAltCommand = wantsAltCommand;
                this.updateLabel();
                this.updateTooltip();
                this.updateClass();
            }
        };
        if (this._menuItemAction.alt) this._register(this._altKey.event((value)=>{
            alternativeKeyDown = value.altKey || ($7e5Mc.isWindows || $7e5Mc.isLinux) && value.shiftKey;
            updateAltState();
        }));
        this._register($8xgjE.addDisposableListener(container, 'mouseleave', (_)=>{
            mouseOver = false;
            updateAltState();
        }));
        this._register($8xgjE.addDisposableListener(container, 'mouseenter', (_)=>{
            mouseOver = true;
            updateAltState();
        }));
    }
    updateLabel() {
        if (this.options.label && this.label) this.label.textContent = this._commandAction.label;
    }
    updateTooltip() {
        if (this.label) {
            const keybinding = this._keybindingService.lookupKeybinding(this._commandAction.id, this._contextKeyService);
            const keybindingLabel = keybinding && keybinding.getLabel();
            const tooltip = this._commandAction.tooltip || this._commandAction.label;
            let title = keybindingLabel ? $1WuVQ.localize('titleAndKb', "{0} ({1})", tooltip, keybindingLabel) : tooltip;
            if (!this._wantsAltCommand && this._menuItemAction.alt) {
                const altTooltip = this._menuItemAction.alt.tooltip || this._menuItemAction.alt.label;
                const altKeybinding = this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id, this._contextKeyService);
                const altKeybindingLabel = altKeybinding && altKeybinding.getLabel();
                const altTitleSection = altKeybindingLabel ? $1WuVQ.localize('titleAndKb', "{0} ({1})", altTooltip, altKeybindingLabel) : altTooltip;
                title += `\n[${$hHPco.UILabelProvider.modifierLabels[$7e5Mc.OS].altKey}] ${altTitleSection}`;
            }
            this.label.title = title;
        }
    }
    updateClass() {
        if (this.options.icon) {
            if (this._commandAction !== this._menuItemAction) {
                if (this._menuItemAction.alt) this._updateItemClass(this._menuItemAction.alt.item);
            } else if (this._menuItemAction.alt) this._updateItemClass(this._menuItemAction.item);
        }
    }
    _updateItemClass(item) {
        var _a;
        this._itemClassDispose.value = undefined;
        const { element: element , label: label  } = this;
        if (!element || !label) return;
        const icon = this._commandAction.checked && ((_a = item.toggled) === null || _a === void 0 ? void 0 : _a.icon) ? item.toggled.icon : item.icon;
        if (!icon) return;
        if ($5Wwop.ThemeIcon.isThemeIcon(icon)) {
            // theme icons
            const iconClasses = $5Wwop.ThemeIcon.asClassNameArray(icon);
            label.classList.add(...iconClasses);
            this._itemClassDispose.value = $6W1JA.toDisposable(()=>{
                label.classList.remove(...iconClasses);
            });
        } else {
            // icon path/url
            if (icon.light) label.style.setProperty('--menu-entry-icon-light', $8xgjE.asCSSUrl(icon.light));
            if (icon.dark) label.style.setProperty('--menu-entry-icon-dark', $8xgjE.asCSSUrl(icon.dark));
            label.classList.add('icon');
            this._itemClassDispose.value = $6W1JA.toDisposable(()=>{
                label.classList.remove('icon');
                label.style.removeProperty('--menu-entry-icon-light');
                label.style.removeProperty('--menu-entry-icon-dark');
            });
        }
    }
    constructor(_action, options, _keybindingService, _notificationService, _contextKeyService){
        super(undefined, _action, {
            icon: !!(_action.class || _action.item.icon),
            label: !_action.class && !_action.item.icon,
            draggable: options === null || options === void 0 ? void 0 : options.draggable
        });
        this._keybindingService = _keybindingService;
        this._notificationService = _notificationService;
        this._contextKeyService = _contextKeyService;
        this._wantsAltCommand = false;
        this._itemClassDispose = this._register(new $6W1JA.MutableDisposable());
        this._altKey = $8xgjE.ModifierKeyEmitter.getInstance();
    }
};
$987c6183856787fa$export$8606409db23e2e47 = $987c6183856787fa$var$__decorate([
    $987c6183856787fa$var$__param(2, $i2aE6.IKeybindingService),
    $987c6183856787fa$var$__param(3, $7MTz8.INotificationService),
    $987c6183856787fa$var$__param(4, $h4kGX.IContextKeyService)
], $987c6183856787fa$export$8606409db23e2e47);
let $987c6183856787fa$export$18ad113e1f38dbd9 = class $987c6183856787fa$export$18ad113e1f38dbd9 extends $566a443fbfab7b7d$export$7c477a01defd15d5 {
    render(container) {
        super.render(container);
        if (this.element) {
            container.classList.add('menu-entry');
            const { icon: icon  } = this._action.item;
            if (icon && !$5Wwop.ThemeIcon.isThemeIcon(icon)) {
                this.element.classList.add('icon');
                if (icon.light) this.element.style.setProperty('--menu-entry-icon-light', $8xgjE.asCSSUrl(icon.light));
                if (icon.dark) this.element.style.setProperty('--menu-entry-icon-dark', $8xgjE.asCSSUrl(icon.dark));
            }
        }
    }
    constructor(action, options, contextMenuService){
        var _a, _b;
        const dropdownOptions = Object.assign({}, options !== null && options !== void 0 ? options : Object.create(null), {
            menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : false,
            classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : $5Wwop.ThemeIcon.isThemeIcon(action.item.icon) ? $5Wwop.ThemeIcon.asClassName(action.item.icon) : undefined
        });
        super(action, {
            getActions: ()=>action.actions
        }, contextMenuService, dropdownOptions);
    }
};
$987c6183856787fa$export$18ad113e1f38dbd9 = $987c6183856787fa$var$__decorate([
    $987c6183856787fa$var$__param(2, $grLnf.IContextMenuService)
], $987c6183856787fa$export$18ad113e1f38dbd9);
let $987c6183856787fa$var$DropdownWithDefaultActionViewItem = class DropdownWithDefaultActionViewItem extends $8pBDX.BaseActionViewItem {
    update(lastAction) {
        this._storageService.store(this._storageKey, lastAction.id, 1 /* WORKSPACE */ , 0 /* USER */ );
        this._defaultAction.dispose();
        this._defaultAction = this._instaService.createInstance($987c6183856787fa$export$8606409db23e2e47, lastAction, undefined);
        this._defaultAction.actionRunner = new class extends $g4Naw.ActionRunner {
            runAction(action, context) {
                return $987c6183856787fa$var$__awaiter(this, void 0, void 0, function*() {
                    yield action.run(undefined);
                });
            }
        }();
        if (this._container) this._defaultAction.render($8xgjE.prepend(this._container, $8xgjE.$('.action-container')));
    }
    setActionContext(newContext) {
        super.setActionContext(newContext);
        this._defaultAction.setActionContext(newContext);
        this._dropdown.setActionContext(newContext);
    }
    render(container) {
        this._container = container;
        super.render(this._container);
        this._container.classList.add('monaco-dropdown-with-default');
        const primaryContainer = $8xgjE.$('.action-container');
        this._defaultAction.render($8xgjE.append(this._container, primaryContainer));
        this._register($8xgjE.addDisposableListener(primaryContainer, $8xgjE.EventType.KEY_DOWN, (e)=>{
            const event = new $lNmqN.StandardKeyboardEvent(e);
            if (event.equals(17 /* RightArrow */ )) {
                this._defaultAction.element.tabIndex = -1;
                this._dropdown.focus();
                event.stopPropagation();
            }
        }));
        const dropdownContainer = $8xgjE.$('.dropdown-action-container');
        this._dropdown.render($8xgjE.append(this._container, dropdownContainer));
        this._register($8xgjE.addDisposableListener(dropdownContainer, $8xgjE.EventType.KEY_DOWN, (e)=>{
            var _a;
            const event = new $lNmqN.StandardKeyboardEvent(e);
            if (event.equals(15 /* LeftArrow */ )) {
                this._defaultAction.element.tabIndex = 0;
                this._dropdown.setFocusable(false);
                (_a = this._defaultAction.element) === null || _a === void 0 || _a.focus();
                event.stopPropagation();
            }
        }));
    }
    focus(fromRight) {
        if (fromRight) this._dropdown.focus();
        else {
            this._defaultAction.element.tabIndex = 0;
            this._defaultAction.element.focus();
        }
    }
    blur() {
        this._defaultAction.element.tabIndex = -1;
        this._dropdown.blur();
        this._container.blur();
    }
    setFocusable(focusable) {
        if (focusable) this._defaultAction.element.tabIndex = 0;
        else {
            this._defaultAction.element.tabIndex = -1;
            this._dropdown.setFocusable(false);
        }
    }
    dispose() {
        this._defaultAction.dispose();
        this._dropdown.dispose();
        super.dispose();
    }
    constructor(submenuAction, options, _keybindingService, _notificationService, _contextMenuService, _menuService, _instaService, _storageService){
        var _a, _b, _c;
        super(null, submenuAction);
        this._keybindingService = _keybindingService;
        this._notificationService = _notificationService;
        this._contextMenuService = _contextMenuService;
        this._menuService = _menuService;
        this._instaService = _instaService;
        this._storageService = _storageService;
        this._container = null;
        this._storageKey = `${submenuAction.item.submenu._debugName}_lastActionId`;
        // determine default action
        let defaultAction;
        let defaultActionId = _storageService.get(this._storageKey, 1 /* WORKSPACE */ );
        if (defaultActionId) defaultAction = submenuAction.actions.find((a)=>defaultActionId === a.id
        );
        if (!defaultAction) defaultAction = submenuAction.actions[0];
        this._defaultAction = this._instaService.createInstance($987c6183856787fa$export$8606409db23e2e47, defaultAction, undefined);
        const dropdownOptions = Object.assign({}, options !== null && options !== void 0 ? options : Object.create(null), {
            menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : true,
            classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : [
                'codicon',
                'codicon-chevron-down'
            ],
            actionRunner: (_c = options === null || options === void 0 ? void 0 : options.actionRunner) !== null && _c !== void 0 ? _c : new $g4Naw.ActionRunner()
        });
        this._dropdown = new $566a443fbfab7b7d$export$7c477a01defd15d5(submenuAction, submenuAction.actions, this._contextMenuService, dropdownOptions);
        this._dropdown.actionRunner.onDidRun((e)=>{
            if (e.action instanceof $iCLhR.MenuItemAction) this.update(e.action);
        });
    }
};
$987c6183856787fa$var$DropdownWithDefaultActionViewItem = $987c6183856787fa$var$__decorate([
    $987c6183856787fa$var$__param(2, $i2aE6.IKeybindingService),
    $987c6183856787fa$var$__param(3, $7MTz8.INotificationService),
    $987c6183856787fa$var$__param(4, $grLnf.IContextMenuService),
    $987c6183856787fa$var$__param(5, $iCLhR.IMenuService),
    $987c6183856787fa$var$__param(6, $6Xx7t.IInstantiationService),
    $987c6183856787fa$var$__param(7, $4toHF.IStorageService)
], $987c6183856787fa$var$DropdownWithDefaultActionViewItem);
function $987c6183856787fa$export$9d27065ccc5be4d8(instaService, action, options) {
    if (action instanceof $iCLhR.MenuItemAction) return instaService.createInstance($987c6183856787fa$export$8606409db23e2e47, action, undefined);
    else if (action instanceof $iCLhR.SubmenuItemAction) {
        if (action.item.rememberDefaultAction) return instaService.createInstance($987c6183856787fa$var$DropdownWithDefaultActionViewItem, action, options);
        else return instaService.createInstance($987c6183856787fa$export$18ad113e1f38dbd9, action, options);
    } else return undefined;
}



var $h4kGX = parcelRequire("h4kGX");

var $fjjY8 = parcelRequire("fjjY8");

var $6Xx7t = parcelRequire("6Xx7t");

var $kL4Ig = parcelRequire("kL4Ig");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $09aad26675037e07$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $09aad26675037e07$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $09aad26675037e07$export$8277d1187e5db7d6 = $6Xx7t.createDecorator('IPeekViewService');
$fjjY8.registerSingleton($09aad26675037e07$export$8277d1187e5db7d6, class {
    addExclusiveWidget(editor, widget) {
        const existing = this._widgets.get(editor);
        if (existing) {
            existing.listener.dispose();
            existing.widget.dispose();
        }
        const remove = ()=>{
            const data = this._widgets.get(editor);
            if (data && data.widget === widget) {
                data.listener.dispose();
                this._widgets.delete(editor);
            }
        };
        this._widgets.set(editor, {
            widget: widget,
            listener: widget.onDidClose(remove)
        });
    }
    constructor(){
        this._widgets = new Map();
    }
});
var $09aad26675037e07$export$5afd50a7c05ff96a;
(function($09aad26675037e07$export$5afd50a7c05ff96a) {
    $09aad26675037e07$export$5afd50a7c05ff96a.inPeekEditor = new $h4kGX.RawContextKey('inReferenceSearchEditor', true, $1WuVQ.localize('inReferenceSearchEditor', "Whether the current code editor is embedded inside peek"));
    $09aad26675037e07$export$5afd50a7c05ff96a.notInPeekEditor = $09aad26675037e07$export$5afd50a7c05ff96a.inPeekEditor.toNegated();
})($09aad26675037e07$export$5afd50a7c05ff96a || ($09aad26675037e07$export$5afd50a7c05ff96a = {}));
let $09aad26675037e07$var$PeekContextController = class PeekContextController {
    dispose() {}
    constructor(editor, contextKeyService){
        if (editor instanceof $417b9987abbc15ba$exports.EmbeddedCodeEditorWidget) $09aad26675037e07$export$5afd50a7c05ff96a.inPeekEditor.bindTo(contextKeyService);
    }
};
$09aad26675037e07$var$PeekContextController.ID = 'editor.contrib.referenceController';
$09aad26675037e07$var$PeekContextController = $09aad26675037e07$var$__decorate([
    $09aad26675037e07$var$__param(1, $h4kGX.IContextKeyService)
], $09aad26675037e07$var$PeekContextController);
$g9Zlr.registerEditorContribution($09aad26675037e07$var$PeekContextController.ID, $09aad26675037e07$var$PeekContextController);
function $09aad26675037e07$export$434a98f74be8c7b9(accessor) {
    let editor = accessor.get($7lWR1.ICodeEditorService).getFocusedCodeEditor();
    if (editor instanceof $417b9987abbc15ba$exports.EmbeddedCodeEditorWidget) return editor.getParentEditor();
    return editor;
}
const $09aad26675037e07$var$defaultOptions = {
    headerBackgroundColor: $8OIA7.Color.white,
    primaryHeadingColor: $8OIA7.Color.fromHex('#333333'),
    secondaryHeadingColor: $8OIA7.Color.fromHex('#6c6c6cb3')
};
let $09aad26675037e07$export$85acc0ce60f75b9f = class $09aad26675037e07$export$85acc0ce60f75b9f extends $b7e468e592a4a48d$export$4a50bb71db87eba6 {
    dispose() {
        if (!this.disposed) {
            this.disposed = true; // prevent consumers who dispose on onDidClose from looping
            super.dispose();
            this._onDidClose.fire(this);
        }
    }
    style(styles) {
        let options = this.options;
        if (styles.headerBackgroundColor) options.headerBackgroundColor = styles.headerBackgroundColor;
        if (styles.primaryHeadingColor) options.primaryHeadingColor = styles.primaryHeadingColor;
        if (styles.secondaryHeadingColor) options.secondaryHeadingColor = styles.secondaryHeadingColor;
        super.style(styles);
    }
    _applyStyles() {
        super._applyStyles();
        let options = this.options;
        if (this._headElement && options.headerBackgroundColor) this._headElement.style.backgroundColor = options.headerBackgroundColor.toString();
        if (this._primaryHeading && options.primaryHeadingColor) this._primaryHeading.style.color = options.primaryHeadingColor.toString();
        if (this._secondaryHeading && options.secondaryHeadingColor) this._secondaryHeading.style.color = options.secondaryHeadingColor.toString();
        if (this._bodyElement && options.frameColor) this._bodyElement.style.borderColor = options.frameColor.toString();
    }
    _fillContainer(container) {
        this.setCssClass('peekview-widget');
        this._headElement = $8xgjE.$('.head');
        this._bodyElement = $8xgjE.$('.body');
        this._fillHead(this._headElement);
        this._fillBody(this._bodyElement);
        container.appendChild(this._headElement);
        container.appendChild(this._bodyElement);
    }
    _fillHead(container, noCloseAction) {
        const titleElement = $8xgjE.$('.peekview-title');
        if (this.options.supportOnTitleClick) {
            titleElement.classList.add('clickable');
            $8xgjE.addStandardDisposableListener(titleElement, 'click', (event)=>this._onTitleClick(event)
            );
        }
        $8xgjE.append(this._headElement, titleElement);
        this._fillTitleIcon(titleElement);
        this._primaryHeading = $8xgjE.$('span.filename');
        this._secondaryHeading = $8xgjE.$('span.dirname');
        this._metaHeading = $8xgjE.$('span.meta');
        $8xgjE.append(titleElement, this._primaryHeading, this._secondaryHeading, this._metaHeading);
        const actionsContainer = $8xgjE.$('.peekview-actions');
        $8xgjE.append(this._headElement, actionsContainer);
        const actionBarOptions = this._getActionBarOptions();
        this._actionbarWidget = new $7s6Vc.ActionBar(actionsContainer, actionBarOptions);
        this._disposables.add(this._actionbarWidget);
        if (!noCloseAction) this._actionbarWidget.push(new $g4Naw.Action('peekview.close', $1WuVQ.localize('label.close', "Close"), $k4zqw.Codicon.close.classNames, true, ()=>{
            this.dispose();
            return Promise.resolve();
        }), {
            label: false,
            icon: true
        });
    }
    _fillTitleIcon(container) {}
    _getActionBarOptions() {
        return {
            actionViewItemProvider: $987c6183856787fa$exports.createActionViewItem.bind(undefined, this.instantiationService),
            orientation: 0 /* HORIZONTAL */ 
        };
    }
    _onTitleClick(event) {
    // implement me if supportOnTitleClick option is set
    }
    setTitle(primaryHeading, secondaryHeading) {
        if (this._primaryHeading && this._secondaryHeading) {
            this._primaryHeading.innerText = primaryHeading;
            this._primaryHeading.setAttribute('title', primaryHeading);
            if (secondaryHeading) this._secondaryHeading.innerText = secondaryHeading;
            else $8xgjE.clearNode(this._secondaryHeading);
        }
    }
    setMetaTitle(value) {
        if (this._metaHeading) {
            if (value) {
                this._metaHeading.innerText = value;
                $8xgjE.show(this._metaHeading);
            } else $8xgjE.hide(this._metaHeading);
        }
    }
    _doLayout(heightInPixel, widthInPixel) {
        if (!this._isShowing && heightInPixel < 0) {
            // Looks like the view zone got folded away!
            this.dispose();
            return;
        }
        const headHeight = Math.ceil(this.editor.getOption(58 /* lineHeight */ ) * 1.2);
        const bodyHeight = Math.round(heightInPixel - (headHeight + 2 /* the border-top/bottom width*/ ));
        this._doLayoutHead(headHeight, widthInPixel);
        this._doLayoutBody(bodyHeight, widthInPixel);
    }
    _doLayoutHead(heightInPixel, widthInPixel) {
        if (this._headElement) {
            this._headElement.style.height = `${heightInPixel}px`;
            this._headElement.style.lineHeight = this._headElement.style.height;
        }
    }
    _doLayoutBody(heightInPixel, widthInPixel) {
        if (this._bodyElement) this._bodyElement.style.height = `${heightInPixel}px`;
    }
    constructor(editor, options, instantiationService){
        super(editor, options);
        this.instantiationService = instantiationService;
        this._onDidClose = new $bkXdq.Emitter();
        this.onDidClose = this._onDidClose.event;
        $freNL.mixin(this.options, $09aad26675037e07$var$defaultOptions, false);
    }
};
$09aad26675037e07$export$85acc0ce60f75b9f = $09aad26675037e07$var$__decorate([
    $09aad26675037e07$var$__param(2, $6Xx7t.IInstantiationService)
], $09aad26675037e07$export$85acc0ce60f75b9f);
const $09aad26675037e07$export$b1e2a843606aa53d = $kL4Ig.registerColor('peekViewTitle.background', {
    dark: $kL4Ig.transparent($kL4Ig.editorInfoForeground, .1),
    light: $kL4Ig.transparent($kL4Ig.editorInfoForeground, .1),
    hc: null
}, $1WuVQ.localize('peekViewTitleBackground', 'Background color of the peek view title area.'));
const $09aad26675037e07$export$5f7b8e8b47f91ad3 = $kL4Ig.registerColor('peekViewTitleLabel.foreground', {
    dark: $8OIA7.Color.white,
    light: $8OIA7.Color.black,
    hc: $8OIA7.Color.white
}, $1WuVQ.localize('peekViewTitleForeground', 'Color of the peek view title.'));
const $09aad26675037e07$export$cdda5f1c5d2481c1 = $kL4Ig.registerColor('peekViewTitleDescription.foreground', {
    dark: '#ccccccb3',
    light: '#616161',
    hc: '#FFFFFF99'
}, $1WuVQ.localize('peekViewTitleInfoForeground', 'Color of the peek view title info.'));
const $09aad26675037e07$export$2d4f038d18170ad2 = $kL4Ig.registerColor('peekView.border', {
    dark: $kL4Ig.editorInfoForeground,
    light: $kL4Ig.editorInfoForeground,
    hc: $kL4Ig.contrastBorder
}, $1WuVQ.localize('peekViewBorder', 'Color of the peek view borders and arrow.'));
const $09aad26675037e07$export$84f26812d83dda36 = $kL4Ig.registerColor('peekViewResult.background', {
    dark: '#252526',
    light: '#F3F3F3',
    hc: $8OIA7.Color.black
}, $1WuVQ.localize('peekViewResultsBackground', 'Background color of the peek view result list.'));
const $09aad26675037e07$export$a491fa13f1ce3738 = $kL4Ig.registerColor('peekViewResult.lineForeground', {
    dark: '#bbbbbb',
    light: '#646465',
    hc: $8OIA7.Color.white
}, $1WuVQ.localize('peekViewResultsMatchForeground', 'Foreground color for line nodes in the peek view result list.'));
const $09aad26675037e07$export$a1687901d0a759bc = $kL4Ig.registerColor('peekViewResult.fileForeground', {
    dark: $8OIA7.Color.white,
    light: '#1E1E1E',
    hc: $8OIA7.Color.white
}, $1WuVQ.localize('peekViewResultsFileForeground', 'Foreground color for file nodes in the peek view result list.'));
const $09aad26675037e07$export$69e7cc9d2668590d = $kL4Ig.registerColor('peekViewResult.selectionBackground', {
    dark: '#3399ff33',
    light: '#3399ff33',
    hc: null
}, $1WuVQ.localize('peekViewResultsSelectionBackground', 'Background color of the selected entry in the peek view result list.'));
const $09aad26675037e07$export$a92d00dd8eacf5a2 = $kL4Ig.registerColor('peekViewResult.selectionForeground', {
    dark: $8OIA7.Color.white,
    light: '#6C6C6C',
    hc: $8OIA7.Color.white
}, $1WuVQ.localize('peekViewResultsSelectionForeground', 'Foreground color of the selected entry in the peek view result list.'));
const $09aad26675037e07$export$192226a1c99f760c = $kL4Ig.registerColor('peekViewEditor.background', {
    dark: '#001F33',
    light: '#F2F8FC',
    hc: $8OIA7.Color.black
}, $1WuVQ.localize('peekViewEditorBackground', 'Background color of the peek view editor.'));
const $09aad26675037e07$export$bbfa630afc4be338 = $kL4Ig.registerColor('peekViewEditorGutter.background', {
    dark: $09aad26675037e07$export$192226a1c99f760c,
    light: $09aad26675037e07$export$192226a1c99f760c,
    hc: $09aad26675037e07$export$192226a1c99f760c
}, $1WuVQ.localize('peekViewEditorGutterBackground', 'Background color of the gutter in the peek view editor.'));
const $09aad26675037e07$export$f4638ed4c5a4d0b9 = $kL4Ig.registerColor('peekViewResult.matchHighlightBackground', {
    dark: '#ea5c004d',
    light: '#ea5c004d',
    hc: null
}, $1WuVQ.localize('peekViewResultsMatchHighlight', 'Match highlight color in the peek view result list.'));
const $09aad26675037e07$export$164f8e8ef1987462 = $kL4Ig.registerColor('peekViewEditor.matchHighlightBackground', {
    dark: '#ff8f0099',
    light: '#f5d802de',
    hc: null
}, $1WuVQ.localize('peekViewEditorMatchHighlight', 'Match highlight color in the peek view editor.'));
const $09aad26675037e07$export$f891f8a4d014823a = $kL4Ig.registerColor('peekViewEditor.matchHighlightBorder', {
    dark: null,
    light: null,
    hc: $kL4Ig.activeContrastBorder
}, $1WuVQ.localize('peekViewEditorMatchHighlightBorder', 'Match highlight border in the peek view editor.'));



var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
var $7f58153e4f43c9d6$exports = {};

$parcel$export($7f58153e4f43c9d6$exports, "DefinitionAction", function () { return $7f58153e4f43c9d6$export$5aed1003b9513172; }, function (v) { return $7f58153e4f43c9d6$export$5aed1003b9513172 = v; });

var $cBBwi = parcelRequire("cBBwi");

var $6eCoB = parcelRequire("6eCoB");

var $5piST = parcelRequire("5piST");

var $ecpYn = parcelRequire("ecpYn");

var $7e5Mc = parcelRequire("7e5Mc");

var $erLC3 = parcelRequire("erLC3");

var $bUZVY = parcelRequire("bUZVY");

var $78AWm = parcelRequire("78AWm");

var $9PPqK = parcelRequire("9PPqK");

var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");


var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");

var $goPht = parcelRequire("goPht");
var $2e72779f5ae01016$exports = {};

$parcel$export($2e72779f5ae01016$exports, "ReferencesController", function () { return $2e72779f5ae01016$export$60e6f978b59c492d; }, function (v) { return $2e72779f5ae01016$export$60e6f978b59c492d = v; });

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $ecpYn = parcelRequire("ecpYn");

var $6W1JA = parcelRequire("6W1JA");

var $7lWR1 = parcelRequire("7lWR1");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");


var $1WuVQ = parcelRequire("1WuVQ");

var $c0VS7 = parcelRequire("c0VS7");

var $6goiI = parcelRequire("6goiI");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $6ObvH = parcelRequire("6ObvH");

var $kYdUZ = parcelRequire("kYdUZ");

var $7MTz8 = parcelRequire("7MTz8");

var $4toHF = parcelRequire("4toHF");
var $aaa3a805b3bb2b56$exports = {};

$parcel$export($aaa3a805b3bb2b56$exports, "OneReference", function () { return $aaa3a805b3bb2b56$export$5a16ca2afcb50c8b; }, function (v) { return $aaa3a805b3bb2b56$export$5a16ca2afcb50c8b = v; });
$parcel$export($aaa3a805b3bb2b56$exports, "FileReferences", function () { return $aaa3a805b3bb2b56$export$abd311b1beafe84f; }, function (v) { return $aaa3a805b3bb2b56$export$abd311b1beafe84f = v; });
$parcel$export($aaa3a805b3bb2b56$exports, "ReferencesModel", function () { return $aaa3a805b3bb2b56$export$f3299b77f3be0450; }, function (v) { return $aaa3a805b3bb2b56$export$f3299b77f3be0450 = v; });

var $3FsT3 = parcelRequire("3FsT3");

var $bkXdq = parcelRequire("bkXdq");

var $iZqFU = parcelRequire("iZqFU");

var $6W1JA = parcelRequire("6W1JA");

var $dNpei = parcelRequire("dNpei");

var $lvxAj = parcelRequire("lvxAj");

var $i4xl7 = parcelRequire("i4xl7");

var $1YFxJ = parcelRequire("1YFxJ");

var $1WuVQ = parcelRequire("1WuVQ");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $aaa3a805b3bb2b56$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $aaa3a805b3bb2b56$export$5a16ca2afcb50c8b {
    get uri() {
        return this.link.uri;
    }
    get range() {
        var _a, _b;
        return (_b = (_a = this._range) !== null && _a !== void 0 ? _a : this.link.targetSelectionRange) !== null && _b !== void 0 ? _b : this.link.range;
    }
    set range(value) {
        this._range = value;
        this._rangeCallback(this);
    }
    get ariaMessage() {
        var _a;
        const preview = (_a = this.parent.getPreview(this)) === null || _a === void 0 ? void 0 : _a.preview(this.range);
        if (!preview) return $1WuVQ.localize('aria.oneReference', "symbol in {0} on line {1} at column {2}", $lvxAj.basename(this.uri), this.range.startLineNumber, this.range.startColumn);
        else return $1WuVQ.localize({
            key: 'aria.oneReference.preview',
            comment: [
                'Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code'
            ]
        }, "symbol in {0} on line {1} at column {2}, {3}", $lvxAj.basename(this.uri), this.range.startLineNumber, this.range.startColumn, preview.value);
    }
    constructor(isProviderFirst, parent, link, _rangeCallback){
        this.isProviderFirst = isProviderFirst;
        this.parent = parent;
        this.link = link;
        this._rangeCallback = _rangeCallback;
        this.id = $iZqFU.defaultGenerator.nextId();
    }
}
class $aaa3a805b3bb2b56$export$a127194569a41afb {
    dispose() {
        this._modelReference.dispose();
    }
    preview(range, n = 8) {
        const model = this._modelReference.object.textEditorModel;
        if (!model) return undefined;
        const { startLineNumber: startLineNumber , startColumn: startColumn , endLineNumber: endLineNumber , endColumn: endColumn  } = range;
        const word = model.getWordUntilPosition({
            lineNumber: startLineNumber,
            column: startColumn - n
        });
        const beforeRange = new $1YFxJ.Range(startLineNumber, word.startColumn, startLineNumber, startColumn);
        const afterRange = new $1YFxJ.Range(endLineNumber, endColumn, endLineNumber, 1073741824 /* MAX_SAFE_SMALL_INTEGER */ );
        const before = model.getValueInRange(beforeRange).replace(/^\s+/, '');
        const inside = model.getValueInRange(range);
        const after = model.getValueInRange(afterRange).replace(/\s+$/, '');
        return {
            value: before + inside + after,
            highlight: {
                start: before.length,
                end: before.length + inside.length
            }
        };
    }
    constructor(_modelReference){
        this._modelReference = _modelReference;
    }
}
class $aaa3a805b3bb2b56$export$abd311b1beafe84f {
    dispose() {
        $6W1JA.dispose(this._previews.values());
        this._previews.clear();
    }
    getPreview(child) {
        return this._previews.get(child.uri);
    }
    get ariaMessage() {
        const len = this.children.length;
        if (len === 1) return $1WuVQ.localize('aria.fileReferences.1', "1 symbol in {0}, full path {1}", $lvxAj.basename(this.uri), this.uri.fsPath);
        else return $1WuVQ.localize('aria.fileReferences.N', "{0} symbols in {1}, full path {2}", len, $lvxAj.basename(this.uri), this.uri.fsPath);
    }
    resolve(textModelResolverService) {
        return $aaa3a805b3bb2b56$var$__awaiter(this, void 0, void 0, function*() {
            if (this._previews.size !== 0) return this;
            for (let child of this.children){
                if (this._previews.has(child.uri)) continue;
                try {
                    const ref = yield textModelResolverService.createModelReference(child.uri);
                    this._previews.set(child.uri, new $aaa3a805b3bb2b56$export$a127194569a41afb(ref));
                } catch (err) {
                    $3FsT3.onUnexpectedError(err);
                }
            }
            return this;
        });
    }
    constructor(parent, uri){
        this.parent = parent;
        this.uri = uri;
        this.children = [];
        this._previews = new $dNpei.ResourceMap();
    }
}
class $aaa3a805b3bb2b56$export$f3299b77f3be0450 {
    dispose() {
        $6W1JA.dispose(this.groups);
        this._onDidChangeReferenceRange.dispose();
        this.groups.length = 0;
    }
    clone() {
        return new $aaa3a805b3bb2b56$export$f3299b77f3be0450(this._links, this._title);
    }
    get title() {
        return this._title;
    }
    get isEmpty() {
        return this.groups.length === 0;
    }
    get ariaMessage() {
        if (this.isEmpty) return $1WuVQ.localize('aria.result.0', "No results found");
        else if (this.references.length === 1) return $1WuVQ.localize('aria.result.1', "Found 1 symbol in {0}", this.references[0].uri.fsPath);
        else if (this.groups.length === 1) return $1WuVQ.localize('aria.result.n1', "Found {0} symbols in {1}", this.references.length, this.groups[0].uri.fsPath);
        else return $1WuVQ.localize('aria.result.nm', "Found {0} symbols in {1} files", this.references.length, this.groups.length);
    }
    nextOrPreviousReference(reference, next) {
        let { parent: parent  } = reference;
        let idx = parent.children.indexOf(reference);
        let childCount = parent.children.length;
        let groupCount = parent.parent.groups.length;
        if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {
            // cycling within one file
            if (next) idx = (idx + 1) % childCount;
            else idx = (idx + childCount - 1) % childCount;
            return parent.children[idx];
        }
        idx = parent.parent.groups.indexOf(parent);
        if (next) {
            idx = (idx + 1) % groupCount;
            return parent.parent.groups[idx].children[0];
        } else {
            idx = (idx + groupCount - 1) % groupCount;
            return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];
        }
    }
    nearestReference(resource, position) {
        const nearest = this.references.map((ref, idx)=>{
            return {
                idx: idx,
                prefixLen: $i4xl7.commonPrefixLength(ref.uri.toString(), resource.toString()),
                offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)
            };
        }).sort((a, b)=>{
            if (a.prefixLen > b.prefixLen) return -1;
            else if (a.prefixLen < b.prefixLen) return 1;
            else if (a.offsetDist < b.offsetDist) return -1;
            else if (a.offsetDist > b.offsetDist) return 1;
            else return 0;
        })[0];
        if (nearest) return this.references[nearest.idx];
        return undefined;
    }
    referenceAt(resource, position) {
        for (const ref of this.references)if (ref.uri.toString() === resource.toString()) {
            if ($1YFxJ.Range.containsPosition(ref.range, position)) return ref;
        }
        return undefined;
    }
    firstReference() {
        for (const ref of this.references){
            if (ref.isProviderFirst) return ref;
        }
        return this.references[0];
    }
    static _compareReferences(a, b) {
        return $lvxAj.extUri.compare(a.uri, b.uri) || $1YFxJ.Range.compareRangesUsingStarts(a.range, b.range);
    }
    constructor(links, title){
        this.groups = [];
        this.references = [];
        this._onDidChangeReferenceRange = new $bkXdq.Emitter();
        this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;
        this._links = links;
        this._title = title;
        // grouping and sorting
        const [providersFirst] = links;
        links.sort($aaa3a805b3bb2b56$export$f3299b77f3be0450._compareReferences);
        let current;
        for (let link of links){
            if (!current || !$lvxAj.extUri.isEqual(current.uri, link.uri, true)) {
                // new group
                current = new $aaa3a805b3bb2b56$export$abd311b1beafe84f(this, link.uri);
                this.groups.push(current);
            }
            // append, check for equality first!
            if (current.children.length === 0 || $aaa3a805b3bb2b56$export$f3299b77f3be0450._compareReferences(link, current.children[current.children.length - 1]) !== 0) {
                const oneRef = new $aaa3a805b3bb2b56$export$5a16ca2afcb50c8b(providersFirst === link, current, link, (ref)=>this._onDidChangeReferenceRange.fire(ref)
                );
                this.references.push(oneRef);
                current.children.push(oneRef);
            }
        }
    }
}


var $1194a5e7d847d4e8$exports = {};

$parcel$export($1194a5e7d847d4e8$exports, "LayoutData", function () { return $1194a5e7d847d4e8$export$276a580b24a20d1; }, function (v) { return $1194a5e7d847d4e8$export$276a580b24a20d1 = v; });
$parcel$export($1194a5e7d847d4e8$exports, "ReferenceWidget", function () { return $1194a5e7d847d4e8$export$a6aef00aae3b3577; }, function (v) { return $1194a5e7d847d4e8$export$a6aef00aae3b3577 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $4nkFJ = parcelRequire("4nkFJ");

var $8OIA7 = parcelRequire("8OIA7");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $fA94G = parcelRequire("fA94G");

var $lvxAj = parcelRequire("lvxAj");



var $1YFxJ = parcelRequire("1YFxJ");

var $72tIz = parcelRequire("72tIz");

var $ahykL = parcelRequire("ahykL");

var $jwAxq = parcelRequire("jwAxq");

var $ftViW = parcelRequire("ftViW");
var $4a6ed92774315a11$exports = {};

$parcel$export($4a6ed92774315a11$exports, "DataSource", function () { return $4a6ed92774315a11$export$accd73d198d77d2f; }, function (v) { return $4a6ed92774315a11$export$accd73d198d77d2f = v; });
$parcel$export($4a6ed92774315a11$exports, "Delegate", function () { return $4a6ed92774315a11$export$2a8f9cc4e68431ea; }, function (v) { return $4a6ed92774315a11$export$2a8f9cc4e68431ea = v; });
$parcel$export($4a6ed92774315a11$exports, "FileReferencesRenderer", function () { return $4a6ed92774315a11$export$15497fea8d02acf6; }, function (v) { return $4a6ed92774315a11$export$15497fea8d02acf6 = v; });
$parcel$export($4a6ed92774315a11$exports, "OneReferenceRenderer", function () { return $4a6ed92774315a11$export$b181a089ad2d048d; }, function (v) { return $4a6ed92774315a11$export$b181a089ad2d048d = v; });
$parcel$export($4a6ed92774315a11$exports, "StringRepresentationProvider", function () { return $4a6ed92774315a11$export$5a1ff9bb06397f8e; }, function (v) { return $4a6ed92774315a11$export$5a1ff9bb06397f8e = v; });
$parcel$export($4a6ed92774315a11$exports, "IdentityProvider", function () { return $4a6ed92774315a11$export$26106abfb5b2a456; }, function (v) { return $4a6ed92774315a11$export$26106abfb5b2a456 = v; });
$parcel$export($4a6ed92774315a11$exports, "AccessibilityProvider", function () { return $4a6ed92774315a11$export$aa8739b876e4b61f; }, function (v) { return $4a6ed92774315a11$export$aa8739b876e4b61f = v; });

var $8xgjE = parcelRequire("8xgjE");

var $98pWF = parcelRequire("98pWF");

var $k7Z9P = parcelRequire("k7Z9P");

var $i4NBN = parcelRequire("i4NBN");

var $6FDEF = parcelRequire("6FDEF");

var $ggpAj = parcelRequire("ggpAj");

var $fA94G = parcelRequire("fA94G");

var $7e5Mc = parcelRequire("7e5Mc");

var $lvxAj = parcelRequire("lvxAj");

var $bUZVY = parcelRequire("bUZVY");
function $f74ad904c4688561$export$c8ab9bf6b3a1df37(resource) {
    if (!resource) return undefined;
    if (typeof resource === 'string') resource = $bUZVY.URI.file(resource);
    const base = $lvxAj.basename(resource) || (resource.scheme === $fA94G.Schemas.file ? resource.fsPath : resource.path /* can be empty string if '/' is passed in */ );
    // convert c: => C:
    if ($7e5Mc.isWindows && $ggpAj.isRootOrDriveLetter(base)) return $f74ad904c4688561$export$86de3c9238cdb7b7(base);
    return base;
}
function $f74ad904c4688561$export$86de3c9238cdb7b7(path, continueAsWindows) {
    if ($ggpAj.hasDriveLetter(path, continueAsWindows)) return path.charAt(0).toUpperCase() + path.slice(1);
    return path;
}
let $f74ad904c4688561$var$normalizedUserHomeCached = Object.create(null);



var $6W1JA = parcelRequire("6W1JA");

var $lvxAj = parcelRequire("lvxAj");

var $ftViW = parcelRequire("ftViW");

var $1WuVQ = parcelRequire("1WuVQ");

var $6Xx7t = parcelRequire("6Xx7t");

var $i2aE6 = parcelRequire("i2aE6");

var $kqwaP = parcelRequire("kqwaP");

var $5d1gs = parcelRequire("5d1gs");

var $5Wwop = parcelRequire("5Wwop");

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $4a6ed92774315a11$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $4a6ed92774315a11$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $4a6ed92774315a11$export$accd73d198d77d2f = class $4a6ed92774315a11$export$accd73d198d77d2f {
    hasChildren(element) {
        if (element instanceof $aaa3a805b3bb2b56$exports.ReferencesModel) return true;
        if (element instanceof $aaa3a805b3bb2b56$exports.FileReferences) return true;
        return false;
    }
    getChildren(element) {
        if (element instanceof $aaa3a805b3bb2b56$exports.ReferencesModel) return element.groups;
        if (element instanceof $aaa3a805b3bb2b56$exports.FileReferences) return element.resolve(this._resolverService).then((val)=>{
            // if (element.failure) {
            // 	// refresh the element on failure so that
            // 	// we can update its rendering
            // 	return tree.refresh(element).then(() => val.children);
            // }
            return val.children;
        });
        throw new Error('bad tree');
    }
    constructor(_resolverService){
        this._resolverService = _resolverService;
    }
};
$4a6ed92774315a11$export$accd73d198d77d2f = $4a6ed92774315a11$var$__decorate([
    $4a6ed92774315a11$var$__param(0, $ftViW.ITextModelService)
], $4a6ed92774315a11$export$accd73d198d77d2f);
class $4a6ed92774315a11$export$2a8f9cc4e68431ea {
    getHeight() {
        return 23;
    }
    getTemplateId(element) {
        if (element instanceof $aaa3a805b3bb2b56$exports.FileReferences) return $4a6ed92774315a11$export$15497fea8d02acf6.id;
        else return $4a6ed92774315a11$export$b181a089ad2d048d.id;
    }
}
let $4a6ed92774315a11$export$5a1ff9bb06397f8e = class $4a6ed92774315a11$export$5a1ff9bb06397f8e {
    getKeyboardNavigationLabel(element) {
        var _a;
        if (element instanceof $aaa3a805b3bb2b56$exports.OneReference) {
            const parts = (_a = element.parent.getPreview(element)) === null || _a === void 0 ? void 0 : _a.preview(element.range);
            if (parts) return parts.value;
        }
        // FileReferences or unresolved OneReference
        return $lvxAj.basename(element.uri);
    }
    constructor(_keybindingService){
        this._keybindingService = _keybindingService;
    }
};
$4a6ed92774315a11$export$5a1ff9bb06397f8e = $4a6ed92774315a11$var$__decorate([
    $4a6ed92774315a11$var$__param(0, $i2aE6.IKeybindingService)
], $4a6ed92774315a11$export$5a1ff9bb06397f8e);
class $4a6ed92774315a11$export$26106abfb5b2a456 {
    getId(element) {
        return element instanceof $aaa3a805b3bb2b56$exports.OneReference ? element.id : element.uri;
    }
}
//#region render: File
let $4a6ed92774315a11$var$FileReferencesTemplate = class FileReferencesTemplate extends $6W1JA.Disposable {
    set(element, matches) {
        let parent = $lvxAj.dirname(element.uri);
        this.file.setLabel($f74ad904c4688561$export$c8ab9bf6b3a1df37(element.uri), this._uriLabel.getUriLabel(parent, {
            relative: true
        }), {
            title: this._uriLabel.getUriLabel(element.uri),
            matches: matches
        });
        const len = element.children.length;
        this.badge.setCount(len);
        if (len > 1) this.badge.setTitleFormat($1WuVQ.localize('referencesCount', "{0} references", len));
        else this.badge.setTitleFormat($1WuVQ.localize('referenceCount', "{0} reference", len));
    }
    constructor(container, _uriLabel, themeService){
        super();
        this._uriLabel = _uriLabel;
        const parent = document.createElement('div');
        parent.classList.add('reference-file');
        this.file = this._register(new $i4NBN.IconLabel(parent, {
            supportHighlights: true
        }));
        this.badge = new $98pWF.CountBadge($8xgjE.append(parent, $8xgjE.$('.count')));
        this._register($5d1gs.attachBadgeStyler(this.badge, themeService));
        container.appendChild(parent);
    }
};
$4a6ed92774315a11$var$FileReferencesTemplate = $4a6ed92774315a11$var$__decorate([
    $4a6ed92774315a11$var$__param(1, $kqwaP.ILabelService),
    $4a6ed92774315a11$var$__param(2, $5Wwop.IThemeService)
], $4a6ed92774315a11$var$FileReferencesTemplate);
let $4a6ed92774315a11$export$15497fea8d02acf6 = class $4a6ed92774315a11$export$15497fea8d02acf6 {
    renderTemplate(container) {
        return this._instantiationService.createInstance($4a6ed92774315a11$var$FileReferencesTemplate, container);
    }
    renderElement(node, index, template) {
        template.set(node.element, $6FDEF.createMatches(node.filterData));
    }
    disposeTemplate(templateData) {
        templateData.dispose();
    }
    constructor(_instantiationService){
        this._instantiationService = _instantiationService;
        this.templateId = $4a6ed92774315a11$export$15497fea8d02acf6.id;
    }
};
$4a6ed92774315a11$export$15497fea8d02acf6.id = 'FileReferencesRenderer';
$4a6ed92774315a11$export$15497fea8d02acf6 = $4a6ed92774315a11$var$__decorate([
    $4a6ed92774315a11$var$__param(0, $6Xx7t.IInstantiationService)
], $4a6ed92774315a11$export$15497fea8d02acf6);
//#endregion
//#region render: Reference
class $4a6ed92774315a11$var$OneReferenceTemplate {
    set(element, score) {
        var _a;
        const preview = (_a = element.parent.getPreview(element)) === null || _a === void 0 ? void 0 : _a.preview(element.range);
        if (!preview || !preview.value) // this means we FAILED to resolve the document or the value is the empty string
        this.label.set(`${$lvxAj.basename(element.uri)}:${element.range.startLineNumber + 1}:${element.range.startColumn + 1}`);
        else {
            // render search match as highlight unless
            // we have score, then render the score
            const { value: value , highlight: highlight  } = preview;
            if (score && !$6FDEF.FuzzyScore.isDefault(score)) {
                this.label.element.classList.toggle('referenceMatch', false);
                this.label.set(value, $6FDEF.createMatches(score));
            } else {
                this.label.element.classList.toggle('referenceMatch', true);
                this.label.set(value, [
                    highlight
                ]);
            }
        }
    }
    constructor(container){
        this.label = new $k7Z9P.HighlightedLabel(container);
    }
}
class $4a6ed92774315a11$export$b181a089ad2d048d {
    renderTemplate(container) {
        return new $4a6ed92774315a11$var$OneReferenceTemplate(container);
    }
    renderElement(node, index, templateData) {
        templateData.set(node.element, node.filterData);
    }
    disposeTemplate() {}
    constructor(){
        this.templateId = $4a6ed92774315a11$export$b181a089ad2d048d.id;
    }
}
$4a6ed92774315a11$export$b181a089ad2d048d.id = 'OneReferenceRenderer';
class $4a6ed92774315a11$export$aa8739b876e4b61f {
    getWidgetAriaLabel() {
        return $1WuVQ.localize('treeAriaLabel', "References");
    }
    getAriaLabel(element) {
        return element.ariaMessage;
    }
}




var $1WuVQ = parcelRequire("1WuVQ");

var $6Xx7t = parcelRequire("6Xx7t");

var $i2aE6 = parcelRequire("i2aE6");

var $kqwaP = parcelRequire("kqwaP");

var $kYdUZ = parcelRequire("kYdUZ");

var $5Wwop = parcelRequire("5Wwop");

var $bFUC1 = parcelRequire("bFUC1");

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $1194a5e7d847d4e8$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $1194a5e7d847d4e8$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $1194a5e7d847d4e8$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $1194a5e7d847d4e8$var$DecorationsManager {
    dispose() {
        this._callOnModelChange.dispose();
        this._callOnDispose.dispose();
        this.removeDecorations();
    }
    _onModelChanged() {
        this._callOnModelChange.clear();
        const model = this._editor.getModel();
        if (!model) return;
        for (let ref of this._model.references)if (ref.uri.toString() === model.uri.toString()) {
            this._addDecorations(ref.parent);
            return;
        }
    }
    _addDecorations(reference) {
        if (!this._editor.hasModel()) return;
        this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()
        ));
        const newDecorations = [];
        const newDecorationsActualIndex = [];
        for(let i = 0, len = reference.children.length; i < len; i++){
            let oneReference = reference.children[i];
            if (this._decorationIgnoreSet.has(oneReference.id)) continue;
            if (oneReference.uri.toString() !== this._editor.getModel().uri.toString()) continue;
            newDecorations.push({
                range: oneReference.range,
                options: $1194a5e7d847d4e8$var$DecorationsManager.DecorationOptions
            });
            newDecorationsActualIndex.push(i);
        }
        const decorations = this._editor.deltaDecorations([], newDecorations);
        for(let i1 = 0; i1 < decorations.length; i1++)this._decorations.set(decorations[i1], reference.children[newDecorationsActualIndex[i1]]);
    }
    _onDecorationChanged() {
        const toRemove = [];
        const model = this._editor.getModel();
        if (!model) return;
        for (let [decorationId, reference] of this._decorations){
            const newRange = model.getDecorationRange(decorationId);
            if (!newRange) continue;
            let ignore = false;
            if ($1YFxJ.Range.equalsRange(newRange, reference.range)) continue;
            if ($1YFxJ.Range.spansMultipleLines(newRange)) ignore = true;
            else {
                const lineLength = reference.range.endColumn - reference.range.startColumn;
                const newLineLength = newRange.endColumn - newRange.startColumn;
                if (lineLength !== newLineLength) ignore = true;
            }
            if (ignore) {
                this._decorationIgnoreSet.add(reference.id);
                toRemove.push(decorationId);
            } else reference.range = newRange;
        }
        for(let i = 0, len = toRemove.length; i < len; i++)this._decorations.delete(toRemove[i]);
        this._editor.deltaDecorations(toRemove, []);
    }
    removeDecorations() {
        this._editor.deltaDecorations([
            ...this._decorations.keys()
        ], []);
        this._decorations.clear();
    }
    constructor(_editor, _model){
        this._editor = _editor;
        this._model = _model;
        this._decorations = new Map();
        this._decorationIgnoreSet = new Set();
        this._callOnDispose = new $6W1JA.DisposableStore();
        this._callOnModelChange = new $6W1JA.DisposableStore();
        this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged()
        ));
        this._onModelChanged();
    }
}
$1194a5e7d847d4e8$var$DecorationsManager.DecorationOptions = $72tIz.ModelDecorationOptions.register({
    description: 'reference-decoration',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'reference-decoration'
});
class $1194a5e7d847d4e8$export$276a580b24a20d1 {
    static fromJSON(raw) {
        let ratio;
        let heightInLines;
        try {
            const data = JSON.parse(raw);
            ratio = data.ratio;
            heightInLines = data.heightInLines;
        } catch (_a) {
        //
        }
        return {
            ratio: ratio || 0.7,
            heightInLines: heightInLines || 18
        };
    }
    constructor(){
        this.ratio = 0.7;
        this.heightInLines = 18;
    }
}
class $1194a5e7d847d4e8$var$ReferencesTree extends $kYdUZ.WorkbenchAsyncDataTree {
}
/**
 * ZoneWidget that is shown inside the editor
 */ let $1194a5e7d847d4e8$export$a6aef00aae3b3577 = class $1194a5e7d847d4e8$export$a6aef00aae3b3577 extends $09aad26675037e07$exports.PeekViewWidget {
    dispose() {
        this.setModel(undefined);
        this._callOnDispose.dispose();
        this._disposeOnNewModel.dispose();
        $6W1JA.dispose(this._preview);
        $6W1JA.dispose(this._previewNotAvailableMessage);
        $6W1JA.dispose(this._tree);
        $6W1JA.dispose(this._previewModelReference);
        this._splitView.dispose();
        super.dispose();
    }
    _applyTheme(theme) {
        const borderColor = theme.getColor($09aad26675037e07$exports.peekViewBorder) || $8OIA7.Color.transparent;
        this.style({
            arrowColor: borderColor,
            frameColor: borderColor,
            headerBackgroundColor: theme.getColor($09aad26675037e07$exports.peekViewTitleBackground) || $8OIA7.Color.transparent,
            primaryHeadingColor: theme.getColor($09aad26675037e07$exports.peekViewTitleForeground),
            secondaryHeadingColor: theme.getColor($09aad26675037e07$exports.peekViewTitleInfoForeground)
        });
    }
    show(where) {
        this.editor.revealRangeInCenterIfOutsideViewport(where, 0 /* Smooth */ );
        super.show(where, this.layoutData.heightInLines || 18);
    }
    focusOnReferenceTree() {
        this._tree.domFocus();
    }
    focusOnPreviewEditor() {
        this._preview.focus();
    }
    isPreviewEditorFocused() {
        return this._preview.hasTextFocus();
    }
    _onTitleClick(e) {
        if (this._preview && this._preview.getModel()) this._onDidSelectReference.fire({
            element: this._getFocusedReference(),
            kind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',
            source: 'title'
        });
    }
    _fillBody(containerElement) {
        this.setCssClass('reference-zone-widget');
        // message pane
        this._messageContainer = $8xgjE.append(containerElement, $8xgjE.$('div.messages'));
        $8xgjE.hide(this._messageContainer);
        this._splitView = new $4nkFJ.SplitView(containerElement, {
            orientation: 1 /* HORIZONTAL */ 
        });
        // editor
        this._previewContainer = $8xgjE.append(containerElement, $8xgjE.$('div.preview.inline'));
        let options = {
            scrollBeyondLastLine: false,
            scrollbar: {
                verticalScrollbarSize: 14,
                horizontal: 'auto',
                useShadows: true,
                verticalHasArrows: false,
                horizontalHasArrows: false,
                alwaysConsumeMouseWheel: false
            },
            overviewRulerLanes: 2,
            fixedOverflowWidgets: true,
            minimap: {
                enabled: false
            }
        };
        this._preview = this._instantiationService.createInstance($417b9987abbc15ba$exports.EmbeddedCodeEditorWidget, this._previewContainer, options, this.editor);
        $8xgjE.hide(this._previewContainer);
        this._previewNotAvailableMessage = new $72tIz.TextModel($1WuVQ.localize('missingPreviewMessage', "no preview available"), $72tIz.TextModel.DEFAULT_CREATION_OPTIONS, null, null, this._undoRedoService, this._modeService, this._languageConfigurationService);
        // tree
        this._treeContainer = $8xgjE.append(containerElement, $8xgjE.$('div.ref-tree.inline'));
        const treeOptions = {
            keyboardSupport: this._defaultTreeKeyboardSupport,
            accessibilityProvider: new $4a6ed92774315a11$exports.AccessibilityProvider(),
            keyboardNavigationLabelProvider: this._instantiationService.createInstance($4a6ed92774315a11$exports.StringRepresentationProvider),
            identityProvider: new $4a6ed92774315a11$exports.IdentityProvider(),
            openOnSingleClick: true,
            selectionNavigation: true,
            overrideStyles: {
                listBackground: $09aad26675037e07$exports.peekViewResultsBackground
            }
        };
        if (this._defaultTreeKeyboardSupport) // the tree will consume `Escape` and prevent the widget from closing
        this._callOnDispose.add($8xgjE.addStandardDisposableListener(this._treeContainer, 'keydown', (e)=>{
            if (e.equals(9 /* Escape */ )) {
                this._keybindingService.dispatchEvent(e, e.target);
                e.stopPropagation();
            }
        }, true));
        this._tree = this._instantiationService.createInstance($1194a5e7d847d4e8$var$ReferencesTree, 'ReferencesWidget', this._treeContainer, new $4a6ed92774315a11$exports.Delegate(), [
            this._instantiationService.createInstance($4a6ed92774315a11$exports.FileReferencesRenderer),
            this._instantiationService.createInstance($4a6ed92774315a11$exports.OneReferenceRenderer), 
        ], this._instantiationService.createInstance($4a6ed92774315a11$exports.DataSource), treeOptions);
        // split stuff
        this._splitView.addView({
            onDidChange: $bkXdq.Event.None,
            element: this._previewContainer,
            minimumSize: 200,
            maximumSize: Number.MAX_VALUE,
            layout: (width)=>{
                this._preview.layout({
                    height: this._dim.height,
                    width: width
                });
            }
        }, $4nkFJ.Sizing.Distribute);
        this._splitView.addView({
            onDidChange: $bkXdq.Event.None,
            element: this._treeContainer,
            minimumSize: 100,
            maximumSize: Number.MAX_VALUE,
            layout: (width)=>{
                this._treeContainer.style.height = `${this._dim.height}px`;
                this._treeContainer.style.width = `${width}px`;
                this._tree.layout(this._dim.height, width);
            }
        }, $4nkFJ.Sizing.Distribute);
        this._disposables.add(this._splitView.onDidSashChange(()=>{
            if (this._dim.width) this.layoutData.ratio = this._splitView.getViewSize(0) / this._dim.width;
        }, undefined));
        // listen on selection and focus
        let onEvent = (element, kind)=>{
            if (element instanceof $aaa3a805b3bb2b56$exports.OneReference) {
                if (kind === 'show') this._revealReference(element, false);
                this._onDidSelectReference.fire({
                    element: element,
                    kind: kind,
                    source: 'tree'
                });
            }
        };
        this._tree.onDidOpen((e)=>{
            if (e.sideBySide) onEvent(e.element, 'side');
            else if (e.editorOptions.pinned) onEvent(e.element, 'goto');
            else onEvent(e.element, 'show');
        });
        $8xgjE.hide(this._treeContainer);
    }
    _onWidth(width) {
        if (this._dim) this._doLayoutBody(this._dim.height, width);
    }
    _doLayoutBody(heightInPixel, widthInPixel) {
        super._doLayoutBody(heightInPixel, widthInPixel);
        this._dim = new $8xgjE.Dimension(widthInPixel, heightInPixel);
        this.layoutData.heightInLines = this._viewZone ? this._viewZone.heightInLines : this.layoutData.heightInLines;
        this._splitView.layout(widthInPixel);
        this._splitView.resizeView(0, widthInPixel * this.layoutData.ratio);
    }
    setSelection(selection) {
        return this._revealReference(selection, true).then(()=>{
            if (!this._model) // disposed
            return;
            // show in tree
            this._tree.setSelection([
                selection
            ]);
            this._tree.setFocus([
                selection
            ]);
        });
    }
    setModel(newModel) {
        // clean up
        this._disposeOnNewModel.clear();
        this._model = newModel;
        if (this._model) return this._onNewModel();
        return Promise.resolve();
    }
    _onNewModel() {
        if (!this._model) return Promise.resolve(undefined);
        if (this._model.isEmpty) {
            this.setTitle('');
            this._messageContainer.innerText = $1WuVQ.localize('noResults', "No results");
            $8xgjE.show(this._messageContainer);
            return Promise.resolve(undefined);
        }
        $8xgjE.hide(this._messageContainer);
        this._decorationsManager = new $1194a5e7d847d4e8$var$DecorationsManager(this._preview, this._model);
        this._disposeOnNewModel.add(this._decorationsManager);
        // listen on model changes
        this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((reference)=>this._tree.rerender(reference)
        ));
        // listen on editor
        this._disposeOnNewModel.add(this._preview.onMouseDown((e)=>{
            const { event: event , target: target  } = e;
            if (event.detail !== 2) return;
            const element = this._getFocusedReference();
            if (!element) return;
            this._onDidSelectReference.fire({
                element: {
                    uri: element.uri,
                    range: target.range
                },
                kind: event.ctrlKey || event.metaKey || event.altKey ? 'side' : 'open',
                source: 'editor'
            });
        }));
        // make sure things are rendered
        this.container.classList.add('results-loaded');
        $8xgjE.show(this._treeContainer);
        $8xgjE.show(this._previewContainer);
        this._splitView.layout(this._dim.width);
        this.focusOnReferenceTree();
        // pick input and a reference to begin with
        return this._tree.setInput(this._model.groups.length === 1 ? this._model.groups[0] : this._model);
    }
    _getFocusedReference() {
        const [element] = this._tree.getFocus();
        if (element instanceof $aaa3a805b3bb2b56$exports.OneReference) return element;
        else if (element instanceof $aaa3a805b3bb2b56$exports.FileReferences) {
            if (element.children.length > 0) return element.children[0];
        }
        return undefined;
    }
    revealReference(reference) {
        return $1194a5e7d847d4e8$var$__awaiter(this, void 0, void 0, function*() {
            yield this._revealReference(reference, false);
            this._onDidSelectReference.fire({
                element: reference,
                kind: 'goto',
                source: 'tree'
            });
        });
    }
    _revealReference(reference, revealParent) {
        return $1194a5e7d847d4e8$var$__awaiter(this, void 0, void 0, function*() {
            // check if there is anything to do...
            if (this._revealedReference === reference) return;
            this._revealedReference = reference;
            // Update widget header
            if (reference.uri.scheme !== $fA94G.Schemas.inMemory) this.setTitle($lvxAj.basenameOrAuthority(reference.uri), this._uriLabel.getUriLabel($lvxAj.dirname(reference.uri)));
            else this.setTitle($1WuVQ.localize('peekView.alternateTitle', "References"));
            const promise = this._textModelResolverService.createModelReference(reference.uri);
            if (this._tree.getInput() === reference.parent) this._tree.reveal(reference);
            else {
                if (revealParent) this._tree.reveal(reference.parent);
                yield this._tree.expand(reference.parent);
                this._tree.reveal(reference);
            }
            const ref = yield promise;
            if (!this._model) {
                // disposed
                ref.dispose();
                return;
            }
            $6W1JA.dispose(this._previewModelReference);
            // show in editor
            const model = ref.object;
            if (model) {
                const scrollType = this._preview.getModel() === model.textEditorModel ? 0 /* Smooth */  : 1 /* Immediate */ ;
                const sel = $1YFxJ.Range.lift(reference.range).collapseToStart();
                this._previewModelReference = ref;
                this._preview.setModel(model.textEditorModel);
                this._preview.setSelection(sel);
                this._preview.revealRangeInCenter(sel, scrollType);
            } else {
                this._preview.setModel(this._previewNotAvailableMessage);
                ref.dispose();
            }
        });
    }
    constructor(editor, _defaultTreeKeyboardSupport, layoutData, themeService, _textModelResolverService, _instantiationService, _peekViewService, _uriLabel, _undoRedoService, _keybindingService, _modeService, _languageConfigurationService){
        super(editor, {
            showFrame: false,
            showArrow: true,
            isResizeable: true,
            isAccessible: true,
            supportOnTitleClick: true
        }, _instantiationService);
        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;
        this.layoutData = layoutData;
        this._textModelResolverService = _textModelResolverService;
        this._instantiationService = _instantiationService;
        this._peekViewService = _peekViewService;
        this._uriLabel = _uriLabel;
        this._undoRedoService = _undoRedoService;
        this._keybindingService = _keybindingService;
        this._modeService = _modeService;
        this._languageConfigurationService = _languageConfigurationService;
        this._disposeOnNewModel = new $6W1JA.DisposableStore();
        this._callOnDispose = new $6W1JA.DisposableStore();
        this._onDidSelectReference = new $bkXdq.Emitter();
        this.onDidSelectReference = this._onDidSelectReference.event;
        this._dim = new $8xgjE.Dimension(0, 0);
        this._applyTheme(themeService.getColorTheme());
        this._callOnDispose.add(themeService.onDidColorThemeChange(this._applyTheme.bind(this)));
        this._peekViewService.addExclusiveWidget(editor, this);
        this.create();
    }
};
$1194a5e7d847d4e8$export$a6aef00aae3b3577 = $1194a5e7d847d4e8$var$__decorate([
    $1194a5e7d847d4e8$var$__param(3, $5Wwop.IThemeService),
    $1194a5e7d847d4e8$var$__param(4, $ftViW.ITextModelService),
    $1194a5e7d847d4e8$var$__param(5, $6Xx7t.IInstantiationService),
    $1194a5e7d847d4e8$var$__param(6, $09aad26675037e07$exports.IPeekViewService),
    $1194a5e7d847d4e8$var$__param(7, $kqwaP.ILabelService),
    $1194a5e7d847d4e8$var$__param(8, $bFUC1.IUndoRedoService),
    $1194a5e7d847d4e8$var$__param(9, $i2aE6.IKeybindingService),
    $1194a5e7d847d4e8$var$__param(10, $jwAxq.IModeService),
    $1194a5e7d847d4e8$var$__param(11, $ahykL.ILanguageConfigurationService)
], $1194a5e7d847d4e8$export$a6aef00aae3b3577);


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $2e72779f5ae01016$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $2e72779f5ae01016$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $2e72779f5ae01016$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $2e72779f5ae01016$export$8ecb7f78c7d67b70 = new $h4kGX.RawContextKey('referenceSearchVisible', false, $1WuVQ.localize('referenceSearchVisible', "Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));
let $2e72779f5ae01016$export$60e6f978b59c492d = class $2e72779f5ae01016$export$60e6f978b59c492d {
    static get(editor) {
        return editor.getContribution($2e72779f5ae01016$export$60e6f978b59c492d.ID);
    }
    dispose() {
        var _a, _b;
        this._referenceSearchVisible.reset();
        this._disposables.dispose();
        (_a = this._widget) === null || _a === void 0 || _a.dispose();
        (_b = this._model) === null || _b === void 0 || _b.dispose();
        this._widget = undefined;
        this._model = undefined;
    }
    toggleWidget(range, modelPromise, peekMode) {
        // close current widget and return early is position didn't change
        let widgetPosition;
        if (this._widget) widgetPosition = this._widget.position;
        this.closeWidget();
        if (!!widgetPosition && range.containsPosition(widgetPosition)) return;
        this._peekMode = peekMode;
        this._referenceSearchVisible.set(true);
        // close the widget on model/mode changes
        this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{
            this.closeWidget();
        }));
        this._disposables.add(this._editor.onDidChangeModel(()=>{
            if (!this._ignoreModelChangeEvent) this.closeWidget();
        }));
        const storageKey = 'peekViewLayout';
        const data = $1194a5e7d847d4e8$exports.LayoutData.fromJSON(this._storageService.get(storageKey, 0 /* GLOBAL */ , '{}'));
        this._widget = this._instantiationService.createInstance($1194a5e7d847d4e8$exports.ReferenceWidget, this._editor, this._defaultTreeKeyboardSupport, data);
        this._widget.setTitle($1WuVQ.localize('labelLoading', "Loading..."));
        this._widget.show(range);
        this._disposables.add(this._widget.onDidClose(()=>{
            modelPromise.cancel();
            if (this._widget) {
                this._storageService.store(storageKey, JSON.stringify(this._widget.layoutData), 0 /* GLOBAL */ , 1 /* MACHINE */ );
                this._widget = undefined;
            }
            this.closeWidget();
        }));
        this._disposables.add(this._widget.onDidSelectReference((event)=>{
            let { element: element , kind: kind  } = event;
            if (!element) return;
            switch(kind){
                case 'open':
                    if (event.source !== 'editor' || !this._configurationService.getValue('editor.stablePeek')) // when stable peek is configured we don't close
                    // the peek window on selecting the editor
                    this.openReference(element, false, false);
                    break;
                case 'side':
                    this.openReference(element, true, false);
                    break;
                case 'goto':
                    if (peekMode) this._gotoReference(element);
                    else this.openReference(element, false, true);
                    break;
            }
        }));
        const requestId = ++this._requestIdPool;
        modelPromise.then((model)=>{
            var _a;
            // still current request? widget still open?
            if (requestId !== this._requestIdPool || !this._widget) {
                model.dispose();
                return undefined;
            }
            (_a = this._model) === null || _a === void 0 || _a.dispose();
            this._model = model;
            // show widget
            return this._widget.setModel(this._model).then(()=>{
                if (this._widget && this._model && this._editor.hasModel()) {
                    // set title
                    if (!this._model.isEmpty) this._widget.setMetaTitle($1WuVQ.localize('metaTitle.N', "{0} ({1})", this._model.title, this._model.references.length));
                    else this._widget.setMetaTitle('');
                    // set 'best' selection
                    let uri = this._editor.getModel().uri;
                    let pos = new $fqrfT.Position(range.startLineNumber, range.startColumn);
                    let selection = this._model.nearestReference(uri, pos);
                    if (selection) return this._widget.setSelection(selection).then(()=>{
                        if (this._widget && this._editor.getOption(76 /* peekWidgetDefaultFocus */ ) === 'editor') this._widget.focusOnPreviewEditor();
                    });
                }
                return undefined;
            });
        }, (error)=>{
            this._notificationService.error(error);
        });
    }
    changeFocusBetweenPreviewAndReferences() {
        if (!this._widget) // can be called while still resolving...
        return;
        if (this._widget.isPreviewEditorFocused()) this._widget.focusOnReferenceTree();
        else this._widget.focusOnPreviewEditor();
    }
    goToNextOrPreviousReference(fwd) {
        return $2e72779f5ae01016$var$__awaiter(this, void 0, void 0, function*() {
            if (!this._editor.hasModel() || !this._model || !this._widget) // can be called while still resolving...
            return;
            const currentPosition = this._widget.position;
            if (!currentPosition) return;
            const source = this._model.nearestReference(this._editor.getModel().uri, currentPosition);
            if (!source) return;
            const target = this._model.nextOrPreviousReference(source, fwd);
            const editorFocus = this._editor.hasTextFocus();
            const previewEditorFocus = this._widget.isPreviewEditorFocused();
            yield this._widget.setSelection(target);
            yield this._gotoReference(target);
            if (editorFocus) this._editor.focus();
            else if (this._widget && previewEditorFocus) this._widget.focusOnPreviewEditor();
        });
    }
    revealReference(reference) {
        return $2e72779f5ae01016$var$__awaiter(this, void 0, void 0, function*() {
            if (!this._editor.hasModel() || !this._model || !this._widget) // can be called while still resolving...
            return;
            yield this._widget.revealReference(reference);
        });
    }
    closeWidget(focusEditor = true) {
        var _a, _b;
        (_a = this._widget) === null || _a === void 0 || _a.dispose();
        (_b = this._model) === null || _b === void 0 || _b.dispose();
        this._referenceSearchVisible.reset();
        this._disposables.clear();
        this._widget = undefined;
        this._model = undefined;
        if (focusEditor) this._editor.focus();
        this._requestIdPool += 1; // Cancel pending requests
    }
    _gotoReference(ref) {
        if (this._widget) this._widget.hide();
        this._ignoreModelChangeEvent = true;
        const range = $1YFxJ.Range.lift(ref.range).collapseToStart();
        return this._editorService.openCodeEditor({
            resource: ref.uri,
            options: {
                selection: range
            }
        }, this._editor).then((openedEditor)=>{
            var _a;
            this._ignoreModelChangeEvent = false;
            if (!openedEditor || !this._widget) {
                // something went wrong...
                this.closeWidget();
                return;
            }
            if (this._editor === openedEditor) {
                //
                this._widget.show(range);
                this._widget.focusOnReferenceTree();
            } else {
                // we opened a different editor instance which means a different controller instance.
                // therefore we stop with this controller and continue with the other
                const other = $2e72779f5ae01016$export$60e6f978b59c492d.get(openedEditor);
                const model = this._model.clone();
                this.closeWidget();
                openedEditor.focus();
                other.toggleWidget(range, $5piST.createCancelablePromise((_)=>Promise.resolve(model)
                ), (_a = this._peekMode) !== null && _a !== void 0 ? _a : false);
            }
        }, (err)=>{
            this._ignoreModelChangeEvent = false;
            $3FsT3.onUnexpectedError(err);
        });
    }
    openReference(ref, sideBySide, pinned) {
        // clear stage
        if (!sideBySide) this.closeWidget();
        const { uri: uri , range: range  } = ref;
        this._editorService.openCodeEditor({
            resource: uri,
            options: {
                selection: range,
                pinned: pinned
            }
        }, this._editor, sideBySide);
    }
    constructor(_defaultTreeKeyboardSupport, _editor, contextKeyService, _editorService, _notificationService, _instantiationService, _storageService, _configurationService){
        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;
        this._editor = _editor;
        this._editorService = _editorService;
        this._notificationService = _notificationService;
        this._instantiationService = _instantiationService;
        this._storageService = _storageService;
        this._configurationService = _configurationService;
        this._disposables = new $6W1JA.DisposableStore();
        this._requestIdPool = 0;
        this._ignoreModelChangeEvent = false;
        this._referenceSearchVisible = $2e72779f5ae01016$export$8ecb7f78c7d67b70.bindTo(contextKeyService);
    }
};
$2e72779f5ae01016$export$60e6f978b59c492d.ID = 'editor.contrib.referencesController';
$2e72779f5ae01016$export$60e6f978b59c492d = $2e72779f5ae01016$var$__decorate([
    $2e72779f5ae01016$var$__param(2, $h4kGX.IContextKeyService),
    $2e72779f5ae01016$var$__param(3, $7lWR1.ICodeEditorService),
    $2e72779f5ae01016$var$__param(4, $7MTz8.INotificationService),
    $2e72779f5ae01016$var$__param(5, $6Xx7t.IInstantiationService),
    $2e72779f5ae01016$var$__param(6, $4toHF.IStorageService),
    $2e72779f5ae01016$var$__param(7, $6goiI.IConfigurationService)
], $2e72779f5ae01016$export$60e6f978b59c492d);
function $2e72779f5ae01016$var$withController(accessor, fn) {
    const outerEditor = $09aad26675037e07$exports.getOuterEditor(accessor);
    if (!outerEditor) return;
    let controller = $2e72779f5ae01016$export$60e6f978b59c492d.get(outerEditor);
    if (controller) fn(controller);
}
$6ObvH.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'togglePeekWidgetFocus',
    weight: 100 /* EditorContrib */ ,
    primary: $ecpYn.KeyChord(2089 /* KeyK */ , 60 /* F2 */ ),
    when: $h4kGX.ContextKeyExpr.or($2e72779f5ae01016$export$8ecb7f78c7d67b70, $09aad26675037e07$exports.PeekContext.inPeekEditor),
    handler (accessor) {
        $2e72779f5ae01016$var$withController(accessor, (controller)=>{
            controller.changeFocusBetweenPreviewAndReferences();
        });
    }
});
$6ObvH.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'goToNextReference',
    weight: 90,
    primary: 62 /* F4 */ ,
    secondary: [
        70 /* F12 */ 
    ],
    when: $h4kGX.ContextKeyExpr.or($2e72779f5ae01016$export$8ecb7f78c7d67b70, $09aad26675037e07$exports.PeekContext.inPeekEditor),
    handler (accessor) {
        $2e72779f5ae01016$var$withController(accessor, (controller)=>{
            controller.goToNextOrPreviousReference(true);
        });
    }
});
$6ObvH.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'goToPreviousReference',
    weight: 90,
    primary: 1086 /* F4 */ ,
    secondary: [
        1094 /* F12 */ 
    ],
    when: $h4kGX.ContextKeyExpr.or($2e72779f5ae01016$export$8ecb7f78c7d67b70, $09aad26675037e07$exports.PeekContext.inPeekEditor),
    handler (accessor) {
        $2e72779f5ae01016$var$withController(accessor, (controller)=>{
            controller.goToNextOrPreviousReference(false);
        });
    }
});
// commands that aren't needed anymore because there is now ContextKeyExpr.OR
$c0VS7.CommandsRegistry.registerCommandAlias('goToNextReferenceFromEmbeddedEditor', 'goToNextReference');
$c0VS7.CommandsRegistry.registerCommandAlias('goToPreviousReferenceFromEmbeddedEditor', 'goToPreviousReference');
// close
$c0VS7.CommandsRegistry.registerCommandAlias('closeReferenceSearchEditor', 'closeReferenceSearch');
$c0VS7.CommandsRegistry.registerCommand('closeReferenceSearch', (accessor)=>$2e72779f5ae01016$var$withController(accessor, (controller)=>controller.closeWidget()
    )
);
$6ObvH.KeybindingsRegistry.registerKeybindingRule({
    id: 'closeReferenceSearch',
    weight: -1,
    primary: 9 /* Escape */ ,
    secondary: [
        1033 /* Escape */ 
    ],
    when: $h4kGX.ContextKeyExpr.and($09aad26675037e07$exports.PeekContext.inPeekEditor, $h4kGX.ContextKeyExpr.not('config.editor.stablePeek'))
});
$6ObvH.KeybindingsRegistry.registerKeybindingRule({
    id: 'closeReferenceSearch',
    weight: 250,
    primary: 9 /* Escape */ ,
    secondary: [
        1033 /* Escape */ 
    ],
    when: $h4kGX.ContextKeyExpr.and($2e72779f5ae01016$export$8ecb7f78c7d67b70, $h4kGX.ContextKeyExpr.not('config.editor.stablePeek'))
});
$6ObvH.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'revealReference',
    weight: 200 /* WorkbenchContrib */ ,
    primary: 3 /* Enter */ ,
    mac: {
        primary: 3 /* Enter */ ,
        secondary: [
            2066 /* DownArrow */ 
        ]
    },
    when: $h4kGX.ContextKeyExpr.and($2e72779f5ae01016$export$8ecb7f78c7d67b70, $kYdUZ.WorkbenchListFocusContextKey),
    handler (accessor) {
        var _a;
        const listService = accessor.get($kYdUZ.IListService);
        const focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();
        if (Array.isArray(focus) && focus[0] instanceof $aaa3a805b3bb2b56$exports.OneReference) $2e72779f5ae01016$var$withController(accessor, (controller)=>controller.revealReference(focus[0])
        );
    }
});
$6ObvH.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'openReferenceToSide',
    weight: 100 /* EditorContrib */ ,
    primary: 2051 /* Enter */ ,
    mac: {
        primary: 259 /* Enter */ 
    },
    when: $h4kGX.ContextKeyExpr.and($2e72779f5ae01016$export$8ecb7f78c7d67b70, $kYdUZ.WorkbenchListFocusContextKey),
    handler (accessor) {
        var _a;
        const listService = accessor.get($kYdUZ.IListService);
        const focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();
        if (Array.isArray(focus) && focus[0] instanceof $aaa3a805b3bb2b56$exports.OneReference) $2e72779f5ae01016$var$withController(accessor, (controller)=>controller.openReference(focus[0], true, true)
        );
    }
});
$c0VS7.CommandsRegistry.registerCommand('openReference', (accessor)=>{
    var _a;
    const listService = accessor.get($kYdUZ.IListService);
    const focus = (_a = listService.lastFocusedList) === null || _a === void 0 ? void 0 : _a.getFocus();
    if (Array.isArray(focus) && focus[0] instanceof $aaa3a805b3bb2b56$exports.OneReference) $2e72779f5ae01016$var$withController(accessor, (controller)=>controller.openReference(focus[0], false, true)
    );
});



var $59077e10dc33953f$exports = {};

$parcel$export($59077e10dc33953f$exports, "ISymbolNavigationService", function () { return $59077e10dc33953f$export$feb1d4817f01196e; }, function (v) { return $59077e10dc33953f$export$feb1d4817f01196e = v; });

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $lvxAj = parcelRequire("lvxAj");

var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");

var $1YFxJ = parcelRequire("1YFxJ");

var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $fjjY8 = parcelRequire("fjjY8");

var $6Xx7t = parcelRequire("6Xx7t");

var $i2aE6 = parcelRequire("i2aE6");

var $6ObvH = parcelRequire("6ObvH");

var $7MTz8 = parcelRequire("7MTz8");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $59077e10dc33953f$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $59077e10dc33953f$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $59077e10dc33953f$export$8abaed58afa3da78 = new $h4kGX.RawContextKey('hasSymbols', false, $1WuVQ.localize('hasSymbols', "Whether there are symbol locations that can be navigated via keyboard-only."));
const $59077e10dc33953f$export$feb1d4817f01196e = $6Xx7t.createDecorator('ISymbolNavigationService');
let $59077e10dc33953f$var$SymbolNavigationService = class SymbolNavigationService {
    reset() {
        var _a, _b;
        this._ctxHasSymbols.reset();
        (_a = this._currentState) === null || _a === void 0 || _a.dispose();
        (_b = this._currentMessage) === null || _b === void 0 || _b.dispose();
        this._currentModel = undefined;
        this._currentIdx = -1;
    }
    put(anchor) {
        const refModel = anchor.parent.parent;
        if (refModel.references.length <= 1) {
            this.reset();
            return;
        }
        this._currentModel = refModel;
        this._currentIdx = refModel.references.indexOf(anchor);
        this._ctxHasSymbols.set(true);
        this._showMessage();
        const editorState = new $59077e10dc33953f$var$EditorState(this._editorService);
        const listener = editorState.onDidChange((_)=>{
            if (this._ignoreEditorChange) return;
            const editor = this._editorService.getActiveCodeEditor();
            if (!editor) return;
            const model = editor.getModel();
            const position = editor.getPosition();
            if (!model || !position) return;
            let seenUri = false;
            let seenPosition = false;
            for (const reference of refModel.references){
                if ($lvxAj.isEqual(reference.uri, model.uri)) {
                    seenUri = true;
                    seenPosition = seenPosition || $1YFxJ.Range.containsPosition(reference.range, position);
                } else if (seenUri) break;
            }
            if (!seenUri || !seenPosition) this.reset();
        });
        this._currentState = $6W1JA.combinedDisposable(editorState, listener);
    }
    revealNext(source) {
        if (!this._currentModel) return Promise.resolve();
        // get next result and advance
        this._currentIdx += 1;
        this._currentIdx %= this._currentModel.references.length;
        const reference = this._currentModel.references[this._currentIdx];
        // status
        this._showMessage();
        // open editor, ignore events while that happens
        this._ignoreEditorChange = true;
        return this._editorService.openCodeEditor({
            resource: reference.uri,
            options: {
                selection: $1YFxJ.Range.collapseToStart(reference.range),
                selectionRevealType: 3 /* NearTopIfOutsideViewport */ 
            }
        }, source).finally(()=>{
            this._ignoreEditorChange = false;
        });
    }
    _showMessage() {
        var _a;
        (_a = this._currentMessage) === null || _a === void 0 || _a.dispose();
        const kb = this._keybindingService.lookupKeybinding('editor.gotoNextSymbolFromResult');
        const message = kb ? $1WuVQ.localize('location.kb', "Symbol {0} of {1}, {2} for next", this._currentIdx + 1, this._currentModel.references.length, kb.getLabel()) : $1WuVQ.localize('location', "Symbol {0} of {1}", this._currentIdx + 1, this._currentModel.references.length);
        this._currentMessage = this._notificationService.status(message);
    }
    constructor(contextKeyService, _editorService, _notificationService, _keybindingService){
        this._editorService = _editorService;
        this._notificationService = _notificationService;
        this._keybindingService = _keybindingService;
        this._currentModel = undefined;
        this._currentIdx = -1;
        this._ignoreEditorChange = false;
        this._ctxHasSymbols = $59077e10dc33953f$export$8abaed58afa3da78.bindTo(contextKeyService);
    }
};
$59077e10dc33953f$var$SymbolNavigationService = $59077e10dc33953f$var$__decorate([
    $59077e10dc33953f$var$__param(0, $h4kGX.IContextKeyService),
    $59077e10dc33953f$var$__param(1, $7lWR1.ICodeEditorService),
    $59077e10dc33953f$var$__param(2, $7MTz8.INotificationService),
    $59077e10dc33953f$var$__param(3, $i2aE6.IKeybindingService)
], $59077e10dc33953f$var$SymbolNavigationService);
$fjjY8.registerSingleton($59077e10dc33953f$export$feb1d4817f01196e, $59077e10dc33953f$var$SymbolNavigationService, true);
$g9Zlr.registerEditorCommand(new class extends $g9Zlr.EditorCommand {
    runEditorCommand(accessor, editor) {
        return accessor.get($59077e10dc33953f$export$feb1d4817f01196e).revealNext(editor);
    }
    constructor(){
        super({
            id: 'editor.gotoNextSymbolFromResult',
            precondition: $59077e10dc33953f$export$8abaed58afa3da78,
            kbOpts: {
                weight: 100 /* EditorContrib */ ,
                primary: 70 /* F12 */ 
            }
        });
    }
});
$6ObvH.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'editor.gotoNextSymbolFromResult.cancel',
    weight: 100 /* EditorContrib */ ,
    when: $59077e10dc33953f$export$8abaed58afa3da78,
    primary: 9 /* Escape */ ,
    handler (accessor) {
        accessor.get($59077e10dc33953f$export$feb1d4817f01196e).reset();
    }
});
//
let $59077e10dc33953f$var$EditorState = class EditorState {
    dispose() {
        this._disposables.dispose();
        this._onDidChange.dispose();
        $6W1JA.dispose(this._listener.values());
    }
    _onDidAddEditor(editor) {
        this._listener.set(editor, $6W1JA.combinedDisposable(editor.onDidChangeCursorPosition((_)=>this._onDidChange.fire({
                editor: editor
            })
        ), editor.onDidChangeModelContent((_)=>this._onDidChange.fire({
                editor: editor
            })
        )));
    }
    _onDidRemoveEditor(editor) {
        var _a;
        (_a = this._listener.get(editor)) === null || _a === void 0 || _a.dispose();
        this._listener.delete(editor);
    }
    constructor(editorService){
        this._listener = new Map();
        this._disposables = new $6W1JA.DisposableStore();
        this._onDidChange = new $bkXdq.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor, this));
        this._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor, this));
        editorService.listCodeEditors().forEach(this._onDidAddEditor, this);
    }
};
$59077e10dc33953f$var$EditorState = $59077e10dc33953f$var$__decorate([
    $59077e10dc33953f$var$__param(0, $7lWR1.ICodeEditorService)
], $59077e10dc33953f$var$EditorState);





var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $c0VS7 = parcelRequire("c0VS7");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $7MTz8 = parcelRequire("7MTz8");

var $5IX4y = parcelRequire("5IX4y");
var $c7f360caba085c48$exports = {};

$parcel$export($c7f360caba085c48$exports, "getDefinitionsAtPosition", function () { return $c7f360caba085c48$export$6b9dcdfe32ab3450; }, function (v) { return $c7f360caba085c48$export$6b9dcdfe32ab3450 = v; });
$parcel$export($c7f360caba085c48$exports, "getDeclarationsAtPosition", function () { return $c7f360caba085c48$export$268ced517630b719; }, function (v) { return $c7f360caba085c48$export$268ced517630b719 = v; });
$parcel$export($c7f360caba085c48$exports, "getImplementationsAtPosition", function () { return $c7f360caba085c48$export$7d6802a2edcceb51; }, function (v) { return $c7f360caba085c48$export$7d6802a2edcceb51 = v; });
$parcel$export($c7f360caba085c48$exports, "getTypeDefinitionsAtPosition", function () { return $c7f360caba085c48$export$e2b810cd1720408a; }, function (v) { return $c7f360caba085c48$export$e2b810cd1720408a = v; });
$parcel$export($c7f360caba085c48$exports, "getReferencesAtPosition", function () { return $c7f360caba085c48$export$2bb33a4e47554443; }, function (v) { return $c7f360caba085c48$export$2bb33a4e47554443 = v; });

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $g9Zlr = parcelRequire("g9Zlr");

var $goPht = parcelRequire("goPht");

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $c7f360caba085c48$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
function $c7f360caba085c48$var$getLocationLinks(model, position, registry, provide) {
    const provider1 = registry.ordered(model);
    // get results
    const promises = provider1.map((provider)=>{
        return Promise.resolve(provide(provider, model, position)).then(undefined, (err)=>{
            $3FsT3.onUnexpectedExternalError(err);
            return undefined;
        });
    });
    return Promise.all(promises).then((values)=>{
        const result = [];
        for (let value of values){
            if (Array.isArray(value)) result.push(...value);
            else if (value) result.push(value);
        }
        return result;
    });
}
function $c7f360caba085c48$export$6b9dcdfe32ab3450(model1, position1, token) {
    return $c7f360caba085c48$var$getLocationLinks(model1, position1, $goPht.DefinitionProviderRegistry, (provider, model, position)=>{
        return provider.provideDefinition(model, position, token);
    });
}
function $c7f360caba085c48$export$268ced517630b719(model2, position2, token) {
    return $c7f360caba085c48$var$getLocationLinks(model2, position2, $goPht.DeclarationProviderRegistry, (provider, model, position)=>{
        return provider.provideDeclaration(model, position, token);
    });
}
function $c7f360caba085c48$export$7d6802a2edcceb51(model3, position3, token) {
    return $c7f360caba085c48$var$getLocationLinks(model3, position3, $goPht.ImplementationProviderRegistry, (provider, model, position)=>{
        return provider.provideImplementation(model, position, token);
    });
}
function $c7f360caba085c48$export$e2b810cd1720408a(model4, position4, token) {
    return $c7f360caba085c48$var$getLocationLinks(model4, position4, $goPht.TypeDefinitionProviderRegistry, (provider, model, position)=>{
        return provider.provideTypeDefinition(model, position, token);
    });
}
function $c7f360caba085c48$export$2bb33a4e47554443(model5, position5, compact, token) {
    return $c7f360caba085c48$var$getLocationLinks(model5, position5, $goPht.ReferenceProviderRegistry, (provider, model, position)=>$c7f360caba085c48$var$__awaiter(this, void 0, void 0, function*() {
            const result = yield provider.provideReferences(model, position, {
                includeDeclaration: true
            }, token);
            if (!compact || !result || result.length !== 2) return result;
            const resultWithoutDeclaration = yield provider.provideReferences(model, position, {
                includeDeclaration: false
            }, token);
            if (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) return resultWithoutDeclaration;
            return result;
        })
    );
}
// -- API commands ----
function $c7f360caba085c48$var$_sortedAndDeduped(callback) {
    return $c7f360caba085c48$var$__awaiter(this, void 0, void 0, function*() {
        const rawLinks = yield callback();
        const model = new $aaa3a805b3bb2b56$exports.ReferencesModel(rawLinks, '');
        const modelLinks = model.references.map((ref)=>ref.link
        );
        model.dispose();
        return modelLinks;
    });
}
$g9Zlr.registerModelAndPositionCommand('_executeDefinitionProvider', (model, position)=>$c7f360caba085c48$var$_sortedAndDeduped(()=>$c7f360caba085c48$export$6b9dcdfe32ab3450(model, position, $1vhHo.CancellationToken.None)
    )
);
$g9Zlr.registerModelAndPositionCommand('_executeDeclarationProvider', (model, position)=>$c7f360caba085c48$var$_sortedAndDeduped(()=>$c7f360caba085c48$export$268ced517630b719(model, position, $1vhHo.CancellationToken.None)
    )
);
$g9Zlr.registerModelAndPositionCommand('_executeImplementationProvider', (model, position)=>$c7f360caba085c48$var$_sortedAndDeduped(()=>$c7f360caba085c48$export$7d6802a2edcceb51(model, position, $1vhHo.CancellationToken.None)
    )
);
$g9Zlr.registerModelAndPositionCommand('_executeTypeDefinitionProvider', (model, position)=>$c7f360caba085c48$var$_sortedAndDeduped(()=>$c7f360caba085c48$export$e2b810cd1720408a(model, position, $1vhHo.CancellationToken.None)
    )
);
$g9Zlr.registerModelAndPositionCommand('_executeReferenceProvider', (model, position)=>$c7f360caba085c48$var$_sortedAndDeduped(()=>$c7f360caba085c48$export$2bb33a4e47554443(model, position, false, $1vhHo.CancellationToken.None)
    )
);


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $7f58153e4f43c9d6$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var $7f58153e4f43c9d6$var$_a, $7f58153e4f43c9d6$var$_b, $7f58153e4f43c9d6$var$_c, $7f58153e4f43c9d6$var$_d, $7f58153e4f43c9d6$var$_e, $7f58153e4f43c9d6$var$_f, $7f58153e4f43c9d6$var$_g, $7f58153e4f43c9d6$var$_h;
$iCLhR.MenuRegistry.appendMenuItem($iCLhR.MenuId.EditorContext, {
    submenu: $iCLhR.MenuId.EditorContextPeek,
    title: $1WuVQ.localize('peek.submenu', "Peek"),
    group: 'navigation',
    order: 100
});
const $7f58153e4f43c9d6$var$_goToActionIds = new Set();
function $7f58153e4f43c9d6$var$registerGoToAction(ctor) {
    const result = new ctor();
    $g9Zlr.registerInstantiatedEditorAction(result);
    $7f58153e4f43c9d6$var$_goToActionIds.add(result.id);
    return result;
}
class $7f58153e4f43c9d6$var$SymbolNavigationAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return Promise.resolve(undefined);
        const notificationService = accessor.get($7MTz8.INotificationService);
        const editorService = accessor.get($7lWR1.ICodeEditorService);
        const progressService = accessor.get($5IX4y.IEditorProgressService);
        const symbolNavService = accessor.get($59077e10dc33953f$exports.ISymbolNavigationService);
        const model = editor.getModel();
        const pos = editor.getPosition();
        const cts = new $78AWm.EditorStateCancellationTokenSource(editor, 5 /* Position */ );
        const promise = $5piST.raceCancellation(this._getLocationModel(model, pos, cts.token), cts.token).then((references)=>$7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
                if (!references || cts.token.isCancellationRequested) return;
                $6eCoB.alert(references.ariaMessage);
                let altAction;
                if (references.referenceAt(model.uri, pos)) {
                    const altActionId = this._getAlternativeCommand(editor);
                    if (altActionId !== this.id && $7f58153e4f43c9d6$var$_goToActionIds.has(altActionId)) altAction = editor.getAction(altActionId);
                }
                const referenceCount = references.references.length;
                if (referenceCount === 0) // no result -> show message
                {
                    if (!this._configuration.muteMessage) {
                        const info = model.getWordAtPosition(pos);
                        $5e005249879805b3$exports.MessageController.get(editor).showMessage(this._getNoResultFoundMessage(info), pos);
                    }
                } else if (referenceCount === 1 && altAction) // already at the only result, run alternative
                altAction.run();
                else // normal results handling
                return this._onResult(editorService, symbolNavService, editor, references);
            })
        , (err)=>{
            // report an error
            notificationService.error(err);
        }).finally(()=>{
            cts.dispose();
        });
        progressService.showWhile(promise, 250);
        return promise;
    }
    _onResult(editorService, symbolNavService, editor, model) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            const gotoLocation = this._getGoToPreference(editor);
            if (!(editor instanceof $417b9987abbc15ba$exports.EmbeddedCodeEditorWidget) && (this._configuration.openInPeek || gotoLocation === 'peek' && model.references.length > 1)) this._openInPeek(editor, model);
            else {
                const next = model.firstReference();
                const peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';
                const targetEditor = yield this._openReference(editor, editorService, next, this._configuration.openToSide, !peek);
                if (peek && targetEditor) this._openInPeek(targetEditor, model);
                else model.dispose();
                // keep remaining locations around when using
                // 'goto'-mode
                if (gotoLocation === 'goto') symbolNavService.put(next);
            }
        });
    }
    _openReference(editor, editorService, reference, sideBySide, highlight) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            // range is the target-selection-range when we have one
            // and the fallback is the 'full' range
            let range = undefined;
            if ($goPht.isLocationLink(reference)) range = reference.targetSelectionRange;
            if (!range) range = reference.range;
            if (!range) return undefined;
            const targetEditor = yield editorService.openCodeEditor({
                resource: reference.uri,
                options: {
                    selection: $1YFxJ.Range.collapseToStart(range),
                    selectionRevealType: 3 /* NearTopIfOutsideViewport */ 
                }
            }, editor, sideBySide);
            if (!targetEditor) return undefined;
            if (highlight) {
                const modelNow = targetEditor.getModel();
                const ids = targetEditor.deltaDecorations([], [
                    {
                        range: range,
                        options: {
                            description: 'symbol-navigate-action-highlight',
                            className: 'symbolHighlight'
                        }
                    }
                ]);
                setTimeout(()=>{
                    if (targetEditor.getModel() === modelNow) targetEditor.deltaDecorations(ids, []);
                }, 350);
            }
            return targetEditor;
        });
    }
    _openInPeek(target, model) {
        let controller = $2e72779f5ae01016$exports.ReferencesController.get(target);
        if (controller && target.hasModel()) controller.toggleWidget(target.getSelection(), $5piST.createCancelablePromise((_)=>Promise.resolve(model)
        ), this._configuration.openInPeek);
        else model.dispose();
    }
    constructor(configuration, opts){
        super(opts);
        this._configuration = configuration;
    }
}
class $7f58153e4f43c9d6$export$5aed1003b9513172 extends $7f58153e4f43c9d6$var$SymbolNavigationAction {
    _getLocationModel(model, position, token) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            return new $aaa3a805b3bb2b56$exports.ReferencesModel((yield $c7f360caba085c48$exports.getDefinitionsAtPosition(model, position, token)), $1WuVQ.localize('def.title', 'Definitions'));
        });
    }
    _getNoResultFoundMessage(info) {
        return info && info.word ? $1WuVQ.localize('noResultWord', "No definition found for '{0}'", info.word) : $1WuVQ.localize('generic.noResults', "No definition found");
    }
    _getAlternativeCommand(editor) {
        return editor.getOption(50 /* gotoLocation */ ).alternativeDefinitionCommand;
    }
    _getGoToPreference(editor) {
        return editor.getOption(50 /* gotoLocation */ ).multipleDefinitions;
    }
}
const $7f58153e4f43c9d6$var$goToDefinitionKb = $7e5Mc.isWeb && !$cBBwi.isStandalone ? 2118 /* F12 */  : 70 /* F12 */ ;
$7f58153e4f43c9d6$var$registerGoToAction(($7f58153e4f43c9d6$var$_a = class GoToDefinitionAction extends $7f58153e4f43c9d6$export$5aed1003b9513172 {
    constructor(){
        super({
            openToSide: false,
            openInPeek: false,
            muteMessage: false
        }, {
            id: GoToDefinitionAction.id,
            label: $1WuVQ.localize('actions.goToDecl.label', "Go to Definition"),
            alias: 'Go to Definition',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasDefinitionProvider, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $7f58153e4f43c9d6$var$goToDefinitionKb,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: 'navigation',
                order: 1.1
            }
        });
        $c0VS7.CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);
    }
}, $7f58153e4f43c9d6$var$_a.id = 'editor.action.revealDefinition', $7f58153e4f43c9d6$var$_a));
$7f58153e4f43c9d6$var$registerGoToAction(($7f58153e4f43c9d6$var$_b = class OpenDefinitionToSideAction extends $7f58153e4f43c9d6$export$5aed1003b9513172 {
    constructor(){
        super({
            openToSide: true,
            openInPeek: false,
            muteMessage: false
        }, {
            id: OpenDefinitionToSideAction.id,
            label: $1WuVQ.localize('actions.goToDeclToSide.label', "Open Definition to the Side"),
            alias: 'Open Definition to the Side',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasDefinitionProvider, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , $7f58153e4f43c9d6$var$goToDefinitionKb),
                weight: 100 /* EditorContrib */ 
            }
        });
        $c0VS7.CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);
    }
}, $7f58153e4f43c9d6$var$_b.id = 'editor.action.revealDefinitionAside', $7f58153e4f43c9d6$var$_b));
$7f58153e4f43c9d6$var$registerGoToAction(($7f58153e4f43c9d6$var$_c = class PeekDefinitionAction extends $7f58153e4f43c9d6$export$5aed1003b9513172 {
    constructor(){
        super({
            openToSide: false,
            openInPeek: true,
            muteMessage: false
        }, {
            id: PeekDefinitionAction.id,
            label: $1WuVQ.localize('actions.previewDecl.label', "Peek Definition"),
            alias: 'Peek Definition',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasDefinitionProvider, $09aad26675037e07$exports.PeekContext.notInPeekEditor, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 582 /* F12 */ ,
                linux: {
                    primary: 3140 /* F10 */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                menuId: $iCLhR.MenuId.EditorContextPeek,
                group: 'peek',
                order: 2
            }
        });
        $c0VS7.CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);
    }
}, $7f58153e4f43c9d6$var$_c.id = 'editor.action.peekDefinition', $7f58153e4f43c9d6$var$_c));
//#endregion
//#region --- DECLARATION
class $7f58153e4f43c9d6$var$DeclarationAction extends $7f58153e4f43c9d6$var$SymbolNavigationAction {
    _getLocationModel(model, position, token) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            return new $aaa3a805b3bb2b56$exports.ReferencesModel((yield $c7f360caba085c48$exports.getDeclarationsAtPosition(model, position, token)), $1WuVQ.localize('decl.title', 'Declarations'));
        });
    }
    _getNoResultFoundMessage(info) {
        return info && info.word ? $1WuVQ.localize('decl.noResultWord', "No declaration found for '{0}'", info.word) : $1WuVQ.localize('decl.generic.noResults', "No declaration found");
    }
    _getAlternativeCommand(editor) {
        return editor.getOption(50 /* gotoLocation */ ).alternativeDeclarationCommand;
    }
    _getGoToPreference(editor) {
        return editor.getOption(50 /* gotoLocation */ ).multipleDeclarations;
    }
}
$7f58153e4f43c9d6$var$registerGoToAction(($7f58153e4f43c9d6$var$_d = class GoToDeclarationAction extends $7f58153e4f43c9d6$var$DeclarationAction {
    _getNoResultFoundMessage(info) {
        return info && info.word ? $1WuVQ.localize('decl.noResultWord', "No declaration found for '{0}'", info.word) : $1WuVQ.localize('decl.generic.noResults', "No declaration found");
    }
    constructor(){
        super({
            openToSide: false,
            openInPeek: false,
            muteMessage: false
        }, {
            id: GoToDeclarationAction.id,
            label: $1WuVQ.localize('actions.goToDeclaration.label', "Go to Declaration"),
            alias: 'Go to Declaration',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasDeclarationProvider, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            contextMenuOpts: {
                group: 'navigation',
                order: 1.3
            }
        });
    }
}, $7f58153e4f43c9d6$var$_d.id = 'editor.action.revealDeclaration', $7f58153e4f43c9d6$var$_d));
$7f58153e4f43c9d6$var$registerGoToAction(class PeekDeclarationAction extends $7f58153e4f43c9d6$var$DeclarationAction {
    constructor(){
        super({
            openToSide: false,
            openInPeek: true,
            muteMessage: false
        }, {
            id: 'editor.action.peekDeclaration',
            label: $1WuVQ.localize('actions.peekDecl.label', "Peek Declaration"),
            alias: 'Peek Declaration',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasDeclarationProvider, $09aad26675037e07$exports.PeekContext.notInPeekEditor, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            contextMenuOpts: {
                menuId: $iCLhR.MenuId.EditorContextPeek,
                group: 'peek',
                order: 3
            }
        });
    }
});
//#endregion
//#region --- TYPE DEFINITION
class $7f58153e4f43c9d6$var$TypeDefinitionAction extends $7f58153e4f43c9d6$var$SymbolNavigationAction {
    _getLocationModel(model, position, token) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            return new $aaa3a805b3bb2b56$exports.ReferencesModel((yield $c7f360caba085c48$exports.getTypeDefinitionsAtPosition(model, position, token)), $1WuVQ.localize('typedef.title', 'Type Definitions'));
        });
    }
    _getNoResultFoundMessage(info) {
        return info && info.word ? $1WuVQ.localize('goToTypeDefinition.noResultWord', "No type definition found for '{0}'", info.word) : $1WuVQ.localize('goToTypeDefinition.generic.noResults', "No type definition found");
    }
    _getAlternativeCommand(editor) {
        return editor.getOption(50 /* gotoLocation */ ).alternativeTypeDefinitionCommand;
    }
    _getGoToPreference(editor) {
        return editor.getOption(50 /* gotoLocation */ ).multipleTypeDefinitions;
    }
}
$7f58153e4f43c9d6$var$registerGoToAction(($7f58153e4f43c9d6$var$_e = class GoToTypeDefinitionAction extends $7f58153e4f43c9d6$var$TypeDefinitionAction {
    constructor(){
        super({
            openToSide: false,
            openInPeek: false,
            muteMessage: false
        }, {
            id: GoToTypeDefinitionAction.ID,
            label: $1WuVQ.localize('actions.goToTypeDefinition.label', "Go to Type Definition"),
            alias: 'Go to Type Definition',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasTypeDefinitionProvider, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 0,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: 'navigation',
                order: 1.4
            }
        });
    }
}, $7f58153e4f43c9d6$var$_e.ID = 'editor.action.goToTypeDefinition', $7f58153e4f43c9d6$var$_e));
$7f58153e4f43c9d6$var$registerGoToAction(($7f58153e4f43c9d6$var$_f = class PeekTypeDefinitionAction extends $7f58153e4f43c9d6$var$TypeDefinitionAction {
    constructor(){
        super({
            openToSide: false,
            openInPeek: true,
            muteMessage: false
        }, {
            id: PeekTypeDefinitionAction.ID,
            label: $1WuVQ.localize('actions.peekTypeDefinition.label', "Peek Type Definition"),
            alias: 'Peek Type Definition',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasTypeDefinitionProvider, $09aad26675037e07$exports.PeekContext.notInPeekEditor, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            contextMenuOpts: {
                menuId: $iCLhR.MenuId.EditorContextPeek,
                group: 'peek',
                order: 4
            }
        });
    }
}, $7f58153e4f43c9d6$var$_f.ID = 'editor.action.peekTypeDefinition', $7f58153e4f43c9d6$var$_f));
//#endregion
//#region --- IMPLEMENTATION
class $7f58153e4f43c9d6$var$ImplementationAction extends $7f58153e4f43c9d6$var$SymbolNavigationAction {
    _getLocationModel(model, position, token) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            return new $aaa3a805b3bb2b56$exports.ReferencesModel((yield $c7f360caba085c48$exports.getImplementationsAtPosition(model, position, token)), $1WuVQ.localize('impl.title', 'Implementations'));
        });
    }
    _getNoResultFoundMessage(info) {
        return info && info.word ? $1WuVQ.localize('goToImplementation.noResultWord', "No implementation found for '{0}'", info.word) : $1WuVQ.localize('goToImplementation.generic.noResults', "No implementation found");
    }
    _getAlternativeCommand(editor) {
        return editor.getOption(50 /* gotoLocation */ ).alternativeImplementationCommand;
    }
    _getGoToPreference(editor) {
        return editor.getOption(50 /* gotoLocation */ ).multipleImplementations;
    }
}
$7f58153e4f43c9d6$var$registerGoToAction(($7f58153e4f43c9d6$var$_g = class GoToImplementationAction extends $7f58153e4f43c9d6$var$ImplementationAction {
    constructor(){
        super({
            openToSide: false,
            openInPeek: false,
            muteMessage: false
        }, {
            id: GoToImplementationAction.ID,
            label: $1WuVQ.localize('actions.goToImplementation.label', "Go to Implementations"),
            alias: 'Go to Implementations',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasImplementationProvider, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2118 /* F12 */ ,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: 'navigation',
                order: 1.45
            }
        });
    }
}, $7f58153e4f43c9d6$var$_g.ID = 'editor.action.goToImplementation', $7f58153e4f43c9d6$var$_g));
$7f58153e4f43c9d6$var$registerGoToAction(($7f58153e4f43c9d6$var$_h = class PeekImplementationAction extends $7f58153e4f43c9d6$var$ImplementationAction {
    constructor(){
        super({
            openToSide: false,
            openInPeek: true,
            muteMessage: false
        }, {
            id: PeekImplementationAction.ID,
            label: $1WuVQ.localize('actions.peekImplementation.label', "Peek Implementations"),
            alias: 'Peek Implementations',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasImplementationProvider, $09aad26675037e07$exports.PeekContext.notInPeekEditor, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3142 /* F12 */ ,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                menuId: $iCLhR.MenuId.EditorContextPeek,
                group: 'peek',
                order: 5
            }
        });
    }
}, $7f58153e4f43c9d6$var$_h.ID = 'editor.action.peekImplementation', $7f58153e4f43c9d6$var$_h));
//#endregion
//#region --- REFERENCES
class $7f58153e4f43c9d6$var$ReferencesAction extends $7f58153e4f43c9d6$var$SymbolNavigationAction {
    _getNoResultFoundMessage(info) {
        return info ? $1WuVQ.localize('references.no', "No references found for '{0}'", info.word) : $1WuVQ.localize('references.noGeneric', "No references found");
    }
    _getAlternativeCommand(editor) {
        return editor.getOption(50 /* gotoLocation */ ).alternativeReferenceCommand;
    }
    _getGoToPreference(editor) {
        return editor.getOption(50 /* gotoLocation */ ).multipleReferences;
    }
}
$7f58153e4f43c9d6$var$registerGoToAction(class GoToReferencesAction extends $7f58153e4f43c9d6$var$ReferencesAction {
    _getLocationModel(model, position, token) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            return new $aaa3a805b3bb2b56$exports.ReferencesModel((yield $c7f360caba085c48$exports.getReferencesAtPosition(model, position, true, token)), $1WuVQ.localize('ref.title', 'References'));
        });
    }
    constructor(){
        super({
            openToSide: false,
            openInPeek: false,
            muteMessage: false
        }, {
            id: 'editor.action.goToReferences',
            label: $1WuVQ.localize('goToReferences.label', "Go to References"),
            alias: 'Go to References',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasReferenceProvider, $09aad26675037e07$exports.PeekContext.notInPeekEditor, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1094 /* F12 */ ,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: 'navigation',
                order: 1.45
            }
        });
    }
});
$7f58153e4f43c9d6$var$registerGoToAction(class PeekReferencesAction extends $7f58153e4f43c9d6$var$ReferencesAction {
    _getLocationModel(model, position, token) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            return new $aaa3a805b3bb2b56$exports.ReferencesModel((yield $c7f360caba085c48$exports.getReferencesAtPosition(model, position, false, token)), $1WuVQ.localize('ref.title', 'References'));
        });
    }
    constructor(){
        super({
            openToSide: false,
            openInPeek: true,
            muteMessage: false
        }, {
            id: 'editor.action.referenceSearch.trigger',
            label: $1WuVQ.localize('references.action.label', "Peek References"),
            alias: 'Peek References',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.hasReferenceProvider, $09aad26675037e07$exports.PeekContext.notInPeekEditor, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated()),
            contextMenuOpts: {
                menuId: $iCLhR.MenuId.EditorContextPeek,
                group: 'peek',
                order: 6
            }
        });
    }
});
//#endregion
//#region --- GENERIC goto symbols command
class $7f58153e4f43c9d6$var$GenericGoToLocationAction extends $7f58153e4f43c9d6$var$SymbolNavigationAction {
    _getLocationModel(_model, _position, _token) {
        return $7f58153e4f43c9d6$var$__awaiter(this, void 0, void 0, function*() {
            return new $aaa3a805b3bb2b56$exports.ReferencesModel(this._references, $1WuVQ.localize('generic.title', 'Locations'));
        });
    }
    _getNoResultFoundMessage(info) {
        return info && $1WuVQ.localize('generic.noResult', "No results for '{0}'", info.word) || '';
    }
    _getGoToPreference(editor) {
        var _a;
        return (_a = this._gotoMultipleBehaviour) !== null && _a !== void 0 ? _a : editor.getOption(50 /* gotoLocation */ ).multipleReferences;
    }
    _getAlternativeCommand() {
        return '';
    }
    constructor(config, _references, _gotoMultipleBehaviour){
        super(config, {
            id: 'editor.action.goToLocation',
            label: $1WuVQ.localize('label.generic', "Go to Any Symbol"),
            alias: 'Go to Any Symbol',
            precondition: $h4kGX.ContextKeyExpr.and($09aad26675037e07$exports.PeekContext.notInPeekEditor, $7oeKV.EditorContextKeys.isInWalkThroughSnippet.toNegated())
        });
        this._references = _references;
        this._gotoMultipleBehaviour = _gotoMultipleBehaviour;
    }
}
$c0VS7.CommandsRegistry.registerCommand({
    id: 'editor.action.goToLocations',
    description: {
        description: 'Go to locations from a position in a file',
        args: [
            {
                name: 'uri',
                description: 'The text document in which to start',
                constraint: $bUZVY.URI
            },
            {
                name: 'position',
                description: 'The position at which to start',
                constraint: $fqrfT.Position.isIPosition
            },
            {
                name: 'locations',
                description: 'An array of locations.',
                constraint: Array
            },
            {
                name: 'multiple',
                description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto'
            },
            {
                name: 'noResultsMessage',
                description: 'Human readable message that shows when locations is empty.'
            }, 
        ]
    },
    handler: (accessor1, resource, position, references, multiple, noResultsMessage, openInPeek)=>$7f58153e4f43c9d6$var$__awaiter(void 0, void 0, void 0, function*() {
            $erLC3.assertType($bUZVY.URI.isUri(resource));
            $erLC3.assertType($fqrfT.Position.isIPosition(position));
            $erLC3.assertType(Array.isArray(references));
            $erLC3.assertType(typeof multiple === 'undefined' || typeof multiple === 'string');
            $erLC3.assertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');
            const editorService = accessor1.get($7lWR1.ICodeEditorService);
            const editor = yield editorService.openCodeEditor({
                resource: resource
            }, editorService.getFocusedCodeEditor());
            if ($9PPqK.isCodeEditor(editor)) {
                editor.setPosition(position);
                editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */ );
                return editor.invokeWithinContext((accessor)=>{
                    const command = new class extends $7f58153e4f43c9d6$var$GenericGoToLocationAction {
                        _getNoResultFoundMessage(info) {
                            return noResultsMessage || super._getNoResultFoundMessage(info);
                        }
                    }({
                        muteMessage: !Boolean(noResultsMessage),
                        openInPeek: Boolean(openInPeek),
                        openToSide: false
                    }, references, multiple);
                    accessor.get($6Xx7t.IInstantiationService).invokeFunction(command.run.bind(command), editor);
                });
            }
        })
});
$c0VS7.CommandsRegistry.registerCommand({
    id: 'editor.action.peekLocations',
    description: {
        description: 'Peek locations from a position in a file',
        args: [
            {
                name: 'uri',
                description: 'The text document in which to start',
                constraint: $bUZVY.URI
            },
            {
                name: 'position',
                description: 'The position at which to start',
                constraint: $fqrfT.Position.isIPosition
            },
            {
                name: 'locations',
                description: 'An array of locations.',
                constraint: Array
            },
            {
                name: 'multiple',
                description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto'
            }, 
        ]
    },
    handler: (accessor, resource, position, references, multiple)=>$7f58153e4f43c9d6$var$__awaiter(void 0, void 0, void 0, function*() {
            accessor.get($c0VS7.ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, undefined, true);
        })
});
//#endregion
//#region --- REFERENCE search special commands
$c0VS7.CommandsRegistry.registerCommand({
    id: 'editor.action.findReferences',
    handler: (accessor, resource, position)=>{
        $erLC3.assertType($bUZVY.URI.isUri(resource));
        $erLC3.assertType($fqrfT.Position.isIPosition(position));
        const codeEditorService = accessor.get($7lWR1.ICodeEditorService);
        return codeEditorService.openCodeEditor({
            resource: resource
        }, codeEditorService.getFocusedCodeEditor()).then((control)=>{
            if (!$9PPqK.isCodeEditor(control) || !control.hasModel()) return undefined;
            const controller = $2e72779f5ae01016$exports.ReferencesController.get(control);
            if (!controller) return undefined;
            const references1 = $5piST.createCancelablePromise((token)=>$c7f360caba085c48$exports.getReferencesAtPosition(control.getModel(), $fqrfT.Position.lift(position), false, token).then((references)=>new $aaa3a805b3bb2b56$exports.ReferencesModel(references, $1WuVQ.localize('ref.title', 'References'))
                )
            );
            const range = new $1YFxJ.Range(position.lineNumber, position.column, position.lineNumber, position.column);
            return Promise.resolve(controller.toggleWidget(range, references1, false));
        });
    }
});
// use NEW command
$c0VS7.CommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');
//#endregion
// -- unconditionally register goto-action
$iCLhR.MenuRegistry.appendMenuItems([
    {
        id: $iCLhR.MenuId.MenubarGoMenu,
        item: {
            command: {
                id: 'editor.action.revealDefinition',
                title: $1WuVQ.localize({
                    key: 'miGotoDefinition',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Go to &&Definition")
            },
            group: '4_symbol_nav',
            order: 2
        }
    },
    {
        id: $iCLhR.MenuId.MenubarGoMenu,
        item: {
            command: {
                id: 'editor.action.revealDeclaration',
                title: $1WuVQ.localize({
                    key: 'miGotoDeclaration',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Go to &&Declaration")
            },
            group: '4_symbol_nav',
            order: 3
        }
    },
    {
        id: $iCLhR.MenuId.MenubarGoMenu,
        item: {
            command: {
                id: 'editor.action.goToTypeDefinition',
                title: $1WuVQ.localize({
                    key: 'miGotoTypeDefinition',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Go to &&Type Definition")
            },
            group: '4_symbol_nav',
            order: 3
        }
    },
    {
        id: $iCLhR.MenuId.MenubarGoMenu,
        item: {
            command: {
                id: 'editor.action.goToImplementation',
                title: $1WuVQ.localize({
                    key: 'miGotoImplementation',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Go to &&Implementations")
            },
            group: '4_symbol_nav',
            order: 4
        }
    },
    {
        id: $iCLhR.MenuId.MenubarGoMenu,
        item: {
            command: {
                id: 'editor.action.goToReferences',
                title: $1WuVQ.localize({
                    key: 'miGotoReference',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Go to &&References")
            },
            group: '4_symbol_nav',
            order: 5
        }
    }, 
]);



/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $b38214ecae1a10ff$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $b38214ecae1a10ff$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $b38214ecae1a10ff$export$35cdf6493d1302e = class $b38214ecae1a10ff$export$35cdf6493d1302e {
    static get(editor) {
        return editor.getContribution($b38214ecae1a10ff$export$35cdf6493d1302e.ID);
    }
    startFindDefinitionFromCursor(position) {
        // For issue: https://github.com/microsoft/vscode/issues/46257
        // equivalent to mouse move with meta/ctrl key
        // First find the definition and add decorations
        // to the editor to be shown with the content hover widget
        return this.startFindDefinition(position).then(()=>{
            // Add listeners for editor cursor move and key down events
            // Dismiss the "extended" editor decorations when the user hides
            // the hover widget. There is no event for the widget itself so these
            // serve as a best effort. After removing the link decorations, the hover
            // widget is clean and will only show declarations per next request.
            this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{
                this.currentWordAtPosition = null;
                this.removeLinkDecorations();
                this.toUnhookForKeyboard.clear();
            }));
            this.toUnhookForKeyboard.add(this.editor.onKeyDown((e)=>{
                if (e) {
                    this.currentWordAtPosition = null;
                    this.removeLinkDecorations();
                    this.toUnhookForKeyboard.clear();
                }
            }));
        });
    }
    startFindDefinitionFromMouse(mouseEvent, withKey) {
        // check if we are active and on a content widget
        if (mouseEvent.target.type === 9 /* CONTENT_WIDGET */  && this.linkDecorations.length > 0) return;
        if (!this.editor.hasModel() || !this.isEnabled(mouseEvent, withKey)) {
            this.currentWordAtPosition = null;
            this.removeLinkDecorations();
            return;
        }
        const position = mouseEvent.target.position;
        this.startFindDefinition(position);
    }
    startFindDefinition(position) {
        var _a;
        // Dispose listeners for updating decorations when using keyboard to show definition hover
        this.toUnhookForKeyboard.clear();
        // Find word at mouse position
        const word = position ? (_a = this.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getWordAtPosition(position) : null;
        if (!word) {
            this.currentWordAtPosition = null;
            this.removeLinkDecorations();
            return Promise.resolve(0);
        }
        // Return early if word at position is still the same
        if (this.currentWordAtPosition && this.currentWordAtPosition.startColumn === word.startColumn && this.currentWordAtPosition.endColumn === word.endColumn && this.currentWordAtPosition.word === word.word) return Promise.resolve(0);
        this.currentWordAtPosition = word;
        // Find definition and decorate word if found
        let state = new $78AWm.EditorState(this.editor, 15 /* Scroll */ );
        if (this.previousPromise) {
            this.previousPromise.cancel();
            this.previousPromise = null;
        }
        this.previousPromise = $5piST.createCancelablePromise((token)=>this.findDefinition(position, token)
        );
        return this.previousPromise.then((results)=>{
            if (!results || !results.length || !state.validate(this.editor)) {
                this.removeLinkDecorations();
                return;
            }
            // Multiple results
            if (results.length > 1) this.addDecoration(new $1YFxJ.Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn), new $eeQ9E.MarkdownString().appendText($1WuVQ.localize('multipleResults', "Click to show {0} definitions.", results.length)));
            else {
                let result = results[0];
                if (!result.uri) return;
                this.textModelResolverService.createModelReference(result.uri).then((ref)=>{
                    if (!ref.object || !ref.object.textEditorModel) {
                        ref.dispose();
                        return;
                    }
                    const { object: { textEditorModel: textEditorModel  }  } = ref;
                    const { startLineNumber: startLineNumber  } = result.range;
                    if (startLineNumber < 1 || startLineNumber > textEditorModel.getLineCount()) {
                        // invalid range
                        ref.dispose();
                        return;
                    }
                    const previewValue = this.getPreviewValue(textEditorModel, startLineNumber, result);
                    let wordRange;
                    if (result.originSelectionRange) wordRange = $1YFxJ.Range.lift(result.originSelectionRange);
                    else wordRange = new $1YFxJ.Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);
                    const languageId = this.modeService.getModeIdByFilepathOrFirstLine(textEditorModel.uri);
                    this.addDecoration(wordRange, new $eeQ9E.MarkdownString().appendCodeblock(languageId ? languageId : '', previewValue));
                    ref.dispose();
                });
            }
        }).then(undefined, $3FsT3.onUnexpectedError);
    }
    getPreviewValue(textEditorModel, startLineNumber, result) {
        let rangeToUse = result.targetSelectionRange ? result.range : this.getPreviewRangeBasedOnBrackets(textEditorModel, startLineNumber);
        const numberOfLinesInRange = rangeToUse.endLineNumber - rangeToUse.startLineNumber;
        if (numberOfLinesInRange >= $b38214ecae1a10ff$export$35cdf6493d1302e.MAX_SOURCE_PREVIEW_LINES) rangeToUse = this.getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber);
        const previewValue = this.stripIndentationFromPreviewRange(textEditorModel, startLineNumber, rangeToUse);
        return previewValue;
    }
    stripIndentationFromPreviewRange(textEditorModel, startLineNumber, previewRange) {
        const startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);
        let minIndent = startIndent;
        for(let endLineNumber = startLineNumber + 1; endLineNumber < previewRange.endLineNumber; endLineNumber++){
            const endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);
            minIndent = Math.min(minIndent, endIndent);
        }
        const previewValue = textEditorModel.getValueInRange(previewRange).replace(new RegExp(`^\\s{${minIndent - 1}}`, 'gm'), '').trim();
        return previewValue;
    }
    getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber) {
        const startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);
        const maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + $b38214ecae1a10ff$export$35cdf6493d1302e.MAX_SOURCE_PREVIEW_LINES);
        let endLineNumber = startLineNumber + 1;
        for(; endLineNumber < maxLineNumber; endLineNumber++){
            let endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);
            if (startIndent === endIndent) break;
        }
        return new $1YFxJ.Range(startLineNumber, 1, endLineNumber + 1, 1);
    }
    getPreviewRangeBasedOnBrackets(textEditorModel, startLineNumber) {
        const maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + $b38214ecae1a10ff$export$35cdf6493d1302e.MAX_SOURCE_PREVIEW_LINES);
        const brackets = [];
        let ignoreFirstEmpty = true;
        let currentBracket = textEditorModel.bracketPairs.findNextBracket(new $fqrfT.Position(startLineNumber, 1));
        while(currentBracket !== null){
            if (brackets.length === 0) brackets.push(currentBracket);
            else {
                const lastBracket = brackets[brackets.length - 1];
                if (lastBracket.open[0] === currentBracket.open[0] && lastBracket.isOpen && !currentBracket.isOpen) brackets.pop();
                else brackets.push(currentBracket);
                if (brackets.length === 0) {
                    if (ignoreFirstEmpty) ignoreFirstEmpty = false;
                    else return new $1YFxJ.Range(startLineNumber, 1, currentBracket.range.endLineNumber + 1, 1);
                }
            }
            const maxColumn = textEditorModel.getLineMaxColumn(startLineNumber);
            let nextLineNumber = currentBracket.range.endLineNumber;
            let nextColumn = currentBracket.range.endColumn;
            if (maxColumn === currentBracket.range.endColumn) {
                nextLineNumber++;
                nextColumn = 1;
            }
            if (nextLineNumber > maxLineNumber) return new $1YFxJ.Range(startLineNumber, 1, maxLineNumber + 1, 1);
            currentBracket = textEditorModel.bracketPairs.findNextBracket(new $fqrfT.Position(nextLineNumber, nextColumn));
        }
        return new $1YFxJ.Range(startLineNumber, 1, maxLineNumber + 1, 1);
    }
    addDecoration(range, hoverMessage) {
        const newDecorations = {
            range: range,
            options: {
                description: 'goto-definition-link',
                inlineClassName: 'goto-definition-link',
                hoverMessage: hoverMessage
            }
        };
        this.linkDecorations = this.editor.deltaDecorations(this.linkDecorations, [
            newDecorations
        ]);
    }
    removeLinkDecorations() {
        if (this.linkDecorations.length > 0) this.linkDecorations = this.editor.deltaDecorations(this.linkDecorations, []);
    }
    isEnabled(mouseEvent, withKey) {
        return this.editor.hasModel() && mouseEvent.isNoneOrSingleMouseDown && mouseEvent.target.type === 6 /* CONTENT_TEXT */  && (mouseEvent.hasTriggerModifier || (withKey ? withKey.keyCodeIsTriggerKey : false)) && $goPht.DefinitionProviderRegistry.has(this.editor.getModel());
    }
    findDefinition(position, token) {
        const model = this.editor.getModel();
        if (!model) return Promise.resolve(null);
        return $c7f360caba085c48$exports.getDefinitionsAtPosition(model, position, token);
    }
    gotoDefinition(position, openToSide) {
        this.editor.setPosition(position);
        return this.editor.invokeWithinContext((accessor)=>{
            const canPeek = !openToSide && this.editor.getOption(77 /* definitionLinkOpensInPeek */ ) && !this.isInPeekEditor(accessor);
            const action = new $7f58153e4f43c9d6$exports.DefinitionAction({
                openToSide: openToSide,
                openInPeek: canPeek,
                muteMessage: true
            }, {
                alias: '',
                label: '',
                id: '',
                precondition: undefined
            });
            return action.run(accessor, this.editor);
        });
    }
    isInPeekEditor(accessor) {
        const contextKeyService = accessor.get($h4kGX.IContextKeyService);
        return $09aad26675037e07$exports.PeekContext.inPeekEditor.getValue(contextKeyService);
    }
    dispose() {
        this.toUnhook.dispose();
    }
    constructor(editor, textModelResolverService, modeService){
        this.textModelResolverService = textModelResolverService;
        this.modeService = modeService;
        this.toUnhook = new $6W1JA.DisposableStore();
        this.toUnhookForKeyboard = new $6W1JA.DisposableStore();
        this.linkDecorations = [];
        this.currentWordAtPosition = null;
        this.previousPromise = null;
        this.editor = editor;
        let linkGesture = new $b72495b84fdc3258$export$e5a83b5c609cb4bb(editor);
        this.toUnhook.add(linkGesture);
        this.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent, keyboardEvent])=>{
            this.startFindDefinitionFromMouse(mouseEvent, $erLC3.withNullAsUndefined(keyboardEvent));
        }));
        this.toUnhook.add(linkGesture.onExecute((mouseEvent)=>{
            if (this.isEnabled(mouseEvent)) this.gotoDefinition(mouseEvent.target.position, mouseEvent.hasSideBySideModifier).then(()=>{
                this.removeLinkDecorations();
            }, (error)=>{
                this.removeLinkDecorations();
                $3FsT3.onUnexpectedError(error);
            });
        }));
        this.toUnhook.add(linkGesture.onCancel(()=>{
            this.removeLinkDecorations();
            this.currentWordAtPosition = null;
        }));
    }
};
$b38214ecae1a10ff$export$35cdf6493d1302e.ID = 'editor.contrib.gotodefinitionatposition';
$b38214ecae1a10ff$export$35cdf6493d1302e.MAX_SOURCE_PREVIEW_LINES = 8;
$b38214ecae1a10ff$export$35cdf6493d1302e = $b38214ecae1a10ff$var$__decorate([
    $b38214ecae1a10ff$var$__param(1, $ftViW.ITextModelService),
    $b38214ecae1a10ff$var$__param(2, $jwAxq.IModeService)
], $b38214ecae1a10ff$export$35cdf6493d1302e);
$g9Zlr.registerEditorContribution($b38214ecae1a10ff$export$35cdf6493d1302e.ID, $b38214ecae1a10ff$export$35cdf6493d1302e);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const activeLinkForeground = theme.getColor($kL4Ig.editorActiveLinkForeground);
    if (activeLinkForeground) collector.addRule(`.monaco-editor .goto-definition-link { color: ${activeLinkForeground} !important; }`);
});


var $e69539fc234264c3$exports = {};

$parcel$export($e69539fc234264c3$exports, "ModesContentHoverWidget", function () { return $e69539fc234264c3$export$27477712c6ad8b14; }, function (v) { return $e69539fc234264c3$export$27477712c6ad8b14 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $8xgjE = parcelRequire("8xgjE");

var $lSwjB = parcelRequire("lSwjB");

var $6W1JA = parcelRequire("6W1JA");

const $58dc1cd7d823c4bd$var$$ = $8xgjE.$;
class $58dc1cd7d823c4bd$export$bd9cbe052e594410 extends $6W1JA.Disposable {
    onContentsChanged() {
        this._scrollbar.scanDomNode();
    }
    constructor(){
        super();
        this.containerDomNode = document.createElement('div');
        this.containerDomNode.className = 'monaco-hover';
        this.containerDomNode.tabIndex = 0;
        this.containerDomNode.setAttribute('role', 'tooltip');
        this.contentsDomNode = document.createElement('div');
        this.contentsDomNode.className = 'monaco-hover-content';
        this._scrollbar = this._register(new $lSwjB.DomScrollableElement(this.contentsDomNode, {
            consumeMouseWheelIfScrollbarIsNeeded: true
        }));
        this.containerDomNode.appendChild(this._scrollbar.getDomNode());
    }
}
class $58dc1cd7d823c4bd$export$bc0ed2dd33dfd810 extends $6W1JA.Disposable {
    static render(parent, actionOptions, keybindingLabel) {
        return new $58dc1cd7d823c4bd$export$bc0ed2dd33dfd810(parent, actionOptions, keybindingLabel);
    }
    setEnabled(enabled) {
        if (enabled) {
            this.actionContainer.classList.remove('disabled');
            this.actionContainer.removeAttribute('aria-disabled');
        } else {
            this.actionContainer.classList.add('disabled');
            this.actionContainer.setAttribute('aria-disabled', 'true');
        }
    }
    constructor(parent, actionOptions, keybindingLabel){
        super();
        this.actionContainer = $8xgjE.append(parent, $58dc1cd7d823c4bd$var$$('div.action-container'));
        this.action = $8xgjE.append(this.actionContainer, $58dc1cd7d823c4bd$var$$('a.action'));
        this.action.setAttribute('role', 'button');
        if (actionOptions.iconClass) $8xgjE.append(this.action, $58dc1cd7d823c4bd$var$$(`span.icon.${actionOptions.iconClass}`));
        const label = $8xgjE.append(this.action, $58dc1cd7d823c4bd$var$$('span'));
        label.textContent = keybindingLabel ? `${actionOptions.label} (${keybindingLabel})` : actionOptions.label;
        this._register($8xgjE.addDisposableListener(this.actionContainer, $8xgjE.EventType.MOUSE_DOWN, (e)=>{
            e.stopPropagation();
            e.preventDefault();
            actionOptions.run(this.actionContainer);
        }));
        this.setEnabled(true);
    }
}



var $gKMUF = parcelRequire("gKMUF");

var $duSG1 = parcelRequire("duSG1");

var $6W1JA = parcelRequire("6W1JA");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $72tIz = parcelRequire("72tIz");

var $goPht = parcelRequire("goPht");
var $8533e63fcf80bffb$exports = {};

$parcel$export($8533e63fcf80bffb$exports, "ColorHoverParticipant", function () { return $8533e63fcf80bffb$export$c4145a38e12cf25c; }, function (v) { return $8533e63fcf80bffb$export$c4145a38e12cf25c = v; });

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $8OIA7 = parcelRequire("8OIA7");

var $6W1JA = parcelRequire("6W1JA");

var $1YFxJ = parcelRequire("1YFxJ");



var $bkXdq = parcelRequire("bkXdq");
class $130ca199195b161a$export$76cf66edc64e95a7 {
    get color() {
        return this._color;
    }
    set color(color) {
        if (this._color.equals(color)) return;
        this._color = color;
        this._onDidChangeColor.fire(color);
    }
    get presentation() {
        return this.colorPresentations[this.presentationIndex];
    }
    get colorPresentations() {
        return this._colorPresentations;
    }
    set colorPresentations(colorPresentations) {
        this._colorPresentations = colorPresentations;
        if (this.presentationIndex > colorPresentations.length - 1) this.presentationIndex = 0;
        this._onDidChangePresentation.fire(this.presentation);
    }
    selectNextColorPresentation() {
        this.presentationIndex = (this.presentationIndex + 1) % this.colorPresentations.length;
        this.flushColor();
        this._onDidChangePresentation.fire(this.presentation);
    }
    guessColorPresentation(color, originalText) {
        for(let i = 0; i < this.colorPresentations.length; i++)if (originalText.toLowerCase() === this.colorPresentations[i].label) {
            this.presentationIndex = i;
            this._onDidChangePresentation.fire(this.presentation);
            break;
        }
    }
    flushColor() {
        this._onColorFlushed.fire(this._color);
    }
    constructor(color, availableColorPresentations, presentationIndex){
        this.presentationIndex = presentationIndex;
        this._onColorFlushed = new $bkXdq.Emitter();
        this.onColorFlushed = this._onColorFlushed.event;
        this._onDidChangeColor = new $bkXdq.Emitter();
        this.onDidChangeColor = this._onDidChangeColor.event;
        this._onDidChangePresentation = new $bkXdq.Emitter();
        this.onDidChangePresentation = this._onDidChangePresentation.event;
        this.originalColor = color;
        this._color = color;
        this._colorPresentations = availableColorPresentations;
    }
}



var $cBBwi = parcelRequire("cBBwi");

var $8xgjE = parcelRequire("8xgjE");

var $6D0Bv = parcelRequire("6D0Bv");

var $gKMUF = parcelRequire("gKMUF");

var $8OIA7 = parcelRequire("8OIA7");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");


var $1WuVQ = parcelRequire("1WuVQ");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
const $eb022de8812693a3$var$$ = $8xgjE.$;
class $eb022de8812693a3$export$89f2225ce9c7d7ad extends $6W1JA.Disposable {
    onDidChangeColor(color) {
        this.pickedColorNode.style.backgroundColor = $8OIA7.Color.Format.CSS.format(color) || '';
        this.pickedColorNode.classList.toggle('light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());
        this.onDidChangePresentation();
    }
    onDidChangePresentation() {
        this.pickedColorNode.textContent = this.model.presentation ? this.model.presentation.label : '';
        this.pickedColorNode.prepend($eb022de8812693a3$var$$('.codicon.codicon-color-mode'));
    }
    constructor(container, model, themeService){
        super();
        this.model = model;
        this.domNode = $eb022de8812693a3$var$$('.colorpicker-header');
        $8xgjE.append(container, this.domNode);
        this.pickedColorNode = $8xgjE.append(this.domNode, $eb022de8812693a3$var$$('.picked-color'));
        const tooltip = $1WuVQ.localize('clickToToggleColorOptions', "Click to toggle color options (rgb/hsl/hex)");
        this.pickedColorNode.setAttribute('title', tooltip);
        const colorBox = $8xgjE.append(this.domNode, $eb022de8812693a3$var$$('.original-color'));
        colorBox.style.backgroundColor = $8OIA7.Color.Format.CSS.format(this.model.originalColor) || '';
        this.backgroundColor = themeService.getColorTheme().getColor($kL4Ig.editorHoverBackground) || $8OIA7.Color.white;
        this._register($5Wwop.registerThemingParticipant((theme, collector)=>{
            this.backgroundColor = theme.getColor($kL4Ig.editorHoverBackground) || $8OIA7.Color.white;
        }));
        this._register($8xgjE.addDisposableListener(this.pickedColorNode, $8xgjE.EventType.CLICK, ()=>this.model.selectNextColorPresentation()
        ));
        this._register($8xgjE.addDisposableListener(colorBox, $8xgjE.EventType.CLICK, ()=>{
            this.model.color = this.model.originalColor;
            this.model.flushColor();
        }));
        this._register(model.onDidChangeColor(this.onDidChangeColor, this));
        this._register(model.onDidChangePresentation(this.onDidChangePresentation, this));
        this.pickedColorNode.style.backgroundColor = $8OIA7.Color.Format.CSS.format(model.color) || '';
        this.pickedColorNode.classList.toggle('light', model.color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : model.color.isLighter());
        this.onDidChangeColor(this.model.color);
    }
}
class $eb022de8812693a3$export$d4d2a64f59ef343b extends $6W1JA.Disposable {
    flushColor() {
        this.model.flushColor();
    }
    onDidSaturationValueChange({ s: s , v: v  }) {
        const hsva = this.model.color.hsva;
        this.model.color = new $8OIA7.Color(new $8OIA7.HSVA(hsva.h, s, v, hsva.a));
    }
    onDidOpacityChange(a) {
        const hsva = this.model.color.hsva;
        this.model.color = new $8OIA7.Color(new $8OIA7.HSVA(hsva.h, hsva.s, hsva.v, a));
    }
    onDidHueChange(value) {
        const hsva = this.model.color.hsva;
        const h = (1 - value) * 360;
        this.model.color = new $8OIA7.Color(new $8OIA7.HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));
    }
    layout() {
        this.saturationBox.layout();
        this.opacityStrip.layout();
        this.hueStrip.layout();
    }
    constructor(container, model, pixelRatio){
        super();
        this.model = model;
        this.pixelRatio = pixelRatio;
        this.domNode = $eb022de8812693a3$var$$('.colorpicker-body');
        $8xgjE.append(container, this.domNode);
        this.saturationBox = new $eb022de8812693a3$var$SaturationBox(this.domNode, this.model, this.pixelRatio);
        this._register(this.saturationBox);
        this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange, this));
        this._register(this.saturationBox.onColorFlushed(this.flushColor, this));
        this.opacityStrip = new $eb022de8812693a3$var$OpacityStrip(this.domNode, this.model);
        this._register(this.opacityStrip);
        this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange, this));
        this._register(this.opacityStrip.onColorFlushed(this.flushColor, this));
        this.hueStrip = new $eb022de8812693a3$var$HueStrip(this.domNode, this.model);
        this._register(this.hueStrip);
        this._register(this.hueStrip.onDidChange(this.onDidHueChange, this));
        this._register(this.hueStrip.onColorFlushed(this.flushColor, this));
    }
}
class $eb022de8812693a3$var$SaturationBox extends $6W1JA.Disposable {
    onMouseDown(e) {
        this.monitor = this._register(new $6D0Bv.GlobalMouseMoveMonitor());
        const origin = $8xgjE.getDomNodePagePosition(this.domNode);
        if (e.target !== this.selection) this.onDidChangePosition(e.offsetX, e.offsetY);
        this.monitor.startMonitoring(e.target, e.buttons, $6D0Bv.standardMouseMoveMerger, (event)=>this.onDidChangePosition(event.posx - origin.left, event.posy - origin.top)
        , ()=>null
        );
        const mouseUpListener = $8xgjE.addDisposableGenericMouseUpListner(document, ()=>{
            this._onColorFlushed.fire();
            mouseUpListener.dispose();
            if (this.monitor) {
                this.monitor.stopMonitoring(true);
                this.monitor = null;
            }
        }, true);
    }
    onDidChangePosition(left, top) {
        const s = Math.max(0, Math.min(1, left / this.width));
        const v = Math.max(0, Math.min(1, 1 - top / this.height));
        this.paintSelection(s, v);
        this._onDidChange.fire({
            s: s,
            v: v
        });
    }
    layout() {
        this.width = this.domNode.offsetWidth;
        this.height = this.domNode.offsetHeight;
        this.canvas.width = this.width * this.pixelRatio;
        this.canvas.height = this.height * this.pixelRatio;
        this.paint();
        const hsva = this.model.color.hsva;
        this.paintSelection(hsva.s, hsva.v);
    }
    paint() {
        const hsva = this.model.color.hsva;
        const saturatedColor = new $8OIA7.Color(new $8OIA7.HSVA(hsva.h, 1, 1, 1));
        const ctx = this.canvas.getContext('2d');
        const whiteGradient = ctx.createLinearGradient(0, 0, this.canvas.width, 0);
        whiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');
        whiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');
        whiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
        const blackGradient = ctx.createLinearGradient(0, 0, 0, this.canvas.height);
        blackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');
        blackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');
        ctx.rect(0, 0, this.canvas.width, this.canvas.height);
        ctx.fillStyle = $8OIA7.Color.Format.CSS.format(saturatedColor);
        ctx.fill();
        ctx.fillStyle = whiteGradient;
        ctx.fill();
        ctx.fillStyle = blackGradient;
        ctx.fill();
    }
    paintSelection(s, v) {
        this.selection.style.left = `${s * this.width}px`;
        this.selection.style.top = `${this.height - v * this.height}px`;
    }
    onDidChangeColor() {
        if (this.monitor && this.monitor.isMonitoring()) return;
        this.paint();
    }
    constructor(container, model, pixelRatio){
        super();
        this.model = model;
        this.pixelRatio = pixelRatio;
        this._onDidChange = new $bkXdq.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._onColorFlushed = new $bkXdq.Emitter();
        this.onColorFlushed = this._onColorFlushed.event;
        this.domNode = $eb022de8812693a3$var$$('.saturation-wrap');
        $8xgjE.append(container, this.domNode);
        // Create canvas, draw selected color
        this.canvas = document.createElement('canvas');
        this.canvas.className = 'saturation-box';
        $8xgjE.append(this.domNode, this.canvas);
        // Add selection circle
        this.selection = $eb022de8812693a3$var$$('.saturation-selection');
        $8xgjE.append(this.domNode, this.selection);
        this.layout();
        this._register($8xgjE.addDisposableGenericMouseDownListner(this.domNode, (e)=>this.onMouseDown(e)
        ));
        this._register(this.model.onDidChangeColor(this.onDidChangeColor, this));
        this.monitor = null;
    }
}
class $eb022de8812693a3$var$Strip extends $6W1JA.Disposable {
    layout() {
        this.height = this.domNode.offsetHeight - this.slider.offsetHeight;
        const value = this.getValue(this.model.color);
        this.updateSliderPosition(value);
    }
    onMouseDown(e) {
        const monitor = this._register(new $6D0Bv.GlobalMouseMoveMonitor());
        const origin = $8xgjE.getDomNodePagePosition(this.domNode);
        this.domNode.classList.add('grabbing');
        if (e.target !== this.slider) this.onDidChangeTop(e.offsetY);
        monitor.startMonitoring(e.target, e.buttons, $6D0Bv.standardMouseMoveMerger, (event)=>this.onDidChangeTop(event.posy - origin.top)
        , ()=>null
        );
        const mouseUpListener = $8xgjE.addDisposableGenericMouseUpListner(document, ()=>{
            this._onColorFlushed.fire();
            mouseUpListener.dispose();
            monitor.stopMonitoring(true);
            this.domNode.classList.remove('grabbing');
        }, true);
    }
    onDidChangeTop(top) {
        const value = Math.max(0, Math.min(1, 1 - top / this.height));
        this.updateSliderPosition(value);
        this._onDidChange.fire(value);
    }
    updateSliderPosition(value) {
        this.slider.style.top = `${(1 - value) * this.height}px`;
    }
    constructor(container, model){
        super();
        this.model = model;
        this._onDidChange = new $bkXdq.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._onColorFlushed = new $bkXdq.Emitter();
        this.onColorFlushed = this._onColorFlushed.event;
        this.domNode = $8xgjE.append(container, $eb022de8812693a3$var$$('.strip'));
        this.overlay = $8xgjE.append(this.domNode, $eb022de8812693a3$var$$('.overlay'));
        this.slider = $8xgjE.append(this.domNode, $eb022de8812693a3$var$$('.slider'));
        this.slider.style.top = `0px`;
        this._register($8xgjE.addDisposableGenericMouseDownListner(this.domNode, (e)=>this.onMouseDown(e)
        ));
        this.layout();
    }
}
class $eb022de8812693a3$var$OpacityStrip extends $eb022de8812693a3$var$Strip {
    onDidChangeColor(color) {
        const { r: r , g: g , b: b  } = color.rgba;
        const opaque = new $8OIA7.Color(new $8OIA7.RGBA(r, g, b, 1));
        const transparent = new $8OIA7.Color(new $8OIA7.RGBA(r, g, b, 0));
        this.overlay.style.background = `linear-gradient(to bottom, ${opaque} 0%, ${transparent} 100%)`;
    }
    getValue(color) {
        return color.hsva.a;
    }
    constructor(container, model){
        super(container, model);
        this.domNode.classList.add('opacity-strip');
        this._register(model.onDidChangeColor(this.onDidChangeColor, this));
        this.onDidChangeColor(this.model.color);
    }
}
class $eb022de8812693a3$var$HueStrip extends $eb022de8812693a3$var$Strip {
    getValue(color) {
        return 1 - color.hsva.h / 360;
    }
    constructor(container, model){
        super(container, model);
        this.domNode.classList.add('hue-strip');
    }
}
class $eb022de8812693a3$export$1d10c81ebf4df2e3 extends $gKMUF.Widget {
    layout() {
        this.body.layout();
    }
    constructor(container, model, pixelRatio, themeService){
        super();
        this.model = model;
        this.pixelRatio = pixelRatio;
        this._register($cBBwi.onDidChangeZoomLevel(()=>this.layout()
        ));
        const element = $eb022de8812693a3$var$$('.colorpicker-widget');
        container.appendChild(element);
        const header = new $eb022de8812693a3$export$89f2225ce9c7d7ad(element, this.model, themeService);
        this.body = new $eb022de8812693a3$export$d4d2a64f59ef343b(element, this.model, this.pixelRatio);
        this._register(header);
        this._register(this.body);
    }
}



var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $8533e63fcf80bffb$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $8533e63fcf80bffb$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $8533e63fcf80bffb$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $8533e63fcf80bffb$export$1e790ecd6a44b70f {
    isValidForHoverAnchor(anchor) {
        return anchor.type === 1 /* Range */  && this.range.startColumn <= anchor.range.startColumn && this.range.endColumn >= anchor.range.endColumn;
    }
    constructor(owner, range, model, provider){
        this.owner = owner;
        this.range = range;
        this.model = model;
        this.provider = provider;
        /**
         * Force the hover to always be rendered at this specific range,
         * even in the case of multiple hover parts.
         */ this.forceShowAtRange = true;
    }
}
let $8533e63fcf80bffb$export$c4145a38e12cf25c = class $8533e63fcf80bffb$export$c4145a38e12cf25c {
    computeSync(anchor, lineDecorations) {
        return [];
    }
    computeAsync(anchor, lineDecorations, token) {
        return $5piST.AsyncIterableObject.fromPromise(this._computeAsync(anchor, lineDecorations, token));
    }
    _computeAsync(anchor, lineDecorations, token) {
        return $8533e63fcf80bffb$var$__awaiter(this, void 0, void 0, function*() {
            if (!this._editor.hasModel()) return [];
            const colorDetector = $a026c36ea03472cf$exports.ColorDetector.get(this._editor);
            for (const d of lineDecorations){
                if (!colorDetector.isColorDecorationId(d.id)) continue;
                const colorData = colorDetector.getColorData(d.range.getStartPosition());
                if (colorData) {
                    const colorHover = yield this._createColorHover(this._editor.getModel(), colorData.colorInfo, colorData.provider);
                    return [
                        colorHover
                    ];
                }
            }
            return [];
        });
    }
    _createColorHover(editorModel, colorInfo, provider) {
        return $8533e63fcf80bffb$var$__awaiter(this, void 0, void 0, function*() {
            const originalText = editorModel.getValueInRange(colorInfo.range);
            const { red: red , green: green , blue: blue , alpha: alpha  } = colorInfo.color;
            const rgba = new $8OIA7.RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);
            const color = new $8OIA7.Color(rgba);
            const colorPresentations = yield $fc6cff5a9920e24f$export$c3064c7f8ffdbaa5(editorModel, colorInfo, provider, $1vhHo.CancellationToken.None);
            const model = new $130ca199195b161a$export$76cf66edc64e95a7(color, [], 0);
            model.colorPresentations = colorPresentations || [];
            model.guessColorPresentation(color, originalText);
            return new $8533e63fcf80bffb$export$1e790ecd6a44b70f(this, $1YFxJ.Range.lift(colorInfo.range), model, provider);
        });
    }
    renderHoverParts(hoverParts, fragment, statusBar) {
        if (hoverParts.length === 0 || !this._editor.hasModel()) return $6W1JA.Disposable.None;
        const disposables = new $6W1JA.DisposableStore();
        const colorHover = hoverParts[0];
        const editorModel = this._editor.getModel();
        const model = colorHover.model;
        const widget = disposables.add(new $eb022de8812693a3$export$1d10c81ebf4df2e3(fragment, model, this._editor.getOption(128 /* pixelRatio */ ), this._themeService));
        let range = new $1YFxJ.Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);
        const updateEditorModel = ()=>{
            let textEdits;
            let newRange;
            if (model.presentation.textEdit) {
                textEdits = [
                    model.presentation.textEdit
                ];
                newRange = new $1YFxJ.Range(model.presentation.textEdit.range.startLineNumber, model.presentation.textEdit.range.startColumn, model.presentation.textEdit.range.endLineNumber, model.presentation.textEdit.range.endColumn);
                const trackedRange = this._editor.getModel()._setTrackedRange(null, newRange, 3 /* GrowsOnlyWhenTypingAfter */ );
                this._editor.pushUndoStop();
                this._editor.executeEdits('colorpicker', textEdits);
                newRange = this._editor.getModel()._getTrackedRange(trackedRange) || newRange;
            } else {
                textEdits = [
                    {
                        identifier: null,
                        range: range,
                        text: model.presentation.label,
                        forceMoveMarkers: false
                    }
                ];
                newRange = range.setEndPosition(range.endLineNumber, range.startColumn + model.presentation.label.length);
                this._editor.pushUndoStop();
                this._editor.executeEdits('colorpicker', textEdits);
            }
            if (model.presentation.additionalTextEdits) {
                textEdits = [
                    ...model.presentation.additionalTextEdits
                ];
                this._editor.executeEdits('colorpicker', textEdits);
                this._hover.hide();
            }
            this._editor.pushUndoStop();
            range = newRange;
        };
        const updateColorPresentations = (color)=>{
            return $fc6cff5a9920e24f$export$c3064c7f8ffdbaa5(editorModel, {
                range: range,
                color: {
                    red: color.rgba.r / 255,
                    green: color.rgba.g / 255,
                    blue: color.rgba.b / 255,
                    alpha: color.rgba.a
                }
            }, colorHover.provider, $1vhHo.CancellationToken.None).then((colorPresentations)=>{
                model.colorPresentations = colorPresentations || [];
            });
        };
        disposables.add(model.onColorFlushed((color)=>{
            updateColorPresentations(color).then(updateEditorModel);
        }));
        disposables.add(model.onDidChangeColor(updateColorPresentations));
        this._hover.setColorPicker(widget);
        return disposables;
    }
    constructor(_editor, _hover, _themeService){
        this._editor = _editor;
        this._hover = _hover;
        this._themeService = _themeService;
    }
};
$8533e63fcf80bffb$export$c4145a38e12cf25c = $8533e63fcf80bffb$var$__decorate([
    $8533e63fcf80bffb$var$__param(2, $5Wwop.IThemeService)
], $8533e63fcf80bffb$export$c4145a38e12cf25c);


var $7a3321eb68edf84d$exports = {};

$parcel$export($7a3321eb68edf84d$exports, "HoverOperation", function () { return $7a3321eb68edf84d$export$35fb423ab90fde65; }, function (v) { return $7a3321eb68edf84d$export$35fb423ab90fde65 = v; });

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $7a3321eb68edf84d$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var $7a3321eb68edf84d$var$__asyncValues = undefined && undefined.__asyncValues || function(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
        return this;
    }, i);
    function verb(n) {
        i[n] = o[n] && function(v) {
            return new Promise(function(resolve, reject) {
                v = o[n](v), settle(resolve, reject, v.done, v.value);
            });
        };
    }
    function settle(resolve, reject, d, v1) {
        Promise.resolve(v1).then(function(v) {
            resolve({
                value: v,
                done: d
            });
        }, reject);
    }
};
class $7a3321eb68edf84d$export$35fb423ab90fde65 {
    setHoverTime(hoverTime) {
        this._hoverTime = hoverTime;
    }
    _firstWaitTime() {
        return this._hoverTime / 2;
    }
    _secondWaitTime() {
        return this._hoverTime / 2;
    }
    _loadingMessageTime() {
        return 3 * this._hoverTime;
    }
    _triggerAsyncComputation() {
        this._state = 2 /* SECOND_WAIT */ ;
        this._secondWaitScheduler.schedule(this._secondWaitTime());
        if (this._computer.computeAsync) {
            this._asyncIterableDone = false;
            this._asyncIterable = $5piST.createCancelableAsyncIterable((token)=>this._computer.computeAsync(token)
            );
            (()=>$7a3321eb68edf84d$var$__awaiter(this, void 0, void 0, function*() {
                    var e_1, _a;
                    try {
                        try {
                            for(var _b = $7a3321eb68edf84d$var$__asyncValues(this._asyncIterable), _c; _c = yield _b.next(), !_c.done;){
                                const item = _c.value;
                                if (item) {
                                    this._computer.onResult([
                                        item
                                    ], false);
                                    this._onProgress();
                                }
                            }
                        } catch (e_1_1) {
                            e_1 = {
                                error: e_1_1
                            };
                        } finally{
                            try {
                                if (_c && !_c.done && (_a = _b.return)) yield _a.call(_b);
                            } finally{
                                if (e_1) throw e_1.error;
                            }
                        }
                        this._asyncIterableDone = true;
                        this._withAsyncResult();
                    } catch (e) {
                        this._onError(e);
                    }
                })
            )();
        } else this._asyncIterableDone = true;
    }
    _triggerSyncComputation() {
        if (this._computer.computeSync) this._computer.onResult(this._computer.computeSync(), true);
        if (this._asyncIterableDone) {
            this._state = 0 /* IDLE */ ;
            this._onComplete();
        } else {
            this._state = 3 /* WAITING_FOR_ASYNC_COMPUTATION */ ;
            this._onProgress();
        }
    }
    _showLoadingMessage() {
        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */ ) {
            this._state = 4 /* WAITING_FOR_ASYNC_COMPUTATION_SHOWING_LOADING */ ;
            this._onProgress();
        }
    }
    _withAsyncResult() {
        if (this._state === 3 /* WAITING_FOR_ASYNC_COMPUTATION */  || this._state === 4 /* WAITING_FOR_ASYNC_COMPUTATION_SHOWING_LOADING */ ) {
            this._state = 0 /* IDLE */ ;
            this._onComplete();
        }
    }
    _onComplete() {
        this._completeCallback(this._computer.getResult());
    }
    _onError(error) {
        if (this._errorCallback) this._errorCallback(error);
        else $3FsT3.onUnexpectedError(error);
    }
    _onProgress() {
        if (this._state === 4 /* WAITING_FOR_ASYNC_COMPUTATION_SHOWING_LOADING */ ) this._progressCallback(this._computer.getResultWithLoadingMessage());
        else this._progressCallback(this._computer.getResult());
    }
    start(mode) {
        if (mode === 0 /* Delayed */ ) {
            if (this._state === 0 /* IDLE */ ) {
                this._state = 1 /* FIRST_WAIT */ ;
                this._firstWaitScheduler.schedule(this._firstWaitTime());
                this._loadingMessageScheduler.schedule(this._loadingMessageTime());
            }
        } else switch(this._state){
            case 0 /* IDLE */ :
                this._triggerAsyncComputation();
                this._secondWaitScheduler.cancel();
                this._triggerSyncComputation();
                break;
            case 2 /* SECOND_WAIT */ :
                this._secondWaitScheduler.cancel();
                this._triggerSyncComputation();
                break;
        }
    }
    cancel() {
        this._firstWaitScheduler.cancel();
        this._secondWaitScheduler.cancel();
        this._loadingMessageScheduler.cancel();
        if (this._asyncIterable) {
            this._asyncIterable.cancel();
            this._asyncIterable = null;
        }
        this._state = 0 /* IDLE */ ;
    }
    constructor(computer, success, error, progress, hoverTime){
        this._computer = computer;
        this._state = 0 /* IDLE */ ;
        this._hoverTime = hoverTime;
        this._firstWaitScheduler = new $5piST.RunOnceScheduler(()=>this._triggerAsyncComputation()
        , 0);
        this._secondWaitScheduler = new $5piST.RunOnceScheduler(()=>this._triggerSyncComputation()
        , 0);
        this._loadingMessageScheduler = new $5piST.RunOnceScheduler(()=>this._showLoadingMessage()
        , 0);
        this._asyncIterable = null;
        this._asyncIterableDone = false;
        this._completeCallback = success;
        this._errorCallback = error;
        this._progressCallback = progress;
    }
}


class $b583fad617222dcd$export$2a967524099ecc2c {
    equals(other) {
        return other.type === 1 /* Range */  && this.range.equalsRange(other.range);
    }
    canAdoptVisibleHover(lastAnchor, showAtPosition) {
        return lastAnchor.type === 1 /* Range */  && showAtPosition.lineNumber === this.range.startLineNumber;
    }
    constructor(priority, range){
        this.priority = priority;
        this.range = range;
        this.type = 1 /* Range */ ;
    }
}
class $b583fad617222dcd$export$cadc11e524c92809 {
    equals(other) {
        return other.type === 2 /* ForeignElement */  && this.owner === other.owner;
    }
    canAdoptVisibleHover(lastAnchor, showAtPosition) {
        return lastAnchor.type === 2 /* ForeignElement */  && this.owner === lastAnchor.owner;
    }
    constructor(priority, owner, range){
        this.priority = priority;
        this.owner = owner;
        this.range = range;
        this.type = 2 /* ForeignElement */ ;
    }
}


var $0453525cadea7137$exports = {};

$parcel$export($0453525cadea7137$exports, "MarkdownHover", function () { return $0453525cadea7137$export$de5210377542b3f9; }, function (v) { return $0453525cadea7137$export$de5210377542b3f9 = v; });
$parcel$export($0453525cadea7137$exports, "MarkdownHoverParticipant", function () { return $0453525cadea7137$export$db7233c4b0ae81a2; }, function (v) { return $0453525cadea7137$export$db7233c4b0ae81a2 = v; });
$parcel$export($0453525cadea7137$exports, "renderMarkdownHovers", function () { return $0453525cadea7137$export$d74d68ef545bd110; }, function (v) { return $0453525cadea7137$export$d74d68ef545bd110 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $duSG1 = parcelRequire("duSG1");

var $5piST = parcelRequire("5piST");

var $eeQ9E = parcelRequire("eeQ9E");

var $6W1JA = parcelRequire("6W1JA");
var $4a80f1f73e880bad$exports = {};

$parcel$export($4a80f1f73e880bad$exports, "MarkdownRenderer", function () { return $4a80f1f73e880bad$export$22c2c977437cf477; }, function (v) { return $4a80f1f73e880bad$export$22c2c977437cf477 = v; });

var $8xgjE = parcelRequire("8xgjE");
/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */ function $18a0d334f621899c$var$_toConsumableArray(arr) {
    if (Array.isArray(arr)) {
        for(var i = 0, arr2 = Array(arr.length); i < arr.length; i++)arr2[i] = arr[i];
        return arr2;
    } else return Array.from(arr);
}
var $18a0d334f621899c$var$hasOwnProperty = Object.hasOwnProperty, $18a0d334f621899c$var$setPrototypeOf = Object.setPrototypeOf, $18a0d334f621899c$var$isFrozen = Object.isFrozen, $18a0d334f621899c$var$getPrototypeOf = Object.getPrototypeOf, $18a0d334f621899c$var$getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var $18a0d334f621899c$var$freeze = Object.freeze, $18a0d334f621899c$var$seal = Object.seal, $18a0d334f621899c$var$create = Object.create; // eslint-disable-line import/no-mutable-exports
var $18a0d334f621899c$var$_ref = typeof Reflect !== 'undefined' && Reflect, $18a0d334f621899c$var$apply = $18a0d334f621899c$var$_ref.apply, $18a0d334f621899c$var$construct = $18a0d334f621899c$var$_ref.construct;
if (!$18a0d334f621899c$var$apply) $18a0d334f621899c$var$apply = function apply(fun, thisValue, args) {
    return fun.apply(thisValue, args);
};
if (!$18a0d334f621899c$var$freeze) $18a0d334f621899c$var$freeze = function freeze(x) {
    return x;
};
if (!$18a0d334f621899c$var$seal) $18a0d334f621899c$var$seal = function seal(x) {
    return x;
};
if (!$18a0d334f621899c$var$construct) $18a0d334f621899c$var$construct = function construct(Func, args) {
    return new (Function.prototype.bind.apply(Func, [
        null
    ].concat($18a0d334f621899c$var$_toConsumableArray(args))))();
};
var $18a0d334f621899c$var$arrayForEach = $18a0d334f621899c$var$unapply(Array.prototype.forEach);
var $18a0d334f621899c$var$arrayPop = $18a0d334f621899c$var$unapply(Array.prototype.pop);
var $18a0d334f621899c$var$arrayPush = $18a0d334f621899c$var$unapply(Array.prototype.push);
var $18a0d334f621899c$var$stringToLowerCase = $18a0d334f621899c$var$unapply(String.prototype.toLowerCase);
var $18a0d334f621899c$var$stringMatch = $18a0d334f621899c$var$unapply(String.prototype.match);
var $18a0d334f621899c$var$stringReplace = $18a0d334f621899c$var$unapply(String.prototype.replace);
var $18a0d334f621899c$var$stringIndexOf = $18a0d334f621899c$var$unapply(String.prototype.indexOf);
var $18a0d334f621899c$var$stringTrim = $18a0d334f621899c$var$unapply(String.prototype.trim);
var $18a0d334f621899c$var$regExpTest = $18a0d334f621899c$var$unapply(RegExp.prototype.test);
var $18a0d334f621899c$var$typeErrorCreate = $18a0d334f621899c$var$unconstruct(TypeError);
function $18a0d334f621899c$var$unapply(func) {
    return function(thisArg) {
        for(var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++)args[_key - 1] = arguments[_key];
        return $18a0d334f621899c$var$apply(func, thisArg, args);
    };
}
function $18a0d334f621899c$var$unconstruct(func) {
    return function() {
        for(var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++)args[_key2] = arguments[_key2];
        return $18a0d334f621899c$var$construct(func, args);
    };
}
/* Add properties to a lookup table */ function $18a0d334f621899c$var$addToSet(set, array) {
    if ($18a0d334f621899c$var$setPrototypeOf) // Make 'in' and truthy checks like Boolean(set.constructor)
    // independent of any properties defined on Object.prototype.
    // Prevent prototype setters from intercepting set as a this value.
    $18a0d334f621899c$var$setPrototypeOf(set, null);
    var l = array.length;
    while(l--){
        var element = array[l];
        if (typeof element === 'string') {
            var lcElement = $18a0d334f621899c$var$stringToLowerCase(element);
            if (lcElement !== element) {
                // Config presets (e.g. tags.js, attrs.js) are immutable.
                if (!$18a0d334f621899c$var$isFrozen(array)) array[l] = lcElement;
                element = lcElement;
            }
        }
        set[element] = true;
    }
    return set;
}
/* Shallow clone an object */ function $18a0d334f621899c$var$clone(object) {
    var newObject = $18a0d334f621899c$var$create(null);
    var property = void 0;
    for(property in object)if ($18a0d334f621899c$var$apply($18a0d334f621899c$var$hasOwnProperty, object, [
        property
    ])) newObject[property] = object[property];
    return newObject;
}
/* IE10 doesn't support __lookupGetter__ so lets'
 * simulate it. It also automatically checks
 * if the prop is function or getter and behaves
 * accordingly. */ function $18a0d334f621899c$var$lookupGetter(object, prop) {
    while(object !== null){
        var desc = $18a0d334f621899c$var$getOwnPropertyDescriptor(object, prop);
        if (desc) {
            if (desc.get) return $18a0d334f621899c$var$unapply(desc.get);
            if (typeof desc.value === 'function') return $18a0d334f621899c$var$unapply(desc.value);
        }
        object = $18a0d334f621899c$var$getPrototypeOf(object);
    }
    function fallbackValue(element) {
        console.warn('fallback value for', element);
        return null;
    }
    return fallbackValue;
}
var $18a0d334f621899c$var$html = $18a0d334f621899c$var$freeze([
    'a',
    'abbr',
    'acronym',
    'address',
    'area',
    'article',
    'aside',
    'audio',
    'b',
    'bdi',
    'bdo',
    'big',
    'blink',
    'blockquote',
    'body',
    'br',
    'button',
    'canvas',
    'caption',
    'center',
    'cite',
    'code',
    'col',
    'colgroup',
    'content',
    'data',
    'datalist',
    'dd',
    'decorator',
    'del',
    'details',
    'dfn',
    'dialog',
    'dir',
    'div',
    'dl',
    'dt',
    'element',
    'em',
    'fieldset',
    'figcaption',
    'figure',
    'font',
    'footer',
    'form',
    'h1',
    'h2',
    'h3',
    'h4',
    'h5',
    'h6',
    'head',
    'header',
    'hgroup',
    'hr',
    'html',
    'i',
    'img',
    'input',
    'ins',
    'kbd',
    'label',
    'legend',
    'li',
    'main',
    'map',
    'mark',
    'marquee',
    'menu',
    'menuitem',
    'meter',
    'nav',
    'nobr',
    'ol',
    'optgroup',
    'option',
    'output',
    'p',
    'picture',
    'pre',
    'progress',
    'q',
    'rp',
    'rt',
    'ruby',
    's',
    'samp',
    'section',
    'select',
    'shadow',
    'small',
    'source',
    'spacer',
    'span',
    'strike',
    'strong',
    'style',
    'sub',
    'summary',
    'sup',
    'table',
    'tbody',
    'td',
    'template',
    'textarea',
    'tfoot',
    'th',
    'thead',
    'time',
    'tr',
    'track',
    'tt',
    'u',
    'ul',
    'var',
    'video',
    'wbr'
]);
// SVG
var $18a0d334f621899c$var$svg = $18a0d334f621899c$var$freeze([
    'svg',
    'a',
    'altglyph',
    'altglyphdef',
    'altglyphitem',
    'animatecolor',
    'animatemotion',
    'animatetransform',
    'circle',
    'clippath',
    'defs',
    'desc',
    'ellipse',
    'filter',
    'font',
    'g',
    'glyph',
    'glyphref',
    'hkern',
    'image',
    'line',
    'lineargradient',
    'marker',
    'mask',
    'metadata',
    'mpath',
    'path',
    'pattern',
    'polygon',
    'polyline',
    'radialgradient',
    'rect',
    'stop',
    'style',
    'switch',
    'symbol',
    'text',
    'textpath',
    'title',
    'tref',
    'tspan',
    'view',
    'vkern'
]);
var $18a0d334f621899c$var$svgFilters = $18a0d334f621899c$var$freeze([
    'feBlend',
    'feColorMatrix',
    'feComponentTransfer',
    'feComposite',
    'feConvolveMatrix',
    'feDiffuseLighting',
    'feDisplacementMap',
    'feDistantLight',
    'feFlood',
    'feFuncA',
    'feFuncB',
    'feFuncG',
    'feFuncR',
    'feGaussianBlur',
    'feMerge',
    'feMergeNode',
    'feMorphology',
    'feOffset',
    'fePointLight',
    'feSpecularLighting',
    'feSpotLight',
    'feTile',
    'feTurbulence'
]);
// List of SVG elements that are disallowed by default.
// We still need to know them so that we can do namespace
// checks properly in case one wants to add them to
// allow-list.
var $18a0d334f621899c$var$svgDisallowed = $18a0d334f621899c$var$freeze([
    'animate',
    'color-profile',
    'cursor',
    'discard',
    'fedropshadow',
    'feimage',
    'font-face',
    'font-face-format',
    'font-face-name',
    'font-face-src',
    'font-face-uri',
    'foreignobject',
    'hatch',
    'hatchpath',
    'mesh',
    'meshgradient',
    'meshpatch',
    'meshrow',
    'missing-glyph',
    'script',
    'set',
    'solidcolor',
    'unknown',
    'use'
]);
var $18a0d334f621899c$var$mathMl = $18a0d334f621899c$var$freeze([
    'math',
    'menclose',
    'merror',
    'mfenced',
    'mfrac',
    'mglyph',
    'mi',
    'mlabeledtr',
    'mmultiscripts',
    'mn',
    'mo',
    'mover',
    'mpadded',
    'mphantom',
    'mroot',
    'mrow',
    'ms',
    'mspace',
    'msqrt',
    'mstyle',
    'msub',
    'msup',
    'msubsup',
    'mtable',
    'mtd',
    'mtext',
    'mtr',
    'munder',
    'munderover'
]);
// Similarly to SVG, we want to know all MathML elements,
// even those that we disallow by default.
var $18a0d334f621899c$var$mathMlDisallowed = $18a0d334f621899c$var$freeze([
    'maction',
    'maligngroup',
    'malignmark',
    'mlongdiv',
    'mscarries',
    'mscarry',
    'msgroup',
    'mstack',
    'msline',
    'msrow',
    'semantics',
    'annotation',
    'annotation-xml',
    'mprescripts',
    'none'
]);
var $18a0d334f621899c$var$text = $18a0d334f621899c$var$freeze([
    '#text'
]);
var $18a0d334f621899c$var$html$1 = $18a0d334f621899c$var$freeze([
    'accept',
    'action',
    'align',
    'alt',
    'autocapitalize',
    'autocomplete',
    'autopictureinpicture',
    'autoplay',
    'background',
    'bgcolor',
    'border',
    'capture',
    'cellpadding',
    'cellspacing',
    'checked',
    'cite',
    'class',
    'clear',
    'color',
    'cols',
    'colspan',
    'controls',
    'controlslist',
    'coords',
    'crossorigin',
    'datetime',
    'decoding',
    'default',
    'dir',
    'disabled',
    'disablepictureinpicture',
    'disableremoteplayback',
    'download',
    'draggable',
    'enctype',
    'enterkeyhint',
    'face',
    'for',
    'headers',
    'height',
    'hidden',
    'high',
    'href',
    'hreflang',
    'id',
    'inputmode',
    'integrity',
    'ismap',
    'kind',
    'label',
    'lang',
    'list',
    'loading',
    'loop',
    'low',
    'max',
    'maxlength',
    'media',
    'method',
    'min',
    'minlength',
    'multiple',
    'muted',
    'name',
    'noshade',
    'novalidate',
    'nowrap',
    'open',
    'optimum',
    'pattern',
    'placeholder',
    'playsinline',
    'poster',
    'preload',
    'pubdate',
    'radiogroup',
    'readonly',
    'rel',
    'required',
    'rev',
    'reversed',
    'role',
    'rows',
    'rowspan',
    'spellcheck',
    'scope',
    'selected',
    'shape',
    'size',
    'sizes',
    'span',
    'srclang',
    'start',
    'src',
    'srcset',
    'step',
    'style',
    'summary',
    'tabindex',
    'title',
    'translate',
    'type',
    'usemap',
    'valign',
    'value',
    'width',
    'xmlns',
    'slot'
]);
var $18a0d334f621899c$var$svg$1 = $18a0d334f621899c$var$freeze([
    'accent-height',
    'accumulate',
    'additive',
    'alignment-baseline',
    'ascent',
    'attributename',
    'attributetype',
    'azimuth',
    'basefrequency',
    'baseline-shift',
    'begin',
    'bias',
    'by',
    'class',
    'clip',
    'clippathunits',
    'clip-path',
    'clip-rule',
    'color',
    'color-interpolation',
    'color-interpolation-filters',
    'color-profile',
    'color-rendering',
    'cx',
    'cy',
    'd',
    'dx',
    'dy',
    'diffuseconstant',
    'direction',
    'display',
    'divisor',
    'dur',
    'edgemode',
    'elevation',
    'end',
    'fill',
    'fill-opacity',
    'fill-rule',
    'filter',
    'filterunits',
    'flood-color',
    'flood-opacity',
    'font-family',
    'font-size',
    'font-size-adjust',
    'font-stretch',
    'font-style',
    'font-variant',
    'font-weight',
    'fx',
    'fy',
    'g1',
    'g2',
    'glyph-name',
    'glyphref',
    'gradientunits',
    'gradienttransform',
    'height',
    'href',
    'id',
    'image-rendering',
    'in',
    'in2',
    'k',
    'k1',
    'k2',
    'k3',
    'k4',
    'kerning',
    'keypoints',
    'keysplines',
    'keytimes',
    'lang',
    'lengthadjust',
    'letter-spacing',
    'kernelmatrix',
    'kernelunitlength',
    'lighting-color',
    'local',
    'marker-end',
    'marker-mid',
    'marker-start',
    'markerheight',
    'markerunits',
    'markerwidth',
    'maskcontentunits',
    'maskunits',
    'max',
    'mask',
    'media',
    'method',
    'mode',
    'min',
    'name',
    'numoctaves',
    'offset',
    'operator',
    'opacity',
    'order',
    'orient',
    'orientation',
    'origin',
    'overflow',
    'paint-order',
    'path',
    'pathlength',
    'patterncontentunits',
    'patterntransform',
    'patternunits',
    'points',
    'preservealpha',
    'preserveaspectratio',
    'primitiveunits',
    'r',
    'rx',
    'ry',
    'radius',
    'refx',
    'refy',
    'repeatcount',
    'repeatdur',
    'restart',
    'result',
    'rotate',
    'scale',
    'seed',
    'shape-rendering',
    'specularconstant',
    'specularexponent',
    'spreadmethod',
    'startoffset',
    'stddeviation',
    'stitchtiles',
    'stop-color',
    'stop-opacity',
    'stroke-dasharray',
    'stroke-dashoffset',
    'stroke-linecap',
    'stroke-linejoin',
    'stroke-miterlimit',
    'stroke-opacity',
    'stroke',
    'stroke-width',
    'style',
    'surfacescale',
    'systemlanguage',
    'tabindex',
    'targetx',
    'targety',
    'transform',
    'text-anchor',
    'text-decoration',
    'text-rendering',
    'textlength',
    'type',
    'u1',
    'u2',
    'unicode',
    'values',
    'viewbox',
    'visibility',
    'version',
    'vert-adv-y',
    'vert-origin-x',
    'vert-origin-y',
    'width',
    'word-spacing',
    'wrap',
    'writing-mode',
    'xchannelselector',
    'ychannelselector',
    'x',
    'x1',
    'x2',
    'xmlns',
    'y',
    'y1',
    'y2',
    'z',
    'zoomandpan'
]);
var $18a0d334f621899c$var$mathMl$1 = $18a0d334f621899c$var$freeze([
    'accent',
    'accentunder',
    'align',
    'bevelled',
    'close',
    'columnsalign',
    'columnlines',
    'columnspan',
    'denomalign',
    'depth',
    'dir',
    'display',
    'displaystyle',
    'encoding',
    'fence',
    'frame',
    'height',
    'href',
    'id',
    'largeop',
    'length',
    'linethickness',
    'lspace',
    'lquote',
    'mathbackground',
    'mathcolor',
    'mathsize',
    'mathvariant',
    'maxsize',
    'minsize',
    'movablelimits',
    'notation',
    'numalign',
    'open',
    'rowalign',
    'rowlines',
    'rowspacing',
    'rowspan',
    'rspace',
    'rquote',
    'scriptlevel',
    'scriptminsize',
    'scriptsizemultiplier',
    'selection',
    'separator',
    'separators',
    'stretchy',
    'subscriptshift',
    'supscriptshift',
    'symmetric',
    'voffset',
    'width',
    'xmlns'
]);
var $18a0d334f621899c$var$xml = $18a0d334f621899c$var$freeze([
    'xlink:href',
    'xml:id',
    'xlink:title',
    'xml:space',
    'xmlns:xlink'
]);
// eslint-disable-next-line unicorn/better-regex
var $18a0d334f621899c$var$MUSTACHE_EXPR = $18a0d334f621899c$var$seal(/\{\{[\s\S]*|[\s\S]*\}\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode
var $18a0d334f621899c$var$ERB_EXPR = $18a0d334f621899c$var$seal(/<%[\s\S]*|[\s\S]*%>/gm);
var $18a0d334f621899c$var$DATA_ATTR = $18a0d334f621899c$var$seal(/^data-[\-\w.\u00B7-\uFFFF]/); // eslint-disable-line no-useless-escape
var $18a0d334f621899c$var$ARIA_ATTR = $18a0d334f621899c$var$seal(/^aria-[\-\w]+$/); // eslint-disable-line no-useless-escape
var $18a0d334f621899c$var$IS_ALLOWED_URI = $18a0d334f621899c$var$seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i // eslint-disable-line no-useless-escape
);
var $18a0d334f621899c$var$IS_SCRIPT_OR_DATA = $18a0d334f621899c$var$seal(/^(?:\w+script|data):/i);
var $18a0d334f621899c$var$ATTR_WHITESPACE = $18a0d334f621899c$var$seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g // eslint-disable-line no-control-regex
);
var $18a0d334f621899c$var$_typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
    return typeof obj;
} : function(obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};
function $18a0d334f621899c$var$_toConsumableArray$1(arr) {
    if (Array.isArray(arr)) {
        for(var i = 0, arr2 = Array(arr.length); i < arr.length; i++)arr2[i] = arr[i];
        return arr2;
    } else return Array.from(arr);
}
var $18a0d334f621899c$var$getGlobal = function getGlobal() {
    return typeof window === 'undefined' ? null : window;
};
/**
 * Creates a no-op policy for internal use only.
 * Don't export this function outside this module!
 * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.
 * @param {Document} document The document object (to determine policy name suffix)
 * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types
 * are not supported).
 */ var $18a0d334f621899c$var$_createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {
    if ((typeof trustedTypes === 'undefined' ? 'undefined' : $18a0d334f621899c$var$_typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') return null;
    // Allow the callers to control the unique policy name
    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.
    // Policy creation with duplicate names throws in Trusted Types.
    var suffix = null;
    var ATTR_NAME = 'data-tt-policy-suffix';
    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) suffix = document.currentScript.getAttribute(ATTR_NAME);
    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');
    try {
        return trustedTypes.createPolicy(policyName, {
            createHTML: function createHTML(html$$1) {
                return html$$1;
            }
        });
    } catch (_) {
        // Policy creation failed (most likely another DOMPurify script has
        // already run). Skip creating the policy, as this will only cause errors
        // if TT are enforced.
        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');
        return null;
    }
};
function $18a0d334f621899c$var$createDOMPurify() {
    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : $18a0d334f621899c$var$getGlobal();
    var DOMPurify = function DOMPurify(root) {
        return $18a0d334f621899c$var$createDOMPurify(root);
    };
    /**
   * Version label, exposed for easier checks
   * if DOMPurify is up to date or not
   */ DOMPurify.version = '2.3.1';
    /**
   * Array of elements that DOMPurify removed during sanitation.
   * Empty if nothing was removed.
   */ DOMPurify.removed = [];
    if (!window || !window.document || window.document.nodeType !== 9) {
        // Not running in a browser, provide a factory function
        // so that you can pass your own Window
        DOMPurify.isSupported = false;
        return DOMPurify;
    }
    var originalDocument = window.document;
    var document = window.document;
    var DocumentFragment = window.DocumentFragment, HTMLTemplateElement = window.HTMLTemplateElement, Node = window.Node, Element = window.Element, NodeFilter = window.NodeFilter, _window$NamedNodeMap = window.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap, Text = window.Text, Comment = window.Comment, DOMParser = window.DOMParser, trustedTypes = window.trustedTypes;
    var ElementPrototype = Element.prototype;
    var cloneNode = $18a0d334f621899c$var$lookupGetter(ElementPrototype, 'cloneNode');
    var getNextSibling = $18a0d334f621899c$var$lookupGetter(ElementPrototype, 'nextSibling');
    var getChildNodes = $18a0d334f621899c$var$lookupGetter(ElementPrototype, 'childNodes');
    var getParentNode = $18a0d334f621899c$var$lookupGetter(ElementPrototype, 'parentNode');
    // As per issue #47, the web-components registry is inherited by a
    // new document created via createHTMLDocument. As per the spec
    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)
    // a new empty registry is used when creating a template contents owner
    // document, so we use that as our parent document to ensure nothing
    // is inherited.
    if (typeof HTMLTemplateElement === 'function') {
        var template = document.createElement('template');
        if (template.content && template.content.ownerDocument) document = template.content.ownerDocument;
    }
    var trustedTypesPolicy = $18a0d334f621899c$var$_createTrustedTypesPolicy(trustedTypes, originalDocument);
    var emptyHTML = trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML('') : '';
    var _document = document, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;
    var importNode = originalDocument.importNode;
    var documentMode = {};
    try {
        documentMode = $18a0d334f621899c$var$clone(document).documentMode ? document.documentMode : {};
    } catch (_) {}
    var hooks = {};
    /**
   * Expose whether this browser supports running the full DOMPurify.
   */ DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;
    var MUSTACHE_EXPR$$1 = $18a0d334f621899c$var$MUSTACHE_EXPR, ERB_EXPR$$1 = $18a0d334f621899c$var$ERB_EXPR, DATA_ATTR$$1 = $18a0d334f621899c$var$DATA_ATTR, ARIA_ATTR$$1 = $18a0d334f621899c$var$ARIA_ATTR, IS_SCRIPT_OR_DATA$$1 = $18a0d334f621899c$var$IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$$1 = $18a0d334f621899c$var$ATTR_WHITESPACE;
    var IS_ALLOWED_URI$$1 = $18a0d334f621899c$var$IS_ALLOWED_URI;
    /**
   * We consider the elements and attributes below to be safe. Ideally
   * don't add any new ones but feel free to remove unwanted ones.
   */ /* allowed element names */ var ALLOWED_TAGS = null;
    var DEFAULT_ALLOWED_TAGS = $18a0d334f621899c$var$addToSet({}, [].concat($18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$html), $18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$svg), $18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$svgFilters), $18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$mathMl), $18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$text)));
    /* Allowed attribute names */ var ALLOWED_ATTR = null;
    var DEFAULT_ALLOWED_ATTR = $18a0d334f621899c$var$addToSet({}, [].concat($18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$html$1), $18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$svg$1), $18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$mathMl$1), $18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$xml)));
    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */ var FORBID_TAGS = null;
    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */ var FORBID_ATTR = null;
    /* Decide if ARIA attributes are okay */ var ALLOW_ARIA_ATTR = true;
    /* Decide if custom data attributes are okay */ var ALLOW_DATA_ATTR = true;
    /* Decide if unknown protocols are okay */ var ALLOW_UNKNOWN_PROTOCOLS = false;
    /* Output should be safe for common template engines.
   * This means, DOMPurify removes data attributes, mustaches and ERB
   */ var SAFE_FOR_TEMPLATES = false;
    /* Decide if document with <html>... should be returned */ var WHOLE_DOCUMENT = false;
    /* Track whether config is already set on this instance of DOMPurify. */ var SET_CONFIG = false;
    /* Decide if all elements (e.g. style, script) must be children of
   * document.body. By default, browsers might move them to document.head */ var FORCE_BODY = false;
    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html
   * string (or a TrustedHTML object if Trusted Types are supported).
   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead
   */ var RETURN_DOM = false;
    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html
   * string  (or a TrustedHTML object if Trusted Types are supported) */ var RETURN_DOM_FRAGMENT = false;
    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM
   * `Node` is imported into the current `Document`. If this flag is not enabled the
   * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by
   * DOMPurify.
   *
   * This defaults to `true` starting DOMPurify 2.2.0. Note that setting it to `false`
   * might cause XSS from attacks hidden in closed shadowroots in case the browser
   * supports Declarative Shadow: DOM https://web.dev/declarative-shadow-dom/
   */ var RETURN_DOM_IMPORT = true;
    /* Try to return a Trusted Type object instead of a string, return a string in
   * case Trusted Types are not supported  */ var RETURN_TRUSTED_TYPE = false;
    /* Output should be free from DOM clobbering attacks? */ var SANITIZE_DOM = true;
    /* Keep element content when removing element? */ var KEEP_CONTENT = true;
    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead
   * of importing it into a new Document and returning a sanitized copy */ var IN_PLACE = false;
    /* Allow usage of profiles like html, svg and mathMl */ var USE_PROFILES = {};
    /* Tags to ignore content of when KEEP_CONTENT is true */ var FORBID_CONTENTS = null;
    var DEFAULT_FORBID_CONTENTS = $18a0d334f621899c$var$addToSet({}, [
        'annotation-xml',
        'audio',
        'colgroup',
        'desc',
        'foreignobject',
        'head',
        'iframe',
        'math',
        'mi',
        'mn',
        'mo',
        'ms',
        'mtext',
        'noembed',
        'noframes',
        'noscript',
        'plaintext',
        'script',
        'style',
        'svg',
        'template',
        'thead',
        'title',
        'video',
        'xmp'
    ]);
    /* Tags that are safe for data: URIs */ var DATA_URI_TAGS = null;
    var DEFAULT_DATA_URI_TAGS = $18a0d334f621899c$var$addToSet({}, [
        'audio',
        'video',
        'img',
        'source',
        'image',
        'track'
    ]);
    /* Attributes safe for values like "javascript:" */ var URI_SAFE_ATTRIBUTES = null;
    var DEFAULT_URI_SAFE_ATTRIBUTES = $18a0d334f621899c$var$addToSet({}, [
        'alt',
        'class',
        'for',
        'id',
        'label',
        'name',
        'pattern',
        'placeholder',
        'role',
        'summary',
        'title',
        'value',
        'style',
        'xmlns'
    ]);
    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';
    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';
    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';
    /* Document namespace */ var NAMESPACE = HTML_NAMESPACE;
    var IS_EMPTY_INPUT = false;
    /* Keep a reference to config to pass to hooks */ var CONFIG = null;
    /* Ideally, do not touch anything below this line */ /* ______________________________________________ */ var formElement = document.createElement('form');
    /**
   * _parseConfig
   *
   * @param  {Object} cfg optional config literal
   */ // eslint-disable-next-line complexity
    var _parseConfig = function _parseConfig(cfg) {
        if (CONFIG && CONFIG === cfg) return;
        /* Shield configuration object from tampering */ if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : $18a0d334f621899c$var$_typeof(cfg)) !== 'object') cfg = {};
        /* Shield configuration object from prototype pollution */ cfg = $18a0d334f621899c$var$clone(cfg);
        /* Set configuration parameters */ ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? $18a0d334f621899c$var$addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;
        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? $18a0d334f621899c$var$addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;
        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? $18a0d334f621899c$var$addToSet($18a0d334f621899c$var$clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;
        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? $18a0d334f621899c$var$addToSet($18a0d334f621899c$var$clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;
        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? $18a0d334f621899c$var$addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;
        FORBID_TAGS = 'FORBID_TAGS' in cfg ? $18a0d334f621899c$var$addToSet({}, cfg.FORBID_TAGS) : {};
        FORBID_ATTR = 'FORBID_ATTR' in cfg ? $18a0d334f621899c$var$addToSet({}, cfg.FORBID_ATTR) : {};
        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;
        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true
        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true
        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false
        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false
        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false
        RETURN_DOM = cfg.RETURN_DOM || false; // Default false
        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false
        RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT !== false; // Default true
        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false
        FORCE_BODY = cfg.FORCE_BODY || false; // Default false
        SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true
        KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true
        IN_PLACE = cfg.IN_PLACE || false; // Default false
        IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;
        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;
        if (SAFE_FOR_TEMPLATES) ALLOW_DATA_ATTR = false;
        if (RETURN_DOM_FRAGMENT) RETURN_DOM = true;
        /* Parse profile info */ if (USE_PROFILES) {
            ALLOWED_TAGS = $18a0d334f621899c$var$addToSet({}, [].concat($18a0d334f621899c$var$_toConsumableArray$1($18a0d334f621899c$var$text)));
            ALLOWED_ATTR = [];
            if (USE_PROFILES.html === true) {
                $18a0d334f621899c$var$addToSet(ALLOWED_TAGS, $18a0d334f621899c$var$html);
                $18a0d334f621899c$var$addToSet(ALLOWED_ATTR, $18a0d334f621899c$var$html$1);
            }
            if (USE_PROFILES.svg === true) {
                $18a0d334f621899c$var$addToSet(ALLOWED_TAGS, $18a0d334f621899c$var$svg);
                $18a0d334f621899c$var$addToSet(ALLOWED_ATTR, $18a0d334f621899c$var$svg$1);
                $18a0d334f621899c$var$addToSet(ALLOWED_ATTR, $18a0d334f621899c$var$xml);
            }
            if (USE_PROFILES.svgFilters === true) {
                $18a0d334f621899c$var$addToSet(ALLOWED_TAGS, $18a0d334f621899c$var$svgFilters);
                $18a0d334f621899c$var$addToSet(ALLOWED_ATTR, $18a0d334f621899c$var$svg$1);
                $18a0d334f621899c$var$addToSet(ALLOWED_ATTR, $18a0d334f621899c$var$xml);
            }
            if (USE_PROFILES.mathMl === true) {
                $18a0d334f621899c$var$addToSet(ALLOWED_TAGS, $18a0d334f621899c$var$mathMl);
                $18a0d334f621899c$var$addToSet(ALLOWED_ATTR, $18a0d334f621899c$var$mathMl$1);
                $18a0d334f621899c$var$addToSet(ALLOWED_ATTR, $18a0d334f621899c$var$xml);
            }
        }
        /* Merge configuration parameters */ if (cfg.ADD_TAGS) {
            if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) ALLOWED_TAGS = $18a0d334f621899c$var$clone(ALLOWED_TAGS);
            $18a0d334f621899c$var$addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);
        }
        if (cfg.ADD_ATTR) {
            if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) ALLOWED_ATTR = $18a0d334f621899c$var$clone(ALLOWED_ATTR);
            $18a0d334f621899c$var$addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);
        }
        if (cfg.ADD_URI_SAFE_ATTR) $18a0d334f621899c$var$addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);
        if (cfg.FORBID_CONTENTS) {
            if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) FORBID_CONTENTS = $18a0d334f621899c$var$clone(FORBID_CONTENTS);
            $18a0d334f621899c$var$addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);
        }
        /* Add #text in case KEEP_CONTENT is set to true */ if (KEEP_CONTENT) ALLOWED_TAGS['#text'] = true;
        /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */ if (WHOLE_DOCUMENT) $18a0d334f621899c$var$addToSet(ALLOWED_TAGS, [
            'html',
            'head',
            'body'
        ]);
        /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */ if (ALLOWED_TAGS.table) {
            $18a0d334f621899c$var$addToSet(ALLOWED_TAGS, [
                'tbody'
            ]);
            delete FORBID_TAGS.tbody;
        }
        // Prevent further manipulation of configuration.
        // Not available in IE8, Safari 5, etc.
        if ($18a0d334f621899c$var$freeze) $18a0d334f621899c$var$freeze(cfg);
        CONFIG = cfg;
    };
    var MATHML_TEXT_INTEGRATION_POINTS = $18a0d334f621899c$var$addToSet({}, [
        'mi',
        'mo',
        'mn',
        'ms',
        'mtext'
    ]);
    var HTML_INTEGRATION_POINTS = $18a0d334f621899c$var$addToSet({}, [
        'foreignobject',
        'desc',
        'title',
        'annotation-xml'
    ]);
    /* Keep track of all possible SVG and MathML tags
   * so that we can perform the namespace checks
   * correctly. */ var ALL_SVG_TAGS = $18a0d334f621899c$var$addToSet({}, $18a0d334f621899c$var$svg);
    $18a0d334f621899c$var$addToSet(ALL_SVG_TAGS, $18a0d334f621899c$var$svgFilters);
    $18a0d334f621899c$var$addToSet(ALL_SVG_TAGS, $18a0d334f621899c$var$svgDisallowed);
    var ALL_MATHML_TAGS = $18a0d334f621899c$var$addToSet({}, $18a0d334f621899c$var$mathMl);
    $18a0d334f621899c$var$addToSet(ALL_MATHML_TAGS, $18a0d334f621899c$var$mathMlDisallowed);
    /**
   *
   *
   * @param  {Element} element a DOM element whose namespace is being checked
   * @returns {boolean} Return false if the element has a
   *  namespace that a spec-compliant parser would never
   *  return. Return true otherwise.
   */ var _checkValidNamespace = function _checkValidNamespace(element) {
        var parent = getParentNode(element);
        // In JSDOM, if we're inside shadow DOM, then parentNode
        // can be null. We just simulate parent in this case.
        if (!parent || !parent.tagName) parent = {
            namespaceURI: HTML_NAMESPACE,
            tagName: 'template'
        };
        var tagName = $18a0d334f621899c$var$stringToLowerCase(element.tagName);
        var parentTagName = $18a0d334f621899c$var$stringToLowerCase(parent.tagName);
        if (element.namespaceURI === SVG_NAMESPACE) {
            // The only way to switch from HTML namespace to SVG
            // is via <svg>. If it happens via any other tag, then
            // it should be killed.
            if (parent.namespaceURI === HTML_NAMESPACE) return tagName === 'svg';
            // The only way to switch from MathML to SVG is via
            // svg if parent is either <annotation-xml> or MathML
            // text integration points.
            if (parent.namespaceURI === MATHML_NAMESPACE) return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);
            // We only allow elements that are defined in SVG
            // spec. All others are disallowed in SVG namespace.
            return Boolean(ALL_SVG_TAGS[tagName]);
        }
        if (element.namespaceURI === MATHML_NAMESPACE) {
            // The only way to switch from HTML namespace to MathML
            // is via <math>. If it happens via any other tag, then
            // it should be killed.
            if (parent.namespaceURI === HTML_NAMESPACE) return tagName === 'math';
            // The only way to switch from SVG to MathML is via
            // <math> and HTML integration points
            if (parent.namespaceURI === SVG_NAMESPACE) return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];
            // We only allow elements that are defined in MathML
            // spec. All others are disallowed in MathML namespace.
            return Boolean(ALL_MATHML_TAGS[tagName]);
        }
        if (element.namespaceURI === HTML_NAMESPACE) {
            // The only way to switch from SVG to HTML is via
            // HTML integration points, and from MathML to HTML
            // is via MathML text integration points
            if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) return false;
            if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) return false;
            // Certain elements are allowed in both SVG and HTML
            // namespace. We need to specify them explicitly
            // so that they don't get erronously deleted from
            // HTML namespace.
            var commonSvgAndHTMLElements = $18a0d334f621899c$var$addToSet({}, [
                'title',
                'style',
                'font',
                'a',
                'script'
            ]);
            // We disallow tags that are specific for MathML
            // or SVG and should never appear in HTML namespace
            return !ALL_MATHML_TAGS[tagName] && (commonSvgAndHTMLElements[tagName] || !ALL_SVG_TAGS[tagName]);
        }
        // The code should never reach this place (this means
        // that the element somehow got namespace that is not
        // HTML, SVG or MathML). Return false just in case.
        return false;
    };
    /**
   * _forceRemove
   *
   * @param  {Node} node a DOM node
   */ var _forceRemove = function _forceRemove(node) {
        $18a0d334f621899c$var$arrayPush(DOMPurify.removed, {
            element: node
        });
        try {
            // eslint-disable-next-line unicorn/prefer-dom-node-remove
            node.parentNode.removeChild(node);
        } catch (_) {
            try {
                node.outerHTML = emptyHTML;
            } catch (_) {
                node.remove();
            }
        }
    };
    /**
   * _removeAttribute
   *
   * @param  {String} name an Attribute name
   * @param  {Node} node a DOM node
   */ var _removeAttribute = function _removeAttribute(name, node) {
        try {
            $18a0d334f621899c$var$arrayPush(DOMPurify.removed, {
                attribute: node.getAttributeNode(name),
                from: node
            });
        } catch (_) {
            $18a0d334f621899c$var$arrayPush(DOMPurify.removed, {
                attribute: null,
                from: node
            });
        }
        node.removeAttribute(name);
        // We void attribute values for unremovable "is"" attributes
        if (name === 'is' && !ALLOWED_ATTR[name]) {
            if (RETURN_DOM || RETURN_DOM_FRAGMENT) try {
                _forceRemove(node);
            } catch (_) {}
            else try {
                node.setAttribute(name, '');
            } catch (_1) {}
        }
    };
    /**
   * _initDocument
   *
   * @param  {String} dirty a string of dirty markup
   * @return {Document} a DOM, filled with the dirty markup
   */ var _initDocument = function _initDocument(dirty) {
        /* Create a HTML document */ var doc = void 0;
        var leadingWhitespace = void 0;
        if (FORCE_BODY) dirty = '<remove></remove>' + dirty;
        else {
            /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */ var matches = $18a0d334f621899c$var$stringMatch(dirty, /^[\r\n\t ]+/);
            leadingWhitespace = matches && matches[0];
        }
        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;
        /*
     * Use the DOMParser API by default, fallback later if needs be
     * DOMParser not work for svg when has multiple root element.
     */ if (NAMESPACE === HTML_NAMESPACE) try {
            doc = new DOMParser().parseFromString(dirtyPayload, 'text/html');
        } catch (_) {}
        /* Use createHTMLDocument in case DOMParser is not available */ if (!doc || !doc.documentElement) {
            doc = implementation.createDocument(NAMESPACE, 'template', null);
            try {
                doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;
            } catch (_) {
            // Syntax error if dirtyPayload is invalid xml
            }
        }
        var body = doc.body || doc.documentElement;
        if (dirty && leadingWhitespace) body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);
        /* Work on whole document or just its body */ if (NAMESPACE === HTML_NAMESPACE) return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];
        return WHOLE_DOCUMENT ? doc.documentElement : body;
    };
    /**
   * _createIterator
   *
   * @param  {Document} root document/fragment to create iterator for
   * @return {Iterator} iterator instance
   */ var _createIterator = function _createIterator(root) {
        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);
    };
    /**
   * _isClobbered
   *
   * @param  {Node} elm element to check for clobbering attacks
   * @return {Boolean} true if clobbered, false if safe
   */ var _isClobbered = function _isClobbered(elm) {
        if (elm instanceof Text || elm instanceof Comment) return false;
        if (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function') return true;
        return false;
    };
    /**
   * _isNode
   *
   * @param  {Node} obj object to check whether it's a DOM node
   * @return {Boolean} true is object is a DOM node
   */ var _isNode = function _isNode(object) {
        return (typeof Node === 'undefined' ? 'undefined' : $18a0d334f621899c$var$_typeof(Node)) === 'object' ? object instanceof Node : object && (typeof object === 'undefined' ? 'undefined' : $18a0d334f621899c$var$_typeof(object)) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';
    };
    /**
   * _executeHook
   * Execute user configurable hooks
   *
   * @param  {String} entryPoint  Name of the hook's entry point
   * @param  {Node} currentNode node to work on with the hook
   * @param  {Object} data additional hook parameters
   */ var _executeHook = function _executeHook(entryPoint, currentNode, data) {
        if (!hooks[entryPoint]) return;
        $18a0d334f621899c$var$arrayForEach(hooks[entryPoint], function(hook) {
            hook.call(DOMPurify, currentNode, data, CONFIG);
        });
    };
    /**
   * _sanitizeElements
   *
   * @protect nodeName
   * @protect textContent
   * @protect removeChild
   *
   * @param   {Node} currentNode to check for permission to exist
   * @return  {Boolean} true if node was killed, false if left alive
   */ var _sanitizeElements = function _sanitizeElements(currentNode) {
        var content = void 0;
        /* Execute a hook if present */ _executeHook('beforeSanitizeElements', currentNode, null);
        /* Check if element is clobbered or can clobber */ if (_isClobbered(currentNode)) {
            _forceRemove(currentNode);
            return true;
        }
        /* Check if tagname contains Unicode */ if ($18a0d334f621899c$var$stringMatch(currentNode.nodeName, /[\u0080-\uFFFF]/)) {
            _forceRemove(currentNode);
            return true;
        }
        /* Now let's check the element's type and name */ var tagName = $18a0d334f621899c$var$stringToLowerCase(currentNode.nodeName);
        /* Execute a hook if present */ _executeHook('uponSanitizeElement', currentNode, {
            tagName: tagName,
            allowedTags: ALLOWED_TAGS
        });
        /* Detect mXSS attempts abusing namespace confusion */ if (!_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && $18a0d334f621899c$var$regExpTest(/<[/\w]/g, currentNode.innerHTML) && $18a0d334f621899c$var$regExpTest(/<[/\w]/g, currentNode.textContent)) {
            _forceRemove(currentNode);
            return true;
        }
        /* Mitigate a problem with templates inside select */ if (tagName === 'select' && $18a0d334f621899c$var$regExpTest(/<template/i, currentNode.innerHTML)) {
            _forceRemove(currentNode);
            return true;
        }
        /* Remove element if anything forbids its presence */ if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {
            /* Keep content except for bad-listed elements */ if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {
                var parentNode = getParentNode(currentNode) || currentNode.parentNode;
                var childNodes = getChildNodes(currentNode) || currentNode.childNodes;
                if (childNodes && parentNode) {
                    var childCount = childNodes.length;
                    for(var i = childCount - 1; i >= 0; --i)parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));
                }
            }
            _forceRemove(currentNode);
            return true;
        }
        /* Check whether element has a valid namespace */ if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {
            _forceRemove(currentNode);
            return true;
        }
        if ((tagName === 'noscript' || tagName === 'noembed') && $18a0d334f621899c$var$regExpTest(/<\/no(script|embed)/i, currentNode.innerHTML)) {
            _forceRemove(currentNode);
            return true;
        }
        /* Sanitize element content to be template-safe */ if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {
            /* Get the element's text content */ content = currentNode.textContent;
            content = $18a0d334f621899c$var$stringReplace(content, MUSTACHE_EXPR$$1, ' ');
            content = $18a0d334f621899c$var$stringReplace(content, ERB_EXPR$$1, ' ');
            if (currentNode.textContent !== content) {
                $18a0d334f621899c$var$arrayPush(DOMPurify.removed, {
                    element: currentNode.cloneNode()
                });
                currentNode.textContent = content;
            }
        }
        /* Execute a hook if present */ _executeHook('afterSanitizeElements', currentNode, null);
        return false;
    };
    /**
   * _isValidAttribute
   *
   * @param  {string} lcTag Lowercase tag name of containing element.
   * @param  {string} lcName Lowercase attribute name.
   * @param  {string} value Attribute value.
   * @return {Boolean} Returns true if `value` is valid, otherwise false.
   */ // eslint-disable-next-line complexity
    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {
        /* Make sure attribute cannot clobber */ if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) return false;
        /* Allow valid data-* attributes: At least one character after "-"
        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)
        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)
        We don't need to check the value; it's always URI safe. */ if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && $18a0d334f621899c$var$regExpTest(DATA_ATTR$$1, lcName)) ;
        else if (ALLOW_ARIA_ATTR && $18a0d334f621899c$var$regExpTest(ARIA_ATTR$$1, lcName)) ;
        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) return false;
        else if (URI_SAFE_ATTRIBUTES[lcName]) ;
        else if ($18a0d334f621899c$var$regExpTest(IS_ALLOWED_URI$$1, $18a0d334f621899c$var$stringReplace(value, ATTR_WHITESPACE$$1, ''))) ;
        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && $18a0d334f621899c$var$stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ;
        else if (ALLOW_UNKNOWN_PROTOCOLS && !$18a0d334f621899c$var$regExpTest(IS_SCRIPT_OR_DATA$$1, $18a0d334f621899c$var$stringReplace(value, ATTR_WHITESPACE$$1, ''))) ;
        else if (!value) ;
        else return false;
        return true;
    };
    /**
   * _sanitizeAttributes
   *
   * @protect attributes
   * @protect nodeName
   * @protect removeAttribute
   * @protect setAttribute
   *
   * @param  {Node} currentNode to sanitize
   */ var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {
        var attr = void 0;
        var value = void 0;
        var lcName = void 0;
        var l = void 0;
        /* Execute a hook if present */ _executeHook('beforeSanitizeAttributes', currentNode, null);
        var attributes = currentNode.attributes;
        /* Check if we have attributes; if not we might have a text node */ if (!attributes) return;
        var hookEvent = {
            attrName: '',
            attrValue: '',
            keepAttr: true,
            allowedAttributes: ALLOWED_ATTR
        };
        l = attributes.length;
        /* Go backwards over all attributes; safely remove bad ones */ while(l--){
            attr = attributes[l];
            var _attr = attr, name = _attr.name, namespaceURI = _attr.namespaceURI;
            value = $18a0d334f621899c$var$stringTrim(attr.value);
            lcName = $18a0d334f621899c$var$stringToLowerCase(name);
            /* Execute a hook if present */ hookEvent.attrName = lcName;
            hookEvent.attrValue = value;
            hookEvent.keepAttr = true;
            hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set
            _executeHook('uponSanitizeAttribute', currentNode, hookEvent);
            value = hookEvent.attrValue;
            /* Did the hooks approve of the attribute? */ if (hookEvent.forceKeepAttr) continue;
            /* Remove attribute */ _removeAttribute(name, currentNode);
            /* Did the hooks approve of the attribute? */ if (!hookEvent.keepAttr) continue;
            /* Work around a security issue in jQuery 3.0 */ if ($18a0d334f621899c$var$regExpTest(/\/>/i, value)) {
                _removeAttribute(name, currentNode);
                continue;
            }
            /* Sanitize attribute content to be template-safe */ if (SAFE_FOR_TEMPLATES) {
                value = $18a0d334f621899c$var$stringReplace(value, MUSTACHE_EXPR$$1, ' ');
                value = $18a0d334f621899c$var$stringReplace(value, ERB_EXPR$$1, ' ');
            }
            /* Is `value` valid for this attribute? */ var lcTag = currentNode.nodeName.toLowerCase();
            if (!_isValidAttribute(lcTag, lcName, value)) continue;
            /* Handle invalid data-* attribute set by try-catching it */ try {
                if (namespaceURI) currentNode.setAttributeNS(namespaceURI, name, value);
                else /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. "x-schema". */ currentNode.setAttribute(name, value);
                $18a0d334f621899c$var$arrayPop(DOMPurify.removed);
            } catch (_) {}
        }
        /* Execute a hook if present */ _executeHook('afterSanitizeAttributes', currentNode, null);
    };
    /**
   * _sanitizeShadowDOM
   *
   * @param  {DocumentFragment} fragment to iterate over recursively
   */ var _sanitizeShadowDOM1 = function _sanitizeShadowDOM(fragment) {
        var shadowNode = void 0;
        var shadowIterator = _createIterator(fragment);
        /* Execute a hook if present */ _executeHook('beforeSanitizeShadowDOM', fragment, null);
        while(shadowNode = shadowIterator.nextNode()){
            /* Execute a hook if present */ _executeHook('uponSanitizeShadowNode', shadowNode, null);
            /* Sanitize tags and elements */ if (_sanitizeElements(shadowNode)) continue;
            /* Deep shadow DOM detected */ if (shadowNode.content instanceof DocumentFragment) _sanitizeShadowDOM(shadowNode.content);
            /* Check attributes, sanitize if necessary */ _sanitizeAttributes(shadowNode);
        }
        /* Execute a hook if present */ _executeHook('afterSanitizeShadowDOM', fragment, null);
    };
    /**
   * Sanitize
   * Public method providing core sanitation functionality
   *
   * @param {String|Node} dirty string or DOM node
   * @param {Object} configuration object
   */ // eslint-disable-next-line complexity
    DOMPurify.sanitize = function(dirty, cfg) {
        var body = void 0;
        var importedNode = void 0;
        var currentNode = void 0;
        var oldNode = void 0;
        var returnNode = void 0;
        /* Make sure we have a string to sanitize.
      DO NOT return early, as this will return the wrong type if
      the user has requested a DOM object rather than a string */ IS_EMPTY_INPUT = !dirty;
        if (IS_EMPTY_INPUT) dirty = '<!-->';
        /* Stringify, in case dirty is an object */ if (typeof dirty !== 'string' && !_isNode(dirty)) {
            // eslint-disable-next-line no-negated-condition
            if (typeof dirty.toString !== 'function') throw $18a0d334f621899c$var$typeErrorCreate('toString is not a function');
            else {
                dirty = dirty.toString();
                if (typeof dirty !== 'string') throw $18a0d334f621899c$var$typeErrorCreate('dirty is not a string, aborting');
            }
        }
        /* Check we can run. Otherwise fall back or ignore */ if (!DOMPurify.isSupported) {
            if ($18a0d334f621899c$var$_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {
                if (typeof dirty === 'string') return window.toStaticHTML(dirty);
                if (_isNode(dirty)) return window.toStaticHTML(dirty.outerHTML);
            }
            return dirty;
        }
        /* Assign config vars */ if (!SET_CONFIG) _parseConfig(cfg);
        /* Clean up removed elements */ DOMPurify.removed = [];
        /* Check if dirty is correctly typed for IN_PLACE */ if (typeof dirty === 'string') IN_PLACE = false;
        if (IN_PLACE) ;
        else if (dirty instanceof Node) {
            /* If dirty is a DOM element, append to an empty document to avoid
         elements being stripped by the parser */ body = _initDocument('<!---->');
            importedNode = body.ownerDocument.importNode(dirty, true);
            if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') /* Node is already a body, use as is */ body = importedNode;
            else if (importedNode.nodeName === 'HTML') body = importedNode;
            else // eslint-disable-next-line unicorn/prefer-dom-node-append
            body.appendChild(importedNode);
        } else {
            /* Exit directly if we have nothing to do */ if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes
            dirty.indexOf('<') === -1) return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;
            /* Initialize the document to work on */ body = _initDocument(dirty);
            /* Check we have a DOM node from the data */ if (!body) return RETURN_DOM ? null : emptyHTML;
        }
        /* Remove first element node (ours) if FORCE_BODY is set */ if (body && FORCE_BODY) _forceRemove(body.firstChild);
        /* Get node iterator */ var nodeIterator = _createIterator(IN_PLACE ? dirty : body);
        /* Now start iterating over the created document */ while(currentNode = nodeIterator.nextNode()){
            /* Fix IE's strange behavior with manipulated textNodes #89 */ if (currentNode.nodeType === 3 && currentNode === oldNode) continue;
            /* Sanitize tags and elements */ if (_sanitizeElements(currentNode)) continue;
            /* Shadow DOM detected, sanitize it */ if (currentNode.content instanceof DocumentFragment) _sanitizeShadowDOM1(currentNode.content);
            /* Check attributes, sanitize if necessary */ _sanitizeAttributes(currentNode);
            oldNode = currentNode;
        }
        oldNode = null;
        /* If we sanitized `dirty` in-place, return it. */ if (IN_PLACE) return dirty;
        /* Return sanitized string or DOM */ if (RETURN_DOM) {
            if (RETURN_DOM_FRAGMENT) {
                returnNode = createDocumentFragment.call(body.ownerDocument);
                while(body.firstChild)// eslint-disable-next-line unicorn/prefer-dom-node-append
                returnNode.appendChild(body.firstChild);
            } else returnNode = body;
            if (RETURN_DOM_IMPORT) /*
          AdoptNode() is not used because internal state is not reset
          (e.g. the past names map of a HTMLFormElement), this is safe
          in theory but we would rather not risk another attack vector.
          The state that is cloned by importNode() is explicitly defined
          by the specs.
        */ returnNode = importNode.call(originalDocument, returnNode, true);
            return returnNode;
        }
        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;
        /* Sanitize final string template-safe */ if (SAFE_FOR_TEMPLATES) {
            serializedHTML = $18a0d334f621899c$var$stringReplace(serializedHTML, MUSTACHE_EXPR$$1, ' ');
            serializedHTML = $18a0d334f621899c$var$stringReplace(serializedHTML, ERB_EXPR$$1, ' ');
        }
        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;
    };
    /**
   * Public method to set the configuration once
   * setConfig
   *
   * @param {Object} cfg configuration object
   */ DOMPurify.setConfig = function(cfg) {
        _parseConfig(cfg);
        SET_CONFIG = true;
    };
    /**
   * Public method to remove the configuration
   * clearConfig
   *
   */ DOMPurify.clearConfig = function() {
        CONFIG = null;
        SET_CONFIG = false;
    };
    /**
   * Public method to check if an attribute value is valid.
   * Uses last set config, if any. Otherwise, uses config defaults.
   * isValidAttribute
   *
   * @param  {string} tag Tag name of containing element.
   * @param  {string} attr Attribute name.
   * @param  {string} value Attribute value.
   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.
   */ DOMPurify.isValidAttribute = function(tag, attr, value) {
        /* Initialize shared config vars if necessary. */ if (!CONFIG) _parseConfig({});
        var lcTag = $18a0d334f621899c$var$stringToLowerCase(tag);
        var lcName = $18a0d334f621899c$var$stringToLowerCase(attr);
        return _isValidAttribute(lcTag, lcName, value);
    };
    /**
   * AddHook
   * Public method to add DOMPurify hooks
   *
   * @param {String} entryPoint entry point for the hook to add
   * @param {Function} hookFunction function to execute
   */ DOMPurify.addHook = function(entryPoint, hookFunction) {
        if (typeof hookFunction !== 'function') return;
        hooks[entryPoint] = hooks[entryPoint] || [];
        $18a0d334f621899c$var$arrayPush(hooks[entryPoint], hookFunction);
    };
    /**
   * RemoveHook
   * Public method to remove a DOMPurify hook at a given entryPoint
   * (pops it from the stack of hooks if more are present)
   *
   * @param {String} entryPoint entry point for the hook to remove
   */ DOMPurify.removeHook = function(entryPoint) {
        if (hooks[entryPoint]) $18a0d334f621899c$var$arrayPop(hooks[entryPoint]);
    };
    /**
   * RemoveHooks
   * Public method to remove all DOMPurify hooks at a given entryPoint
   *
   * @param  {String} entryPoint entry point for the hooks to remove
   */ DOMPurify.removeHooks = function(entryPoint) {
        if (hooks[entryPoint]) hooks[entryPoint] = [];
    };
    /**
   * RemoveAllHooks
   * Public method to remove all DOMPurify hooks
   *
   */ DOMPurify.removeAllHooks = function() {
        hooks = {};
    };
    return DOMPurify;
}
var $18a0d334f621899c$var$purify = $18a0d334f621899c$var$createDOMPurify();
var // ESM-comment-begin
// define(function () { return purify; });
// ESM-comment-end
// ESM-uncomment-begin
$18a0d334f621899c$export$2e2bcd8739ae039 = $18a0d334f621899c$var$purify;
const $18a0d334f621899c$export$83d89fbfd8236492 = $18a0d334f621899c$var$purify.version;
const $18a0d334f621899c$export$48c17662a6902497 = $18a0d334f621899c$var$purify.isSupported;
const $18a0d334f621899c$export$83d2e9e3e4ee39ed = $18a0d334f621899c$var$purify.sanitize;
const $18a0d334f621899c$export$940a7873bb071df8 = $18a0d334f621899c$var$purify.setConfig;
const $18a0d334f621899c$export$fddf4455c1a80feb = $18a0d334f621899c$var$purify.clearConfig;
const $18a0d334f621899c$export$ffe9bb2f80eb16c6 = $18a0d334f621899c$var$purify.isValidAttribute;
const $18a0d334f621899c$export$f99777bb87ac6904 = $18a0d334f621899c$var$purify.addHook;
const $18a0d334f621899c$export$4840506845da1500 = $18a0d334f621899c$var$purify.removeHook;
const $18a0d334f621899c$export$37b326390107f1c9 = $18a0d334f621899c$var$purify.removeHooks;
const $18a0d334f621899c$export$2d6b8bcac4994499 = $18a0d334f621899c$var$purify.removeAllHooks; // ESM-uncomment-end



var $84FS6 = parcelRequire("84FS6");

var $1hiWs = parcelRequire("1hiWs");

var $1FHmW = parcelRequire("1FHmW");

var $4yyh4 = parcelRequire("4yyh4");

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $bkXdq = parcelRequire("bkXdq");

var $eeQ9E = parcelRequire("eeQ9E");

var $7b0Ts = parcelRequire("7b0Ts");

var $iZqFU = parcelRequire("iZqFU");

var $6W1JA = parcelRequire("6W1JA");
var $616893341b2d071f$exports = {};

$parcel$export($616893341b2d071f$exports, "lexer", function () { return $616893341b2d071f$export$43feed32102720d2; }, function (v) { return $616893341b2d071f$export$43feed32102720d2 = v; });
$parcel$export($616893341b2d071f$exports, "Tokenizer", function () { return $616893341b2d071f$export$55e8b082af4aa63e; }, function (v) { return $616893341b2d071f$export$55e8b082af4aa63e = v; });
$parcel$export($616893341b2d071f$exports, "Lexer", function () { return $616893341b2d071f$export$6168dc8908a6c652; }, function (v) { return $616893341b2d071f$export$6168dc8908a6c652 = v; });
$parcel$export($616893341b2d071f$exports, "Renderer", function () { return $616893341b2d071f$export$88530751e3977073; }, function (v) { return $616893341b2d071f$export$88530751e3977073 = v; });
$parcel$export($616893341b2d071f$exports, "TextRenderer", function () { return $616893341b2d071f$export$75ebcd2c8ed5b901; }, function (v) { return $616893341b2d071f$export$75ebcd2c8ed5b901 = v; });
$parcel$export($616893341b2d071f$exports, "Slugger", function () { return $616893341b2d071f$export$a2039dba1f9639d; }, function (v) { return $616893341b2d071f$export$a2039dba1f9639d = v; });
$parcel$export($616893341b2d071f$exports, "Parser", function () { return $616893341b2d071f$export$7acfa6ed01010e37; }, function (v) { return $616893341b2d071f$export$7acfa6ed01010e37 = v; });
$parcel$export($616893341b2d071f$exports, "parse", function () { return $616893341b2d071f$export$98e6a39c04603d36; }, function (v) { return $616893341b2d071f$export$98e6a39c04603d36 = v; });
$parcel$export($616893341b2d071f$exports, "parser", function () { return $616893341b2d071f$export$8f49e4af10703ce3; }, function (v) { return $616893341b2d071f$export$8f49e4af10703ce3 = v; });
$parcel$export($616893341b2d071f$exports, "marked", function () { return $616893341b2d071f$export$db8f131360c543a5; }, function (v) { return $616893341b2d071f$export$db8f131360c543a5 = v; });
/**
 * marked - a markdown parser
 * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */ /**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */ // ESM-uncomment-begin
let $616893341b2d071f$var$__marked_exports;
(function() {
    function define(factory) {
        $616893341b2d071f$var$__marked_exports = factory();
    }
    define.amd = true;
    // ESM-uncomment-end
    (function(global, factory) {
        $616893341b2d071f$exports = factory();
    })(this, function() {
        'use strict';
        function _defineProperties(target, props) {
            for(var i = 0; i < props.length; i++){
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
            }
        }
        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            return Constructor;
        }
        function _unsupportedIterableToArray(o, minLen) {
            if (!o) return;
            if (typeof o === "string") return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor) n = o.constructor.name;
            if (n === "Map" || n === "Set") return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
        }
        function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length) len = arr.length;
            for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
            return arr2;
        }
        function _createForOfIteratorHelperLoose(o, allowArrayLike) {
            var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
            if (it) return (it = it.call(o)).next.bind(it);
            if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
                if (it) o = it;
                var i = 0;
                return function() {
                    if (i >= o.length) return {
                        done: true
                    };
                    return {
                        done: false,
                        value: o[i++]
                    };
                };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        var defaults$5 = {
            exports: {}
        };
        function getDefaults$1() {
            return {
                baseUrl: null,
                breaks: false,
                extensions: null,
                gfm: true,
                headerIds: true,
                headerPrefix: '',
                highlight: null,
                langPrefix: 'language-',
                mangle: true,
                pedantic: false,
                renderer: null,
                sanitize: false,
                sanitizer: null,
                silent: false,
                smartLists: false,
                smartypants: false,
                tokenizer: null,
                walkTokens: null,
                xhtml: false
            };
        }
        function changeDefaults$1(newDefaults) {
            defaults$5.exports.defaults = newDefaults;
        }
        defaults$5.exports = {
            defaults: getDefaults$1(),
            getDefaults: getDefaults$1,
            changeDefaults: changeDefaults$1
        };
        /**
   * Helpers
   */ var escapeTest = /[&<>"']/;
        var escapeReplace = /[&<>"']/g;
        var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
        var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
        var escapeReplacements = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#39;'
        };
        var getEscapeReplacement = function getEscapeReplacement(ch) {
            return escapeReplacements[ch];
        };
        function escape$2(html, encode) {
            if (encode) {
                if (escapeTest.test(html)) return html.replace(escapeReplace, getEscapeReplacement);
            } else {
                if (escapeTestNoEncode.test(html)) return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
            }
            return html;
        }
        var unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;
        function unescape$1(html) {
            // explicitly match decimal, hex, and named HTML entities
            return html.replace(unescapeTest, function(_, n) {
                n = n.toLowerCase();
                if (n === 'colon') return ':';
                if (n.charAt(0) === '#') return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
                return '';
            });
        }
        var caret = /(^|[^\[])\^/g;
        function edit$1(regex, opt) {
            regex = regex.source || regex;
            opt = opt || '';
            var obj = {
                replace: function replace(name, val) {
                    val = val.source || val;
                    val = val.replace(caret, '$1');
                    regex = regex.replace(name, val);
                    return obj;
                },
                getRegex: function getRegex() {
                    return new RegExp(regex, opt);
                }
            };
            return obj;
        }
        var nonWordAndColonTest = /[^\w:]/g;
        var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;
        function cleanUrl$1(sanitize, base, href) {
            if (sanitize) {
                var prot;
                try {
                    prot = decodeURIComponent(unescape$1(href)).replace(nonWordAndColonTest, '').toLowerCase();
                } catch (e) {
                    return null;
                }
                if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) return null;
            }
            if (base && !originIndependentUrl.test(href)) href = resolveUrl(base, href);
            try {
                href = encodeURI(href).replace(/%25/g, '%');
            } catch (e) {
                return null;
            }
            return href;
        }
        var baseUrls = {};
        var justDomain = /^[^:]+:\/*[^/]*$/;
        var protocol = /^([^:]+:)[\s\S]*$/;
        var domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;
        function resolveUrl(base, href) {
            if (!baseUrls[' ' + base]) {
                // we can ignore everything in base after the last slash of its path component,
                // but we might need to add _that_
                // https://tools.ietf.org/html/rfc3986#section-3
                if (justDomain.test(base)) baseUrls[' ' + base] = base + '/';
                else baseUrls[' ' + base] = rtrim$1(base, '/', true);
            }
            base = baseUrls[' ' + base];
            var relativeBase = base.indexOf(':') === -1;
            if (href.substring(0, 2) === '//') {
                if (relativeBase) return href;
                return base.replace(protocol, '$1') + href;
            } else if (href.charAt(0) === '/') {
                if (relativeBase) return href;
                return base.replace(domain, '$1') + href;
            } else return base + href;
        }
        var noopTest$1 = {
            exec: function noopTest() {}
        };
        function merge$2(obj) {
            var i = 1, target, key;
            for(; i < arguments.length; i++){
                target = arguments[i];
                for(key in target)if (Object.prototype.hasOwnProperty.call(target, key)) obj[key] = target[key];
            }
            return obj;
        }
        function splitCells$1(tableRow, count) {
            // ensure that every cell-delimiting pipe has a space
            // before it to distinguish it from an escaped pipe
            var row = tableRow.replace(/\|/g, function(match, offset, str) {
                var escaped = false, curr = offset;
                while(--curr >= 0 && str[curr] === '\\')escaped = !escaped;
                if (escaped) // odd number of slashes means | is escaped
                // so we leave it alone
                return '|';
                else // add space before unescaped |
                return ' |';
            }), cells = row.split(/ \|/);
            var i = 0; // First/last cell in a row cannot be empty if it has no leading/trailing pipe
            if (!cells[0].trim()) cells.shift();
            if (!cells[cells.length - 1].trim()) cells.pop();
            if (cells.length > count) cells.splice(count);
            else while(cells.length < count)cells.push('');
            for(; i < cells.length; i++)// leading or trailing whitespace is ignored per the gfm spec
            cells[i] = cells[i].trim().replace(/\\\|/g, '|');
            return cells;
        } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').
        // /c*$/ is vulnerable to REDOS.
        // invert: Remove suffix of non-c chars instead. Default falsey.
        function rtrim$1(str, c, invert) {
            var l = str.length;
            if (l === 0) return '';
             // Length of suffix matching the invert condition.
            var suffLen = 0; // Step left until we fail to match the invert condition.
            while(suffLen < l){
                var currChar = str.charAt(l - suffLen - 1);
                if (currChar === c && !invert) suffLen++;
                else if (currChar !== c && invert) suffLen++;
                else break;
            }
            return str.substr(0, l - suffLen);
        }
        function findClosingBracket$1(str, b) {
            if (str.indexOf(b[1]) === -1) return -1;
            var l = str.length;
            var level = 0, i = 0;
            for(; i < l; i++){
                if (str[i] === '\\') i++;
                else if (str[i] === b[0]) level++;
                else if (str[i] === b[1]) {
                    level--;
                    if (level < 0) return i;
                }
            }
            return -1;
        }
        function checkSanitizeDeprecation$1(opt) {
            if (opt && opt.sanitize && !opt.silent) console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');
        } // copied from https://stackoverflow.com/a/5450113/806777
        function repeatString$1(pattern, count) {
            if (count < 1) return '';
            var result = '';
            while(count > 1){
                if (count & 1) result += pattern;
                count >>= 1;
                pattern += pattern;
            }
            return result + pattern;
        }
        var helpers = {
            escape: escape$2,
            unescape: unescape$1,
            edit: edit$1,
            cleanUrl: cleanUrl$1,
            resolveUrl: resolveUrl,
            noopTest: noopTest$1,
            merge: merge$2,
            splitCells: splitCells$1,
            rtrim: rtrim$1,
            findClosingBracket: findClosingBracket$1,
            checkSanitizeDeprecation: checkSanitizeDeprecation$1,
            repeatString: repeatString$1
        };
        var defaults$4 = defaults$5.exports.defaults;
        var rtrim = helpers.rtrim, splitCells = helpers.splitCells, _escape = helpers.escape, findClosingBracket = helpers.findClosingBracket;
        function outputLink(cap, link, raw, $616893341b2d071f$export$43feed32102720d2) {
            var href = link.href;
            var title = link.title ? _escape(link.title) : null;
            var text = cap[1].replace(/\\([\[\]])/g, '$1');
            if (cap[0].charAt(0) !== '!') {
                $616893341b2d071f$export$43feed32102720d2.state.inLink = true;
                var token = {
                    type: 'link',
                    raw: raw,
                    href: href,
                    title: title,
                    text: text,
                    tokens: $616893341b2d071f$export$43feed32102720d2.inlineTokens(text, [])
                };
                $616893341b2d071f$export$43feed32102720d2.state.inLink = false;
                return token;
            } else return {
                type: 'image',
                raw: raw,
                href: href,
                title: title,
                text: _escape(text)
            };
        }
        function indentCodeCompensation(raw, text) {
            var matchIndentToCode = raw.match(/^(\s+)(?:```)/);
            if (matchIndentToCode === null) return text;
            var indentToCode = matchIndentToCode[1];
            return text.split('\n').map(function(node) {
                var matchIndentInNode = node.match(/^\s+/);
                if (matchIndentInNode === null) return node;
                var indentInNode = matchIndentInNode[0];
                if (indentInNode.length >= indentToCode.length) return node.slice(indentToCode.length);
                return node;
            }).join('\n');
        }
        /**
   * Tokenizer
   */ var Tokenizer_1 = /*#__PURE__*/ function() {
            function $616893341b2d071f$export$55e8b082af4aa63e(options) {
                this.options = options || defaults$4;
            }
            var _proto = $616893341b2d071f$export$55e8b082af4aa63e.prototype;
            _proto.space = function space(src) {
                var cap = this.rules.block.newline.exec(src);
                if (cap) {
                    if (cap[0].length > 1) return {
                        type: 'space',
                        raw: cap[0]
                    };
                    return {
                        raw: '\n'
                    };
                }
            };
            _proto.code = function code(src) {
                var cap = this.rules.block.code.exec(src);
                if (cap) {
                    var text = cap[0].replace(/^ {1,4}/gm, '');
                    return {
                        type: 'code',
                        raw: cap[0],
                        codeBlockStyle: 'indented',
                        text: !this.options.pedantic ? rtrim(text, '\n') : text
                    };
                }
            };
            _proto.fences = function fences(src) {
                var cap = this.rules.block.fences.exec(src);
                if (cap) {
                    var raw = cap[0];
                    var text = indentCodeCompensation(raw, cap[3] || '');
                    return {
                        type: 'code',
                        raw: raw,
                        lang: cap[2] ? cap[2].trim() : cap[2],
                        text: text
                    };
                }
            };
            _proto.heading = function heading(src) {
                var cap = this.rules.block.heading.exec(src);
                if (cap) {
                    var text = cap[2].trim(); // remove trailing #s
                    if (/#$/.test(text)) {
                        var trimmed = rtrim(text, '#');
                        if (this.options.pedantic) text = trimmed.trim();
                        else if (!trimmed || / $/.test(trimmed)) // CommonMark requires space before trailing #s
                        text = trimmed.trim();
                    }
                    var token = {
                        type: 'heading',
                        raw: cap[0],
                        depth: cap[1].length,
                        text: text,
                        tokens: []
                    };
                    this.lexer.inline(token.text, token.tokens);
                    return token;
                }
            };
            _proto.hr = function hr(src) {
                var cap = this.rules.block.hr.exec(src);
                if (cap) return {
                    type: 'hr',
                    raw: cap[0]
                };
            };
            _proto.blockquote = function blockquote(src) {
                var cap = this.rules.block.blockquote.exec(src);
                if (cap) {
                    var text = cap[0].replace(/^ *> ?/gm, '');
                    return {
                        type: 'blockquote',
                        raw: cap[0],
                        tokens: this.lexer.blockTokens(text, []),
                        text: text
                    };
                }
            };
            _proto.list = function list(src) {
                var cap = this.rules.block.list.exec(src);
                if (cap) {
                    var raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, lines, itemContents;
                    var bull = cap[1].trim();
                    var isordered = bull.length > 1;
                    var list = {
                        type: 'list',
                        raw: '',
                        ordered: isordered,
                        start: isordered ? +bull.slice(0, -1) : '',
                        loose: false,
                        items: []
                    };
                    bull = isordered ? "\\d{1,9}\\" + bull.slice(-1) : "\\" + bull;
                    if (this.options.pedantic) bull = isordered ? bull : '[*+-]';
                     // Get next list item
                    var itemRegex = new RegExp("^( {0,3}" + bull + ")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))"); // Get each top-level item
                    while(src){
                        if (this.rules.block.hr.test(src)) break;
                        if (!(cap = itemRegex.exec(src))) break;
                        lines = cap[2].split('\n');
                        if (this.options.pedantic) {
                            indent = 2;
                            itemContents = lines[0].trimLeft();
                        } else {
                            indent = cap[2].search(/[^ ]/); // Find first non-space char
                            indent = cap[1].length + (indent > 4 ? 1 : indent); // intented code blocks after 4 spaces; indent is always 1
                            itemContents = lines[0].slice(indent - cap[1].length);
                        }
                        blankLine = false;
                        raw = cap[0];
                        if (!lines[0] && /^ *$/.test(lines[1])) {
                            // items begin with at most one blank line
                            raw = cap[1] + lines.slice(0, 2).join('\n') + '\n';
                            list.loose = true;
                            lines = [];
                        }
                        var nextBulletRegex = new RegExp("^ {0," + Math.min(3, indent - 1) + "}(?:[*+-]|\\d{1,9}[.)])");
                        for(i = 1; i < lines.length; i++){
                            line = lines[i];
                            if (this.options.pedantic) // Re-align to follow commonmark nesting rules
                            line = line.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');
                             // End list item if found start of new bullet
                            if (nextBulletRegex.test(line)) {
                                raw = cap[1] + lines.slice(0, i).join('\n') + '\n';
                                break;
                            } // Until we encounter a blank line, item contents do not need indentation
                            if (!blankLine) {
                                if (!line.trim()) // Check if current line is empty
                                blankLine = true;
                                 // Dedent if possible
                                if (line.search(/[^ ]/) >= indent) itemContents += '\n' + line.slice(indent);
                                else itemContents += '\n' + line;
                                continue;
                            } // Dedent this line
                            if (line.search(/[^ ]/) >= indent || !line.trim()) {
                                itemContents += '\n' + line.slice(indent);
                                continue;
                            } else {
                                // Line was not properly indented; end of this item
                                raw = cap[1] + lines.slice(0, i).join('\n') + '\n';
                                break;
                            }
                        }
                        if (!list.loose) {
                            // If the previous item ended with a blank line, the list is loose
                            if (endsWithBlankLine) list.loose = true;
                            else if (/\n *\n *$/.test(raw)) endsWithBlankLine = true;
                        } // Check for task list items
                        if (this.options.gfm) {
                            istask = /^\[[ xX]\] /.exec(itemContents);
                            if (istask) {
                                ischecked = istask[0] !== '[ ] ';
                                itemContents = itemContents.replace(/^\[[ xX]\] +/, '');
                            }
                        }
                        list.items.push({
                            type: 'list_item',
                            raw: raw,
                            task: !!istask,
                            checked: ischecked,
                            loose: false,
                            text: itemContents
                        });
                        list.raw += raw;
                        src = src.slice(raw.length);
                    } // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic
                    list.items[list.items.length - 1].raw = raw.trimRight();
                    list.items[list.items.length - 1].text = itemContents.trimRight();
                    list.raw = list.raw.trimRight();
                    var l = list.items.length; // Item child tokens handled here at end because we needed to have the final item to trim it first
                    for(i = 0; i < l; i++){
                        this.lexer.state.top = false;
                        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);
                        if (list.items[i].tokens.some(function(t) {
                            return t.type === 'space';
                        })) {
                            list.loose = true;
                            list.items[i].loose = true;
                        }
                    }
                    return list;
                }
            };
            _proto.html = function html(src) {
                var cap = this.rules.block.html.exec(src);
                if (cap) {
                    var token = {
                        type: 'html',
                        raw: cap[0],
                        pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),
                        text: cap[0]
                    };
                    if (this.options.sanitize) {
                        token.type = 'paragraph';
                        token.text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]);
                        token.tokens = [];
                        this.lexer.inline(token.text, token.tokens);
                    }
                    return token;
                }
            };
            _proto.def = function def(src) {
                var cap = this.rules.block.def.exec(src);
                if (cap) {
                    if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);
                    var tag = cap[1].toLowerCase().replace(/\s+/g, ' ');
                    return {
                        type: 'def',
                        tag: tag,
                        raw: cap[0],
                        href: cap[2],
                        title: cap[3]
                    };
                }
            };
            _proto.table = function table(src) {
                var cap = this.rules.block.table.exec(src);
                if (cap) {
                    var item = {
                        type: 'table',
                        header: splitCells(cap[1]).map(function(c) {
                            return {
                                text: c
                            };
                        }),
                        align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
                        rows: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []
                    };
                    if (item.header.length === item.align.length) {
                        item.raw = cap[0];
                        var l = item.align.length;
                        var i, j, k, row;
                        for(i = 0; i < l; i++){
                            if (/^ *-+: *$/.test(item.align[i])) item.align[i] = 'right';
                            else if (/^ *:-+: *$/.test(item.align[i])) item.align[i] = 'center';
                            else if (/^ *:-+ *$/.test(item.align[i])) item.align[i] = 'left';
                            else item.align[i] = null;
                        }
                        l = item.rows.length;
                        for(i = 0; i < l; i++)item.rows[i] = splitCells(item.rows[i], item.header.length).map(function(c) {
                            return {
                                text: c
                            };
                        });
                         // parse child tokens inside headers and cells
                        // header child tokens
                        l = item.header.length;
                        for(j = 0; j < l; j++){
                            item.header[j].tokens = [];
                            this.lexer.inlineTokens(item.header[j].text, item.header[j].tokens);
                        } // cell child tokens
                        l = item.rows.length;
                        for(j = 0; j < l; j++){
                            row = item.rows[j];
                            for(k = 0; k < row.length; k++){
                                row[k].tokens = [];
                                this.lexer.inlineTokens(row[k].text, row[k].tokens);
                            }
                        }
                        return item;
                    }
                }
            };
            _proto.lheading = function lheading(src) {
                var cap = this.rules.block.lheading.exec(src);
                if (cap) {
                    var token = {
                        type: 'heading',
                        raw: cap[0],
                        depth: cap[2].charAt(0) === '=' ? 1 : 2,
                        text: cap[1],
                        tokens: []
                    };
                    this.lexer.inline(token.text, token.tokens);
                    return token;
                }
            };
            _proto.paragraph = function paragraph(src) {
                var cap = this.rules.block.paragraph.exec(src);
                if (cap) {
                    var token = {
                        type: 'paragraph',
                        raw: cap[0],
                        text: cap[1].charAt(cap[1].length - 1) === '\n' ? cap[1].slice(0, -1) : cap[1],
                        tokens: []
                    };
                    this.lexer.inline(token.text, token.tokens);
                    return token;
                }
            };
            _proto.text = function text(src) {
                var cap = this.rules.block.text.exec(src);
                if (cap) {
                    var token = {
                        type: 'text',
                        raw: cap[0],
                        text: cap[0],
                        tokens: []
                    };
                    this.lexer.inline(token.text, token.tokens);
                    return token;
                }
            };
            _proto.escape = function escape(src) {
                var cap = this.rules.inline.escape.exec(src);
                if (cap) return {
                    type: 'escape',
                    raw: cap[0],
                    text: _escape(cap[1])
                };
            };
            _proto.tag = function tag(src) {
                var cap = this.rules.inline.tag.exec(src);
                if (cap) {
                    if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) this.lexer.state.inLink = true;
                    else if (this.lexer.state.inLink && /^<\/a>/i.test(cap[0])) this.lexer.state.inLink = false;
                    if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) this.lexer.state.inRawBlock = true;
                    else if (this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) this.lexer.state.inRawBlock = false;
                    return {
                        type: this.options.sanitize ? 'text' : 'html',
                        raw: cap[0],
                        inLink: this.lexer.state.inLink,
                        inRawBlock: this.lexer.state.inRawBlock,
                        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
                    };
                }
            };
            _proto.link = function link(src) {
                var cap = this.rules.inline.link.exec(src);
                if (cap) {
                    var trimmedUrl = cap[2].trim();
                    if (!this.options.pedantic && /^</.test(trimmedUrl)) {
                        // commonmark requires matching angle brackets
                        if (!/>$/.test(trimmedUrl)) return;
                         // ending angle bracket cannot be escaped
                        var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\');
                        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) return;
                    } else {
                        // find closing parenthesis
                        var lastParenIndex = findClosingBracket(cap[2], '()');
                        if (lastParenIndex > -1) {
                            var start = cap[0].indexOf('!') === 0 ? 5 : 4;
                            var linkLen = start + cap[1].length + lastParenIndex;
                            cap[2] = cap[2].substring(0, lastParenIndex);
                            cap[0] = cap[0].substring(0, linkLen).trim();
                            cap[3] = '';
                        }
                    }
                    var href = cap[2];
                    var title = '';
                    if (this.options.pedantic) {
                        // split pedantic href and title
                        var link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);
                        if (link) {
                            href = link[1];
                            title = link[3];
                        }
                    } else title = cap[3] ? cap[3].slice(1, -1) : '';
                    href = href.trim();
                    if (/^</.test(href)) {
                        if (this.options.pedantic && !/>$/.test(trimmedUrl)) // pedantic allows starting angle bracket without ending angle bracket
                        href = href.slice(1);
                        else href = href.slice(1, -1);
                    }
                    return outputLink(cap, {
                        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,
                        title: title ? title.replace(this.rules.inline._escapes, '$1') : title
                    }, cap[0], this.lexer);
                }
            };
            _proto.reflink = function reflink(src, links) {
                var cap;
                if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
                    var link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
                    link = links[link.toLowerCase()];
                    if (!link || !link.href) {
                        var text = cap[0].charAt(0);
                        return {
                            type: 'text',
                            raw: text,
                            text: text
                        };
                    }
                    return outputLink(cap, link, cap[0], this.lexer);
                }
            };
            _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {
                if (prevChar === void 0) prevChar = '';
                var match = this.rules.inline.emStrong.lDelim.exec(src);
                if (!match) return; // _ can't be between two alphanumerics. \p{L}\p{N} includes non-english alphabet/numbers as well
                if (match[3] && prevChar.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/)) return;
                var nextChar = match[1] || match[2] || '';
                if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {
                    var lLength = match[0].length - 1;
                    var rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;
                    var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;
                    endReg.lastIndex = 0; // Clip maskedSrc to same section of string as src (move to lexer?)
                    maskedSrc = maskedSrc.slice(-1 * src.length + lLength);
                    while((match = endReg.exec(maskedSrc)) != null){
                        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];
                        if (!rDelim) continue; // skip single * in __abc*abc__
                        rLength = rDelim.length;
                        if (match[3] || match[4]) {
                            // found another Left Delim
                            delimTotal += rLength;
                            continue;
                        } else if (match[5] || match[6]) // either Left or Right Delim
                        {
                            if (lLength % 3 && !((lLength + rLength) % 3)) {
                                midDelimTotal += rLength;
                                continue; // CommonMark Emphasis Rules 9-10
                            }
                        }
                        delimTotal -= rLength;
                        if (delimTotal > 0) continue; // Haven't found enough closing delimiters
                        // Remove extra characters. *a*** -> *a*
                        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal); // Create `em` if smallest delimiter has odd char count. *a***
                        if (Math.min(lLength, rLength) % 2) {
                            var _text = src.slice(1, lLength + match.index + rLength);
                            return {
                                type: 'em',
                                raw: src.slice(0, lLength + match.index + rLength + 1),
                                text: _text,
                                tokens: this.lexer.inlineTokens(_text, [])
                            };
                        } // Create 'strong' if smallest delimiter has even char count. **a***
                        var text = src.slice(2, lLength + match.index + rLength - 1);
                        return {
                            type: 'strong',
                            raw: src.slice(0, lLength + match.index + rLength + 1),
                            text: text,
                            tokens: this.lexer.inlineTokens(text, [])
                        };
                    }
                }
            };
            _proto.codespan = function codespan(src) {
                var cap = this.rules.inline.code.exec(src);
                if (cap) {
                    var text = cap[2].replace(/\n/g, ' ');
                    var hasNonSpaceChars = /[^ ]/.test(text);
                    var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);
                    if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) text = text.substring(1, text.length - 1);
                    text = _escape(text, true);
                    return {
                        type: 'codespan',
                        raw: cap[0],
                        text: text
                    };
                }
            };
            _proto.br = function br(src) {
                var cap = this.rules.inline.br.exec(src);
                if (cap) return {
                    type: 'br',
                    raw: cap[0]
                };
            };
            _proto.del = function del(src) {
                var cap = this.rules.inline.del.exec(src);
                if (cap) return {
                    type: 'del',
                    raw: cap[0],
                    text: cap[2],
                    tokens: this.lexer.inlineTokens(cap[2], [])
                };
            };
            _proto.autolink = function autolink(src, mangle) {
                var cap = this.rules.inline.autolink.exec(src);
                if (cap) {
                    var text, href;
                    if (cap[2] === '@') {
                        text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);
                        href = 'mailto:' + text;
                    } else {
                        text = _escape(cap[1]);
                        href = text;
                    }
                    return {
                        type: 'link',
                        raw: cap[0],
                        text: text,
                        href: href,
                        tokens: [
                            {
                                type: 'text',
                                raw: text,
                                text: text
                            }
                        ]
                    };
                }
            };
            _proto.url = function url(src, mangle) {
                var cap;
                if (cap = this.rules.inline.url.exec(src)) {
                    var text, href;
                    if (cap[2] === '@') {
                        text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);
                        href = 'mailto:' + text;
                    } else {
                        // do extended autolink path validation
                        var prevCapZero;
                        do {
                            prevCapZero = cap[0];
                            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
                        }while (prevCapZero !== cap[0])
                        text = _escape(cap[0]);
                        if (cap[1] === 'www.') href = 'http://' + text;
                        else href = text;
                    }
                    return {
                        type: 'link',
                        raw: cap[0],
                        text: text,
                        href: href,
                        tokens: [
                            {
                                type: 'text',
                                raw: text,
                                text: text
                            }
                        ]
                    };
                }
            };
            _proto.inlineText = function inlineText(src, smartypants) {
                var cap = this.rules.inline.text.exec(src);
                if (cap) {
                    var text;
                    if (this.lexer.state.inRawBlock) text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];
                    else text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);
                    return {
                        type: 'text',
                        raw: cap[0],
                        text: text
                    };
                }
            };
            return $616893341b2d071f$export$55e8b082af4aa63e;
        }();
        var noopTest = helpers.noopTest, edit = helpers.edit, merge$1 = helpers.merge;
        /**
   * Block-Level Grammar
   */ var block$1 = {
            newline: /^(?: *(?:\n|$))+/,
            code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,
            fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,
            hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
            heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
            blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
            list: /^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,
            html: "^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
            def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
            table: noopTest,
            lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
            // regex template, placeholders will be replaced according to different paragraph
            // interruption rules of commonmark and the original markdown spec:
            _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,
            text: /^[^\n]+/
        };
        block$1._label = /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;
        block$1._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
        block$1.def = edit(block$1.def).replace('label', block$1._label).replace('title', block$1._title).getRegex();
        block$1.bullet = /(?:[*+-]|\d{1,9}[.)])/;
        block$1.listItemStart = edit(/^( *)(bull) */).replace('bull', block$1.bullet).getRegex();
        block$1.list = edit(block$1.list).replace(/bull/g, block$1.bullet).replace('hr', '\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))').replace('def', '\\n+(?=' + block$1.def.source + ')').getRegex();
        block$1._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
        block$1._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/;
        block$1.html = edit(block$1.html, 'i').replace('comment', block$1._comment).replace('tag', block$1._tag).replace('attribute', / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
        block$1.paragraph = edit(block$1._paragraph).replace('hr', block$1.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs
        .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
        .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block$1._tag) // pars can be interrupted by type (6) html blocks
        .getRegex();
        block$1.blockquote = edit(block$1.blockquote).replace('paragraph', block$1.paragraph).getRegex();
        /**
   * Normal Block Grammar
   */ block$1.normal = merge$1({}, block$1);
        /**
   * GFM Block Grammar
   */ block$1.gfm = merge$1({}, block$1.normal, {
            table: "^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)" // Cells
        });
        block$1.gfm.table = edit(block$1.gfm.table).replace('hr', block$1.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
        .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block$1._tag) // tables can be interrupted by type (6) html blocks
        .getRegex();
        /**
   * Pedantic grammar (original John Gruber's loose markdown specification)
   */ block$1.pedantic = merge$1({}, block$1.normal, {
            html: edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace('comment', block$1._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
            def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
            heading: /^(#{1,6})(.*)(?:\n+|$)/,
            fences: noopTest,
            // fences not supported
            paragraph: edit(block$1.normal._paragraph).replace('hr', block$1.hr).replace('heading', ' *#{1,6} *[^\n]').replace('lheading', block$1.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()
        });
        /**
   * Inline-Level Grammar
   */ var inline$1 = {
            escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
            autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
            url: noopTest,
            tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",
            // CDATA section
            link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
            reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
            nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
            reflinkSearch: 'reflink|nolink(?!\\()',
            emStrong: {
                lDelim: /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,
                //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.
                //        () Skip other delimiter (1) #***                   (2) a***#, a***                   (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a
                rDelimAst: /\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
                rDelimUnd: /\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/ // ^- Not allowed for _
            },
            code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
            br: /^( {2,}|\\)\n(?!\s*$)/,
            del: noopTest,
            text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,
            punctuation: /^([\spunctuation])/
        }; // list of punctuation marks from CommonMark spec
        // without * and _ to handle the different emphasis markers * and _
        inline$1._punctuation = '!"#$%&\'()+\\-.,/:;<=>?@\\[\\]`^{|}~';
        inline$1.punctuation = edit(inline$1.punctuation).replace(/punctuation/g, inline$1._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>
        inline$1.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;
        inline$1.escapedEmSt = /\\\*|\\_/g;
        inline$1._comment = edit(block$1._comment).replace('(?:-->|$)', '-->').getRegex();
        inline$1.emStrong.lDelim = edit(inline$1.emStrong.lDelim).replace(/punct/g, inline$1._punctuation).getRegex();
        inline$1.emStrong.rDelimAst = edit(inline$1.emStrong.rDelimAst, 'g').replace(/punct/g, inline$1._punctuation).getRegex();
        inline$1.emStrong.rDelimUnd = edit(inline$1.emStrong.rDelimUnd, 'g').replace(/punct/g, inline$1._punctuation).getRegex();
        inline$1._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
        inline$1._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
        inline$1._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
        inline$1.autolink = edit(inline$1.autolink).replace('scheme', inline$1._scheme).replace('email', inline$1._email).getRegex();
        inline$1._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;
        inline$1.tag = edit(inline$1.tag).replace('comment', inline$1._comment).replace('attribute', inline$1._attribute).getRegex();
        inline$1._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
        inline$1._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;
        inline$1._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
        inline$1.link = edit(inline$1.link).replace('label', inline$1._label).replace('href', inline$1._href).replace('title', inline$1._title).getRegex();
        inline$1.reflink = edit(inline$1.reflink).replace('label', inline$1._label).getRegex();
        inline$1.reflinkSearch = edit(inline$1.reflinkSearch, 'g').replace('reflink', inline$1.reflink).replace('nolink', inline$1.nolink).getRegex();
        /**
   * Normal Inline Grammar
   */ inline$1.normal = merge$1({}, inline$1);
        /**
   * Pedantic Inline Grammar
   */ inline$1.pedantic = merge$1({}, inline$1.normal, {
            strong: {
                start: /^__|\*\*/,
                middle: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
                endAst: /\*\*(?!\*)/g,
                endUnd: /__(?!_)/g
            },
            em: {
                start: /^_|\*/,
                middle: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
                endAst: /\*(?!\*)/g,
                endUnd: /_(?!_)/g
            },
            link: edit(/^!?\[(label)\]\((.*?)\)/).replace('label', inline$1._label).getRegex(),
            reflink: edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace('label', inline$1._label).getRegex()
        });
        /**
   * GFM Inline Grammar
   */ inline$1.gfm = merge$1({}, inline$1.normal, {
            escape: edit(inline$1.escape).replace('])', '~|])').getRegex(),
            _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
            url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
            _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
            del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
            text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/
        });
        inline$1.gfm.url = edit(inline$1.gfm.url, 'i').replace('email', inline$1.gfm._extended_email).getRegex();
        /**
   * GFM + Line Breaks Inline Grammar
   */ inline$1.breaks = merge$1({}, inline$1.gfm, {
            br: edit(inline$1.br).replace('{2,}', '*').getRegex(),
            text: edit(inline$1.gfm.text).replace('\\b_', '\\b_| {2,}\\n').replace(/\{2,\}/g, '*').getRegex()
        });
        var rules1 = {
            block: block$1,
            inline: inline$1
        };
        var Tokenizer$1 = Tokenizer_1;
        var defaults$3 = defaults$5.exports.defaults;
        var block = rules1.block, inline = rules1.inline;
        var repeatString = helpers.repeatString;
        /**
   * smartypants text replacement
   */ function smartypants1(text) {
            return text // em-dashes
            .replace(/---/g, "\u2014") // en-dashes
            .replace(/--/g, "\u2013") // opening singles
            .replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018") // closing singles & apostrophes
            .replace(/'/g, "\u2019") // opening doubles
            .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C") // closing doubles
            .replace(/"/g, "\u201D") // ellipses
            .replace(/\.{3}/g, "\u2026");
        }
        /**
   * mangle email addresses
   */ function mangle1(text) {
            var out = '', i, ch;
            var l = text.length;
            for(i = 0; i < l; i++){
                ch = text.charCodeAt(i);
                if (Math.random() > 0.5) ch = 'x' + ch.toString(16);
                out += '&#' + ch + ';';
            }
            return out;
        }
        /**
   * Block Lexer
   */ var Lexer_1 = /*#__PURE__*/ function() {
            function $616893341b2d071f$export$6168dc8908a6c652(options) {
                this.tokens = [];
                this.tokens.links = Object.create(null);
                this.options = options || defaults$3;
                this.options.tokenizer = this.options.tokenizer || new Tokenizer$1();
                this.tokenizer = this.options.tokenizer;
                this.tokenizer.options = this.options;
                this.tokenizer.lexer = this;
                this.inlineQueue = [];
                this.state = {
                    inLink: false,
                    inRawBlock: false,
                    top: true
                };
                var rules = {
                    block: block.normal,
                    inline: inline.normal
                };
                if (this.options.pedantic) {
                    rules.block = block.pedantic;
                    rules.inline = inline.pedantic;
                } else if (this.options.gfm) {
                    rules.block = block.gfm;
                    if (this.options.breaks) rules.inline = inline.breaks;
                    else rules.inline = inline.gfm;
                }
                this.tokenizer.rules = rules;
            }
            /**
     * Expose Rules
     */ /**
     * Static Lex Method
     */ $616893341b2d071f$export$6168dc8908a6c652.lex = function lex(src, options) {
                var $616893341b2d071f$export$43feed32102720d2 = new $616893341b2d071f$export$6168dc8908a6c652(options);
                return $616893341b2d071f$export$43feed32102720d2.lex(src);
            } /**
     * Static Lex Inline Method
     */ ;
            $616893341b2d071f$export$6168dc8908a6c652.lexInline = function lexInline(src, options) {
                var $616893341b2d071f$export$43feed32102720d2 = new $616893341b2d071f$export$6168dc8908a6c652(options);
                return $616893341b2d071f$export$43feed32102720d2.inlineTokens(src);
            } /**
     * Preprocessing
     */ ;
            var _proto = $616893341b2d071f$export$6168dc8908a6c652.prototype;
            _proto.lex = function lex(src) {
                src = src.replace(/\r\n|\r/g, '\n').replace(/\t/g, '    ');
                this.blockTokens(src, this.tokens);
                var next;
                while(next = this.inlineQueue.shift())this.inlineTokens(next.src, next.tokens);
                return this.tokens;
            } /**
     * Lexing
     */ ;
            _proto.blockTokens = function blockTokens(src, tokens) {
                var _this = this;
                if (tokens === void 0) tokens = [];
                if (this.options.pedantic) src = src.replace(/^ +$/gm, '');
                var token, lastToken, cutSrc, lastParagraphClipped;
                while(src){
                    if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function(extTokenizer) {
                        if (token = extTokenizer.call({
                            lexer: _this
                        }, src, tokens)) {
                            src = src.substring(token.raw.length);
                            tokens.push(token);
                            return true;
                        }
                        return false;
                    })) continue;
                     // newline
                    if (token = this.tokenizer.space(src)) {
                        src = src.substring(token.raw.length);
                        if (token.type) tokens.push(token);
                        continue;
                    } // code
                    if (token = this.tokenizer.code(src)) {
                        src = src.substring(token.raw.length);
                        lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.
                        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {
                            lastToken.raw += '\n' + token.raw;
                            lastToken.text += '\n' + token.text;
                            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
                        } else tokens.push(token);
                        continue;
                    } // fences
                    if (token = this.tokenizer.fences(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // heading
                    if (token = this.tokenizer.heading(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // hr
                    if (token = this.tokenizer.hr(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // blockquote
                    if (token = this.tokenizer.blockquote(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // list
                    if (token = this.tokenizer.list(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // html
                    if (token = this.tokenizer.html(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // def
                    if (token = this.tokenizer.def(src)) {
                        src = src.substring(token.raw.length);
                        lastToken = tokens[tokens.length - 1];
                        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {
                            lastToken.raw += '\n' + token.raw;
                            lastToken.text += '\n' + token.raw;
                            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
                        } else if (!this.tokens.links[token.tag]) this.tokens.links[token.tag] = {
                            href: token.href,
                            title: token.title
                        };
                        continue;
                    } // table (gfm)
                    if (token = this.tokenizer.table(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // lheading
                    if (token = this.tokenizer.lheading(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // top-level paragraph
                    // prevent paragraph consuming extensions by clipping 'src' to extension start
                    cutSrc = src;
                    if (this.options.extensions && this.options.extensions.startBlock) (function() {
                        var startIndex = Infinity;
                        var tempSrc = src.slice(1);
                        var tempStart = void 0;
                        _this.options.extensions.startBlock.forEach(function(getStartIndex) {
                            tempStart = getStartIndex.call({
                                lexer: this
                            }, tempSrc);
                            if (typeof tempStart === 'number' && tempStart >= 0) startIndex = Math.min(startIndex, tempStart);
                        });
                        if (startIndex < Infinity && startIndex >= 0) cutSrc = src.substring(0, startIndex + 1);
                    })();
                    if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {
                        lastToken = tokens[tokens.length - 1];
                        if (lastParagraphClipped && lastToken.type === 'paragraph') {
                            lastToken.raw += '\n' + token.raw;
                            lastToken.text += '\n' + token.text;
                            this.inlineQueue.pop();
                            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
                        } else tokens.push(token);
                        lastParagraphClipped = cutSrc.length !== src.length;
                        src = src.substring(token.raw.length);
                        continue;
                    } // text
                    if (token = this.tokenizer.text(src)) {
                        src = src.substring(token.raw.length);
                        lastToken = tokens[tokens.length - 1];
                        if (lastToken && lastToken.type === 'text') {
                            lastToken.raw += '\n' + token.raw;
                            lastToken.text += '\n' + token.text;
                            this.inlineQueue.pop();
                            this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
                        } else tokens.push(token);
                        continue;
                    }
                    if (src) {
                        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);
                        if (this.options.silent) {
                            console.error(errMsg);
                            break;
                        } else throw new Error(errMsg);
                    }
                }
                this.state.top = true;
                return tokens;
            };
            _proto.inline = function inline(src, tokens) {
                this.inlineQueue.push({
                    src: src,
                    tokens: tokens
                });
            } /**
     * Lexing/Compiling
     */ ;
            _proto.inlineTokens = function inlineTokens(src, tokens) {
                var _this2 = this;
                if (tokens === void 0) tokens = [];
                var token, lastToken, cutSrc; // String with links masked to avoid interference with em and strong
                var maskedSrc = src;
                var match;
                var keepPrevChar, prevChar; // Mask out reflinks
                if (this.tokens.links) {
                    var links = Object.keys(this.tokens.links);
                    if (links.length > 0) {
                        while((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null)if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);
                    }
                } // Mask out other blocks
                while((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null)maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
                 // Mask out escaped em & strong delimiters
                while((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null)maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);
                while(src){
                    if (!keepPrevChar) prevChar = '';
                    keepPrevChar = false; // extensions
                    if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function(extTokenizer) {
                        if (token = extTokenizer.call({
                            lexer: _this2
                        }, src, tokens)) {
                            src = src.substring(token.raw.length);
                            tokens.push(token);
                            return true;
                        }
                        return false;
                    })) continue;
                     // escape
                    if (token = this.tokenizer.escape(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // tag
                    if (token = this.tokenizer.tag(src)) {
                        src = src.substring(token.raw.length);
                        lastToken = tokens[tokens.length - 1];
                        if (lastToken && token.type === 'text' && lastToken.type === 'text') {
                            lastToken.raw += token.raw;
                            lastToken.text += token.text;
                        } else tokens.push(token);
                        continue;
                    } // link
                    if (token = this.tokenizer.link(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // reflink, nolink
                    if (token = this.tokenizer.reflink(src, this.tokens.links)) {
                        src = src.substring(token.raw.length);
                        lastToken = tokens[tokens.length - 1];
                        if (lastToken && token.type === 'text' && lastToken.type === 'text') {
                            lastToken.raw += token.raw;
                            lastToken.text += token.text;
                        } else tokens.push(token);
                        continue;
                    } // em & strong
                    if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // code
                    if (token = this.tokenizer.codespan(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // br
                    if (token = this.tokenizer.br(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // del (gfm)
                    if (token = this.tokenizer.del(src)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // autolink
                    if (token = this.tokenizer.autolink(src, mangle1)) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // url (gfm)
                    if (!this.state.inLink && (token = this.tokenizer.url(src, mangle1))) {
                        src = src.substring(token.raw.length);
                        tokens.push(token);
                        continue;
                    } // text
                    // prevent inlineText consuming extensions by clipping 'src' to extension start
                    cutSrc = src;
                    if (this.options.extensions && this.options.extensions.startInline) (function() {
                        var startIndex = Infinity;
                        var tempSrc = src.slice(1);
                        var tempStart = void 0;
                        _this2.options.extensions.startInline.forEach(function(getStartIndex) {
                            tempStart = getStartIndex.call({
                                lexer: this
                            }, tempSrc);
                            if (typeof tempStart === 'number' && tempStart >= 0) startIndex = Math.min(startIndex, tempStart);
                        });
                        if (startIndex < Infinity && startIndex >= 0) cutSrc = src.substring(0, startIndex + 1);
                    })();
                    if (token = this.tokenizer.inlineText(cutSrc, smartypants1)) {
                        src = src.substring(token.raw.length);
                        if (token.raw.slice(-1) !== '_') // Track prevChar before string of ____ started
                        prevChar = token.raw.slice(-1);
                        keepPrevChar = true;
                        lastToken = tokens[tokens.length - 1];
                        if (lastToken && lastToken.type === 'text') {
                            lastToken.raw += token.raw;
                            lastToken.text += token.text;
                        } else tokens.push(token);
                        continue;
                    }
                    if (src) {
                        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);
                        if (this.options.silent) {
                            console.error(errMsg);
                            break;
                        } else throw new Error(errMsg);
                    }
                }
                return tokens;
            };
            _createClass($616893341b2d071f$export$6168dc8908a6c652, null, [
                {
                    key: "rules",
                    get: function get() {
                        return {
                            block: block,
                            inline: inline
                        };
                    }
                }
            ]);
            return $616893341b2d071f$export$6168dc8908a6c652;
        }();
        var defaults$2 = defaults$5.exports.defaults;
        var cleanUrl = helpers.cleanUrl, escape$1 = helpers.escape;
        /**
   * Renderer
   */ var Renderer_1 = /*#__PURE__*/ function() {
            function $616893341b2d071f$export$88530751e3977073(options) {
                this.options = options || defaults$2;
            }
            var _proto = $616893341b2d071f$export$88530751e3977073.prototype;
            _proto.code = function code(_code, infostring, escaped) {
                var lang = (infostring || '').match(/\S*/)[0];
                if (this.options.highlight) {
                    var out = this.options.highlight(_code, lang);
                    if (out != null && out !== _code) {
                        escaped = true;
                        _code = out;
                    }
                }
                _code = _code.replace(/\n$/, '') + '\n';
                if (!lang) return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
                return '<pre><code class="' + this.options.langPrefix + escape$1(lang, true) + '">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
            };
            _proto.blockquote = function blockquote(quote) {
                return '<blockquote>\n' + quote + '</blockquote>\n';
            };
            _proto.html = function html(_html) {
                return _html;
            };
            _proto.heading = function heading(text, level, raw, slugger) {
                if (this.options.headerIds) return '<h' + level + ' id="' + this.options.headerPrefix + slugger.slug(raw) + '">' + text + '</h' + level + '>\n';
                 // ignore IDs
                return '<h' + level + '>' + text + '</h' + level + '>\n';
            };
            _proto.hr = function hr() {
                return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
            };
            _proto.list = function list(body, ordered, start) {
                var type = ordered ? 'ol' : 'ul', startatt = ordered && start !== 1 ? ' start="' + start + '"' : '';
                return '<' + type + startatt + '>\n' + body + '</' + type + '>\n';
            };
            _proto.listitem = function listitem(text) {
                return '<li>' + text + '</li>\n';
            };
            _proto.checkbox = function checkbox(checked) {
                return '<input ' + (checked ? 'checked="" ' : '') + 'disabled="" type="checkbox"' + (this.options.xhtml ? ' /' : '') + '> ';
            };
            _proto.paragraph = function paragraph(text) {
                return '<p>' + text + '</p>\n';
            };
            _proto.table = function table(header, body) {
                if (body) body = '<tbody>' + body + '</tbody>';
                return "<table>\n<thead>\n" + header + '</thead>\n' + body + '</table>\n';
            };
            _proto.tablerow = function tablerow(content) {
                return '<tr>\n' + content + '</tr>\n';
            };
            _proto.tablecell = function tablecell(content, flags) {
                var type = flags.header ? 'th' : 'td';
                var tag = flags.align ? '<' + type + ' align="' + flags.align + '">' : '<' + type + '>';
                return tag + content + '</' + type + '>\n';
            } // span level renderer
            ;
            _proto.strong = function strong(text) {
                return '<strong>' + text + '</strong>';
            };
            _proto.em = function em(text) {
                return '<em>' + text + '</em>';
            };
            _proto.codespan = function codespan(text) {
                return '<code>' + text + '</code>';
            };
            _proto.br = function br() {
                return this.options.xhtml ? '<br/>' : '<br>';
            };
            _proto.del = function del(text) {
                return '<del>' + text + '</del>';
            };
            _proto.link = function link(href, title, text) {
                href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
                if (href === null) return text;
                var out = '<a href="' + escape$1(href) + '"';
                if (title) out += ' title="' + title + '"';
                out += '>' + text + '</a>';
                return out;
            };
            _proto.image = function image(href, title, text) {
                href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);
                if (href === null) return text;
                var out = '<img src="' + href + '" alt="' + text + '"';
                if (title) out += ' title="' + title + '"';
                out += this.options.xhtml ? '/>' : '>';
                return out;
            };
            _proto.text = function text(_text) {
                return _text;
            };
            return $616893341b2d071f$export$88530751e3977073;
        }();
        /**
   * TextRenderer
   * returns only the textual part of the token
   */ var TextRenderer_1 = /*#__PURE__*/ function() {
            function $616893341b2d071f$export$75ebcd2c8ed5b901() {}
            var _proto = $616893341b2d071f$export$75ebcd2c8ed5b901.prototype;
            // no need for block level renderers
            _proto.strong = function strong(text) {
                return text;
            };
            _proto.em = function em(text) {
                return text;
            };
            _proto.codespan = function codespan(text) {
                return text;
            };
            _proto.del = function del(text) {
                return text;
            };
            _proto.html = function html(text) {
                return text;
            };
            _proto.text = function text(_text) {
                return _text;
            };
            _proto.link = function link(href, title, text) {
                return '' + text;
            };
            _proto.image = function image(href, title, text) {
                return '' + text;
            };
            _proto.br = function br() {
                return '';
            };
            return $616893341b2d071f$export$75ebcd2c8ed5b901;
        }();
        /**
   * Slugger generates header id
   */ var Slugger_1 = /*#__PURE__*/ function() {
            function $616893341b2d071f$export$a2039dba1f9639d() {
                this.seen = {};
            }
            var _proto = $616893341b2d071f$export$a2039dba1f9639d.prototype;
            _proto.serialize = function serialize(value) {
                return value.toLowerCase().trim() // remove html tags
                .replace(/<[!\/a-z].*?>/ig, '') // remove unwanted chars
                .replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, '').replace(/\s/g, '-');
            } /**
     * Finds the next safe (unique) slug to use
     */ ;
            _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {
                var slug = originalSlug;
                var occurenceAccumulator = 0;
                if (this.seen.hasOwnProperty(slug)) {
                    occurenceAccumulator = this.seen[originalSlug];
                    do {
                        occurenceAccumulator++;
                        slug = originalSlug + '-' + occurenceAccumulator;
                    }while (this.seen.hasOwnProperty(slug))
                }
                if (!isDryRun) {
                    this.seen[originalSlug] = occurenceAccumulator;
                    this.seen[slug] = 0;
                }
                return slug;
            } /**
     * Convert string to unique id
     * @param {object} options
     * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.
     */ ;
            _proto.slug = function slug(value, options) {
                if (options === void 0) options = {};
                var slug = this.serialize(value);
                return this.getNextSafeSlug(slug, options.dryrun);
            };
            return $616893341b2d071f$export$a2039dba1f9639d;
        }();
        var Renderer$1 = Renderer_1;
        var TextRenderer$1 = TextRenderer_1;
        var Slugger$1 = Slugger_1;
        var defaults$1 = defaults$5.exports.defaults;
        var unescape = helpers.unescape;
        /**
   * Parsing & Compiling
   */ var Parser_1 = /*#__PURE__*/ function() {
            function $616893341b2d071f$export$7acfa6ed01010e37(options) {
                this.options = options || defaults$1;
                this.options.renderer = this.options.renderer || new Renderer$1();
                this.renderer = this.options.renderer;
                this.renderer.options = this.options;
                this.textRenderer = new TextRenderer$1();
                this.slugger = new Slugger$1();
            }
            /**
     * Static Parse Method
     */ $616893341b2d071f$export$7acfa6ed01010e37.parse = function $616893341b2d071f$export$98e6a39c04603d36(tokens, options) {
                var $616893341b2d071f$export$8f49e4af10703ce3 = new $616893341b2d071f$export$7acfa6ed01010e37(options);
                return $616893341b2d071f$export$8f49e4af10703ce3.parse(tokens);
            } /**
     * Static Parse Inline Method
     */ ;
            $616893341b2d071f$export$7acfa6ed01010e37.parseInline = function parseInline(tokens, options) {
                var $616893341b2d071f$export$8f49e4af10703ce3 = new $616893341b2d071f$export$7acfa6ed01010e37(options);
                return $616893341b2d071f$export$8f49e4af10703ce3.parseInline(tokens);
            } /**
     * Parse Loop
     */ ;
            var _proto = $616893341b2d071f$export$7acfa6ed01010e37.prototype;
            _proto.parse = function $616893341b2d071f$export$98e6a39c04603d36(tokens, top) {
                if (top === void 0) top = true;
                var out = '', i, j, k, l2, l3, row, cell, header, body, token, ordered, start, loose, itemBody, item, checked, task, checkbox, ret;
                var l = tokens.length;
                for(i = 0; i < l; i++){
                    token = tokens[i]; // Run any renderer extensions
                    if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
                        ret = this.options.extensions.renderers[token.type].call({
                            parser: this
                        }, token);
                        if (ret !== false || ![
                            'space',
                            'hr',
                            'heading',
                            'code',
                            'table',
                            'blockquote',
                            'list',
                            'html',
                            'paragraph',
                            'text'
                        ].includes(token.type)) {
                            out += ret || '';
                            continue;
                        }
                    }
                    switch(token.type){
                        case 'space':
                            continue;
                        case 'hr':
                            out += this.renderer.hr();
                            continue;
                        case 'heading':
                            out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);
                            continue;
                        case 'code':
                            out += this.renderer.code(token.text, token.lang, token.escaped);
                            continue;
                        case 'table':
                            header = ''; // header
                            cell = '';
                            l2 = token.header.length;
                            for(j = 0; j < l2; j++)cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), {
                                header: true,
                                align: token.align[j]
                            });
                            header += this.renderer.tablerow(cell);
                            body = '';
                            l2 = token.rows.length;
                            for(j = 0; j < l2; j++){
                                row = token.rows[j];
                                cell = '';
                                l3 = row.length;
                                for(k = 0; k < l3; k++)cell += this.renderer.tablecell(this.parseInline(row[k].tokens), {
                                    header: false,
                                    align: token.align[k]
                                });
                                body += this.renderer.tablerow(cell);
                            }
                            out += this.renderer.table(header, body);
                            continue;
                        case 'blockquote':
                            body = this.parse(token.tokens);
                            out += this.renderer.blockquote(body);
                            continue;
                        case 'list':
                            ordered = token.ordered;
                            start = token.start;
                            loose = token.loose;
                            l2 = token.items.length;
                            body = '';
                            for(j = 0; j < l2; j++){
                                item = token.items[j];
                                checked = item.checked;
                                task = item.task;
                                itemBody = '';
                                if (item.task) {
                                    checkbox = this.renderer.checkbox(checked);
                                    if (loose) {
                                        if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {
                                            item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;
                                            if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;
                                        } else item.tokens.unshift({
                                            type: 'text',
                                            text: checkbox
                                        });
                                    } else itemBody += checkbox;
                                }
                                itemBody += this.parse(item.tokens, loose);
                                body += this.renderer.listitem(itemBody, task, checked);
                            }
                            out += this.renderer.list(body, ordered, start);
                            continue;
                        case 'html':
                            // TODO parse inline content if parameter markdown=1
                            out += this.renderer.html(token.text);
                            continue;
                        case 'paragraph':
                            out += this.renderer.paragraph(this.parseInline(token.tokens));
                            continue;
                        case 'text':
                            body = token.tokens ? this.parseInline(token.tokens) : token.text;
                            while(i + 1 < l && tokens[i + 1].type === 'text'){
                                token = tokens[++i];
                                body += '\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);
                            }
                            out += top ? this.renderer.paragraph(body) : body;
                            continue;
                        default:
                            var errMsg = 'Token with "' + token.type + '" type was not found.';
                            if (this.options.silent) {
                                console.error(errMsg);
                                return;
                            } else throw new Error(errMsg);
                    }
                }
                return out;
            } /**
     * Parse Inline Tokens
     */ ;
            _proto.parseInline = function parseInline(tokens, renderer) {
                renderer = renderer || this.renderer;
                var out = '', i, token, ret;
                var l = tokens.length;
                for(i = 0; i < l; i++){
                    token = tokens[i]; // Run any renderer extensions
                    if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {
                        ret = this.options.extensions.renderers[token.type].call({
                            parser: this
                        }, token);
                        if (ret !== false || ![
                            'escape',
                            'html',
                            'link',
                            'image',
                            'strong',
                            'em',
                            'codespan',
                            'br',
                            'del',
                            'text'
                        ].includes(token.type)) {
                            out += ret || '';
                            continue;
                        }
                    }
                    switch(token.type){
                        case 'escape':
                            out += renderer.text(token.text);
                            break;
                        case 'html':
                            out += renderer.html(token.text);
                            break;
                        case 'link':
                            out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
                            break;
                        case 'image':
                            out += renderer.image(token.href, token.title, token.text);
                            break;
                        case 'strong':
                            out += renderer.strong(this.parseInline(token.tokens, renderer));
                            break;
                        case 'em':
                            out += renderer.em(this.parseInline(token.tokens, renderer));
                            break;
                        case 'codespan':
                            out += renderer.codespan(token.text);
                            break;
                        case 'br':
                            out += renderer.br();
                            break;
                        case 'del':
                            out += renderer.del(this.parseInline(token.tokens, renderer));
                            break;
                        case 'text':
                            out += renderer.text(token.text);
                            break;
                        default:
                            var errMsg = 'Token with "' + token.type + '" type was not found.';
                            if (this.options.silent) {
                                console.error(errMsg);
                                return;
                            } else throw new Error(errMsg);
                    }
                }
                return out;
            };
            return $616893341b2d071f$export$7acfa6ed01010e37;
        }();
        var $616893341b2d071f$export$6168dc8908a6c652 = Lexer_1;
        var $616893341b2d071f$export$7acfa6ed01010e37 = Parser_1;
        var $616893341b2d071f$export$55e8b082af4aa63e = Tokenizer_1;
        var $616893341b2d071f$export$88530751e3977073 = Renderer_1;
        var $616893341b2d071f$export$75ebcd2c8ed5b901 = TextRenderer_1;
        var $616893341b2d071f$export$a2039dba1f9639d = Slugger_1;
        var merge = helpers.merge, checkSanitizeDeprecation = helpers.checkSanitizeDeprecation, escape = helpers.escape;
        var getDefaults = defaults$5.exports.getDefaults, changeDefaults = defaults$5.exports.changeDefaults, defaults = defaults$5.exports.defaults;
        /**
   * Marked
   */ function $616893341b2d071f$export$db8f131360c543a5(src, opt, callback) {
            // throw error in case of non string input
            if (typeof src === 'undefined' || src === null) throw new Error('marked(): input parameter is undefined or null');
            if (typeof src !== 'string') throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');
            if (typeof opt === 'function') {
                callback = opt;
                opt = null;
            }
            opt = merge({}, $616893341b2d071f$export$db8f131360c543a5.defaults, opt || {});
            checkSanitizeDeprecation(opt);
            if (callback) {
                var highlight = opt.highlight;
                var tokens;
                try {
                    tokens = $616893341b2d071f$export$6168dc8908a6c652.lex(src, opt);
                } catch (e1) {
                    return callback(e1);
                }
                var done = function done(err) {
                    var out;
                    if (!err) try {
                        if (opt.walkTokens) $616893341b2d071f$export$db8f131360c543a5.walkTokens(tokens, opt.walkTokens);
                        out = $616893341b2d071f$export$7acfa6ed01010e37.parse(tokens, opt);
                    } catch (e) {
                        err = e;
                    }
                    opt.highlight = highlight;
                    return err ? callback(err) : callback(null, out);
                };
                if (!highlight || highlight.length < 3) return done();
                delete opt.highlight;
                if (!tokens.length) return done();
                var pending = 0;
                $616893341b2d071f$export$db8f131360c543a5.walkTokens(tokens, function(token) {
                    if (token.type === 'code') {
                        pending++;
                        setTimeout(function() {
                            highlight(token.text, token.lang, function(err, code) {
                                if (err) return done(err);
                                if (code != null && code !== token.text) {
                                    token.text = code;
                                    token.escaped = true;
                                }
                                pending--;
                                if (pending === 0) done();
                            });
                        }, 0);
                    }
                });
                if (pending === 0) done();
                return;
            }
            try {
                var _tokens = $616893341b2d071f$export$6168dc8908a6c652.lex(src, opt);
                if (opt.walkTokens) $616893341b2d071f$export$db8f131360c543a5.walkTokens(_tokens, opt.walkTokens);
                return $616893341b2d071f$export$7acfa6ed01010e37.parse(_tokens, opt);
            } catch (e) {
                e.message += '\nPlease report this to https://github.com/markedjs/marked.';
                if (opt.silent) return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';
                throw e;
            }
        }
        /**
   * Options
   */ $616893341b2d071f$export$db8f131360c543a5.options = $616893341b2d071f$export$db8f131360c543a5.setOptions = function(opt) {
            merge($616893341b2d071f$export$db8f131360c543a5.defaults, opt);
            changeDefaults($616893341b2d071f$export$db8f131360c543a5.defaults);
            return $616893341b2d071f$export$db8f131360c543a5;
        };
        $616893341b2d071f$export$db8f131360c543a5.getDefaults = getDefaults;
        $616893341b2d071f$export$db8f131360c543a5.defaults = defaults;
        /**
   * Use Extension
   */ $616893341b2d071f$export$db8f131360c543a5.use = function() {
            var _this = this;
            for(var _len = arguments.length, args1 = new Array(_len), _key = 0; _key < _len; _key++)args1[_key] = arguments[_key];
            var opts = merge.apply(void 0, [
                {}
            ].concat(args1));
            var extensions = $616893341b2d071f$export$db8f131360c543a5.defaults.extensions || {
                renderers: {},
                childTokens: {}
            };
            var hasExtensions;
            args1.forEach(function(pack) {
                // ==-- Parse "addon" extensions --== //
                if (pack.extensions) {
                    hasExtensions = true;
                    pack.extensions.forEach(function(ext) {
                        if (!ext.name) throw new Error('extension name required');
                        if (ext.renderer) {
                            // Renderer extensions
                            var prevRenderer = extensions.renderers ? extensions.renderers[ext.name] : null;
                            if (prevRenderer) // Replace extension with func to run new extension but fall back if false
                            extensions.renderers[ext.name] = function() {
                                for(var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++)args[_key2] = arguments[_key2];
                                var ret = ext.renderer.apply(this, args);
                                if (ret === false) ret = prevRenderer.apply(this, args);
                                return ret;
                            };
                            else extensions.renderers[ext.name] = ext.renderer;
                        }
                        if (ext.tokenizer) {
                            // Tokenizer Extensions
                            if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') throw new Error("extension level must be 'block' or 'inline'");
                            if (extensions[ext.level]) extensions[ext.level].unshift(ext.tokenizer);
                            else extensions[ext.level] = [
                                ext.tokenizer
                            ];
                            if (ext.start) {
                                // Function to check for start of token
                                if (ext.level === 'block') {
                                    if (extensions.startBlock) extensions.startBlock.push(ext.start);
                                    else extensions.startBlock = [
                                        ext.start
                                    ];
                                } else if (ext.level === 'inline') {
                                    if (extensions.startInline) extensions.startInline.push(ext.start);
                                    else extensions.startInline = [
                                        ext.start
                                    ];
                                }
                            }
                        }
                        if (ext.childTokens) // Child tokens to be visited by walkTokens
                        extensions.childTokens[ext.name] = ext.childTokens;
                    });
                } // ==-- Parse "overwrite" extensions --== //
                if (pack.renderer) (function() {
                    var renderer = $616893341b2d071f$export$db8f131360c543a5.defaults.renderer || new $616893341b2d071f$export$88530751e3977073();
                    var _loop = function _loop(prop) {
                        var prevRenderer = renderer[prop]; // Replace renderer with func to run extension, but fall back if false
                        renderer[prop] = function() {
                            for(var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++)args[_key3] = arguments[_key3];
                            var ret = pack.renderer[prop].apply(renderer, args);
                            if (ret === false) ret = prevRenderer.apply(renderer, args);
                            return ret;
                        };
                    };
                    for(var prop1 in pack.renderer)_loop(prop1);
                    opts.renderer = renderer;
                })();
                if (pack.tokenizer) (function() {
                    var tokenizer = $616893341b2d071f$export$db8f131360c543a5.defaults.tokenizer || new $616893341b2d071f$export$55e8b082af4aa63e();
                    var _loop2 = function _loop2(prop) {
                        var prevTokenizer = tokenizer[prop]; // Replace tokenizer with func to run extension, but fall back if false
                        tokenizer[prop] = function() {
                            for(var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++)args[_key4] = arguments[_key4];
                            var ret = pack.tokenizer[prop].apply(tokenizer, args);
                            if (ret === false) ret = prevTokenizer.apply(tokenizer, args);
                            return ret;
                        };
                    };
                    for(var prop2 in pack.tokenizer)_loop2(prop2);
                    opts.tokenizer = tokenizer;
                })();
                 // ==-- Parse WalkTokens extensions --== //
                if (pack.walkTokens) {
                    var walkTokens = $616893341b2d071f$export$db8f131360c543a5.defaults.walkTokens;
                    opts.walkTokens = function(token) {
                        pack.walkTokens.call(_this, token);
                        if (walkTokens) walkTokens(token);
                    };
                }
                if (hasExtensions) opts.extensions = extensions;
                $616893341b2d071f$export$db8f131360c543a5.setOptions(opts);
            });
        };
        /**
   * Run callback for every token
   */ $616893341b2d071f$export$db8f131360c543a5.walkTokens = function(tokens, callback) {
            var _loop3 = function _loop3() {
                var token = _step.value;
                callback(token);
                switch(token.type){
                    case 'table':
                        for(var _iterator2 = _createForOfIteratorHelperLoose(token.header), _step2; !(_step2 = _iterator2()).done;){
                            var cell = _step2.value;
                            $616893341b2d071f$export$db8f131360c543a5.walkTokens(cell.tokens, callback);
                        }
                        for(var _iterator3 = _createForOfIteratorHelperLoose(token.rows), _step3; !(_step3 = _iterator3()).done;){
                            var row = _step3.value;
                            for(var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;){
                                var _cell = _step4.value;
                                $616893341b2d071f$export$db8f131360c543a5.walkTokens(_cell.tokens, callback);
                            }
                        }
                        break;
                    case 'list':
                        $616893341b2d071f$export$db8f131360c543a5.walkTokens(token.items, callback);
                        break;
                    default:
                        if ($616893341b2d071f$export$db8f131360c543a5.defaults.extensions && $616893341b2d071f$export$db8f131360c543a5.defaults.extensions.childTokens && $616893341b2d071f$export$db8f131360c543a5.defaults.extensions.childTokens[token.type]) // Walk any extensions
                        $616893341b2d071f$export$db8f131360c543a5.defaults.extensions.childTokens[token.type].forEach(function(childTokens) {
                            $616893341b2d071f$export$db8f131360c543a5.walkTokens(token[childTokens], callback);
                        });
                        else if (token.tokens) $616893341b2d071f$export$db8f131360c543a5.walkTokens(token.tokens, callback);
                }
            };
            for(var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;)_loop3();
        };
        /**
   * Parse Inline
   */ $616893341b2d071f$export$db8f131360c543a5.parseInline = function(src, opt) {
            // throw error in case of non string input
            if (typeof src === 'undefined' || src === null) throw new Error('marked.parseInline(): input parameter is undefined or null');
            if (typeof src !== 'string') throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');
            opt = merge({}, $616893341b2d071f$export$db8f131360c543a5.defaults, opt || {});
            checkSanitizeDeprecation(opt);
            try {
                var tokens = $616893341b2d071f$export$6168dc8908a6c652.lexInline(src, opt);
                if (opt.walkTokens) $616893341b2d071f$export$db8f131360c543a5.walkTokens(tokens, opt.walkTokens);
                return $616893341b2d071f$export$7acfa6ed01010e37.parseInline(tokens, opt);
            } catch (e) {
                e.message += '\nPlease report this to https://github.com/markedjs/marked.';
                if (opt.silent) return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';
                throw e;
            }
        };
        /**
   * Expose
   */ $616893341b2d071f$export$db8f131360c543a5.Parser = $616893341b2d071f$export$7acfa6ed01010e37;
        $616893341b2d071f$export$db8f131360c543a5.parser = $616893341b2d071f$export$7acfa6ed01010e37.parse;
        $616893341b2d071f$export$db8f131360c543a5.Renderer = $616893341b2d071f$export$88530751e3977073;
        $616893341b2d071f$export$db8f131360c543a5.TextRenderer = $616893341b2d071f$export$75ebcd2c8ed5b901;
        $616893341b2d071f$export$db8f131360c543a5.Lexer = $616893341b2d071f$export$6168dc8908a6c652;
        $616893341b2d071f$export$db8f131360c543a5.lexer = $616893341b2d071f$export$6168dc8908a6c652.lex;
        $616893341b2d071f$export$db8f131360c543a5.Tokenizer = $616893341b2d071f$export$55e8b082af4aa63e;
        $616893341b2d071f$export$db8f131360c543a5.Slugger = $616893341b2d071f$export$a2039dba1f9639d;
        $616893341b2d071f$export$db8f131360c543a5.parse = $616893341b2d071f$export$db8f131360c543a5;
        var marked_1 = $616893341b2d071f$export$db8f131360c543a5;
        return marked_1;
    });
// ESM-uncomment-begin
})();
var $616893341b2d071f$export$db8f131360c543a5 = $616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports;
var $616893341b2d071f$export$7acfa6ed01010e37 = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).Parser;
var $616893341b2d071f$export$8f49e4af10703ce3 = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).parser;
var $616893341b2d071f$export$88530751e3977073 = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).Renderer;
var $616893341b2d071f$export$75ebcd2c8ed5b901 = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).TextRenderer;
var $616893341b2d071f$export$6168dc8908a6c652 = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).Lexer;
var $616893341b2d071f$export$43feed32102720d2 = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).lexer;
var $616893341b2d071f$export$55e8b082af4aa63e = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).Tokenizer;
var $616893341b2d071f$export$a2039dba1f9639d = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).Slugger;
var $616893341b2d071f$export$98e6a39c04603d36 = ($616893341b2d071f$var$__marked_exports || $616893341b2d071f$exports).parse; // ESM-uncomment-end



var $jScF9 = parcelRequire("jScF9");

var $fA94G = parcelRequire("fA94G");

var $freNL = parcelRequire("freNL");

var $lvxAj = parcelRequire("lvxAj");

var $i4xl7 = parcelRequire("i4xl7");

var $bUZVY = parcelRequire("bUZVY");
function $be51d07210a80d90$export$bd27f0c8b4b4eabc(markdown, options = {}, markedOptions = {}) {
    var _a1;
    const disposables = new $6W1JA.DisposableStore();
    let isDisposed = false;
    const cts = disposables.add(new $1vhHo.CancellationTokenSource());
    const element = $1hiWs.createElement(options);
    const _uriMassage = function(part) {
        let data;
        try {
            data = $jScF9.parse(decodeURIComponent(part));
        } catch (e) {
        // ignore
        }
        if (!data) return part;
        data = $freNL.cloneAndChange(data, (value)=>{
            if (markdown.uris && markdown.uris[value]) return $bUZVY.URI.revive(markdown.uris[value]);
            else return undefined;
        });
        return encodeURIComponent(JSON.stringify(data));
    };
    const _href = function(href, isDomUri) {
        const data = markdown.uris && markdown.uris[href];
        let uri = $bUZVY.URI.revive(data);
        if (isDomUri) {
            if (href.startsWith($fA94G.Schemas.data + ':')) return href;
            if (!uri) uri = $bUZVY.URI.parse(href);
            // this URI will end up as "src"-attribute of a dom node
            // and because of that special rewriting needs to be done
            // so that the URI uses a protocol that's understood by
            // browsers (like http or https)
            return $fA94G.FileAccess.asBrowserUri(uri).toString(true);
        }
        if (!uri) return href;
        if ($bUZVY.URI.parse(href).toString() === uri.toString()) return href; // no transformation performed
        if (uri.query) uri = uri.with({
            query: _uriMassage(uri.query)
        });
        return uri.toString();
    };
    // signal to code-block render that the
    // element has been created
    let signalInnerHTML;
    const withInnerHTML = new Promise((c)=>signalInnerHTML = c
    );
    const renderer = new $616893341b2d071f$exports.Renderer();
    renderer.image = (href, title, text)=>{
        let dimensions = [];
        let attributes = [];
        if (href) {
            ({ href: href , dimensions: dimensions  } = $eeQ9E.parseHrefAndDimensions(href));
            attributes.push(`src="${href}"`);
        }
        if (text) attributes.push(`alt="${text}"`);
        if (title) attributes.push(`title="${title}"`);
        if (dimensions.length) attributes = attributes.concat(dimensions);
        return '<img ' + attributes.join(' ') + '>';
    };
    renderer.link = (href, title, text)=>{
        // Remove markdown escapes. Workaround for https://github.com/chjj/marked/issues/829
        if (href === text) text = $eeQ9E.removeMarkdownEscapes(text);
        href = _href(href, false);
        if (options.baseUrl) {
            const hasScheme = /^\w[\w\d+.-]*:/.test(href);
            if (!hasScheme) href = $lvxAj.resolvePath(options.baseUrl, href).toString();
        }
        title = $eeQ9E.removeMarkdownEscapes(title);
        href = $eeQ9E.removeMarkdownEscapes(href);
        if (!href || href.match(/^data:|javascript:/i) || href.match(/^command:/i) && !markdown.isTrusted || href.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)) // drop the link
        return text;
        else {
            // HTML Encode href
            href = href.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;');
            return `<a href="#" data-href="${href}" title="${title || href}">${text}</a>`;
        }
    };
    renderer.paragraph = (text)=>{
        return `<p>${text}</p>`;
    };
    if (options.codeBlockRenderer) renderer.code = (code, lang)=>{
        const value = options.codeBlockRenderer(lang, code);
        // when code-block rendering is async we return sync
        // but update the node with the real result later.
        const id = $iZqFU.defaultGenerator.nextId();
        $5piST.raceCancellation(Promise.all([
            value,
            withInnerHTML
        ]), cts.token).then((values)=>{
            var _a;
            if (!isDisposed && values) {
                const span = element.querySelector(`div[data-code="${id}"]`);
                if (span) $8xgjE.reset(span, values[0]);
                (_a = options.asyncRenderCallback) === null || _a === void 0 || _a.call(options);
            }
        }).catch(()=>{
        // ignore
        });
        return `<div class="code" data-code="${id}">${$i4xl7.escape(code)}</div>`;
    };
    if (options.actionHandler) {
        const onClick = options.actionHandler.disposables.add(new $84FS6.DomEmitter(element, 'click'));
        const onAuxClick = options.actionHandler.disposables.add(new $84FS6.DomEmitter(element, 'auxclick'));
        options.actionHandler.disposables.add($bkXdq.Event.any(onClick.event, onAuxClick.event)((e)=>{
            const mouseEvent = new $1FHmW.StandardMouseEvent(e);
            if (!mouseEvent.leftButton && !mouseEvent.middleButton) return;
            let target = mouseEvent.target;
            if (target.tagName !== 'A') {
                target = target.parentElement;
                if (!target || target.tagName !== 'A') return;
            }
            try {
                const href = target.dataset['href'];
                if (href) options.actionHandler.callback(href, mouseEvent);
            } catch (err) {
                $3FsT3.onUnexpectedError(err);
            } finally{
                mouseEvent.preventDefault();
            }
        }));
    }
    if (!markdown.supportHtml) {
        // TODO: Can we deprecated this in favor of 'supportHtml'?
        // Use our own sanitizer so that we can let through only spans.
        // Otherwise, we'd be letting all html be rendered.
        // If we want to allow markdown permitted tags, then we can delete sanitizer and sanitize.
        // We always pass the output through dompurify after this so that we don't rely on
        // marked for sanitization.
        markedOptions.sanitizer = (html)=>{
            const match = markdown.isTrusted ? html.match(/^(<span[^>]+>)|(<\/\s*span>)$/) : undefined;
            return match ? html : '';
        };
        markedOptions.sanitize = true;
        markedOptions.silent = true;
    }
    markedOptions.renderer = renderer;
    // values that are too long will freeze the UI
    let value1 = (_a1 = markdown.value) !== null && _a1 !== void 0 ? _a1 : '';
    if (value1.length > 100000) value1 = `${value1.substr(0, 100000)}`;
    // escape theme icons
    if (markdown.supportThemeIcons) value1 = $7b0Ts.markdownEscapeEscapedIcons(value1);
    let renderedMarkdown = $616893341b2d071f$exports.parse(value1, markedOptions);
    // Rewrite theme icons
    if (markdown.supportThemeIcons) {
        const elements = $4yyh4.renderLabelWithIcons(renderedMarkdown);
        renderedMarkdown = elements.map((e)=>typeof e === 'string' ? e : e.outerHTML
        ).join('');
    }
    const htmlParser = new DOMParser();
    const markdownHtmlDoc = htmlParser.parseFromString($be51d07210a80d90$var$sanitizeRenderedMarkdown(markdown, renderedMarkdown), 'text/html');
    markdownHtmlDoc.body.querySelectorAll('img').forEach((img)=>{
        if (img.src) {
            let href = _href(img.src, true);
            try {
                const hrefAsUri = $bUZVY.URI.parse(href);
                if (options.baseUrl && hrefAsUri.scheme === $fA94G.Schemas.file) href = $lvxAj.resolvePath(options.baseUrl, href).toString();
            } catch (err) {}
            img.src = href;
        }
    });
    element.innerHTML = $be51d07210a80d90$var$sanitizeRenderedMarkdown(markdown, markdownHtmlDoc.body.innerHTML);
    // signal that async code blocks can be now be inserted
    signalInnerHTML();
    // signal size changes for image tags
    if (options.asyncRenderCallback) for (const img1 of element.getElementsByTagName('img')){
        const listener = disposables.add($8xgjE.addDisposableListener(img1, 'load', ()=>{
            listener.dispose();
            options.asyncRenderCallback();
        }));
    }
    return {
        element: element,
        dispose: ()=>{
            isDisposed = true;
            cts.cancel();
            disposables.dispose();
        }
    };
}
function $be51d07210a80d90$var$sanitizeRenderedMarkdown(options, renderedMarkdown) {
    const { config: config , allowedSchemes: allowedSchemes  } = $be51d07210a80d90$var$getSanitizerOptions(options);
    $18a0d334f621899c$export$f99777bb87ac6904('uponSanitizeAttribute', (element, e)=>{
        if (e.attrName === 'style' || e.attrName === 'class') {
            if (element.tagName === 'SPAN') {
                if (e.attrName === 'style') {
                    e.keepAttr = /^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(e.attrValue);
                    return;
                } else if (e.attrName === 'class') {
                    e.keepAttr = /^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(e.attrValue);
                    return;
                }
            }
            e.keepAttr = false;
            return;
        }
    });
    // build an anchor to map URLs to
    const anchor = document.createElement('a');
    // https://github.com/cure53/DOMPurify/blob/main/demos/hooks-scheme-allowlist.html
    $18a0d334f621899c$export$f99777bb87ac6904('afterSanitizeAttributes', (node)=>{
        // check all href/src attributes for validity
        for (const attr of [
            'href',
            'src'
        ])if (node.hasAttribute(attr)) {
            anchor.href = node.getAttribute(attr);
            if (!allowedSchemes.includes(anchor.protocol.replace(/:$/, ''))) node.removeAttribute(attr);
        }
    });
    try {
        return $18a0d334f621899c$export$83d2e9e3e4ee39ed(renderedMarkdown, Object.assign(Object.assign({}, config), {
            RETURN_TRUSTED_TYPE: true
        }));
    } finally{
        $18a0d334f621899c$export$4840506845da1500('uponSanitizeAttribute');
        $18a0d334f621899c$export$4840506845da1500('afterSanitizeAttributes');
    }
}
function $be51d07210a80d90$var$getSanitizerOptions(options) {
    const allowedSchemes = [
        $fA94G.Schemas.http,
        $fA94G.Schemas.https,
        $fA94G.Schemas.mailto,
        $fA94G.Schemas.data,
        $fA94G.Schemas.file,
        $fA94G.Schemas.vscodeFileResource,
        $fA94G.Schemas.vscodeRemote,
        $fA94G.Schemas.vscodeRemoteResource, 
    ];
    if (options.isTrusted) allowedSchemes.push($fA94G.Schemas.command);
    return {
        config: {
            // allowedTags should included everything that markdown renders to.
            // Since we have our own sanitize function for marked, it's possible we missed some tag so let dompurify make sure.
            // HTML tags that can result from markdown are from reading https://spec.commonmark.org/0.29/
            // HTML table tags that can result from markdown are from https://github.github.com/gfm/#tables-extension-
            ALLOWED_TAGS: [
                'ul',
                'li',
                'p',
                'b',
                'i',
                'code',
                'blockquote',
                'ol',
                'h1',
                'h2',
                'h3',
                'h4',
                'h5',
                'h6',
                'hr',
                'em',
                'pre',
                'table',
                'thead',
                'tbody',
                'tr',
                'th',
                'td',
                'div',
                'del',
                'a',
                'strong',
                'br',
                'img',
                'span'
            ],
            ALLOWED_ATTR: [
                'href',
                'data-href',
                'target',
                'title',
                'src',
                'alt',
                'class',
                'style',
                'data-code',
                'width',
                'height',
                'align'
            ],
            ALLOW_UNKNOWN_PROTOCOLS: true
        },
        allowedSchemes: allowedSchemes
    };
}



var $3jCpu = parcelRequire("3jCpu");

var $jwAxq = parcelRequire("jwAxq");

var $3FsT3 = parcelRequire("3FsT3");

var $4Mct1 = parcelRequire("4Mct1");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $goPht = parcelRequire("goPht");

var $9hSek = parcelRequire("9hSek");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $4a80f1f73e880bad$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $4a80f1f73e880bad$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $4a80f1f73e880bad$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var $4a80f1f73e880bad$var$_a;
/**
 * Markdown renderer that can render codeblocks with the editor mechanics. This
 * renderer should always be preferred.
 */ let $4a80f1f73e880bad$export$22c2c977437cf477 = class $4a80f1f73e880bad$export$22c2c977437cf477 {
    dispose() {
        this._onDidRenderAsync.dispose();
    }
    render(markdown, options, markedOptions) {
        if (!markdown) {
            const element = document.createElement('span');
            return {
                element: element,
                dispose: ()=>{}
            };
        }
        const disposables = new $6W1JA.DisposableStore();
        const rendered = disposables.add($be51d07210a80d90$export$bd27f0c8b4b4eabc(markdown, Object.assign(Object.assign({}, this._getRenderOptions(markdown, disposables)), options), markedOptions));
        return {
            element: rendered.element,
            dispose: ()=>disposables.dispose()
        };
    }
    _getRenderOptions(markdown, disposeables) {
        return {
            baseUrl: this._options.baseUrl,
            codeBlockRenderer: (languageAlias, value)=>$4a80f1f73e880bad$var$__awaiter(this, void 0, void 0, function*() {
                    var _a, _b, _c, _d;
                    // In markdown,
                    // it is possible that we stumble upon language aliases (e.g.js instead of javascript)
                    // it is possible no alias is given in which case we fall back to the current editor lang
                    let languageId;
                    if (languageAlias) languageId = this._modeService.getModeIdForLanguageName(languageAlias);
                    else if (this._options.editor) languageId = (_a = this._options.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getLanguageId();
                    if (!languageId) languageId = 'plaintext';
                    this._modeService.triggerMode(languageId);
                    const tokenization = (_b = yield $goPht.TokenizationRegistry.getPromise(languageId)) !== null && _b !== void 0 ? _b : undefined;
                    const element = document.createElement('span');
                    element.innerHTML = (_d = (_c = $4a80f1f73e880bad$export$22c2c977437cf477._ttpTokenizer) === null || _c === void 0 ? void 0 : _c.createHTML(value, this._modeService.languageIdCodec, tokenization)) !== null && _d !== void 0 ? _d : $4Mct1.tokenizeToString(value, this._modeService.languageIdCodec, tokenization);
                    // use "good" font
                    if (this._options.editor) {
                        const fontInfo = this._options.editor.getOption(43 /* fontInfo */ );
                        $9hSek.Configuration.applyFontInfoSlow(element, fontInfo);
                    } else if (this._options.codeBlockFontFamily) element.style.fontFamily = this._options.codeBlockFontFamily;
                    return element;
                })
            ,
            asyncRenderCallback: ()=>this._onDidRenderAsync.fire()
            ,
            actionHandler: {
                callback: (content)=>this._openerService.open(content, {
                        fromUserGesture: true,
                        allowContributedOpeners: true,
                        allowCommands: markdown.isTrusted
                    }).catch($3FsT3.onUnexpectedError)
                ,
                disposables: disposeables
            }
        };
    }
    constructor(_options, _modeService, _openerService){
        this._options = _options;
        this._modeService = _modeService;
        this._openerService = _openerService;
        this._onDidRenderAsync = new $bkXdq.Emitter();
        this.onDidRenderAsync = this._onDidRenderAsync.event;
    }
};
$4a80f1f73e880bad$export$22c2c977437cf477._ttpTokenizer = ($4a80f1f73e880bad$var$_a = window.trustedTypes) === null || $4a80f1f73e880bad$var$_a === void 0 ? void 0 : $4a80f1f73e880bad$var$_a.createPolicy('tokenizeToString', {
    createHTML (value, languageIdCodec, tokenizer) {
        return $4Mct1.tokenizeToString(value, languageIdCodec, tokenizer);
    }
});
$4a80f1f73e880bad$export$22c2c977437cf477 = $4a80f1f73e880bad$var$__decorate([
    $4a80f1f73e880bad$var$__param(1, $jwAxq.IModeService),
    $4a80f1f73e880bad$var$__param(2, $3jCpu.IOpenerService)
], $4a80f1f73e880bad$export$22c2c977437cf477);



var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $jwAxq = parcelRequire("jwAxq");
var $7b54a1554500bed8$exports = {};

$parcel$export($7b54a1554500bed8$exports, "getHover", function () { return $7b54a1554500bed8$export$6e0a32f513b2f3d3; }, function (v) { return $7b54a1554500bed8$export$6e0a32f513b2f3d3 = v; });

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $g9Zlr = parcelRequire("g9Zlr");

var $goPht = parcelRequire("goPht");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $7b54a1554500bed8$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $7b54a1554500bed8$export$b4cb00c725d0d256 {
    constructor(provider, hover, ordinal){
        this.provider = provider;
        this.hover = hover;
        this.ordinal = ordinal;
    }
}
function $7b54a1554500bed8$var$executeProvider(provider, ordinal, model, position, token) {
    return $7b54a1554500bed8$var$__awaiter(this, void 0, void 0, function*() {
        try {
            const result = yield Promise.resolve(provider.provideHover(model, position, token));
            if (result && $7b54a1554500bed8$var$isValid(result)) return new $7b54a1554500bed8$export$b4cb00c725d0d256(provider, result, ordinal);
        } catch (err) {
            $3FsT3.onUnexpectedExternalError(err);
        }
        return undefined;
    });
}
function $7b54a1554500bed8$export$6e0a32f513b2f3d3(model, position, token) {
    const providers = $goPht.HoverProviderRegistry.ordered(model);
    const promises = providers.map((provider, index)=>$7b54a1554500bed8$var$executeProvider(provider, index, model, position, token)
    );
    return $5piST.AsyncIterableObject.fromPromises(promises).coalesce();
}
function $7b54a1554500bed8$export$8471e987413ee246(model, position, token) {
    return $7b54a1554500bed8$export$6e0a32f513b2f3d3(model, position, token).map((item)=>item.hover
    ).toPromise();
}
$g9Zlr.registerModelAndPositionCommand('_executeHoverProvider', (model, position)=>$7b54a1554500bed8$export$8471e987413ee246(model, position, $1vhHo.CancellationToken.None)
);
function $7b54a1554500bed8$var$isValid(result) {
    const hasRange = typeof result.range !== 'undefined';
    const hasHtmlContent = typeof result.contents !== 'undefined' && result.contents && result.contents.length > 0;
    return hasRange && hasHtmlContent;
}



var $1WuVQ = parcelRequire("1WuVQ");

var $6goiI = parcelRequire("6goiI");

var $3jCpu = parcelRequire("3jCpu");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $0453525cadea7137$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $0453525cadea7137$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $0453525cadea7137$var$$ = $8xgjE.$;
class $0453525cadea7137$export$de5210377542b3f9 {
    isValidForHoverAnchor(anchor) {
        return anchor.type === 1 /* Range */  && this.range.startColumn <= anchor.range.startColumn && this.range.endColumn >= anchor.range.endColumn;
    }
    constructor(owner, range, contents, ordinal){
        this.owner = owner;
        this.range = range;
        this.contents = contents;
        this.ordinal = ordinal;
    }
}
let $0453525cadea7137$export$db7233c4b0ae81a2 = class $0453525cadea7137$export$db7233c4b0ae81a2 {
    createLoadingMessage(anchor) {
        return new $0453525cadea7137$export$de5210377542b3f9(this, anchor.range, [
            new $eeQ9E.MarkdownString().appendText($1WuVQ.localize('modesContentHover.loading', "Loading..."))
        ], 2000);
    }
    computeSync(anchor, lineDecorations) {
        if (!this._editor.hasModel() || anchor.type !== 1 /* Range */ ) return [];
        const model = this._editor.getModel();
        const lineNumber = anchor.range.startLineNumber;
        const maxColumn = model.getLineMaxColumn(lineNumber);
        const result = [];
        let index = 1000;
        const lineLength = model.getLineLength(lineNumber);
        const languageId = model.getLanguageIdAtPosition(anchor.range.startLineNumber, anchor.range.startColumn);
        const maxTokenizationLineLength = this._configurationService.getValue('editor.maxTokenizationLineLength', {
            overrideIdentifier: languageId
        });
        if (typeof maxTokenizationLineLength === 'number' && lineLength >= maxTokenizationLineLength) result.push(new $0453525cadea7137$export$de5210377542b3f9(this, anchor.range, [
            {
                value: $1WuVQ.localize('too many characters', "Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")
            }
        ], index++));
        for (const d of lineDecorations){
            const startColumn = d.range.startLineNumber === lineNumber ? d.range.startColumn : 1;
            const endColumn = d.range.endLineNumber === lineNumber ? d.range.endColumn : maxColumn;
            const hoverMessage = d.options.hoverMessage;
            if (!hoverMessage || $eeQ9E.isEmptyMarkdownString(hoverMessage)) continue;
            const range = new $1YFxJ.Range(anchor.range.startLineNumber, startColumn, anchor.range.startLineNumber, endColumn);
            result.push(new $0453525cadea7137$export$de5210377542b3f9(this, range, $duSG1.asArray(hoverMessage), index++));
        }
        return result;
    }
    computeAsync(anchor, lineDecorations, token) {
        if (!this._editor.hasModel() || anchor.type !== 1 /* Range */ ) return $5piST.AsyncIterableObject.EMPTY;
        const model = this._editor.getModel();
        if (!$goPht.HoverProviderRegistry.has(model)) return $5piST.AsyncIterableObject.EMPTY;
        const position = new $fqrfT.Position(anchor.range.startLineNumber, anchor.range.startColumn);
        return $7b54a1554500bed8$exports.getHover(model, position, token).filter((item)=>!$eeQ9E.isEmptyMarkdownString(item.hover.contents)
        ).map((item)=>{
            const rng = item.hover.range ? $1YFxJ.Range.lift(item.hover.range) : anchor.range;
            return new $0453525cadea7137$export$de5210377542b3f9(this, rng, item.hover.contents, item.ordinal);
        });
    }
    renderHoverParts(hoverParts, fragment, statusBar) {
        return $0453525cadea7137$export$d74d68ef545bd110(hoverParts, fragment, this._editor, this._hover, this._modeService, this._openerService);
    }
    constructor(_editor, _hover, _modeService, _openerService, _configurationService){
        this._editor = _editor;
        this._hover = _hover;
        this._modeService = _modeService;
        this._openerService = _openerService;
        this._configurationService = _configurationService;
    }
};
$0453525cadea7137$export$db7233c4b0ae81a2 = $0453525cadea7137$var$__decorate([
    $0453525cadea7137$var$__param(2, $jwAxq.IModeService),
    $0453525cadea7137$var$__param(3, $3jCpu.IOpenerService),
    $0453525cadea7137$var$__param(4, $6goiI.IConfigurationService)
], $0453525cadea7137$export$db7233c4b0ae81a2);
function $0453525cadea7137$export$d74d68ef545bd110(hoverParts, fragment, editor, hover, modeService, openerService) {
    // Sort hover parts to keep them stable since they might come in async, out-of-order
    hoverParts.sort((a, b)=>a.ordinal - b.ordinal
    );
    const disposables = new $6W1JA.DisposableStore();
    for (const hoverPart of hoverParts)for (const contents of hoverPart.contents){
        if ($eeQ9E.isEmptyMarkdownString(contents)) continue;
        const markdownHoverElement = $0453525cadea7137$var$$('div.hover-row.markdown-hover');
        const hoverContentsElement = $8xgjE.append(markdownHoverElement, $0453525cadea7137$var$$('div.hover-contents'));
        const renderer = disposables.add(new $4a80f1f73e880bad$exports.MarkdownRenderer({
            editor: editor
        }, modeService, openerService));
        disposables.add(renderer.onDidRenderAsync(()=>{
            hoverContentsElement.className = 'hover-contents code-hover-contents';
            hover.onContentsChanged();
        }));
        const renderedContents = disposables.add(renderer.render(contents));
        hoverContentsElement.appendChild(renderedContents.element);
        fragment.appendChild(markdownHoverElement);
    }
    return disposables;
}


var $a176f00d89108e08$exports = {};

$parcel$export($a176f00d89108e08$exports, "MarkerHoverParticipant", function () { return $a176f00d89108e08$export$32a9787b1b5ca518; }, function (v) { return $a176f00d89108e08$export$32a9787b1b5ca518 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $duSG1 = parcelRequire("duSG1");

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $lvxAj = parcelRequire("lvxAj");

var $1YFxJ = parcelRequire("1YFxJ");

var $1c4ih = parcelRequire("1c4ih");



var $5921217280261dac$exports = {};

$parcel$export($5921217280261dac$exports, "MarkerController", function () { return $5921217280261dac$export$97b58da131ee49b9; }, function (v) { return $5921217280261dac$export$97b58da131ee49b9 = v; });
$parcel$export($5921217280261dac$exports, "NextMarkerAction", function () { return $5921217280261dac$export$d0f8fc22ad9db3b2; }, function (v) { return $5921217280261dac$export$d0f8fc22ad9db3b2 = v; });

var $k4zqw = parcelRequire("k4zqw");

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");
var $0eb10bc15189b8b2$exports = {};

$parcel$export($0eb10bc15189b8b2$exports, "IMarkerNavigationService", function () { return $0eb10bc15189b8b2$export$f7ebd4a56ff523fe; }, function (v) { return $0eb10bc15189b8b2$export$f7ebd4a56ff523fe = v; });

var $duSG1 = parcelRequire("duSG1");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $1c12Y = parcelRequire("1c12Y");

var $i4xl7 = parcelRequire("i4xl7");

var $bUZVY = parcelRequire("bUZVY");

var $1YFxJ = parcelRequire("1YFxJ");

var $fjjY8 = parcelRequire("fjjY8");

var $6Xx7t = parcelRequire("6Xx7t");

var $ehxrG = parcelRequire("ehxrG");

var $6goiI = parcelRequire("6goiI");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $0eb10bc15189b8b2$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $0eb10bc15189b8b2$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
class $0eb10bc15189b8b2$export$184d3b30ff671af4 {
    constructor(marker, index, total){
        this.marker = marker;
        this.index = index;
        this.total = total;
    }
}
let $0eb10bc15189b8b2$export$b1f920f775feb297 = class $0eb10bc15189b8b2$export$b1f920f775feb297 {
    dispose() {
        this._dispoables.dispose();
        this._onDidChange.dispose();
    }
    matches(uri) {
        if (!this._resourceFilter && !uri) return true;
        if (!this._resourceFilter || !uri) return false;
        return this._resourceFilter(uri);
    }
    get selected() {
        const marker = this._markers[this._nextIdx];
        return marker && new $0eb10bc15189b8b2$export$184d3b30ff671af4(marker, this._nextIdx + 1, this._markers.length);
    }
    _initIdx(model, position, fwd) {
        let found = false;
        let idx = this._markers.findIndex((marker)=>marker.resource.toString() === model.uri.toString()
        );
        if (idx < 0) {
            idx = $duSG1.binarySearch(this._markers, {
                resource: model.uri
            }, (a, b)=>$i4xl7.compare(a.resource.toString(), b.resource.toString())
            );
            if (idx < 0) idx = ~idx;
        }
        for(let i = idx; i < this._markers.length; i++){
            let range = $1YFxJ.Range.lift(this._markers[i]);
            if (range.isEmpty()) {
                const word = model.getWordAtPosition(range.getStartPosition());
                if (word) range = new $1YFxJ.Range(range.startLineNumber, word.startColumn, range.startLineNumber, word.endColumn);
            }
            if (position && (range.containsPosition(position) || position.isBeforeOrEqual(range.getStartPosition()))) {
                this._nextIdx = i;
                found = true;
                break;
            }
            if (this._markers[i].resource.toString() !== model.uri.toString()) break;
        }
        if (!found) // after the last change
        this._nextIdx = fwd ? 0 : this._markers.length - 1;
        if (this._nextIdx < 0) this._nextIdx = this._markers.length - 1;
    }
    resetIndex() {
        this._nextIdx = -1;
    }
    move(fwd, model, position) {
        if (this._markers.length === 0) return false;
        let oldIdx = this._nextIdx;
        if (this._nextIdx === -1) this._initIdx(model, position, fwd);
        else if (fwd) this._nextIdx = (this._nextIdx + 1) % this._markers.length;
        else if (!fwd) this._nextIdx = (this._nextIdx - 1 + this._markers.length) % this._markers.length;
        if (oldIdx !== this._nextIdx) return true;
        return false;
    }
    find(uri, position) {
        let idx = this._markers.findIndex((marker)=>marker.resource.toString() === uri.toString()
        );
        if (idx < 0) return undefined;
        for(; idx < this._markers.length; idx++){
            if ($1YFxJ.Range.containsPosition(this._markers[idx], position)) return new $0eb10bc15189b8b2$export$184d3b30ff671af4(this._markers[idx], idx + 1, this._markers.length);
        }
        return undefined;
    }
    constructor(resourceFilter, _markerService, _configService){
        this._markerService = _markerService;
        this._configService = _configService;
        this._onDidChange = new $bkXdq.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._dispoables = new $6W1JA.DisposableStore();
        this._markers = [];
        this._nextIdx = -1;
        if ($bUZVY.URI.isUri(resourceFilter)) this._resourceFilter = (uri)=>uri.toString() === resourceFilter.toString()
        ;
        else if (resourceFilter) this._resourceFilter = resourceFilter;
        const compareOrder = this._configService.getValue('problems.sortOrder');
        const compareMarker = (a, b)=>{
            let res = $i4xl7.compare(a.resource.toString(), b.resource.toString());
            if (compareOrder === 'position') res = $1YFxJ.Range.compareRangesUsingStarts(a, b) || $ehxrG.MarkerSeverity.compare(a.severity, b.severity);
            else res = $ehxrG.MarkerSeverity.compare(a.severity, b.severity) || $1YFxJ.Range.compareRangesUsingStarts(a, b);
            return res;
        };
        const updateMarker = ()=>{
            this._markers = this._markerService.read({
                resource: $bUZVY.URI.isUri(resourceFilter) ? resourceFilter : undefined,
                severities: $ehxrG.MarkerSeverity.Error | $ehxrG.MarkerSeverity.Warning | $ehxrG.MarkerSeverity.Info
            });
            if (typeof resourceFilter === 'function') this._markers = this._markers.filter((m)=>this._resourceFilter(m.resource)
            );
            this._markers.sort(compareMarker);
        };
        updateMarker();
        this._dispoables.add(_markerService.onMarkerChanged((uris)=>{
            if (!this._resourceFilter || uris.some((uri)=>this._resourceFilter(uri)
            )) {
                updateMarker();
                this._nextIdx = -1;
                this._onDidChange.fire();
            }
        }));
    }
};
$0eb10bc15189b8b2$export$b1f920f775feb297 = $0eb10bc15189b8b2$var$__decorate([
    $0eb10bc15189b8b2$var$__param(1, $ehxrG.IMarkerService),
    $0eb10bc15189b8b2$var$__param(2, $6goiI.IConfigurationService)
], $0eb10bc15189b8b2$export$b1f920f775feb297);
const $0eb10bc15189b8b2$export$f7ebd4a56ff523fe = $6Xx7t.createDecorator('IMarkerNavigationService');
let $0eb10bc15189b8b2$var$MarkerNavigationService = class MarkerNavigationService {
    getMarkerList(resource) {
        for (let provider of this._provider){
            const result = provider.getMarkerList(resource);
            if (result) return result;
        }
        // default
        return new $0eb10bc15189b8b2$export$b1f920f775feb297(resource, this._markerService, this._configService);
    }
    constructor(_markerService, _configService){
        this._markerService = _markerService;
        this._configService = _configService;
        this._provider = new $1c12Y.LinkedList();
    }
};
$0eb10bc15189b8b2$var$MarkerNavigationService = $0eb10bc15189b8b2$var$__decorate([
    $0eb10bc15189b8b2$var$__param(0, $ehxrG.IMarkerService),
    $0eb10bc15189b8b2$var$__param(1, $6goiI.IConfigurationService)
], $0eb10bc15189b8b2$var$MarkerNavigationService);
$fjjY8.registerSingleton($0eb10bc15189b8b2$export$f7ebd4a56ff523fe, $0eb10bc15189b8b2$var$MarkerNavigationService, true);



var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $citn9 = parcelRequire("citn9");
var $2d56c446e9dec1bc$exports = {};

$parcel$export($2d56c446e9dec1bc$exports, "MarkerNavigationWidget", function () { return $2d56c446e9dec1bc$export$8ebf142680ed82d6; }, function (v) { return $2d56c446e9dec1bc$export$8ebf142680ed82d6 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $lSwjB = parcelRequire("lSwjB");

var $duSG1 = parcelRequire("duSG1");

var $8OIA7 = parcelRequire("8OIA7");

var $bkXdq = parcelRequire("bkXdq");


var $6W1JA = parcelRequire("6W1JA");

var $lvxAj = parcelRequire("lvxAj");

var $i4xl7 = parcelRequire("i4xl7");


var $1YFxJ = parcelRequire("1YFxJ");


var $1WuVQ = parcelRequire("1WuVQ");


var $iCLhR = parcelRequire("iCLhR");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $kqwaP = parcelRequire("kqwaP");

var $ehxrG = parcelRequire("ehxrG");

var $3jCpu = parcelRequire("3jCpu");

var $k4zqw = parcelRequire("k4zqw");

var $hzy63 = parcelRequire("hzy63");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
var $1109996ef8ecd198$export$cbca5336efb65586;
(function($1109996ef8ecd198$export$cbca5336efb65586) {
    function className(severity) {
        switch(severity){
            case $hzy63.default.Ignore:
                return 'severity-ignore ' + $k4zqw.Codicon.info.classNames;
            case $hzy63.default.Info:
                return $k4zqw.Codicon.info.classNames;
            case $hzy63.default.Warning:
                return $k4zqw.Codicon.warning.classNames;
            case $hzy63.default.Error:
                return $k4zqw.Codicon.error.classNames;
            default:
                return '';
        }
    }
    $1109996ef8ecd198$export$cbca5336efb65586.className = className;
})($1109996ef8ecd198$export$cbca5336efb65586 || ($1109996ef8ecd198$export$cbca5336efb65586 = {}));
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const errorIconForeground = theme.getColor($kL4Ig.problemsErrorIconForeground);
    if (errorIconForeground) {
        const errorCodiconSelector = $k4zqw.Codicon.error.cssSelector;
        collector.addRule(`
			.monaco-editor .zone-widget ${errorCodiconSelector},
			.markers-panel .marker-icon${errorCodiconSelector},
			.text-search-provider-messages .providerMessage ${errorCodiconSelector},
			.extensions-viewlet > .extensions ${errorCodiconSelector} {
				color: ${errorIconForeground};
			}
		`);
    }
    const warningIconForeground = theme.getColor($kL4Ig.problemsWarningIconForeground);
    if (warningIconForeground) {
        const warningCodiconSelector = $k4zqw.Codicon.warning.cssSelector;
        collector.addRule(`
			.monaco-editor .zone-widget ${warningCodiconSelector},
			.markers-panel .marker-icon${warningCodiconSelector},
			.extensions-viewlet > .extensions ${warningCodiconSelector},
			.extension-editor ${warningCodiconSelector},
			.text-search-provider-messages .providerMessage ${warningCodiconSelector},
			.preferences-editor ${warningCodiconSelector} {
				color: ${warningIconForeground};
			}
		`);
    }
    const infoIconForeground = theme.getColor($kL4Ig.problemsInfoIconForeground);
    if (infoIconForeground) {
        const infoCodiconSelector = $k4zqw.Codicon.info.cssSelector;
        collector.addRule(`
			.monaco-editor .zone-widget ${infoCodiconSelector},
			.markers-panel .marker-icon${infoCodiconSelector},
			.extensions-viewlet > .extensions ${infoCodiconSelector},
			.text-search-provider-messages .providerMessage ${infoCodiconSelector},
			.extension-editor ${infoCodiconSelector} {
				color: ${infoIconForeground};
			}
		`);
    }
});



var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $2d56c446e9dec1bc$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $2d56c446e9dec1bc$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
class $2d56c446e9dec1bc$var$MessageWidget {
    dispose() {
        $6W1JA.dispose(this._disposables);
    }
    update(marker) {
        const { source: source , message: message , relatedInformation: relatedInformation , code: code  } = marker;
        let sourceAndCodeLength = ((source === null || source === void 0 ? void 0 : source.length) || 0) + 2;
        if (code) {
            if (typeof code === 'string') sourceAndCodeLength += code.length;
            else sourceAndCodeLength += code.value.length;
        }
        const lines = $i4xl7.splitLines(message);
        this._lines = lines.length;
        this._longestLineLength = 0;
        for (const line of lines)this._longestLineLength = Math.max(line.length + sourceAndCodeLength, this._longestLineLength);
        $8xgjE.clearNode(this._messageBlock);
        this._messageBlock.setAttribute('aria-label', this.getAriaLabel(marker));
        this._editor.applyFontInfo(this._messageBlock);
        let lastLineElement = this._messageBlock;
        for (const line1 of lines){
            lastLineElement = document.createElement('div');
            lastLineElement.innerText = line1;
            if (line1 === '') lastLineElement.style.height = this._messageBlock.style.lineHeight;
            this._messageBlock.appendChild(lastLineElement);
        }
        if (source || code) {
            const detailsElement = document.createElement('span');
            detailsElement.classList.add('details');
            lastLineElement.appendChild(detailsElement);
            if (source) {
                const sourceElement = document.createElement('span');
                sourceElement.innerText = source;
                sourceElement.classList.add('source');
                detailsElement.appendChild(sourceElement);
            }
            if (code) {
                if (typeof code === 'string') {
                    const codeElement = document.createElement('span');
                    codeElement.innerText = `(${code})`;
                    codeElement.classList.add('code');
                    detailsElement.appendChild(codeElement);
                } else {
                    this._codeLink = $8xgjE.$('a.code-link');
                    this._codeLink.setAttribute('href', `${code.target.toString()}`);
                    this._codeLink.onclick = (e)=>{
                        this._openerService.open(code.target, {
                            allowCommands: true
                        });
                        e.preventDefault();
                        e.stopPropagation();
                    };
                    const codeElement = $8xgjE.append(this._codeLink, $8xgjE.$('span'));
                    codeElement.innerText = code.value;
                    detailsElement.appendChild(this._codeLink);
                }
            }
        }
        $8xgjE.clearNode(this._relatedBlock);
        this._editor.applyFontInfo(this._relatedBlock);
        if ($duSG1.isNonEmptyArray(relatedInformation)) {
            const relatedInformationNode = this._relatedBlock.appendChild(document.createElement('div'));
            relatedInformationNode.style.paddingTop = `${Math.floor(this._editor.getOption(58 /* lineHeight */ ) * 0.66)}px`;
            this._lines += 1;
            for (const related of relatedInformation){
                let container = document.createElement('div');
                let relatedResource = document.createElement('a');
                relatedResource.classList.add('filename');
                relatedResource.innerText = `${$f74ad904c4688561$export$c8ab9bf6b3a1df37(related.resource)}(${related.startLineNumber}, ${related.startColumn}): `;
                relatedResource.title = this._labelService.getUriLabel(related.resource);
                this._relatedDiagnostics.set(relatedResource, related);
                let relatedMessage = document.createElement('span');
                relatedMessage.innerText = related.message;
                container.appendChild(relatedResource);
                container.appendChild(relatedMessage);
                this._lines += 1;
                relatedInformationNode.appendChild(container);
            }
        }
        const fontInfo = this._editor.getOption(43 /* fontInfo */ );
        const scrollWidth = Math.ceil(fontInfo.typicalFullwidthCharacterWidth * this._longestLineLength * 0.75);
        const scrollHeight = fontInfo.lineHeight * this._lines;
        this._scrollable.setScrollDimensions({
            scrollWidth: scrollWidth,
            scrollHeight: scrollHeight
        });
    }
    layout(height, width) {
        this._scrollable.getDomNode().style.height = `${height}px`;
        this._scrollable.getDomNode().style.width = `${width}px`;
        this._scrollable.setScrollDimensions({
            width: width,
            height: height
        });
    }
    getHeightInLines() {
        return Math.min(17, this._lines);
    }
    getAriaLabel(marker) {
        let severityLabel = '';
        switch(marker.severity){
            case $ehxrG.MarkerSeverity.Error:
                severityLabel = $1WuVQ.localize('Error', "Error");
                break;
            case $ehxrG.MarkerSeverity.Warning:
                severityLabel = $1WuVQ.localize('Warning', "Warning");
                break;
            case $ehxrG.MarkerSeverity.Info:
                severityLabel = $1WuVQ.localize('Info', "Info");
                break;
            case $ehxrG.MarkerSeverity.Hint:
                severityLabel = $1WuVQ.localize('Hint', "Hint");
                break;
        }
        let ariaLabel = $1WuVQ.localize('marker aria', "{0} at {1}. ", severityLabel, marker.startLineNumber + ':' + marker.startColumn);
        const model = this._editor.getModel();
        if (model && marker.startLineNumber <= model.getLineCount() && marker.startLineNumber >= 1) {
            const lineContent = model.getLineContent(marker.startLineNumber);
            ariaLabel = `${lineContent}, ${ariaLabel}`;
        }
        return ariaLabel;
    }
    constructor(parent, editor, onRelatedInformation, _openerService, _labelService){
        this._openerService = _openerService;
        this._labelService = _labelService;
        this._lines = 0;
        this._longestLineLength = 0;
        this._relatedDiagnostics = new WeakMap();
        this._disposables = new $6W1JA.DisposableStore();
        this._editor = editor;
        const domNode = document.createElement('div');
        domNode.className = 'descriptioncontainer';
        this._messageBlock = document.createElement('div');
        this._messageBlock.classList.add('message');
        this._messageBlock.setAttribute('aria-live', 'assertive');
        this._messageBlock.setAttribute('role', 'alert');
        domNode.appendChild(this._messageBlock);
        this._relatedBlock = document.createElement('div');
        domNode.appendChild(this._relatedBlock);
        this._disposables.add($8xgjE.addStandardDisposableListener(this._relatedBlock, 'click', (event)=>{
            event.preventDefault();
            const related = this._relatedDiagnostics.get(event.target);
            if (related) onRelatedInformation(related);
        }));
        this._scrollable = new $lSwjB.ScrollableElement(domNode, {
            horizontal: 1 /* Auto */ ,
            vertical: 1 /* Auto */ ,
            useShadows: false,
            horizontalScrollbarSize: 6,
            verticalScrollbarSize: 6
        });
        parent.appendChild(this._scrollable.getDomNode());
        this._disposables.add(this._scrollable.onScroll((e)=>{
            domNode.style.left = `-${e.scrollLeft}px`;
            domNode.style.top = `-${e.scrollTop}px`;
        }));
        this._disposables.add(this._scrollable);
    }
}
let $2d56c446e9dec1bc$export$8ebf142680ed82d6 = class $2d56c446e9dec1bc$export$8ebf142680ed82d6 extends $09aad26675037e07$exports.PeekViewWidget {
    _applyTheme(theme) {
        this._backgroundColor = theme.getColor($2d56c446e9dec1bc$export$7a6daa92fa461be6);
        let colorId = $2d56c446e9dec1bc$export$ff384e915c6b89ec;
        let headerBackground = $2d56c446e9dec1bc$export$1c5169d3ea37732e;
        if (this._severity === $ehxrG.MarkerSeverity.Warning) {
            colorId = $2d56c446e9dec1bc$export$f7008352a1446be1;
            headerBackground = $2d56c446e9dec1bc$export$fff85971e2f6d6a2;
        } else if (this._severity === $ehxrG.MarkerSeverity.Info) {
            colorId = $2d56c446e9dec1bc$export$d670a0e9c7d1cc5;
            headerBackground = $2d56c446e9dec1bc$export$fb5ac90b8038d767;
        }
        const frameColor = theme.getColor(colorId);
        const headerBg = theme.getColor(headerBackground);
        this.style({
            arrowColor: frameColor,
            frameColor: frameColor,
            headerBackgroundColor: headerBg,
            primaryHeadingColor: theme.getColor($09aad26675037e07$exports.peekViewTitleForeground),
            secondaryHeadingColor: theme.getColor($09aad26675037e07$exports.peekViewTitleInfoForeground)
        }); // style() will trigger _applyStyles
    }
    _applyStyles() {
        if (this._parentContainer) this._parentContainer.style.backgroundColor = this._backgroundColor ? this._backgroundColor.toString() : '';
        super._applyStyles();
    }
    dispose() {
        this._callOnDispose.dispose();
        super.dispose();
    }
    _fillHead(container) {
        super._fillHead(container);
        this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun((e)=>this.editor.focus()
        ));
        const actions = [];
        const menu = this._menuService.createMenu($2d56c446e9dec1bc$export$8ebf142680ed82d6.TitleMenu, this._contextKeyService);
        $987c6183856787fa$exports.createAndFillInActionBarActions(menu, undefined, actions);
        this._actionbarWidget.push(actions, {
            label: false,
            icon: true,
            index: 0
        });
        menu.dispose();
    }
    _fillTitleIcon(container) {
        this._icon = $8xgjE.append(container, $8xgjE.$(''));
    }
    _fillBody(container) {
        this._parentContainer = container;
        container.classList.add('marker-widget');
        this._parentContainer.tabIndex = 0;
        this._parentContainer.setAttribute('role', 'tooltip');
        this._container = document.createElement('div');
        container.appendChild(this._container);
        this._message = new $2d56c446e9dec1bc$var$MessageWidget(this._container, this.editor, (related)=>this._onDidSelectRelatedInformation.fire(related)
        , this._openerService, this._labelService);
        this._disposables.add(this._message);
    }
    show() {
        throw new Error('call showAtMarker');
    }
    showAtMarker(marker, markerIdx, markerCount) {
        // update:
        // * title
        // * message
        this._container.classList.remove('stale');
        this._message.update(marker);
        // update frame color (only applied on 'show')
        this._severity = marker.severity;
        this._applyTheme(this._themeService.getColorTheme());
        // show
        let range = $1YFxJ.Range.lift(marker);
        const editorPosition = this.editor.getPosition();
        let position = editorPosition && range.containsPosition(editorPosition) ? editorPosition : range.getStartPosition();
        super.show(position, this.computeRequiredHeight());
        const model = this.editor.getModel();
        if (model) {
            const detail = markerCount > 1 ? $1WuVQ.localize('problems', "{0} of {1} problems", markerIdx, markerCount) : $1WuVQ.localize('change', "{0} of {1} problem", markerIdx, markerCount);
            this.setTitle($lvxAj.basename(model.uri), detail);
        }
        this._icon.className = `codicon ${$1109996ef8ecd198$export$cbca5336efb65586.className($ehxrG.MarkerSeverity.toSeverity(this._severity))}`;
        this.editor.revealPositionNearTop(position, 0 /* Smooth */ );
        this.editor.focus();
    }
    updateMarker(marker) {
        this._container.classList.remove('stale');
        this._message.update(marker);
    }
    showStale() {
        this._container.classList.add('stale');
        this._relayout();
    }
    _doLayoutBody(heightInPixel, widthInPixel) {
        super._doLayoutBody(heightInPixel, widthInPixel);
        this._heightInPixel = heightInPixel;
        this._message.layout(heightInPixel, widthInPixel);
        this._container.style.height = `${heightInPixel}px`;
    }
    _onWidth(widthInPixel) {
        this._message.layout(this._heightInPixel, widthInPixel);
    }
    _relayout() {
        super._relayout(this.computeRequiredHeight());
    }
    computeRequiredHeight() {
        return 3 + this._message.getHeightInLines();
    }
    constructor(editor, _themeService, _openerService, _menuService, instantiationService, _contextKeyService, _labelService){
        super(editor, {
            showArrow: true,
            showFrame: true,
            isAccessible: true,
            frameWidth: 1
        }, instantiationService);
        this._themeService = _themeService;
        this._openerService = _openerService;
        this._menuService = _menuService;
        this._contextKeyService = _contextKeyService;
        this._labelService = _labelService;
        this._callOnDispose = new $6W1JA.DisposableStore();
        this._onDidSelectRelatedInformation = new $bkXdq.Emitter();
        this.onDidSelectRelatedInformation = this._onDidSelectRelatedInformation.event;
        this._severity = $ehxrG.MarkerSeverity.Warning;
        this._backgroundColor = $8OIA7.Color.white;
        this._applyTheme(_themeService.getColorTheme());
        this._callOnDispose.add(_themeService.onDidColorThemeChange(this._applyTheme.bind(this)));
        this.create();
    }
};
$2d56c446e9dec1bc$export$8ebf142680ed82d6.TitleMenu = new $iCLhR.MenuId('gotoErrorTitleMenu');
$2d56c446e9dec1bc$export$8ebf142680ed82d6 = $2d56c446e9dec1bc$var$__decorate([
    $2d56c446e9dec1bc$var$__param(1, $5Wwop.IThemeService),
    $2d56c446e9dec1bc$var$__param(2, $3jCpu.IOpenerService),
    $2d56c446e9dec1bc$var$__param(3, $iCLhR.IMenuService),
    $2d56c446e9dec1bc$var$__param(4, $6Xx7t.IInstantiationService),
    $2d56c446e9dec1bc$var$__param(5, $h4kGX.IContextKeyService),
    $2d56c446e9dec1bc$var$__param(6, $kqwaP.ILabelService)
], $2d56c446e9dec1bc$export$8ebf142680ed82d6);
// theming
let $2d56c446e9dec1bc$var$errorDefault = $kL4Ig.oneOf($kL4Ig.editorErrorForeground, $kL4Ig.editorErrorBorder);
let $2d56c446e9dec1bc$var$warningDefault = $kL4Ig.oneOf($kL4Ig.editorWarningForeground, $kL4Ig.editorWarningBorder);
let $2d56c446e9dec1bc$var$infoDefault = $kL4Ig.oneOf($kL4Ig.editorInfoForeground, $kL4Ig.editorInfoBorder);
const $2d56c446e9dec1bc$export$ff384e915c6b89ec = $kL4Ig.registerColor('editorMarkerNavigationError.background', {
    dark: $2d56c446e9dec1bc$var$errorDefault,
    light: $2d56c446e9dec1bc$var$errorDefault,
    hc: $kL4Ig.contrastBorder
}, $1WuVQ.localize('editorMarkerNavigationError', 'Editor marker navigation widget error color.'));
const $2d56c446e9dec1bc$export$1c5169d3ea37732e = $kL4Ig.registerColor('editorMarkerNavigationError.headerBackground', {
    dark: $kL4Ig.transparent($2d56c446e9dec1bc$export$ff384e915c6b89ec, .1),
    light: $kL4Ig.transparent($2d56c446e9dec1bc$export$ff384e915c6b89ec, .1),
    hc: null
}, $1WuVQ.localize('editorMarkerNavigationErrorHeaderBackground', 'Editor marker navigation widget error heading background.'));
const $2d56c446e9dec1bc$export$f7008352a1446be1 = $kL4Ig.registerColor('editorMarkerNavigationWarning.background', {
    dark: $2d56c446e9dec1bc$var$warningDefault,
    light: $2d56c446e9dec1bc$var$warningDefault,
    hc: $kL4Ig.contrastBorder
}, $1WuVQ.localize('editorMarkerNavigationWarning', 'Editor marker navigation widget warning color.'));
const $2d56c446e9dec1bc$export$fff85971e2f6d6a2 = $kL4Ig.registerColor('editorMarkerNavigationWarning.headerBackground', {
    dark: $kL4Ig.transparent($2d56c446e9dec1bc$export$f7008352a1446be1, .1),
    light: $kL4Ig.transparent($2d56c446e9dec1bc$export$f7008352a1446be1, .1),
    hc: '#0C141F'
}, $1WuVQ.localize('editorMarkerNavigationWarningBackground', 'Editor marker navigation widget warning heading background.'));
const $2d56c446e9dec1bc$export$d670a0e9c7d1cc5 = $kL4Ig.registerColor('editorMarkerNavigationInfo.background', {
    dark: $2d56c446e9dec1bc$var$infoDefault,
    light: $2d56c446e9dec1bc$var$infoDefault,
    hc: $kL4Ig.contrastBorder
}, $1WuVQ.localize('editorMarkerNavigationInfo', 'Editor marker navigation widget info color.'));
const $2d56c446e9dec1bc$export$fb5ac90b8038d767 = $kL4Ig.registerColor('editorMarkerNavigationInfo.headerBackground', {
    dark: $kL4Ig.transparent($2d56c446e9dec1bc$export$d670a0e9c7d1cc5, .1),
    light: $kL4Ig.transparent($2d56c446e9dec1bc$export$d670a0e9c7d1cc5, .1),
    hc: null
}, $1WuVQ.localize('editorMarkerNavigationInfoHeaderBackground', 'Editor marker navigation widget info heading background.'));
const $2d56c446e9dec1bc$export$7a6daa92fa461be6 = $kL4Ig.registerColor('editorMarkerNavigation.background', {
    dark: $kL4Ig.editorBackground,
    light: $kL4Ig.editorBackground,
    hc: $kL4Ig.editorBackground
}, $1WuVQ.localize('editorMarkerNavigationBackground', 'Editor marker navigation widget background.'));


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $5921217280261dac$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $5921217280261dac$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $5921217280261dac$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
let $5921217280261dac$export$97b58da131ee49b9 = class $5921217280261dac$export$97b58da131ee49b9 {
    static get(editor) {
        return editor.getContribution($5921217280261dac$export$97b58da131ee49b9.ID);
    }
    dispose() {
        this._cleanUp();
        this._sessionDispoables.dispose();
    }
    _cleanUp() {
        this._widgetVisible.reset();
        this._sessionDispoables.clear();
        this._widget = undefined;
        this._model = undefined;
    }
    _getOrCreateModel(uri) {
        if (this._model && this._model.matches(uri)) return this._model;
        let reusePosition = false;
        if (this._model) {
            reusePosition = true;
            this._cleanUp();
        }
        this._model = this._markerNavigationService.getMarkerList(uri);
        if (reusePosition) this._model.move(true, this._editor.getModel(), this._editor.getPosition());
        this._widget = this._instantiationService.createInstance($2d56c446e9dec1bc$exports.MarkerNavigationWidget, this._editor);
        this._widget.onDidClose(()=>this.close()
        , this, this._sessionDispoables);
        this._widgetVisible.set(true);
        this._sessionDispoables.add(this._model);
        this._sessionDispoables.add(this._widget);
        // follow cursor
        this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((e)=>{
            var _a, _b, _c;
            if (!((_a = this._model) === null || _a === void 0 ? void 0 : _a.selected) || !$1YFxJ.Range.containsPosition((_b = this._model) === null || _b === void 0 ? void 0 : _b.selected.marker, e.position)) (_c = this._model) === null || _c === void 0 || _c.resetIndex();
        }));
        // update markers
        this._sessionDispoables.add(this._model.onDidChange(()=>{
            if (!this._widget || !this._widget.position || !this._model) return;
            const info = this._model.find(this._editor.getModel().uri, this._widget.position);
            if (info) this._widget.updateMarker(info.marker);
            else this._widget.showStale();
        }));
        // open related
        this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((related)=>{
            this._editorService.openCodeEditor({
                resource: related.resource,
                options: {
                    pinned: true,
                    revealIfOpened: true,
                    selection: $1YFxJ.Range.lift(related).collapseToStart()
                }
            }, this._editor);
            this.close(false);
        }));
        this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp()
        ));
        return this._model;
    }
    close(focusEditor = true) {
        this._cleanUp();
        if (focusEditor) this._editor.focus();
    }
    showAtMarker(marker) {
        if (this._editor.hasModel()) {
            const model = this._getOrCreateModel(this._editor.getModel().uri);
            model.resetIndex();
            model.move(true, this._editor.getModel(), new $fqrfT.Position(marker.startLineNumber, marker.startColumn));
            if (model.selected) this._widget.showAtMarker(model.selected.marker, model.selected.index, model.selected.total);
        }
    }
    nagivate(next, multiFile) {
        return $5921217280261dac$var$__awaiter(this, void 0, void 0, function*() {
            if (this._editor.hasModel()) {
                const model = this._getOrCreateModel(multiFile ? undefined : this._editor.getModel().uri);
                model.move(next, this._editor.getModel(), this._editor.getPosition());
                if (!model.selected) return;
                if (model.selected.marker.resource.toString() !== this._editor.getModel().uri.toString()) {
                    // show in different editor
                    this._cleanUp();
                    const otherEditor = yield this._editorService.openCodeEditor({
                        resource: model.selected.marker.resource,
                        options: {
                            pinned: false,
                            revealIfOpened: true,
                            selectionRevealType: 2 /* NearTop */ ,
                            selection: model.selected.marker
                        }
                    }, this._editor);
                    if (otherEditor) {
                        $5921217280261dac$export$97b58da131ee49b9.get(otherEditor).close();
                        $5921217280261dac$export$97b58da131ee49b9.get(otherEditor).nagivate(next, multiFile);
                    }
                } else // show in this editor
                this._widget.showAtMarker(model.selected.marker, model.selected.index, model.selected.total);
            }
        });
    }
    constructor(editor, _markerNavigationService, _contextKeyService, _editorService, _instantiationService){
        this._markerNavigationService = _markerNavigationService;
        this._contextKeyService = _contextKeyService;
        this._editorService = _editorService;
        this._instantiationService = _instantiationService;
        this._sessionDispoables = new $6W1JA.DisposableStore();
        this._editor = editor;
        this._widgetVisible = $5921217280261dac$var$CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);
    }
};
$5921217280261dac$export$97b58da131ee49b9.ID = 'editor.contrib.markerController';
$5921217280261dac$export$97b58da131ee49b9 = $5921217280261dac$var$__decorate([
    $5921217280261dac$var$__param(1, $0eb10bc15189b8b2$exports.IMarkerNavigationService),
    $5921217280261dac$var$__param(2, $h4kGX.IContextKeyService),
    $5921217280261dac$var$__param(3, $7lWR1.ICodeEditorService),
    $5921217280261dac$var$__param(4, $6Xx7t.IInstantiationService)
], $5921217280261dac$export$97b58da131ee49b9);
class $5921217280261dac$var$MarkerNavigationAction extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $5921217280261dac$var$__awaiter(this, void 0, void 0, function*() {
            if (editor.hasModel()) $5921217280261dac$export$97b58da131ee49b9.get(editor).nagivate(this._next, this._multiFile);
        });
    }
    constructor(_next, _multiFile, opts){
        super(opts);
        this._next = _next;
        this._multiFile = _multiFile;
    }
}
class $5921217280261dac$export$d0f8fc22ad9db3b2 extends $5921217280261dac$var$MarkerNavigationAction {
    constructor(){
        super(true, false, {
            id: $5921217280261dac$export$d0f8fc22ad9db3b2.ID,
            label: $5921217280261dac$export$d0f8fc22ad9db3b2.LABEL,
            alias: 'Go to Next Problem (Error, Warning, Info)',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 578 /* F8 */ ,
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $2d56c446e9dec1bc$exports.MarkerNavigationWidget.TitleMenu,
                title: $5921217280261dac$export$d0f8fc22ad9db3b2.LABEL,
                icon: $citn9.registerIcon('marker-navigation-next', $k4zqw.Codicon.arrowDown, $1WuVQ.localize('nextMarkerIcon', 'Icon for goto next marker.')),
                group: 'navigation',
                order: 1
            }
        });
    }
}
$5921217280261dac$export$d0f8fc22ad9db3b2.ID = 'editor.action.marker.next';
$5921217280261dac$export$d0f8fc22ad9db3b2.LABEL = $1WuVQ.localize('markerAction.next.label', "Go to Next Problem (Error, Warning, Info)");
class $5921217280261dac$var$PrevMarkerAction extends $5921217280261dac$var$MarkerNavigationAction {
    constructor(){
        super(false, false, {
            id: $5921217280261dac$var$PrevMarkerAction.ID,
            label: $5921217280261dac$var$PrevMarkerAction.LABEL,
            alias: 'Go to Previous Problem (Error, Warning, Info)',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 1602 /* F8 */ ,
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $2d56c446e9dec1bc$exports.MarkerNavigationWidget.TitleMenu,
                title: $5921217280261dac$export$d0f8fc22ad9db3b2.LABEL,
                icon: $citn9.registerIcon('marker-navigation-previous', $k4zqw.Codicon.arrowUp, $1WuVQ.localize('previousMarkerIcon', 'Icon for goto previous marker.')),
                group: 'navigation',
                order: 2
            }
        });
    }
}
$5921217280261dac$var$PrevMarkerAction.ID = 'editor.action.marker.prev';
$5921217280261dac$var$PrevMarkerAction.LABEL = $1WuVQ.localize('markerAction.previous.label', "Go to Previous Problem (Error, Warning, Info)");
class $5921217280261dac$var$NextMarkerInFilesAction extends $5921217280261dac$var$MarkerNavigationAction {
    constructor(){
        super(true, true, {
            id: 'editor.action.marker.nextInFiles',
            label: $1WuVQ.localize('markerAction.nextInFiles.label', "Go to Next Problem in Files (Error, Warning, Info)"),
            alias: 'Go to Next Problem in Files (Error, Warning, Info)',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 66 /* F8 */ ,
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarGoMenu,
                title: $1WuVQ.localize({
                    key: 'miGotoNextProblem',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Next &&Problem"),
                group: '6_problem_nav',
                order: 1
            }
        });
    }
}
class $5921217280261dac$var$PrevMarkerInFilesAction extends $5921217280261dac$var$MarkerNavigationAction {
    constructor(){
        super(false, true, {
            id: 'editor.action.marker.prevInFiles',
            label: $1WuVQ.localize('markerAction.previousInFiles.label', "Go to Previous Problem in Files (Error, Warning, Info)"),
            alias: 'Go to Previous Problem in Files (Error, Warning, Info)',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 1090 /* F8 */ ,
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarGoMenu,
                title: $1WuVQ.localize({
                    key: 'miGotoPreviousProblem',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Previous &&Problem"),
                group: '6_problem_nav',
                order: 2
            }
        });
    }
}
$g9Zlr.registerEditorContribution($5921217280261dac$export$97b58da131ee49b9.ID, $5921217280261dac$export$97b58da131ee49b9);
$g9Zlr.registerEditorAction($5921217280261dac$export$d0f8fc22ad9db3b2);
$g9Zlr.registerEditorAction($5921217280261dac$var$PrevMarkerAction);
$g9Zlr.registerEditorAction($5921217280261dac$var$NextMarkerInFilesAction);
$g9Zlr.registerEditorAction($5921217280261dac$var$PrevMarkerInFilesAction);
const $5921217280261dac$var$CONTEXT_MARKERS_NAVIGATION_VISIBLE = new $h4kGX.RawContextKey('markersNavigationVisible', false);
const $5921217280261dac$var$MarkerCommand = $g9Zlr.EditorCommand.bindToContribution($5921217280261dac$export$97b58da131ee49b9.get);
$g9Zlr.registerEditorCommand(new $5921217280261dac$var$MarkerCommand({
    id: 'closeMarkersNavigation',
    precondition: $5921217280261dac$var$CONTEXT_MARKERS_NAVIGATION_VISIBLE,
    handler: (x)=>x.close()
    ,
    kbOpts: {
        weight: 150,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 9 /* Escape */ ,
        secondary: [
            1033 /* Escape */ 
        ]
    }
}));



var $1WuVQ = parcelRequire("1WuVQ");

var $ehxrG = parcelRequire("ehxrG");

var $3jCpu = parcelRequire("3jCpu");

var $5IX4y = parcelRequire("5IX4y");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $a176f00d89108e08$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $a176f00d89108e08$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $a176f00d89108e08$var$$ = $8xgjE.$;
class $a176f00d89108e08$export$c0c5b6dfb6f41d44 {
    isValidForHoverAnchor(anchor) {
        return anchor.type === 1 /* Range */  && this.range.startColumn <= anchor.range.startColumn && this.range.endColumn >= anchor.range.endColumn;
    }
    constructor(owner, range, marker){
        this.owner = owner;
        this.range = range;
        this.marker = marker;
    }
}
const $a176f00d89108e08$var$markerCodeActionTrigger = {
    type: 1 /* Invoke */ ,
    filter: {
        include: $213ada70c3870067$export$c72b5966cfff6b4d.QuickFix
    }
};
let $a176f00d89108e08$export$32a9787b1b5ca518 = class $a176f00d89108e08$export$32a9787b1b5ca518 {
    computeSync(anchor, lineDecorations) {
        if (!this._editor.hasModel() || anchor.type !== 1 /* Range */ ) return [];
        const model = this._editor.getModel();
        const lineNumber = anchor.range.startLineNumber;
        const maxColumn = model.getLineMaxColumn(lineNumber);
        const result = [];
        for (const d of lineDecorations){
            const startColumn = d.range.startLineNumber === lineNumber ? d.range.startColumn : 1;
            const endColumn = d.range.endLineNumber === lineNumber ? d.range.endColumn : maxColumn;
            const marker = this._markerDecorationsService.getMarker(model.uri, d);
            if (!marker) continue;
            const range = new $1YFxJ.Range(anchor.range.startLineNumber, startColumn, anchor.range.startLineNumber, endColumn);
            result.push(new $a176f00d89108e08$export$c0c5b6dfb6f41d44(this, range, marker));
        }
        return result;
    }
    renderHoverParts(hoverParts, fragment, statusBar) {
        if (!hoverParts.length) return $6W1JA.Disposable.None;
        const disposables = new $6W1JA.DisposableStore();
        hoverParts.forEach((msg)=>fragment.appendChild(this.renderMarkerHover(msg, disposables))
        );
        const markerHoverForStatusbar = hoverParts.length === 1 ? hoverParts[0] : hoverParts.sort((a, b)=>$ehxrG.MarkerSeverity.compare(a.marker.severity, b.marker.severity)
        )[0];
        this.renderMarkerStatusbar(markerHoverForStatusbar, statusBar, disposables);
        return disposables;
    }
    renderMarkerHover(markerHover, disposables) {
        const hoverElement = $a176f00d89108e08$var$$('div.hover-row');
        const markerElement = $8xgjE.append(hoverElement, $a176f00d89108e08$var$$('div.marker.hover-contents'));
        const { source: source , message: message , code: code , relatedInformation: relatedInformation  } = markerHover.marker;
        this._editor.applyFontInfo(markerElement);
        const messageElement = $8xgjE.append(markerElement, $a176f00d89108e08$var$$('span'));
        messageElement.style.whiteSpace = 'pre-wrap';
        messageElement.innerText = message;
        if (source || code) {
            // Code has link
            if (code && typeof code !== 'string') {
                const sourceAndCodeElement = $a176f00d89108e08$var$$('span');
                if (source) {
                    const sourceElement = $8xgjE.append(sourceAndCodeElement, $a176f00d89108e08$var$$('span'));
                    sourceElement.innerText = source;
                }
                const codeLink = $8xgjE.append(sourceAndCodeElement, $a176f00d89108e08$var$$('a.code-link'));
                codeLink.setAttribute('href', code.target.toString());
                disposables.add($8xgjE.addDisposableListener(codeLink, 'click', (e)=>{
                    this._openerService.open(code.target, {
                        allowCommands: true
                    });
                    e.preventDefault();
                    e.stopPropagation();
                }));
                const codeElement = $8xgjE.append(codeLink, $a176f00d89108e08$var$$('span'));
                codeElement.innerText = code.value;
                const detailsElement = $8xgjE.append(markerElement, sourceAndCodeElement);
                detailsElement.style.opacity = '0.6';
                detailsElement.style.paddingLeft = '6px';
            } else {
                const detailsElement = $8xgjE.append(markerElement, $a176f00d89108e08$var$$('span'));
                detailsElement.style.opacity = '0.6';
                detailsElement.style.paddingLeft = '6px';
                detailsElement.innerText = source && code ? `${source}(${code})` : source ? source : `(${code})`;
            }
        }
        if ($duSG1.isNonEmptyArray(relatedInformation)) for (const { message: message1 , resource: resource , startLineNumber: startLineNumber , startColumn: startColumn  } of relatedInformation){
            const relatedInfoContainer = $8xgjE.append(markerElement, $a176f00d89108e08$var$$('div'));
            relatedInfoContainer.style.marginTop = '8px';
            const a = $8xgjE.append(relatedInfoContainer, $a176f00d89108e08$var$$('a'));
            a.innerText = `${$lvxAj.basename(resource)}(${startLineNumber}, ${startColumn}): `;
            a.style.cursor = 'pointer';
            disposables.add($8xgjE.addDisposableListener(a, 'click', (e)=>{
                e.stopPropagation();
                e.preventDefault();
                if (this._openerService) this._openerService.open(resource, {
                    fromUserGesture: true,
                    editorOptions: {
                        selection: {
                            startLineNumber: startLineNumber,
                            startColumn: startColumn
                        }
                    }
                }).catch($3FsT3.onUnexpectedError);
            }));
            const messageElement = $8xgjE.append(relatedInfoContainer, $a176f00d89108e08$var$$('span'));
            messageElement.innerText = message1;
            this._editor.applyFontInfo(messageElement);
        }
        return hoverElement;
    }
    renderMarkerStatusbar(markerHover, statusBar, disposables) {
        if (markerHover.marker.severity === $ehxrG.MarkerSeverity.Error || markerHover.marker.severity === $ehxrG.MarkerSeverity.Warning || markerHover.marker.severity === $ehxrG.MarkerSeverity.Info) statusBar.addAction({
            label: $1WuVQ.localize('view problem', "View Problem"),
            commandId: $5921217280261dac$exports.NextMarkerAction.ID,
            run: ()=>{
                this._hover.hide();
                $5921217280261dac$exports.MarkerController.get(this._editor).showAtMarker(markerHover.marker);
                this._editor.focus();
            }
        });
        if (!this._editor.getOption(80 /* readOnly */ )) {
            const quickfixPlaceholderElement = statusBar.append($a176f00d89108e08$var$$('div'));
            if (this.recentMarkerCodeActionsInfo) {
                if ($ehxrG.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker) === $ehxrG.IMarkerData.makeKey(markerHover.marker)) {
                    if (!this.recentMarkerCodeActionsInfo.hasCodeActions) quickfixPlaceholderElement.textContent = $1WuVQ.localize('noQuickFixes', "No quick fixes available");
                } else this.recentMarkerCodeActionsInfo = undefined;
            }
            const updatePlaceholderDisposable = this.recentMarkerCodeActionsInfo && !this.recentMarkerCodeActionsInfo.hasCodeActions ? $6W1JA.Disposable.None : disposables.add($5piST.disposableTimeout(()=>quickfixPlaceholderElement.textContent = $1WuVQ.localize('checkingForQuickFixes', "Checking for quick fixes...")
            , 200));
            if (!quickfixPlaceholderElement.textContent) // Have some content in here to avoid flickering
            quickfixPlaceholderElement.textContent = String.fromCharCode(0xA0); // &nbsp;
            const codeActionsPromise = this.getCodeActions(markerHover.marker);
            disposables.add($6W1JA.toDisposable(()=>codeActionsPromise.cancel()
            ));
            codeActionsPromise.then((actions)=>{
                updatePlaceholderDisposable.dispose();
                this.recentMarkerCodeActionsInfo = {
                    marker: markerHover.marker,
                    hasCodeActions: actions.validActions.length > 0
                };
                if (!this.recentMarkerCodeActionsInfo.hasCodeActions) {
                    actions.dispose();
                    quickfixPlaceholderElement.textContent = $1WuVQ.localize('noQuickFixes', "No quick fixes available");
                    return;
                }
                quickfixPlaceholderElement.style.display = 'none';
                let showing = false;
                disposables.add($6W1JA.toDisposable(()=>{
                    if (!showing) actions.dispose();
                }));
                statusBar.addAction({
                    label: $1WuVQ.localize('quick fixes', "Quick Fix..."),
                    commandId: $9e6374eaa54e223a$exports.QuickFixAction.Id,
                    run: (target)=>{
                        showing = true;
                        const controller = $9e6374eaa54e223a$exports.QuickFixController.get(this._editor);
                        const elementPosition = $8xgjE.getDomNodePagePosition(target);
                        // Hide the hover pre-emptively, otherwise the editor can close the code actions
                        // context menu as well when using keyboard navigation
                        this._hover.hide();
                        controller.showCodeActions($a176f00d89108e08$var$markerCodeActionTrigger, actions, {
                            x: elementPosition.left + 6,
                            y: elementPosition.top + elementPosition.height + 6
                        });
                    }
                });
            }, $3FsT3.onUnexpectedError);
        }
    }
    getCodeActions(marker) {
        return $5piST.createCancelablePromise((cancellationToken)=>{
            return $1ff12a7310549990$exports.getCodeActions(this._editor.getModel(), new $1YFxJ.Range(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn), $a176f00d89108e08$var$markerCodeActionTrigger, $5IX4y.Progress.None, cancellationToken);
        });
    }
    constructor(_editor, _hover, _markerDecorationsService, _openerService){
        this._editor = _editor;
        this._hover = _hover;
        this._markerDecorationsService = _markerDecorationsService;
        this._openerService = _openerService;
        this.recentMarkerCodeActionsInfo = undefined;
    }
};
$a176f00d89108e08$export$32a9787b1b5ca518 = $a176f00d89108e08$var$__decorate([
    $a176f00d89108e08$var$__param(2, $1c4ih.IMarkerDecorationsService),
    $a176f00d89108e08$var$__param(3, $3jCpu.IOpenerService)
], $a176f00d89108e08$export$32a9787b1b5ca518);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const linkFg = theme.getColor($kL4Ig.textLinkForeground);
    if (linkFg) collector.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${linkFg}; }`);
    const activeLinkFg = theme.getColor($kL4Ig.textLinkActiveForeground);
    if (activeLinkFg) collector.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${activeLinkFg}; }`);
});


var $d9cf98c6fe76fadb$exports = {};

$parcel$export($d9cf98c6fe76fadb$exports, "InlineCompletionsHoverParticipant", function () { return $d9cf98c6fe76fadb$export$85c63d130bb225cb; }, function (v) { return $d9cf98c6fe76fadb$export$85c63d130bb225cb = v; });

var $8xgjE = parcelRequire("8xgjE");

var $eeQ9E = parcelRequire("eeQ9E");

var $6W1JA = parcelRequire("6W1JA");


var $1YFxJ = parcelRequire("1YFxJ");

var $jwAxq = parcelRequire("jwAxq");

var $53b07d13fb1eb2c6$exports = {};

$parcel$export($53b07d13fb1eb2c6$exports, "GhostTextController", function () { return $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee; }, function (v) { return $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee = v; });
$parcel$export($53b07d13fb1eb2c6$exports, "commitInlineSuggestionAction", function () { return $53b07d13fb1eb2c6$export$6bdad8075dfe5c6b; }, function (v) { return $53b07d13fb1eb2c6$export$6bdad8075dfe5c6b = v; });
$parcel$export($53b07d13fb1eb2c6$exports, "ShowNextInlineSuggestionAction", function () { return $53b07d13fb1eb2c6$export$57edbf9569cc9779; }, function (v) { return $53b07d13fb1eb2c6$export$57edbf9569cc9779 = v; });
$parcel$export($53b07d13fb1eb2c6$exports, "ShowPreviousInlineSuggestionAction", function () { return $53b07d13fb1eb2c6$export$deb45c643cbebb10; }, function (v) { return $53b07d13fb1eb2c6$export$deb45c643cbebb10 = v; });

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $g9Zlr = parcelRequire("g9Zlr");

var $dBLl6 = parcelRequire("dBLl6");

var $7oeKV = parcelRequire("7oeKV");
const $e8cb6f882cee80a6$export$f1235a78c589a102 = 'editor.action.inlineSuggest.commit';


var $f2f53738cc623aac$exports = {};

$parcel$export($f2f53738cc623aac$exports, "GhostTextModel", function () { return $f2f53738cc623aac$export$c35e2fb758843dde; }, function (v) { return $f2f53738cc623aac$export$c35e2fb758843dde = v; });

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $fqrfT = parcelRequire("fqrfT");

var $goPht = parcelRequire("goPht");
var $6d382f87a002acd7$exports = {};

$parcel$export($6d382f87a002acd7$exports, "InlineCompletionsModel", function () { return $6d382f87a002acd7$export$5323521c789f2485; }, function (v) { return $6d382f87a002acd7$export$5323521c789f2485 = v; });
$parcel$export($6d382f87a002acd7$exports, "provideInlineCompletions", function () { return $6d382f87a002acd7$export$eb35bd557f596021; }, function (v) { return $6d382f87a002acd7$export$eb35bd557f596021 = v; });
$parcel$export($6d382f87a002acd7$exports, "UpdateOperation", function () { return $6d382f87a002acd7$export$fcd951c1cbced25; }, function (v) { return $6d382f87a002acd7$export$fcd951c1cbced25 = v; });
$parcel$export($6d382f87a002acd7$exports, "SynchronizedInlineCompletionsCache", function () { return $6d382f87a002acd7$export$f1e185e738fbe6; }, function (v) { return $6d382f87a002acd7$export$f1e185e738fbe6 = v; });
$parcel$export($6d382f87a002acd7$exports, "minimizeInlineCompletion", function () { return $6d382f87a002acd7$export$5a88d2c8f5e7fefc; }, function (v) { return $6d382f87a002acd7$export$5a88d2c8f5e7fefc = v; });

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $4m5ki = parcelRequire("4m5ki");

var $EQImd = parcelRequire("EQImd");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $1YFxJ = parcelRequire("1YFxJ");
class $c646938ef58108ec$export$9415a6e27591b584 {
    renderForScreenReader(lineText) {
        if (this.parts.length === 0) return '';
        const lastPart = this.parts[this.parts.length - 1];
        const cappedLineText = lineText.substr(0, lastPart.column - 1);
        const text = $c646938ef58108ec$var$applyEdits(cappedLineText, this.parts.map((p)=>({
                range: {
                    startLineNumber: 1,
                    endLineNumber: 1,
                    startColumn: p.column,
                    endColumn: p.column
                },
                text: p.lines.join('\n')
            })
        ));
        return text.substring(this.parts[0].column - 1);
    }
    constructor(lineNumber, parts, additionalReservedLineCount = 0){
        this.lineNumber = lineNumber;
        this.parts = parts;
        this.additionalReservedLineCount = additionalReservedLineCount;
    }
}
class $c646938ef58108ec$var$PositionOffsetTransformer {
    getOffset(position) {
        return this.lineStartOffsetByLineIdx[position.lineNumber - 1] + position.column - 1;
    }
    constructor(text){
        this.lineStartOffsetByLineIdx = [];
        this.lineStartOffsetByLineIdx.push(0);
        for(let i = 0; i < text.length; i++)if (text.charAt(i) === '\n') this.lineStartOffsetByLineIdx.push(i + 1);
    }
}
function $c646938ef58108ec$var$applyEdits(text, edits) {
    const transformer = new $c646938ef58108ec$var$PositionOffsetTransformer(text);
    const offsetEdits = edits.map((e)=>{
        const range = $1YFxJ.Range.lift(e.range);
        return {
            startOffset: transformer.getOffset(range.getStartPosition()),
            endOffset: transformer.getOffset(range.getEndPosition()),
            text: e.text
        };
    });
    offsetEdits.sort((a, b)=>b.startOffset - a.startOffset
    );
    for (const edit of offsetEdits)text = text.substring(0, edit.startOffset) + edit.text + text.substring(edit.endOffset);
    return text;
}
class $c646938ef58108ec$export$cd17cedf46fe2f2 {
    constructor(column, lines, /**
     * Indicates if this part is a preview of an inline suggestion when a suggestion is previewed.
    */ preview){
        this.column = column;
        this.lines = lines;
        this.preview = preview;
    }
}
class $c646938ef58108ec$export$e69a41b67268cb2a extends $6W1JA.Disposable {
    setExpanded(expanded) {
        this._expanded = true;
        this.onDidChangeEmitter.fire();
    }
    constructor(editor){
        super();
        this.editor = editor;
        this._expanded = undefined;
        this.onDidChangeEmitter = new $bkXdq.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
        this._register(editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(105 /* suggest */ ) && this._expanded === undefined) this.onDidChangeEmitter.fire();
        }));
    }
}



var $c0VS7 = parcelRequire("c0VS7");


var $16LV3 = parcelRequire("16LV3");

var $i4xl7 = parcelRequire("i4xl7");

var $1YFxJ = parcelRequire("1YFxJ");

function $aff8323f0e9aead1$export$11e165236064256b(a, b) {
    if (a === b) return true;
    if (!a || !b) return false;
    return a.range.equalsRange(b.range) && a.text === b.text && a.command === b.command;
}
function $aff8323f0e9aead1$export$31cc5495dc7f07c1(inlineCompletion, textModel, mode, cursorPosition, previewSuffixLength = 0) {
    if (inlineCompletion.range.startLineNumber !== inlineCompletion.range.endLineNumber) // Only single line replacements are supported.
    return undefined;
    const sourceLine = textModel.getLineContent(inlineCompletion.range.startLineNumber);
    const sourceIndentationLength = $i4xl7.getLeadingWhitespace(sourceLine).length;
    const suggestionTouchesIndentation = inlineCompletion.range.startColumn - 1 <= sourceIndentationLength;
    if (suggestionTouchesIndentation) {
        // source:      [abc]
        //                         ^^^^^^^^^ inlineCompletion.range
        //              ^^^^^^^^^^ ^^^^^^ sourceIndentationLength
        //                         ^^^^^^ replacedIndentation.length
        //                               ^^^ rangeThatDoesNotReplaceIndentation
        // inlineCompletion.text: 'foo'
        //                         ^^ suggestionAddedIndentationLength
        const suggestionAddedIndentationLength = $i4xl7.getLeadingWhitespace(inlineCompletion.text).length;
        const replacedIndentation = sourceLine.substring(inlineCompletion.range.startColumn - 1, sourceIndentationLength);
        const rangeThatDoesNotReplaceIndentation = $1YFxJ.Range.fromPositions(inlineCompletion.range.getStartPosition().delta(0, replacedIndentation.length), inlineCompletion.range.getEndPosition());
        const suggestionWithoutIndentationChange = inlineCompletion.text.startsWith(replacedIndentation) ? inlineCompletion.text.substring(replacedIndentation.length) : inlineCompletion.text.substring(suggestionAddedIndentationLength);
        inlineCompletion = {
            range: rangeThatDoesNotReplaceIndentation,
            text: suggestionWithoutIndentationChange,
            command: inlineCompletion.command
        };
    }
    // This is a single line string
    const valueToBeReplaced = textModel.getValueInRange(inlineCompletion.range);
    const changes = $aff8323f0e9aead1$var$cachingDiff(valueToBeReplaced, inlineCompletion.text);
    if (!changes) // No ghost text in case the diff would be too slow to compute
    return undefined;
    const lineNumber = inlineCompletion.range.startLineNumber;
    const parts = new Array();
    if (mode === 'prefix') {
        const filteredChanges = changes.filter((c)=>c.originalLength === 0
        );
        if (filteredChanges.length > 1 || filteredChanges.length === 1 && filteredChanges[0].originalStart !== valueToBeReplaced.length) // Prefixes only have a single change.
        return undefined;
    }
    const previewStartInCompletionText = inlineCompletion.text.length - previewSuffixLength;
    for (const c1 of changes){
        const insertColumn = inlineCompletion.range.startColumn + c1.originalStart + c1.originalLength;
        if (mode === 'subwordSmart' && cursorPosition && cursorPosition.lineNumber === inlineCompletion.range.startLineNumber && insertColumn < cursorPosition.column) // No ghost text before cursor
        return undefined;
        if (c1.originalLength > 0) return undefined;
        if (c1.modifiedLength === 0) continue;
        const modifiedEnd = c1.modifiedStart + c1.modifiedLength;
        const nonPreviewTextEnd = Math.max(c1.modifiedStart, Math.min(modifiedEnd, previewStartInCompletionText));
        const nonPreviewText = inlineCompletion.text.substring(c1.modifiedStart, nonPreviewTextEnd);
        const italicText = inlineCompletion.text.substring(nonPreviewTextEnd, Math.max(c1.modifiedStart, modifiedEnd));
        if (nonPreviewText.length > 0) {
            const lines = $i4xl7.splitLines(nonPreviewText);
            parts.push(new $c646938ef58108ec$export$cd17cedf46fe2f2(insertColumn, lines, false));
        }
        if (italicText.length > 0) {
            const lines = $i4xl7.splitLines(italicText);
            parts.push(new $c646938ef58108ec$export$cd17cedf46fe2f2(insertColumn, lines, true));
        }
    }
    return new $c646938ef58108ec$export$9415a6e27591b584(lineNumber, parts, 0);
}
let $aff8323f0e9aead1$var$lastRequest = undefined;
function $aff8323f0e9aead1$var$cachingDiff(originalValue, newValue) {
    if (($aff8323f0e9aead1$var$lastRequest === null || $aff8323f0e9aead1$var$lastRequest === void 0 ? void 0 : $aff8323f0e9aead1$var$lastRequest.originalValue) === originalValue && ($aff8323f0e9aead1$var$lastRequest === null || $aff8323f0e9aead1$var$lastRequest === void 0 ? void 0 : $aff8323f0e9aead1$var$lastRequest.newValue) === newValue) return $aff8323f0e9aead1$var$lastRequest === null || $aff8323f0e9aead1$var$lastRequest === void 0 ? void 0 : $aff8323f0e9aead1$var$lastRequest.changes;
    else {
        const changes = $aff8323f0e9aead1$var$smartDiff(originalValue, newValue);
        $aff8323f0e9aead1$var$lastRequest = {
            originalValue: originalValue,
            newValue: newValue,
            changes: changes
        };
        return changes;
    }
}
/**
 * When matching `if ()` with `if (f() = 1) { g(); }`,
 * align it like this:        `if (       )`
 * Not like this:			  `if (  )`
 * Also not like this:		  `if (             )`.
 *
 * The parenthesis are preprocessed to ensure that they match correctly.
 */ function $aff8323f0e9aead1$var$smartDiff(originalValue, newValue) {
    if (originalValue.length > 5000 || newValue.length > 5000) // We don't want to work on strings that are too big
    return undefined;
    function getMaxCharCode(val) {
        let maxCharCode = 0;
        for(let i = 0, len = val.length; i < len; i++){
            const charCode = val.charCodeAt(i);
            if (charCode > maxCharCode) maxCharCode = charCode;
        }
        return maxCharCode;
    }
    const maxCharCode1 = Math.max(getMaxCharCode(originalValue), getMaxCharCode(newValue));
    function getUniqueCharCode(id) {
        if (id < 0) throw new Error('unexpected');
        return maxCharCode1 + id + 1;
    }
    function getElements(source) {
        let level = 0;
        let group = 0;
        const characters = new Int32Array(source.length);
        for(let i = 0, len = source.length; i < len; i++){
            const id = group * 100 + level;
            // TODO support more brackets
            if (source[i] === '(') {
                characters[i] = getUniqueCharCode(2 * id);
                level++;
            } else if (source[i] === ')') {
                characters[i] = getUniqueCharCode(2 * id + 1);
                if (level === 1) group++;
                level = Math.max(level - 1, 0);
            } else characters[i] = source.charCodeAt(i);
        }
        return characters;
    }
    const elements1 = getElements(originalValue);
    const elements2 = getElements(newValue);
    return new $16LV3.LcsDiff({
        getElements: ()=>elements1
    }, {
        getElements: ()=>elements2
    }).ComputeDiff(false).changes;
}


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $6d382f87a002acd7$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $6d382f87a002acd7$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $6d382f87a002acd7$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
let $6d382f87a002acd7$export$5323521c789f2485 = class $6d382f87a002acd7$export$5323521c789f2485 extends $6W1JA.Disposable {
    handleUserInput() {
        if (this.session && !this.session.isValid) this.hide();
        setTimeout(()=>{
            if (this.disposed) return;
            // Wait for the cursor update that happens in the same iteration loop iteration
            this.startSessionIfTriggered();
        }, 0);
    }
    get session() {
        return this.completionSession.value;
    }
    get ghostText() {
        var _a;
        return (_a = this.session) === null || _a === void 0 ? void 0 : _a.ghostText;
    }
    get minReservedLineCount() {
        return this.session ? this.session.minReservedLineCount : 0;
    }
    setExpanded(expanded) {
        var _a;
        (_a = this.session) === null || _a === void 0 || _a.setExpanded(expanded);
    }
    setActive(active) {
        var _a;
        this.active = active;
        if (active) (_a = this.session) === null || _a === void 0 || _a.scheduleAutomaticUpdate();
    }
    startSessionIfTriggered() {
        const suggestOptions = this.editor.getOption(54 /* inlineSuggest */ );
        if (!suggestOptions.enabled) return;
        if (this.session && this.session.isValid) return;
        this.trigger($goPht.InlineCompletionTriggerKind.Automatic);
    }
    trigger(triggerKind) {
        if (this.completionSession.value) {
            if (triggerKind === $goPht.InlineCompletionTriggerKind.Explicit) this.completionSession.value.ensureUpdateWithExplicitContext();
            return;
        }
        this.completionSession.value = new $6d382f87a002acd7$export$c96bdfbf87b8494b(this.editor, this.editor.getPosition(), ()=>this.active
        , this.commandService, this.cache, triggerKind);
        this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{
            this.onDidChangeEmitter.fire();
        }));
    }
    hide() {
        this.completionSession.clear();
        this.onDidChangeEmitter.fire();
    }
    commitCurrentSuggestion() {
        var _a;
        // Don't dispose the session, so that after committing, more suggestions are shown.
        (_a = this.session) === null || _a === void 0 || _a.commitCurrentCompletion();
    }
    showNext() {
        var _a;
        (_a = this.session) === null || _a === void 0 || _a.showNextInlineCompletion();
    }
    showPrevious() {
        var _a;
        (_a = this.session) === null || _a === void 0 || _a.showPreviousInlineCompletion();
    }
    hasMultipleInlineCompletions() {
        var _a;
        return $6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
            const result = yield (_a = this.session) === null || _a === void 0 ? void 0 : _a.hasMultipleInlineCompletions();
            return result !== undefined ? result : false;
        });
    }
    constructor(editor, cache, commandService){
        super();
        this.editor = editor;
        this.cache = cache;
        this.commandService = commandService;
        this.onDidChangeEmitter = new $bkXdq.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
        this.completionSession = this._register(new $6W1JA.MutableDisposable());
        this.active = false;
        this.disposed = false;
        this._register(commandService.onDidExecuteCommand((e)=>{
            // These commands don't trigger onDidType.
            const commands = new Set([
                $4m5ki.CoreEditingCommands.Tab.id,
                $4m5ki.CoreEditingCommands.DeleteLeft.id,
                $4m5ki.CoreEditingCommands.DeleteRight.id,
                $e8cb6f882cee80a6$export$f1235a78c589a102,
                'acceptSelectedSuggestion'
            ]);
            if (commands.has(e.commandId) && editor.hasTextFocus()) this.handleUserInput();
        }));
        this._register(this.editor.onDidType((e)=>{
            this.handleUserInput();
        }));
        this._register(this.editor.onDidChangeCursorPosition((e)=>{
            if (this.session && !this.session.isValid) this.hide();
        }));
        this._register($6W1JA.toDisposable(()=>{
            this.disposed = true;
        }));
        this._register(this.editor.onDidBlurEditorWidget(()=>{
            this.hide();
        }));
    }
};
$6d382f87a002acd7$export$5323521c789f2485 = $6d382f87a002acd7$var$__decorate([
    $6d382f87a002acd7$var$__param(2, $c0VS7.ICommandService)
], $6d382f87a002acd7$export$5323521c789f2485);
class $6d382f87a002acd7$export$c96bdfbf87b8494b extends $c646938ef58108ec$export$e69a41b67268cb2a {
    fixAndGetIndexOfCurrentSelection() {
        if (!this.currentlySelectedCompletionId || !this.cache.value) return 0;
        if (this.cache.value.completions.length === 0) // don't reset the selection in this case
        return 0;
        const idx = this.cache.value.completions.findIndex((v)=>v.semanticId === this.currentlySelectedCompletionId
        );
        if (idx === -1) {
            // Reset the selection so that the selection does not jump back when it appears again
            this.currentlySelectedCompletionId = undefined;
            return 0;
        }
        return idx;
    }
    get currentCachedCompletion() {
        if (!this.cache.value) return undefined;
        return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()];
    }
    showNextInlineCompletion() {
        var _a;
        return $6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
            yield this.ensureUpdateWithExplicitContext();
            const completions = ((_a = this.cache.value) === null || _a === void 0 ? void 0 : _a.completions) || [];
            if (completions.length > 0) {
                const newIdx = (this.fixAndGetIndexOfCurrentSelection() + 1) % completions.length;
                this.currentlySelectedCompletionId = completions[newIdx].semanticId;
            } else this.currentlySelectedCompletionId = undefined;
            this.onDidChangeEmitter.fire();
        });
    }
    showPreviousInlineCompletion() {
        var _a;
        return $6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
            yield this.ensureUpdateWithExplicitContext();
            const completions = ((_a = this.cache.value) === null || _a === void 0 ? void 0 : _a.completions) || [];
            if (completions.length > 0) {
                const newIdx = (this.fixAndGetIndexOfCurrentSelection() + completions.length - 1) % completions.length;
                this.currentlySelectedCompletionId = completions[newIdx].semanticId;
            } else this.currentlySelectedCompletionId = undefined;
            this.onDidChangeEmitter.fire();
        });
    }
    ensureUpdateWithExplicitContext() {
        var _a;
        return $6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
            if (this.updateOperation.value) {
                // Restart or wait for current update operation
                if (this.updateOperation.value.triggerKind === $goPht.InlineCompletionTriggerKind.Explicit) yield this.updateOperation.value.promise;
                else yield this.update($goPht.InlineCompletionTriggerKind.Explicit);
            } else if (((_a = this.cache.value) === null || _a === void 0 ? void 0 : _a.triggerKind) !== $goPht.InlineCompletionTriggerKind.Explicit) // Refresh cache
            yield this.update($goPht.InlineCompletionTriggerKind.Explicit);
        });
    }
    hasMultipleInlineCompletions() {
        var _a;
        return $6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
            yield this.ensureUpdateWithExplicitContext();
            return (((_a = this.cache.value) === null || _a === void 0 ? void 0 : _a.completions.length) || 0) > 1;
        });
    }
    //#endregion
    get ghostText() {
        const currentCompletion = this.currentCompletion;
        const mode = this.editor.getOptions().get(54 /* inlineSuggest */ ).mode;
        return currentCompletion ? $aff8323f0e9aead1$export$31cc5495dc7f07c1(currentCompletion, this.editor.getModel(), mode, this.editor.getPosition()) : undefined;
    }
    get currentCompletion() {
        const completion = this.currentCachedCompletion;
        if (!completion) return undefined;
        return completion.toLiveInlineCompletion();
    }
    get isValid() {
        return this.editor.getPosition().lineNumber === this.triggerPosition.lineNumber;
    }
    scheduleAutomaticUpdate() {
        // Since updateSoon debounces, starvation can happen.
        // To prevent stale cache, we clear the current update operation.
        this.updateOperation.clear();
        this.updateSoon.schedule();
    }
    update(triggerKind) {
        return $6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
            if (!this.shouldUpdate()) return;
            const position = this.editor.getPosition();
            const promise = $5piST.createCancelablePromise((token)=>$6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
                    let result;
                    try {
                        result = yield $6d382f87a002acd7$export$eb35bd557f596021(position, this.editor.getModel(), {
                            triggerKind: triggerKind,
                            selectedSuggestionInfo: undefined
                        }, token);
                    } catch (e) {
                        $3FsT3.onUnexpectedError(e);
                        return;
                    }
                    if (token.isCancellationRequested) return;
                    this.cache.setValue(this.editor, result, triggerKind);
                    this.onDidChangeEmitter.fire();
                })
            );
            const operation = new $6d382f87a002acd7$export$fcd951c1cbced25(promise, triggerKind);
            this.updateOperation.value = operation;
            yield promise;
            if (this.updateOperation.value === operation) this.updateOperation.clear();
        });
    }
    takeOwnership(disposable) {
        this._register(disposable);
    }
    commitCurrentCompletion() {
        if (!this.ghostText) // No ghost text was shown for this completion.
        // Thus, we don't want to commit anything.
        return;
        const completion = this.currentCompletion;
        if (completion) this.commit(completion);
    }
    commit(completion) {
        // Mark the cache as stale, but don't dispose it yet,
        // otherwise command args might get disposed.
        const cache = this.cache.clearAndLeak();
        this.editor.executeEdits('inlineSuggestion.accept', [
            $EQImd.EditOperation.replaceMove(completion.range, completion.text)
        ]);
        if (completion.command) this.commandService.executeCommand(completion.command.id, ...completion.command.arguments || []).finally(()=>{
            cache === null || cache === void 0 || cache.dispose();
        }).then(undefined, $3FsT3.onUnexpectedExternalError);
        else cache === null || cache === void 0 || cache.dispose();
        this.onDidChangeEmitter.fire();
    }
    constructor(editor, triggerPosition, shouldUpdate, commandService, cache, initialTriggerKind){
        super(editor);
        this.triggerPosition = triggerPosition;
        this.shouldUpdate = shouldUpdate;
        this.commandService = commandService;
        this.cache = cache;
        this.initialTriggerKind = initialTriggerKind;
        this.minReservedLineCount = 0;
        this.updateOperation = this._register(new $6W1JA.MutableDisposable());
        this.updateSoon = this._register(new $5piST.RunOnceScheduler(()=>{
            let triggerKind = this.initialTriggerKind;
            // All subsequent triggers are automatic.
            this.initialTriggerKind = $goPht.InlineCompletionTriggerKind.Automatic;
            return this.update(triggerKind);
        }, 50));
        //#region Selection
        // We use a semantic id to track the selection even if the cache changes.
        this.currentlySelectedCompletionId = undefined;
        let lastCompletionItem = undefined;
        this._register(this.onDidChange(()=>{
            const currentCompletion = this.currentCompletion;
            if (currentCompletion && currentCompletion.sourceInlineCompletion !== lastCompletionItem) {
                lastCompletionItem = currentCompletion.sourceInlineCompletion;
                const provider = currentCompletion.sourceProvider;
                if (provider.handleItemDidShow) provider.handleItemDidShow(currentCompletion.sourceInlineCompletions, lastCompletionItem);
            }
        }));
        this._register($6W1JA.toDisposable(()=>{
            this.cache.clear();
        }));
        this._register(this.editor.onDidChangeCursorPosition((e)=>{
            if (this.cache.value) this.onDidChangeEmitter.fire();
        }));
        this._register(this.editor.onDidChangeModelContent((e)=>{
            this.scheduleAutomaticUpdate();
        }));
        this._register($goPht.InlineCompletionsProviderRegistry.onDidChange(()=>{
            this.updateSoon.schedule();
        }));
        this.scheduleAutomaticUpdate();
    }
}
class $6d382f87a002acd7$export$fcd951c1cbced25 {
    dispose() {
        this.promise.cancel();
    }
    constructor(promise, triggerKind){
        this.promise = promise;
        this.triggerKind = triggerKind;
    }
}
class $6d382f87a002acd7$export$f1e185e738fbe6 extends $6W1JA.Disposable {
    constructor(editor, completionsSource, onChange, triggerKind){
        super();
        this.triggerKind = triggerKind;
        const decorationIds = editor.deltaDecorations([], completionsSource.items.map((i)=>({
                range: i.range,
                options: {
                    description: 'inline-completion-tracking-range'
                }
            })
        ));
        this._register($6W1JA.toDisposable(()=>{
            editor.deltaDecorations(decorationIds, []);
        }));
        this.completions = completionsSource.items.map((c, idx)=>new $6d382f87a002acd7$var$CachedInlineCompletion(c, decorationIds[idx])
        );
        this._register(editor.onDidChangeModelContent(()=>{
            let hasChanged = false;
            const model = editor.getModel();
            for (const c of this.completions){
                const newRange = model.getDecorationRange(c.decorationId);
                if (!newRange) {
                    $3FsT3.onUnexpectedError(new Error('Decoration has no range'));
                    continue;
                }
                if (!c.synchronizedRange.equalsRange(newRange)) {
                    hasChanged = true;
                    c.synchronizedRange = newRange;
                }
            }
            if (hasChanged) onChange();
        }));
        this._register(completionsSource);
    }
}
class $6d382f87a002acd7$var$CachedInlineCompletion {
    toLiveInlineCompletion() {
        return {
            text: this.inlineCompletion.text,
            range: this.synchronizedRange,
            command: this.inlineCompletion.command,
            sourceProvider: this.inlineCompletion.sourceProvider,
            sourceInlineCompletions: this.inlineCompletion.sourceInlineCompletions,
            sourceInlineCompletion: this.inlineCompletion.sourceInlineCompletion
        };
    }
    constructor(inlineCompletion, decorationId){
        this.inlineCompletion = inlineCompletion;
        this.decorationId = decorationId;
        this.semanticId = JSON.stringify({
            text: this.inlineCompletion.text,
            startLine: this.inlineCompletion.range.startLineNumber,
            startColumn: this.inlineCompletion.range.startColumn,
            command: this.inlineCompletion.command
        });
        this.synchronizedRange = inlineCompletion.range;
    }
}
function $6d382f87a002acd7$var$getDefaultRange(position, model) {
    const word = model.getWordAtPosition(position);
    const maxColumn = model.getLineMaxColumn(position.lineNumber);
    // By default, always replace up until the end of the current line.
    // This default might be subject to change!
    return word ? new $1YFxJ.Range(position.lineNumber, word.startColumn, position.lineNumber, maxColumn) : $1YFxJ.Range.fromPositions(position, position.with(undefined, maxColumn));
}
function $6d382f87a002acd7$export$eb35bd557f596021(position, model, context, token = $1vhHo.CancellationToken.None) {
    return $6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
        const defaultReplaceRange = $6d382f87a002acd7$var$getDefaultRange(position, model);
        const providers = $goPht.InlineCompletionsProviderRegistry.all(model);
        const results = yield Promise.all(providers.map((provider)=>$6d382f87a002acd7$var$__awaiter(this, void 0, void 0, function*() {
                const completions = yield provider.provideInlineCompletions(model, position, context, token);
                return {
                    completions: completions,
                    provider: provider,
                    dispose: ()=>{
                        if (completions) provider.freeInlineCompletions(completions);
                    }
                };
            })
        ));
        const itemsByHash = new Map();
        for (const result1 of results){
            const completions = result1.completions;
            if (completions) for (const item1 of completions.items.map((item)=>({
                    text: item.text,
                    range: item.range ? $1YFxJ.Range.lift(item.range) : defaultReplaceRange,
                    command: item.command,
                    sourceProvider: result1.provider,
                    sourceInlineCompletions: completions,
                    sourceInlineCompletion: item
                })
            )){
                if (item1.range.startLineNumber !== item1.range.endLineNumber) continue;
                itemsByHash.set(JSON.stringify({
                    text: item1.text,
                    range: item1.range
                }), item1);
            }
        }
        return {
            items: [
                ...itemsByHash.values()
            ],
            dispose: ()=>{
                for (const result of results)result.dispose();
            }
        };
    });
}
function $6d382f87a002acd7$export$5a88d2c8f5e7fefc(model, inlineCompletion) {
    if (!inlineCompletion) return inlineCompletion;
    const valueToReplace = model.getValueInRange(inlineCompletion.range);
    const commonPrefixLen = $i4xl7.commonPrefixLength(valueToReplace, inlineCompletion.text);
    const startOffset = model.getOffsetAt(inlineCompletion.range.getStartPosition()) + commonPrefixLen;
    const start = model.getPositionAt(startOffset);
    const remainingValueToReplace = valueToReplace.substr(commonPrefixLen);
    const commonSuffixLen = $i4xl7.commonSuffixLength(remainingValueToReplace, inlineCompletion.text);
    const end = model.getPositionAt(Math.max(startOffset, model.getOffsetAt(inlineCompletion.range.getEndPosition()) - commonSuffixLen));
    return {
        range: $1YFxJ.Range.fromPositions(start, end),
        text: inlineCompletion.text.substr(commonPrefixLen, inlineCompletion.text.length - commonPrefixLen - commonSuffixLen)
    };
}


var $462f43a99c6de582$exports = {};

$parcel$export($462f43a99c6de582$exports, "SuggestWidgetPreviewModel", function () { return $462f43a99c6de582$export$ebdca630db4b64a2; }, function (v) { return $462f43a99c6de582$export$ebdca630db4b64a2 = v; });

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $goPht = parcelRequire("goPht");




var $5piST = parcelRequire("5piST");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");
class $ed35ffdff064bb89$export$2da42535f3a161df {
    static isDigitCharacter(ch) {
        return ch >= 48 /* Digit0 */  && ch <= 57 /* Digit9 */ ;
    }
    static isVariableCharacter(ch) {
        return ch === 95 /* Underline */  || ch >= 97 /* a */  && ch <= 122 /* z */  || ch >= 65 /* A */  && ch <= 90 /* Z */ ;
    }
    text(value) {
        this.value = value;
        this.pos = 0;
    }
    tokenText(token) {
        return this.value.substr(token.pos, token.len);
    }
    next() {
        if (this.pos >= this.value.length) return {
            type: 14 /* EOF */ ,
            pos: this.pos,
            len: 0
        };
        let pos = this.pos;
        let len = 0;
        let ch = this.value.charCodeAt(pos);
        let type;
        // static types
        type = $ed35ffdff064bb89$export$2da42535f3a161df._table[ch];
        if (typeof type === 'number') {
            this.pos += 1;
            return {
                type: type,
                pos: pos,
                len: 1
            };
        }
        // number
        if ($ed35ffdff064bb89$export$2da42535f3a161df.isDigitCharacter(ch)) {
            type = 8 /* Int */ ;
            do {
                len += 1;
                ch = this.value.charCodeAt(pos + len);
            }while ($ed35ffdff064bb89$export$2da42535f3a161df.isDigitCharacter(ch))
            this.pos += len;
            return {
                type: type,
                pos: pos,
                len: len
            };
        }
        // variable name
        if ($ed35ffdff064bb89$export$2da42535f3a161df.isVariableCharacter(ch)) {
            type = 9 /* VariableName */ ;
            do ch = this.value.charCodeAt(pos + ++len);
            while ($ed35ffdff064bb89$export$2da42535f3a161df.isVariableCharacter(ch) || $ed35ffdff064bb89$export$2da42535f3a161df.isDigitCharacter(ch))
            this.pos += len;
            return {
                type: type,
                pos: pos,
                len: len
            };
        }
        // format
        type = 10 /* Format */ ;
        do {
            len += 1;
            ch = this.value.charCodeAt(pos + len);
        }while (!isNaN(ch) && typeof $ed35ffdff064bb89$export$2da42535f3a161df._table[ch] === 'undefined' // not static token
         && !$ed35ffdff064bb89$export$2da42535f3a161df.isDigitCharacter(ch) // not number
         && !$ed35ffdff064bb89$export$2da42535f3a161df.isVariableCharacter(ch) // not variable
        )
        this.pos += len;
        return {
            type: type,
            pos: pos,
            len: len
        };
    }
    constructor(){
        this.value = '';
        this.pos = 0;
    }
}
$ed35ffdff064bb89$export$2da42535f3a161df._table = {
    [36 /* DollarSign */ ]: 0 /* Dollar */ ,
    [58 /* Colon */ ]: 1 /* Colon */ ,
    [44 /* Comma */ ]: 2 /* Comma */ ,
    [123 /* OpenCurlyBrace */ ]: 3 /* CurlyOpen */ ,
    [125 /* CloseCurlyBrace */ ]: 4 /* CurlyClose */ ,
    [92 /* Backslash */ ]: 5 /* Backslash */ ,
    [47 /* Slash */ ]: 6 /* Forwardslash */ ,
    [124 /* Pipe */ ]: 7 /* Pipe */ ,
    [43 /* Plus */ ]: 11 /* Plus */ ,
    [45 /* Dash */ ]: 12 /* Dash */ ,
    [63 /* QuestionMark */ ]: 13 /* QuestionMark */ 
};
class $ed35ffdff064bb89$export$e98856a975cab58e {
    appendChild(child) {
        if (child instanceof $ed35ffdff064bb89$export$5f1af8db9871e1d6 && this._children[this._children.length - 1] instanceof $ed35ffdff064bb89$export$5f1af8db9871e1d6) // this and previous child are text -> merge them
        this._children[this._children.length - 1].value += child.value;
        else {
            // normal adoption of child
            child.parent = this;
            this._children.push(child);
        }
        return this;
    }
    replace(child1, others) {
        const { parent: parent1  } = child1;
        const idx = parent1.children.indexOf(child1);
        const newChildren = parent1.children.slice(0);
        newChildren.splice(idx, 1, ...others);
        parent1._children = newChildren;
        (function _fixParent(children, parent) {
            for (const child of children){
                child.parent = parent;
                _fixParent(child.children, child);
            }
        })(others, parent1);
    }
    get children() {
        return this._children;
    }
    get snippet() {
        let candidate = this;
        while(true){
            if (!candidate) return undefined;
            if (candidate instanceof $ed35ffdff064bb89$export$263a781ea79d9666) return candidate;
            candidate = candidate.parent;
        }
    }
    toString() {
        return this.children.reduce((prev, cur)=>prev + cur.toString()
        , '');
    }
    len() {
        return 0;
    }
    constructor(){
        this._children = [];
    }
}
class $ed35ffdff064bb89$export$5f1af8db9871e1d6 extends $ed35ffdff064bb89$export$e98856a975cab58e {
    toString() {
        return this.value;
    }
    len() {
        return this.value.length;
    }
    clone() {
        return new $ed35ffdff064bb89$export$5f1af8db9871e1d6(this.value);
    }
    constructor(value){
        super();
        this.value = value;
    }
}
class $ed35ffdff064bb89$export$bdd004e571fcb996 extends $ed35ffdff064bb89$export$e98856a975cab58e {
}
class $ed35ffdff064bb89$export$84712d0562a614b8 extends $ed35ffdff064bb89$export$bdd004e571fcb996 {
    static compareByIndex(a, b) {
        if (a.index === b.index) return 0;
        else if (a.isFinalTabstop) return 1;
        else if (b.isFinalTabstop) return -1;
        else if (a.index < b.index) return -1;
        else if (a.index > b.index) return 1;
        else return 0;
    }
    get isFinalTabstop() {
        return this.index === 0;
    }
    get choice() {
        return this._children.length === 1 && this._children[0] instanceof $ed35ffdff064bb89$export$32a7462f6a06cbd5 ? this._children[0] : undefined;
    }
    clone() {
        let ret = new $ed35ffdff064bb89$export$84712d0562a614b8(this.index);
        if (this.transform) ret.transform = this.transform.clone();
        ret._children = this.children.map((child)=>child.clone()
        );
        return ret;
    }
    constructor(index){
        super();
        this.index = index;
    }
}
class $ed35ffdff064bb89$export$32a7462f6a06cbd5 extends $ed35ffdff064bb89$export$e98856a975cab58e {
    appendChild(marker) {
        if (marker instanceof $ed35ffdff064bb89$export$5f1af8db9871e1d6) {
            marker.parent = this;
            this.options.push(marker);
        }
        return this;
    }
    toString() {
        return this.options[0].value;
    }
    len() {
        return this.options[0].len();
    }
    clone() {
        let ret = new $ed35ffdff064bb89$export$32a7462f6a06cbd5();
        this.options.forEach(ret.appendChild, ret);
        return ret;
    }
    constructor(){
        super(...arguments);
        this.options = [];
    }
}
class $ed35ffdff064bb89$export$563a914cafbdc389 extends $ed35ffdff064bb89$export$e98856a975cab58e {
    resolve(value) {
        const _this = this;
        let didMatch = false;
        let ret = value.replace(this.regexp, function() {
            didMatch = true;
            return _this._replace(Array.prototype.slice.call(arguments, 0, -2));
        });
        // when the regex didn't match and when the transform has
        // else branches, then run those
        if (!didMatch && this._children.some((child)=>child instanceof $ed35ffdff064bb89$export$917965fbd9eed82f && Boolean(child.elseValue)
        )) ret = this._replace([]);
        return ret;
    }
    _replace(groups) {
        let ret = '';
        for (const marker of this._children)if (marker instanceof $ed35ffdff064bb89$export$917965fbd9eed82f) {
            let value = groups[marker.index] || '';
            value = marker.resolve(value);
            ret += value;
        } else ret += marker.toString();
        return ret;
    }
    toString() {
        return '';
    }
    clone() {
        let ret = new $ed35ffdff064bb89$export$563a914cafbdc389();
        ret.regexp = new RegExp(this.regexp.source, '' + (this.regexp.ignoreCase ? 'i' : '') + (this.regexp.global ? 'g' : ''));
        ret._children = this.children.map((child)=>child.clone()
        );
        return ret;
    }
    constructor(){
        super(...arguments);
        this.regexp = new RegExp('');
    }
}
class $ed35ffdff064bb89$export$917965fbd9eed82f extends $ed35ffdff064bb89$export$e98856a975cab58e {
    resolve(value) {
        if (this.shorthandName === 'upcase') return !value ? '' : value.toLocaleUpperCase();
        else if (this.shorthandName === 'downcase') return !value ? '' : value.toLocaleLowerCase();
        else if (this.shorthandName === 'capitalize') return !value ? '' : value[0].toLocaleUpperCase() + value.substr(1);
        else if (this.shorthandName === 'pascalcase') return !value ? '' : this._toPascalCase(value);
        else if (this.shorthandName === 'camelcase') return !value ? '' : this._toCamelCase(value);
        else if (Boolean(value) && typeof this.ifValue === 'string') return this.ifValue;
        else if (!Boolean(value) && typeof this.elseValue === 'string') return this.elseValue;
        else return value || '';
    }
    _toPascalCase(value) {
        const match = value.match(/[a-z0-9]+/gi);
        if (!match) return value;
        return match.map((word)=>{
            return word.charAt(0).toUpperCase() + word.substr(1).toLowerCase();
        }).join('');
    }
    _toCamelCase(value) {
        const match = value.match(/[a-z0-9]+/gi);
        if (!match) return value;
        return match.map((word, index)=>{
            if (index === 0) return word.toLowerCase();
            else return word.charAt(0).toUpperCase() + word.substr(1).toLowerCase();
        }).join('');
    }
    clone() {
        let ret = new $ed35ffdff064bb89$export$917965fbd9eed82f(this.index, this.shorthandName, this.ifValue, this.elseValue);
        return ret;
    }
    constructor(index, shorthandName, ifValue, elseValue){
        super();
        this.index = index;
        this.shorthandName = shorthandName;
        this.ifValue = ifValue;
        this.elseValue = elseValue;
    }
}
class $ed35ffdff064bb89$export$c867a5c9595a1350 extends $ed35ffdff064bb89$export$bdd004e571fcb996 {
    resolve(resolver) {
        let value = resolver.resolve(this);
        if (this.transform) value = this.transform.resolve(value || '');
        if (value !== undefined) {
            this._children = [
                new $ed35ffdff064bb89$export$5f1af8db9871e1d6(value)
            ];
            return true;
        }
        return false;
    }
    clone() {
        const ret = new $ed35ffdff064bb89$export$c867a5c9595a1350(this.name);
        if (this.transform) ret.transform = this.transform.clone();
        ret._children = this.children.map((child)=>child.clone()
        );
        return ret;
    }
    constructor(name){
        super();
        this.name = name;
    }
}
function $ed35ffdff064bb89$var$walk(marker, visitor) {
    const stack = [
        ...marker
    ];
    while(stack.length > 0){
        const marker = stack.shift();
        const recurse = visitor(marker);
        if (!recurse) break;
        stack.unshift(...marker.children);
    }
}
class $ed35ffdff064bb89$export$263a781ea79d9666 extends $ed35ffdff064bb89$export$e98856a975cab58e {
    get placeholderInfo() {
        if (!this._placeholders) {
            // fill in placeholders
            let all = [];
            let last;
            this.walk(function(candidate) {
                if (candidate instanceof $ed35ffdff064bb89$export$84712d0562a614b8) {
                    all.push(candidate);
                    last = !last || last.index < candidate.index ? candidate : last;
                }
                return true;
            });
            this._placeholders = {
                all: all,
                last: last
            };
        }
        return this._placeholders;
    }
    get placeholders() {
        const { all: all  } = this.placeholderInfo;
        return all;
    }
    offset(marker) {
        let pos = 0;
        let found = false;
        this.walk((candidate)=>{
            if (candidate === marker) {
                found = true;
                return false;
            }
            pos += candidate.len();
            return true;
        });
        if (!found) return -1;
        return pos;
    }
    fullLen(marker1) {
        let ret = 0;
        $ed35ffdff064bb89$var$walk([
            marker1
        ], (marker)=>{
            ret += marker.len();
            return true;
        });
        return ret;
    }
    enclosingPlaceholders(placeholder) {
        let ret = [];
        let { parent: parent  } = placeholder;
        while(parent){
            if (parent instanceof $ed35ffdff064bb89$export$84712d0562a614b8) ret.push(parent);
            parent = parent.parent;
        }
        return ret;
    }
    resolveVariables(resolver) {
        this.walk((candidate)=>{
            if (candidate instanceof $ed35ffdff064bb89$export$c867a5c9595a1350) {
                if (candidate.resolve(resolver)) this._placeholders = undefined;
            }
            return true;
        });
        return this;
    }
    appendChild(child) {
        this._placeholders = undefined;
        return super.appendChild(child);
    }
    replace(child, others) {
        this._placeholders = undefined;
        return super.replace(child, others);
    }
    clone() {
        let ret = new $ed35ffdff064bb89$export$263a781ea79d9666();
        this._children = this.children.map((child)=>child.clone()
        );
        return ret;
    }
    walk(visitor) {
        $ed35ffdff064bb89$var$walk(this.children, visitor);
    }
}
class $ed35ffdff064bb89$export$e073bfe8583e8fbf {
    static escape(value) {
        return value.replace(/\$|}|\\/g, '\\$&');
    }
    static guessNeedsClipboard(template) {
        return /\${?CLIPBOARD/.test(template);
    }
    parse(value, insertFinalTabstop, enforceFinalTabstop) {
        this._scanner.text(value);
        this._token = this._scanner.next();
        const snippet = new $ed35ffdff064bb89$export$263a781ea79d9666();
        while(this._parse(snippet));
        // fill in values for placeholders. the first placeholder of an index
        // that has a value defines the value for all placeholders with that index
        const placeholderDefaultValues = new Map();
        const incompletePlaceholders = [];
        let placeholderCount = 0;
        snippet.walk((marker)=>{
            if (marker instanceof $ed35ffdff064bb89$export$84712d0562a614b8) {
                placeholderCount += 1;
                if (marker.isFinalTabstop) placeholderDefaultValues.set(0, undefined);
                else if (!placeholderDefaultValues.has(marker.index) && marker.children.length > 0) placeholderDefaultValues.set(marker.index, marker.children);
                else incompletePlaceholders.push(marker);
            }
            return true;
        });
        for (const placeholder of incompletePlaceholders){
            const defaultValues = placeholderDefaultValues.get(placeholder.index);
            if (defaultValues) {
                const clone = new $ed35ffdff064bb89$export$84712d0562a614b8(placeholder.index);
                clone.transform = placeholder.transform;
                for (const child of defaultValues)clone.appendChild(child.clone());
                snippet.replace(placeholder, [
                    clone
                ]);
            }
        }
        if (!enforceFinalTabstop) enforceFinalTabstop = placeholderCount > 0 && insertFinalTabstop;
        if (!placeholderDefaultValues.has(0) && enforceFinalTabstop) // the snippet uses placeholders but has no
        // final tabstop defined -> insert at the end
        snippet.appendChild(new $ed35ffdff064bb89$export$84712d0562a614b8(0));
        return snippet;
    }
    _accept(type, value) {
        if (type === undefined || this._token.type === type) {
            let ret = !value ? true : this._scanner.tokenText(this._token);
            this._token = this._scanner.next();
            return ret;
        }
        return false;
    }
    _backTo(token) {
        this._scanner.pos = token.pos + token.len;
        this._token = token;
        return false;
    }
    _until(type) {
        const start = this._token;
        while(this._token.type !== type){
            if (this._token.type === 14 /* EOF */ ) return false;
            else if (this._token.type === 5 /* Backslash */ ) {
                const nextToken = this._scanner.next();
                if (nextToken.type !== 0 /* Dollar */  && nextToken.type !== 4 /* CurlyClose */  && nextToken.type !== 5 /* Backslash */ ) return false;
            }
            this._token = this._scanner.next();
        }
        const value = this._scanner.value.substring(start.pos, this._token.pos).replace(/\\(\$|}|\\)/g, '$1');
        this._token = this._scanner.next();
        return value;
    }
    _parse(marker) {
        return this._parseEscaped(marker) || this._parseTabstopOrVariableName(marker) || this._parseComplexPlaceholder(marker) || this._parseComplexVariable(marker) || this._parseAnything(marker);
    }
    // \$, \\, \} -> just text
    _parseEscaped(marker) {
        let value;
        if (value = this._accept(5 /* Backslash */ , true)) {
            // saw a backslash, append escaped token or that backslash
            value = this._accept(0 /* Dollar */ , true) || this._accept(4 /* CurlyClose */ , true) || this._accept(5 /* Backslash */ , true) || value;
            marker.appendChild(new $ed35ffdff064bb89$export$5f1af8db9871e1d6(value));
            return true;
        }
        return false;
    }
    // $foo -> variable, $1 -> tabstop
    _parseTabstopOrVariableName(parent) {
        let value;
        const token = this._token;
        const match = this._accept(0 /* Dollar */ ) && (value = this._accept(9 /* VariableName */ , true) || this._accept(8 /* Int */ , true));
        if (!match) return this._backTo(token);
        parent.appendChild(/^\d+$/.test(value) ? new $ed35ffdff064bb89$export$84712d0562a614b8(Number(value)) : new $ed35ffdff064bb89$export$c867a5c9595a1350(value));
        return true;
    }
    // ${1:<children>}, ${1} -> placeholder
    _parseComplexPlaceholder(parent) {
        let index;
        const token = this._token;
        const match = this._accept(0 /* Dollar */ ) && this._accept(3 /* CurlyOpen */ ) && (index = this._accept(8 /* Int */ , true));
        if (!match) return this._backTo(token);
        const placeholder = new $ed35ffdff064bb89$export$84712d0562a614b8(Number(index));
        if (this._accept(1 /* Colon */ )) // ${1:<children>}
        while(true){
            // ...} -> done
            if (this._accept(4 /* CurlyClose */ )) {
                parent.appendChild(placeholder);
                return true;
            }
            if (this._parse(placeholder)) continue;
            // fallback
            parent.appendChild(new $ed35ffdff064bb89$export$5f1af8db9871e1d6('${' + index + ':'));
            placeholder.children.forEach(parent.appendChild, parent);
            return true;
        }
        else if (placeholder.index > 0 && this._accept(7 /* Pipe */ )) {
            // ${1|one,two,three|}
            const choice = new $ed35ffdff064bb89$export$32a7462f6a06cbd5();
            while(true){
                if (this._parseChoiceElement(choice)) {
                    if (this._accept(2 /* Comma */ )) continue;
                    if (this._accept(7 /* Pipe */ )) {
                        placeholder.appendChild(choice);
                        if (this._accept(4 /* CurlyClose */ )) {
                            // ..|} -> done
                            parent.appendChild(placeholder);
                            return true;
                        }
                    }
                }
                this._backTo(token);
                return false;
            }
        } else if (this._accept(6 /* Forwardslash */ )) {
            // ${1/<regex>/<format>/<options>}
            if (this._parseTransform(placeholder)) {
                parent.appendChild(placeholder);
                return true;
            }
            this._backTo(token);
            return false;
        } else if (this._accept(4 /* CurlyClose */ )) {
            // ${1}
            parent.appendChild(placeholder);
            return true;
        } else // ${1 <- missing curly or colon
        return this._backTo(token);
    }
    _parseChoiceElement(parent) {
        const token = this._token;
        const values = [];
        while(true){
            if (this._token.type === 2 /* Comma */  || this._token.type === 7 /* Pipe */ ) break;
            let value;
            if (value = this._accept(5 /* Backslash */ , true)) // \, \|, or \\
            value = this._accept(2 /* Comma */ , true) || this._accept(7 /* Pipe */ , true) || this._accept(5 /* Backslash */ , true) || value;
            else value = this._accept(undefined, true);
            if (!value) {
                // EOF
                this._backTo(token);
                return false;
            }
            values.push(value);
        }
        if (values.length === 0) {
            this._backTo(token);
            return false;
        }
        parent.appendChild(new $ed35ffdff064bb89$export$5f1af8db9871e1d6(values.join('')));
        return true;
    }
    // ${foo:<children>}, ${foo} -> variable
    _parseComplexVariable(parent) {
        let name;
        const token = this._token;
        const match = this._accept(0 /* Dollar */ ) && this._accept(3 /* CurlyOpen */ ) && (name = this._accept(9 /* VariableName */ , true));
        if (!match) return this._backTo(token);
        const variable = new $ed35ffdff064bb89$export$c867a5c9595a1350(name);
        if (this._accept(1 /* Colon */ )) // ${foo:<children>}
        while(true){
            // ...} -> done
            if (this._accept(4 /* CurlyClose */ )) {
                parent.appendChild(variable);
                return true;
            }
            if (this._parse(variable)) continue;
            // fallback
            parent.appendChild(new $ed35ffdff064bb89$export$5f1af8db9871e1d6('${' + name + ':'));
            variable.children.forEach(parent.appendChild, parent);
            return true;
        }
        else if (this._accept(6 /* Forwardslash */ )) {
            // ${foo/<regex>/<format>/<options>}
            if (this._parseTransform(variable)) {
                parent.appendChild(variable);
                return true;
            }
            this._backTo(token);
            return false;
        } else if (this._accept(4 /* CurlyClose */ )) {
            // ${foo}
            parent.appendChild(variable);
            return true;
        } else // ${foo <- missing curly or colon
        return this._backTo(token);
    }
    _parseTransform(parent) {
        // ...<regex>/<format>/<options>}
        let transform = new $ed35ffdff064bb89$export$563a914cafbdc389();
        let regexValue = '';
        let regexOptions = '';
        // (1) /regex
        while(true){
            if (this._accept(6 /* Forwardslash */ )) break;
            let escaped;
            if (escaped = this._accept(5 /* Backslash */ , true)) {
                escaped = this._accept(6 /* Forwardslash */ , true) || escaped;
                regexValue += escaped;
                continue;
            }
            if (this._token.type !== 14 /* EOF */ ) {
                regexValue += this._accept(undefined, true);
                continue;
            }
            return false;
        }
        // (2) /format
        while(true){
            if (this._accept(6 /* Forwardslash */ )) break;
            let escaped;
            if (escaped = this._accept(5 /* Backslash */ , true)) {
                escaped = this._accept(5 /* Backslash */ , true) || this._accept(6 /* Forwardslash */ , true) || escaped;
                transform.appendChild(new $ed35ffdff064bb89$export$5f1af8db9871e1d6(escaped));
                continue;
            }
            if (this._parseFormatString(transform) || this._parseAnything(transform)) continue;
            return false;
        }
        // (3) /option
        while(true){
            if (this._accept(4 /* CurlyClose */ )) break;
            if (this._token.type !== 14 /* EOF */ ) {
                regexOptions += this._accept(undefined, true);
                continue;
            }
            return false;
        }
        try {
            transform.regexp = new RegExp(regexValue, regexOptions);
        } catch (e) {
            // invalid regexp
            return false;
        }
        parent.transform = transform;
        return true;
    }
    _parseFormatString(parent) {
        const token = this._token;
        if (!this._accept(0 /* Dollar */ )) return false;
        let complex = false;
        if (this._accept(3 /* CurlyOpen */ )) complex = true;
        let index = this._accept(8 /* Int */ , true);
        if (!index) {
            this._backTo(token);
            return false;
        } else if (!complex) {
            // $1
            parent.appendChild(new $ed35ffdff064bb89$export$917965fbd9eed82f(Number(index)));
            return true;
        } else if (this._accept(4 /* CurlyClose */ )) {
            // ${1}
            parent.appendChild(new $ed35ffdff064bb89$export$917965fbd9eed82f(Number(index)));
            return true;
        } else if (!this._accept(1 /* Colon */ )) {
            this._backTo(token);
            return false;
        }
        if (this._accept(6 /* Forwardslash */ )) {
            // ${1:/upcase}
            let shorthand = this._accept(9 /* VariableName */ , true);
            if (!shorthand || !this._accept(4 /* CurlyClose */ )) {
                this._backTo(token);
                return false;
            } else {
                parent.appendChild(new $ed35ffdff064bb89$export$917965fbd9eed82f(Number(index), shorthand));
                return true;
            }
        } else if (this._accept(11 /* Plus */ )) {
            // ${1:+<if>}
            let ifValue = this._until(4 /* CurlyClose */ );
            if (ifValue) {
                parent.appendChild(new $ed35ffdff064bb89$export$917965fbd9eed82f(Number(index), undefined, ifValue, undefined));
                return true;
            }
        } else if (this._accept(12 /* Dash */ )) {
            // ${2:-<else>}
            let elseValue = this._until(4 /* CurlyClose */ );
            if (elseValue) {
                parent.appendChild(new $ed35ffdff064bb89$export$917965fbd9eed82f(Number(index), undefined, undefined, elseValue));
                return true;
            }
        } else if (this._accept(13 /* QuestionMark */ )) {
            // ${2:?<if>:<else>}
            let ifValue = this._until(1 /* Colon */ );
            if (ifValue) {
                let elseValue = this._until(4 /* CurlyClose */ );
                if (elseValue) {
                    parent.appendChild(new $ed35ffdff064bb89$export$917965fbd9eed82f(Number(index), undefined, ifValue, elseValue));
                    return true;
                }
            }
        } else {
            // ${1:<else>}
            let elseValue = this._until(4 /* CurlyClose */ );
            if (elseValue) {
                parent.appendChild(new $ed35ffdff064bb89$export$917965fbd9eed82f(Number(index), undefined, undefined, elseValue));
                return true;
            }
        }
        this._backTo(token);
        return false;
    }
    _parseAnything(marker) {
        if (this._token.type !== 14 /* EOF */ ) {
            marker.appendChild(new $ed35ffdff064bb89$export$5f1af8db9871e1d6(this._scanner.tokenText(this._token)));
            this._accept(undefined);
            return true;
        }
        return false;
    }
    constructor(){
        this._scanner = new $ed35ffdff064bb89$export$2da42535f3a161df();
        this._token = {
            type: 14 /* EOF */ ,
            pos: 0,
            len: 0
        };
    }
}



var $duSG1 = parcelRequire("duSG1");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");


var $EQImd = parcelRequire("EQImd");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $72tIz = parcelRequire("72tIz");

var $kqwaP = parcelRequire("kqwaP");

var $i6nnD = parcelRequire("i6nnD");



var $kyhxR = parcelRequire("kyhxR");

var $lvxAj = parcelRequire("lvxAj");

var $i4xl7 = parcelRequire("i4xl7");
// prep-work
const $a4919f671b24a7b0$var$_data = new Uint8Array(16);
const $a4919f671b24a7b0$var$_hex = [];
for(let i = 0; i < 256; i++)$a4919f671b24a7b0$var$_hex.push(i.toString(16).padStart(2, '0'));
// todo@jrieken - with node@15 crypto#getRandomBytes is available everywhere, https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues#browser_compatibility
let $a4919f671b24a7b0$var$_fillRandomValues;
if (typeof crypto === 'object' && typeof crypto.getRandomValues === 'function') // browser
$a4919f671b24a7b0$var$_fillRandomValues = crypto.getRandomValues.bind(crypto);
else $a4919f671b24a7b0$var$_fillRandomValues = function(bucket) {
    for(let i1 = 0; i1 < bucket.length; i1++)bucket[i1] = Math.floor(Math.random() * 256);
    return bucket;
};
function $a4919f671b24a7b0$export$1c3aefb711c3a4cc() {
    // get data
    $a4919f671b24a7b0$var$_fillRandomValues($a4919f671b24a7b0$var$_data);
    // set version bits
    $a4919f671b24a7b0$var$_data[6] = $a4919f671b24a7b0$var$_data[6] & 0x0f | 0x40;
    $a4919f671b24a7b0$var$_data[8] = $a4919f671b24a7b0$var$_data[8] & 0x3f | 0x80;
    // print as string
    let i2 = 0;
    let result = '';
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += '-';
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += '-';
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += '-';
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += '-';
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    result += $a4919f671b24a7b0$var$_hex[$a4919f671b24a7b0$var$_data[i2++]];
    return result;
}



var $ahykL = parcelRequire("ahykL");


var $1WuVQ = parcelRequire("1WuVQ");

var $bUZVY = parcelRequire("bUZVY");

var $1WuVQ = parcelRequire("1WuVQ");
const $71b8970f0a1affbc$export$3b0eb959891056fe = 'code-workspace';
const $71b8970f0a1affbc$export$83b1a69723d0494f = [
    {
        name: $1WuVQ.localize('codeWorkspace', "Code Workspace"),
        extensions: [
            $71b8970f0a1affbc$export$3b0eb959891056fe
        ]
    }
];
function $71b8970f0a1affbc$export$8ab0cbf30ebc0326(obj) {
    const singleFolderIdentifier = obj;
    return typeof (singleFolderIdentifier === null || singleFolderIdentifier === void 0 ? void 0 : singleFolderIdentifier.id) === 'string' && $bUZVY.URI.isUri(singleFolderIdentifier.uri);
}
function $71b8970f0a1affbc$export$bb743eb0d71b555b(workspace) {
    // Multi root
    if (workspace.configuration) return {
        id: workspace.id,
        configPath: workspace.configuration
    };
    // Single folder
    if (workspace.folders.length === 1) return {
        id: workspace.id,
        uri: workspace.folders[0].uri
    };
    // Empty workspace
    return undefined;
} //#endregion


const $6c82e20e07b381b3$export$d9f63a18e880ec91 = Object.freeze({
    'CURRENT_YEAR': true,
    'CURRENT_YEAR_SHORT': true,
    'CURRENT_MONTH': true,
    'CURRENT_DATE': true,
    'CURRENT_HOUR': true,
    'CURRENT_MINUTE': true,
    'CURRENT_SECOND': true,
    'CURRENT_DAY_NAME': true,
    'CURRENT_DAY_NAME_SHORT': true,
    'CURRENT_MONTH_NAME': true,
    'CURRENT_MONTH_NAME_SHORT': true,
    'CURRENT_SECONDS_UNIX': true,
    'SELECTION': true,
    'CLIPBOARD': true,
    'TM_SELECTED_TEXT': true,
    'TM_CURRENT_LINE': true,
    'TM_CURRENT_WORD': true,
    'TM_LINE_INDEX': true,
    'TM_LINE_NUMBER': true,
    'TM_FILENAME': true,
    'TM_FILENAME_BASE': true,
    'TM_DIRECTORY': true,
    'TM_FILEPATH': true,
    'RELATIVE_FILEPATH': true,
    'BLOCK_COMMENT_START': true,
    'BLOCK_COMMENT_END': true,
    'LINE_COMMENT': true,
    'WORKSPACE_NAME': true,
    'WORKSPACE_FOLDER': true,
    'RANDOM': true,
    'RANDOM_HEX': true,
    'UUID': true
});
class $6c82e20e07b381b3$export$e3a7bd665cf54cee {
    resolve(variable) {
        for (const delegate of this._delegates){
            let value = delegate.resolve(variable);
            if (value !== undefined) return value;
        }
        return undefined;
    }
    constructor(_delegates){
        this._delegates = _delegates;
    //
    }
}
class $6c82e20e07b381b3$export$d2ecf5fbc0b88e32 {
    resolve(variable) {
        const { name: name  } = variable;
        if (name === 'SELECTION' || name === 'TM_SELECTED_TEXT') {
            let value = this._model.getValueInRange(this._selection) || undefined;
            let isMultiline = this._selection.startLineNumber !== this._selection.endLineNumber;
            // If there was no selected text, try to get last overtyped text
            if (!value && this._overtypingCapturer) {
                const info = this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);
                if (info) {
                    value = info.value;
                    isMultiline = info.multiline;
                }
            }
            if (value && isMultiline && variable.snippet) {
                // Selection is a multiline string which we indentation we now
                // need to adjust. We compare the indentation of this variable
                // with the indentation at the editor position and add potential
                // extra indentation to the value
                const line = this._model.getLineContent(this._selection.startLineNumber);
                const lineLeadingWhitespace = $i4xl7.getLeadingWhitespace(line, 0, this._selection.startColumn - 1);
                let varLeadingWhitespace = lineLeadingWhitespace;
                variable.snippet.walk((marker)=>{
                    if (marker === variable) return false;
                    if (marker instanceof $ed35ffdff064bb89$export$5f1af8db9871e1d6) varLeadingWhitespace = $i4xl7.getLeadingWhitespace($i4xl7.splitLines(marker.value).pop());
                    return true;
                });
                const whitespaceCommonLength = $i4xl7.commonPrefixLength(varLeadingWhitespace, lineLeadingWhitespace);
                value = value.replace(/(\r\n|\r|\n)(.*)/g, (m, newline, rest)=>`${newline}${varLeadingWhitespace.substr(whitespaceCommonLength)}${rest}`
                );
            }
            return value;
        } else if (name === 'TM_CURRENT_LINE') return this._model.getLineContent(this._selection.positionLineNumber);
        else if (name === 'TM_CURRENT_WORD') {
            const info = this._model.getWordAtPosition({
                lineNumber: this._selection.positionLineNumber,
                column: this._selection.positionColumn
            });
            return info && info.word || undefined;
        } else if (name === 'TM_LINE_INDEX') return String(this._selection.positionLineNumber - 1);
        else if (name === 'TM_LINE_NUMBER') return String(this._selection.positionLineNumber);
        return undefined;
    }
    constructor(_model, _selection, _selectionIdx, _overtypingCapturer){
        this._model = _model;
        this._selection = _selection;
        this._selectionIdx = _selectionIdx;
        this._overtypingCapturer = _overtypingCapturer;
    //
    }
}
class $6c82e20e07b381b3$export$23aa3af8f3bd9e57 {
    resolve(variable) {
        const { name: name  } = variable;
        if (name === 'TM_FILENAME') return $kyhxR.basename(this._model.uri.fsPath);
        else if (name === 'TM_FILENAME_BASE') {
            const name = $kyhxR.basename(this._model.uri.fsPath);
            const idx = name.lastIndexOf('.');
            if (idx <= 0) return name;
            else return name.slice(0, idx);
        } else if (name === 'TM_DIRECTORY') {
            if ($kyhxR.dirname(this._model.uri.fsPath) === '.') return '';
            return this._labelService.getUriLabel($lvxAj.dirname(this._model.uri));
        } else if (name === 'TM_FILEPATH') return this._labelService.getUriLabel(this._model.uri);
        else if (name === 'RELATIVE_FILEPATH') return this._labelService.getUriLabel(this._model.uri, {
            relative: true,
            noPrefix: true
        });
        return undefined;
    }
    constructor(_labelService, _model){
        this._labelService = _labelService;
        this._model = _model;
    //
    }
}
class $6c82e20e07b381b3$export$51fb631a281a1cb7 {
    resolve(variable) {
        if (variable.name !== 'CLIPBOARD') return undefined;
        const clipboardText = this._readClipboardText();
        if (!clipboardText) return undefined;
        // `spread` is assigning each cursor a line of the clipboard
        // text whenever there the line count equals the cursor count
        // and when enabled
        if (this._spread) {
            const lines = clipboardText.split(/\r\n|\n|\r/).filter((s)=>!$i4xl7.isFalsyOrWhitespace(s)
            );
            if (lines.length === this._selectionCount) return lines[this._selectionIdx];
        }
        return clipboardText;
    }
    constructor(_readClipboardText, _selectionIdx, _selectionCount, _spread){
        this._readClipboardText = _readClipboardText;
        this._selectionIdx = _selectionIdx;
        this._selectionCount = _selectionCount;
        this._spread = _spread;
    //
    }
}
class $6c82e20e07b381b3$export$93486f5d6db748c0 {
    resolve(variable) {
        const { name: name  } = variable;
        const langId = this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber, this._selection.selectionStartColumn);
        const config = $ahykL.LanguageConfigurationRegistry.getComments(langId);
        if (!config) return undefined;
        if (name === 'LINE_COMMENT') return config.lineCommentToken || undefined;
        else if (name === 'BLOCK_COMMENT_START') return config.blockCommentStartToken || undefined;
        else if (name === 'BLOCK_COMMENT_END') return config.blockCommentEndToken || undefined;
        return undefined;
    }
    constructor(_model, _selection){
        this._model = _model;
        this._selection = _selection;
    //
    }
}
class $6c82e20e07b381b3$export$3c8bf74f3a7220f9 {
    resolve(variable) {
        const { name: name  } = variable;
        if (name === 'CURRENT_YEAR') return String(this._date.getFullYear());
        else if (name === 'CURRENT_YEAR_SHORT') return String(this._date.getFullYear()).slice(-2);
        else if (name === 'CURRENT_MONTH') return String(this._date.getMonth().valueOf() + 1).padStart(2, '0');
        else if (name === 'CURRENT_DATE') return String(this._date.getDate().valueOf()).padStart(2, '0');
        else if (name === 'CURRENT_HOUR') return String(this._date.getHours().valueOf()).padStart(2, '0');
        else if (name === 'CURRENT_MINUTE') return String(this._date.getMinutes().valueOf()).padStart(2, '0');
        else if (name === 'CURRENT_SECOND') return String(this._date.getSeconds().valueOf()).padStart(2, '0');
        else if (name === 'CURRENT_DAY_NAME') return $6c82e20e07b381b3$export$3c8bf74f3a7220f9.dayNames[this._date.getDay()];
        else if (name === 'CURRENT_DAY_NAME_SHORT') return $6c82e20e07b381b3$export$3c8bf74f3a7220f9.dayNamesShort[this._date.getDay()];
        else if (name === 'CURRENT_MONTH_NAME') return $6c82e20e07b381b3$export$3c8bf74f3a7220f9.monthNames[this._date.getMonth()];
        else if (name === 'CURRENT_MONTH_NAME_SHORT') return $6c82e20e07b381b3$export$3c8bf74f3a7220f9.monthNamesShort[this._date.getMonth()];
        else if (name === 'CURRENT_SECONDS_UNIX') return String(Math.floor(this._date.getTime() / 1000));
        return undefined;
    }
    constructor(){
        this._date = new Date();
    }
}
$6c82e20e07b381b3$export$3c8bf74f3a7220f9.dayNames = [
    $1WuVQ.localize('Sunday', "Sunday"),
    $1WuVQ.localize('Monday', "Monday"),
    $1WuVQ.localize('Tuesday', "Tuesday"),
    $1WuVQ.localize('Wednesday', "Wednesday"),
    $1WuVQ.localize('Thursday', "Thursday"),
    $1WuVQ.localize('Friday', "Friday"),
    $1WuVQ.localize('Saturday', "Saturday")
];
$6c82e20e07b381b3$export$3c8bf74f3a7220f9.dayNamesShort = [
    $1WuVQ.localize('SundayShort', "Sun"),
    $1WuVQ.localize('MondayShort', "Mon"),
    $1WuVQ.localize('TuesdayShort', "Tue"),
    $1WuVQ.localize('WednesdayShort', "Wed"),
    $1WuVQ.localize('ThursdayShort', "Thu"),
    $1WuVQ.localize('FridayShort', "Fri"),
    $1WuVQ.localize('SaturdayShort', "Sat")
];
$6c82e20e07b381b3$export$3c8bf74f3a7220f9.monthNames = [
    $1WuVQ.localize('January', "January"),
    $1WuVQ.localize('February', "February"),
    $1WuVQ.localize('March', "March"),
    $1WuVQ.localize('April', "April"),
    $1WuVQ.localize('May', "May"),
    $1WuVQ.localize('June', "June"),
    $1WuVQ.localize('July', "July"),
    $1WuVQ.localize('August', "August"),
    $1WuVQ.localize('September', "September"),
    $1WuVQ.localize('October', "October"),
    $1WuVQ.localize('November', "November"),
    $1WuVQ.localize('December', "December")
];
$6c82e20e07b381b3$export$3c8bf74f3a7220f9.monthNamesShort = [
    $1WuVQ.localize('JanuaryShort', "Jan"),
    $1WuVQ.localize('FebruaryShort', "Feb"),
    $1WuVQ.localize('MarchShort', "Mar"),
    $1WuVQ.localize('AprilShort', "Apr"),
    $1WuVQ.localize('MayShort', "May"),
    $1WuVQ.localize('JuneShort', "Jun"),
    $1WuVQ.localize('JulyShort', "Jul"),
    $1WuVQ.localize('AugustShort', "Aug"),
    $1WuVQ.localize('SeptemberShort', "Sep"),
    $1WuVQ.localize('OctoberShort', "Oct"),
    $1WuVQ.localize('NovemberShort', "Nov"),
    $1WuVQ.localize('DecemberShort', "Dec")
];
class $6c82e20e07b381b3$export$f1d01458dc99b68c {
    resolve(variable) {
        if (!this._workspaceService) return undefined;
        const workspaceIdentifier = $71b8970f0a1affbc$export$bb743eb0d71b555b(this._workspaceService.getWorkspace());
        if (!workspaceIdentifier) return undefined;
        if (variable.name === 'WORKSPACE_NAME') return this._resolveWorkspaceName(workspaceIdentifier);
        else if (variable.name === 'WORKSPACE_FOLDER') return this._resoveWorkspacePath(workspaceIdentifier);
        return undefined;
    }
    _resolveWorkspaceName(workspaceIdentifier) {
        if ($71b8970f0a1affbc$export$8ab0cbf30ebc0326(workspaceIdentifier)) return $kyhxR.basename(workspaceIdentifier.uri.path);
        let filename = $kyhxR.basename(workspaceIdentifier.configPath.path);
        if (filename.endsWith($71b8970f0a1affbc$export$3b0eb959891056fe)) filename = filename.substr(0, filename.length - $71b8970f0a1affbc$export$3b0eb959891056fe.length - 1);
        return filename;
    }
    _resoveWorkspacePath(workspaceIdentifier) {
        if ($71b8970f0a1affbc$export$8ab0cbf30ebc0326(workspaceIdentifier)) return $f74ad904c4688561$export$86de3c9238cdb7b7(workspaceIdentifier.uri.fsPath);
        let filename = $kyhxR.basename(workspaceIdentifier.configPath.path);
        let folderpath = workspaceIdentifier.configPath.fsPath;
        if (folderpath.endsWith(filename)) folderpath = folderpath.substr(0, folderpath.length - filename.length - 1);
        return folderpath ? $f74ad904c4688561$export$86de3c9238cdb7b7(folderpath) : '/';
    }
    constructor(_workspaceService){
        this._workspaceService = _workspaceService;
    //
    }
}
class $6c82e20e07b381b3$export$35234542a316122e {
    resolve(variable) {
        const { name: name  } = variable;
        if (name === 'RANDOM') return Math.random().toString().slice(-6);
        else if (name === 'RANDOM_HEX') return Math.random().toString(16).slice(-6);
        else if (name === 'UUID') return $a4919f671b24a7b0$export$1c3aefb711c3a4cc();
        return undefined;
    }
}


class $6e50d63a68ae3902$export$c14aba13900af0fa {
    dispose() {
        if (this._placeholderDecorations) this._editor.deltaDecorations([
            ...this._placeholderDecorations.values()
        ], []);
        this._placeholderGroups.length = 0;
    }
    _initDecorations() {
        if (this._placeholderDecorations) // already initialized
        return;
        this._placeholderDecorations = new Map();
        const model = this._editor.getModel();
        this._editor.changeDecorations((accessor)=>{
            // create a decoration for each placeholder
            for (const placeholder of this._snippet.placeholders){
                const placeholderOffset = this._snippet.offset(placeholder);
                const placeholderLen = this._snippet.fullLen(placeholder);
                const range = $1YFxJ.Range.fromPositions(model.getPositionAt(this._offset + placeholderOffset), model.getPositionAt(this._offset + placeholderOffset + placeholderLen));
                const options = placeholder.isFinalTabstop ? $6e50d63a68ae3902$export$c14aba13900af0fa._decor.inactiveFinal : $6e50d63a68ae3902$export$c14aba13900af0fa._decor.inactive;
                const handle = accessor.addDecoration(range, options);
                this._placeholderDecorations.set(placeholder, handle);
            }
        });
    }
    move(fwd) {
        if (!this._editor.hasModel()) return [];
        this._initDecorations();
        // Transform placeholder text if necessary
        if (this._placeholderGroupsIdx >= 0) {
            let operations = [];
            for (const placeholder of this._placeholderGroups[this._placeholderGroupsIdx])// Check if the placeholder has a transformation
            if (placeholder.transform) {
                const id = this._placeholderDecorations.get(placeholder);
                const range = this._editor.getModel().getDecorationRange(id);
                const currentValue = this._editor.getModel().getValueInRange(range);
                const transformedValueLines = placeholder.transform.resolve(currentValue).split(/\r\n|\r|\n/);
                // fix indentation for transformed lines
                for(let i = 1; i < transformedValueLines.length; i++)transformedValueLines[i] = this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace + transformedValueLines[i]);
                operations.push($EQImd.EditOperation.replace(range, transformedValueLines.join(this._editor.getModel().getEOL())));
            }
            if (operations.length > 0) this._editor.executeEdits('snippet.placeholderTransform', operations);
        }
        let couldSkipThisPlaceholder = false;
        if (fwd === true && this._placeholderGroupsIdx < this._placeholderGroups.length - 1) {
            this._placeholderGroupsIdx += 1;
            couldSkipThisPlaceholder = true;
        } else if (fwd === false && this._placeholderGroupsIdx > 0) {
            this._placeholderGroupsIdx -= 1;
            couldSkipThisPlaceholder = true;
        }
        const newSelections = this._editor.getModel().changeDecorations((accessor)=>{
            const activePlaceholders = new Set();
            // change stickiness to always grow when typing at its edges
            // because these decorations represent the currently active
            // tabstop.
            // Special case #1: reaching the final tabstop
            // Special case #2: placeholders enclosing active placeholders
            const selections = [];
            for (const placeholder of this._placeholderGroups[this._placeholderGroupsIdx]){
                const id = this._placeholderDecorations.get(placeholder);
                const range = this._editor.getModel().getDecorationRange(id);
                selections.push(new $jS6at.Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn));
                // consider to skip this placeholder index when the decoration
                // range is empty but when the placeholder wasn't. that's a strong
                // hint that the placeholder has been deleted. (all placeholder must match this)
                couldSkipThisPlaceholder = couldSkipThisPlaceholder && this._hasPlaceholderBeenCollapsed(placeholder);
                accessor.changeDecorationOptions(id, placeholder.isFinalTabstop ? $6e50d63a68ae3902$export$c14aba13900af0fa._decor.activeFinal : $6e50d63a68ae3902$export$c14aba13900af0fa._decor.active);
                activePlaceholders.add(placeholder);
                for (const enclosingPlaceholder of this._snippet.enclosingPlaceholders(placeholder)){
                    const id = this._placeholderDecorations.get(enclosingPlaceholder);
                    accessor.changeDecorationOptions(id, enclosingPlaceholder.isFinalTabstop ? $6e50d63a68ae3902$export$c14aba13900af0fa._decor.activeFinal : $6e50d63a68ae3902$export$c14aba13900af0fa._decor.active);
                    activePlaceholders.add(enclosingPlaceholder);
                }
            }
            // change stickness to never grow when typing at its edges
            // so that in-active tabstops never grow
            for (const [placeholder1, id] of this._placeholderDecorations)if (!activePlaceholders.has(placeholder1)) accessor.changeDecorationOptions(id, placeholder1.isFinalTabstop ? $6e50d63a68ae3902$export$c14aba13900af0fa._decor.inactiveFinal : $6e50d63a68ae3902$export$c14aba13900af0fa._decor.inactive);
            return selections;
        });
        return !couldSkipThisPlaceholder ? newSelections !== null && newSelections !== void 0 ? newSelections : [] : this.move(fwd);
    }
    _hasPlaceholderBeenCollapsed(placeholder) {
        // A placeholder is empty when it wasn't empty when authored but
        // when its tracking decoration is empty. This also applies to all
        // potential parent placeholders
        let marker = placeholder;
        while(marker){
            if (marker instanceof $ed35ffdff064bb89$export$84712d0562a614b8) {
                const id = this._placeholderDecorations.get(marker);
                const range = this._editor.getModel().getDecorationRange(id);
                if (range.isEmpty() && marker.toString().length > 0) return true;
            }
            marker = marker.parent;
        }
        return false;
    }
    get isAtFirstPlaceholder() {
        return this._placeholderGroupsIdx <= 0 || this._placeholderGroups.length === 0;
    }
    get isAtLastPlaceholder() {
        return this._placeholderGroupsIdx === this._placeholderGroups.length - 1;
    }
    get hasPlaceholder() {
        return this._snippet.placeholders.length > 0;
    }
    computePossibleSelections() {
        const result = new Map();
        for (const placeholdersWithEqualIndex of this._placeholderGroups){
            let ranges;
            for (const placeholder of placeholdersWithEqualIndex){
                if (placeholder.isFinalTabstop) break;
                if (!ranges) {
                    ranges = [];
                    result.set(placeholder.index, ranges);
                }
                const id = this._placeholderDecorations.get(placeholder);
                const range = this._editor.getModel().getDecorationRange(id);
                if (!range) {
                    // one of the placeholder lost its decoration and
                    // therefore we bail out and pretend the placeholder
                    // (with its mirrors) doesn't exist anymore.
                    result.delete(placeholder.index);
                    break;
                }
                ranges.push(range);
            }
        }
        return result;
    }
    get choice() {
        return this._placeholderGroups[this._placeholderGroupsIdx][0].choice;
    }
    merge(others) {
        const model = this._editor.getModel();
        this._nestingLevel *= 10;
        this._editor.changeDecorations((accessor)=>{
            // For each active placeholder take one snippet and merge it
            // in that the placeholder (can be many for `$1foo$1foo`). Because
            // everything is sorted by editor selection we can simply remove
            // elements from the beginning of the array
            for (const placeholder of this._placeholderGroups[this._placeholderGroupsIdx]){
                const nested = others.shift();
                console.assert(!nested._placeholderDecorations);
                // Massage placeholder-indicies of the nested snippet to be
                // sorted right after the insertion point. This ensures we move
                // through the placeholders in the correct order
                const indexLastPlaceholder = nested._snippet.placeholderInfo.last.index;
                for (const nestedPlaceholder of nested._snippet.placeholderInfo.all)if (nestedPlaceholder.isFinalTabstop) nestedPlaceholder.index = placeholder.index + (indexLastPlaceholder + 1) / this._nestingLevel;
                else nestedPlaceholder.index = placeholder.index + nestedPlaceholder.index / this._nestingLevel;
                this._snippet.replace(placeholder, nested._snippet.children);
                // Remove the placeholder at which position are inserting
                // the snippet and also remove its decoration.
                const id = this._placeholderDecorations.get(placeholder);
                accessor.removeDecoration(id);
                this._placeholderDecorations.delete(placeholder);
                // For each *new* placeholder we create decoration to monitor
                // how and if it grows/shrinks.
                for (const placeholder2 of nested._snippet.placeholders){
                    const placeholderOffset = nested._snippet.offset(placeholder2);
                    const placeholderLen = nested._snippet.fullLen(placeholder2);
                    const range = $1YFxJ.Range.fromPositions(model.getPositionAt(nested._offset + placeholderOffset), model.getPositionAt(nested._offset + placeholderOffset + placeholderLen));
                    const handle = accessor.addDecoration(range, $6e50d63a68ae3902$export$c14aba13900af0fa._decor.inactive);
                    this._placeholderDecorations.set(placeholder2, handle);
                }
            }
            // Last, re-create the placeholder groups by sorting placeholders by their index.
            this._placeholderGroups = $duSG1.groupBy(this._snippet.placeholders, $ed35ffdff064bb89$export$84712d0562a614b8.compareByIndex);
        });
    }
    constructor(_editor, _snippet, _offset, _snippetLineLeadingWhitespace){
        this._editor = _editor;
        this._snippet = _snippet;
        this._offset = _offset;
        this._snippetLineLeadingWhitespace = _snippetLineLeadingWhitespace;
        this._nestingLevel = 1;
        this._placeholderGroups = $duSG1.groupBy(_snippet.placeholders, $ed35ffdff064bb89$export$84712d0562a614b8.compareByIndex);
        this._placeholderGroupsIdx = -1;
    }
}
$6e50d63a68ae3902$export$c14aba13900af0fa._decor = {
    active: $72tIz.ModelDecorationOptions.register({
        description: 'snippet-placeholder-1',
        stickiness: 0 /* AlwaysGrowsWhenTypingAtEdges */ ,
        className: 'snippet-placeholder'
    }),
    inactive: $72tIz.ModelDecorationOptions.register({
        description: 'snippet-placeholder-2',
        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
        className: 'snippet-placeholder'
    }),
    activeFinal: $72tIz.ModelDecorationOptions.register({
        description: 'snippet-placeholder-3',
        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
        className: 'finish-snippet-placeholder'
    }),
    inactiveFinal: $72tIz.ModelDecorationOptions.register({
        description: 'snippet-placeholder-4',
        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
        className: 'finish-snippet-placeholder'
    })
};
const $6e50d63a68ae3902$var$_defaultOptions = {
    overwriteBefore: 0,
    overwriteAfter: 0,
    adjustWhitespace: true,
    clipboardText: undefined,
    overtypingCapturer: undefined
};
class $6e50d63a68ae3902$export$d334bb6e0f563f7 {
    static adjustWhitespace(model, position, snippet, adjustIndentation, adjustNewlines) {
        const line = model.getLineContent(position.lineNumber);
        const lineLeadingWhitespace = $i4xl7.getLeadingWhitespace(line, 0, position.column - 1);
        // the snippet as inserted
        let snippetTextString;
        snippet.walk((marker)=>{
            // all text elements that are not inside choice
            if (!(marker instanceof $ed35ffdff064bb89$export$5f1af8db9871e1d6) || marker.parent instanceof $ed35ffdff064bb89$export$32a7462f6a06cbd5) return true;
            const lines = marker.value.split(/\r\n|\r|\n/);
            if (adjustIndentation) {
                // adjust indentation of snippet test
                // -the snippet-start doesn't get extra-indented (lineLeadingWhitespace), only normalized
                // -all N+1 lines get extra-indented and normalized
                // -the text start get extra-indented and normalized when following a linebreak
                const offset = snippet.offset(marker);
                if (offset === 0) // snippet start
                lines[0] = model.normalizeIndentation(lines[0]);
                else {
                    // check if text start is after a linebreak
                    snippetTextString = snippetTextString !== null && snippetTextString !== void 0 ? snippetTextString : snippet.toString();
                    let prevChar = snippetTextString.charCodeAt(offset - 1);
                    if (prevChar === 10 /* LineFeed */  || prevChar === 13 /* CarriageReturn */ ) lines[0] = model.normalizeIndentation(lineLeadingWhitespace + lines[0]);
                }
                for(let i = 1; i < lines.length; i++)lines[i] = model.normalizeIndentation(lineLeadingWhitespace + lines[i]);
            }
            const newValue = lines.join(model.getEOL());
            if (newValue !== marker.value) {
                marker.parent.replace(marker, [
                    new $ed35ffdff064bb89$export$5f1af8db9871e1d6(newValue)
                ]);
                snippetTextString = undefined;
            }
            return true;
        });
        return lineLeadingWhitespace;
    }
    static adjustSelection(model, selection, overwriteBefore, overwriteAfter) {
        if (overwriteBefore !== 0 || overwriteAfter !== 0) {
            // overwrite[Before|After] is compute using the position, not the whole
            // selection. therefore we adjust the selection around that position
            const { positionLineNumber: positionLineNumber , positionColumn: positionColumn  } = selection;
            const positionColumnBefore = positionColumn - overwriteBefore;
            const positionColumnAfter = positionColumn + overwriteAfter;
            const range = model.validateRange({
                startLineNumber: positionLineNumber,
                startColumn: positionColumnBefore,
                endLineNumber: positionLineNumber,
                endColumn: positionColumnAfter
            });
            selection = $jS6at.Selection.createWithDirection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn, selection.getDirection());
        }
        return selection;
    }
    static createEditsAndSnippets(editor, template, overwriteBefore, overwriteAfter, enforceFinalTabstop, adjustWhitespace, clipboardText, overtypingCapturer) {
        const edits = [];
        const snippets = [];
        if (!editor.hasModel()) return {
            edits: edits,
            snippets: snippets
        };
        const model = editor.getModel();
        const workspaceService = editor.invokeWithinContext((accessor)=>accessor.get($i6nnD.IWorkspaceContextService)
        );
        const modelBasedVariableResolver = editor.invokeWithinContext((accessor)=>new $6c82e20e07b381b3$export$23aa3af8f3bd9e57(accessor.get($kqwaP.ILabelService), model)
        );
        const readClipboardText = ()=>clipboardText
        ;
        let delta = 0;
        // know what text the overwrite[Before|After] extensions
        // of the primary curser have selected because only when
        // secondary selections extend to the same text we can grow them
        let firstBeforeText = model.getValueInRange($6e50d63a68ae3902$export$d334bb6e0f563f7.adjustSelection(model, editor.getSelection(), overwriteBefore, 0));
        let firstAfterText = model.getValueInRange($6e50d63a68ae3902$export$d334bb6e0f563f7.adjustSelection(model, editor.getSelection(), 0, overwriteAfter));
        // remember the first non-whitespace column to decide if
        // `keepWhitespace` should be overruled for secondary selections
        let firstLineFirstNonWhitespace = model.getLineFirstNonWhitespaceColumn(editor.getSelection().positionLineNumber);
        // sort selections by their start position but remeber
        // the original index. that allows you to create correct
        // offset-based selection logic without changing the
        // primary selection
        const indexedSelections = editor.getSelections().map((selection, idx)=>({
                selection: selection,
                idx: idx
            })
        ).sort((a, b)=>$1YFxJ.Range.compareRangesUsingStarts(a.selection, b.selection)
        );
        for (const { selection: selection1 , idx: idx1  } of indexedSelections){
            // extend selection with the `overwriteBefore` and `overwriteAfter` and then
            // compare if this matches the extensions of the primary selection
            let extensionBefore = $6e50d63a68ae3902$export$d334bb6e0f563f7.adjustSelection(model, selection1, overwriteBefore, 0);
            let extensionAfter = $6e50d63a68ae3902$export$d334bb6e0f563f7.adjustSelection(model, selection1, 0, overwriteAfter);
            if (firstBeforeText !== model.getValueInRange(extensionBefore)) extensionBefore = selection1;
            if (firstAfterText !== model.getValueInRange(extensionAfter)) extensionAfter = selection1;
            // merge the before and after selection into one
            const snippetSelection = selection1.setStartPosition(extensionBefore.startLineNumber, extensionBefore.startColumn).setEndPosition(extensionAfter.endLineNumber, extensionAfter.endColumn);
            const snippet = new $ed35ffdff064bb89$export$e073bfe8583e8fbf().parse(template, true, enforceFinalTabstop);
            // adjust the template string to match the indentation and
            // whitespace rules of this insert location (can be different for each cursor)
            // happens when being asked for (default) or when this is a secondary
            // cursor and the leading whitespace is different
            const start = snippetSelection.getStartPosition();
            const snippetLineLeadingWhitespace = $6e50d63a68ae3902$export$d334bb6e0f563f7.adjustWhitespace(model, start, snippet, adjustWhitespace || idx1 > 0 && firstLineFirstNonWhitespace !== model.getLineFirstNonWhitespaceColumn(selection1.positionLineNumber), true);
            snippet.resolveVariables(new $6c82e20e07b381b3$export$e3a7bd665cf54cee([
                modelBasedVariableResolver,
                new $6c82e20e07b381b3$export$51fb631a281a1cb7(readClipboardText, idx1, indexedSelections.length, editor.getOption(70 /* multiCursorPaste */ ) === 'spread'),
                new $6c82e20e07b381b3$export$d2ecf5fbc0b88e32(model, selection1, idx1, overtypingCapturer),
                new $6c82e20e07b381b3$export$93486f5d6db748c0(model, selection1),
                new $6c82e20e07b381b3$export$3c8bf74f3a7220f9,
                new $6c82e20e07b381b3$export$f1d01458dc99b68c(workspaceService),
                new $6c82e20e07b381b3$export$35234542a316122e, 
            ]));
            const offset = model.getOffsetAt(start) + delta;
            delta += snippet.toString().length - model.getValueLengthInRange(snippetSelection);
            // store snippets with the index of their originating selection.
            // that ensures the primiary cursor stays primary despite not being
            // the one with lowest start position
            edits[idx1] = $EQImd.EditOperation.replace(snippetSelection, snippet.toString());
            edits[idx1].identifier = {
                major: idx1,
                minor: 0
            }; // mark the edit so only our undo edits will be used to generate end cursors
            snippets[idx1] = new $6e50d63a68ae3902$export$c14aba13900af0fa(editor, snippet, offset, snippetLineLeadingWhitespace);
        }
        return {
            edits: edits,
            snippets: snippets
        };
    }
    dispose() {
        $6W1JA.dispose(this._snippets);
    }
    _logInfo() {
        return `template="${this._template}", merged_templates="${this._templateMerges.join(' -> ')}"`;
    }
    insert() {
        if (!this._editor.hasModel()) return;
        // make insert edit and start with first selections
        const { edits: edits , snippets: snippets  } = $6e50d63a68ae3902$export$d334bb6e0f563f7.createEditsAndSnippets(this._editor, this._template, this._options.overwriteBefore, this._options.overwriteAfter, false, this._options.adjustWhitespace, this._options.clipboardText, this._options.overtypingCapturer);
        this._snippets = snippets;
        this._editor.executeEdits('snippet', edits, (undoEdits)=>{
            if (this._snippets[0].hasPlaceholder) return this._move(true);
            else return undoEdits.filter((edit)=>!!edit.identifier
            ) // only use our undo edits
            .map((edit)=>$jS6at.Selection.fromPositions(edit.range.getEndPosition())
            );
        });
        this._editor.revealRange(this._editor.getSelections()[0]);
    }
    merge(template, options = $6e50d63a68ae3902$var$_defaultOptions) {
        if (!this._editor.hasModel()) return;
        this._templateMerges.push([
            this._snippets[0]._nestingLevel,
            this._snippets[0]._placeholderGroupsIdx,
            template
        ]);
        const { edits: edits , snippets: snippets  } = $6e50d63a68ae3902$export$d334bb6e0f563f7.createEditsAndSnippets(this._editor, template, options.overwriteBefore, options.overwriteAfter, true, options.adjustWhitespace, options.clipboardText, options.overtypingCapturer);
        this._editor.executeEdits('snippet', edits, (undoEdits)=>{
            for (const snippet of this._snippets)snippet.merge(snippets);
            console.assert(snippets.length === 0);
            if (this._snippets[0].hasPlaceholder) return this._move(undefined);
            else return undoEdits.filter((edit)=>!!edit.identifier
            ) // only use our undo edits
            .map((edit)=>$jS6at.Selection.fromPositions(edit.range.getEndPosition())
            );
        });
    }
    next() {
        const newSelections = this._move(true);
        this._editor.setSelections(newSelections);
        this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition());
    }
    prev() {
        const newSelections = this._move(false);
        this._editor.setSelections(newSelections);
        this._editor.revealPositionInCenterIfOutsideViewport(newSelections[0].getPosition());
    }
    _move(fwd) {
        const selections = [];
        for (const snippet of this._snippets){
            const oneSelection = snippet.move(fwd);
            selections.push(...oneSelection);
        }
        return selections;
    }
    get isAtFirstPlaceholder() {
        return this._snippets[0].isAtFirstPlaceholder;
    }
    get isAtLastPlaceholder() {
        return this._snippets[0].isAtLastPlaceholder;
    }
    get hasPlaceholder() {
        return this._snippets[0].hasPlaceholder;
    }
    get choice() {
        return this._snippets[0].choice;
    }
    isSelectionWithinPlaceholders() {
        if (!this.hasPlaceholder) return false;
        const selections = this._editor.getSelections();
        if (selections.length < this._snippets.length) // this means we started snippet mode with N
        // selections and have M (N > M) selections.
        // So one snippet is without selection -> cancel
        return false;
        let allPossibleSelections = new Map();
        for (const snippet of this._snippets){
            const possibleSelections = snippet.computePossibleSelections();
            // for the first snippet find the placeholder (and its ranges)
            // that contain at least one selection. for all remaining snippets
            // the same placeholder (and their ranges) must be used.
            if (allPossibleSelections.size === 0) for (const [index1, ranges] of possibleSelections){
                ranges.sort($1YFxJ.Range.compareRangesUsingStarts);
                for (const selection of selections)if (ranges[0].containsRange(selection)) {
                    allPossibleSelections.set(index1, []);
                    break;
                }
            }
            if (allPossibleSelections.size === 0) // return false if we couldn't associate a selection to
            // this (the first) snippet
            return false;
            // add selections from 'this' snippet so that we know all
            // selections for this placeholder
            allPossibleSelections.forEach((array, index)=>{
                array.push(...possibleSelections.get(index));
            });
        }
        // sort selections (and later placeholder-ranges). then walk both
        // arrays and make sure the placeholder-ranges contain the corresponding
        // selection
        selections.sort($1YFxJ.Range.compareRangesUsingStarts);
        for (let [index, ranges] of allPossibleSelections){
            if (ranges.length !== selections.length) {
                allPossibleSelections.delete(index);
                continue;
            }
            ranges.sort($1YFxJ.Range.compareRangesUsingStarts);
            for(let i = 0; i < ranges.length; i++)if (!ranges[i].containsRange(selections[i])) {
                allPossibleSelections.delete(index);
                continue;
            }
        }
        // from all possible selections we have deleted those
        // that don't match with the current selection. if we don't
        // have any left, we don't have a selection anymore
        return allPossibleSelections.size > 0;
    }
    constructor(editor, template, options = $6e50d63a68ae3902$var$_defaultOptions){
        this._templateMerges = [];
        this._snippets = [];
        this._editor = editor;
        this._template = template;
        this._options = options;
    }
}


var $a339368e3efb8cd2$exports = {};

$parcel$export($a339368e3efb8cd2$exports, "SuggestController", function () { return $a339368e3efb8cd2$export$54e1189006f2eb3a; }, function (v) { return $a339368e3efb8cd2$export$54e1189006f2eb3a = v; });

var $6eCoB = parcelRequire("6eCoB");

var $duSG1 = parcelRequire("duSG1");

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $bkXdq = parcelRequire("bkXdq");

var $fRvj6 = parcelRequire("fRvj6");

var $6W1JA = parcelRequire("6W1JA");

var $7e5Mc = parcelRequire("7e5Mc");

var $dJKtA = parcelRequire("dJKtA");

var $erLC3 = parcelRequire("erLC3");

var $78AWm = parcelRequire("78AWm");

var $g9Zlr = parcelRequire("g9Zlr");

var $EQImd = parcelRequire("EQImd");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");
var $bd7aaf7eb12cf161$exports = {};

$parcel$export($bd7aaf7eb12cf161$exports, "SnippetController2", function () { return $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0; }, function (v) { return $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0 = v; });

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");
var $abd2fa2c46cec408$exports = {};

$parcel$export($abd2fa2c46cec408$exports, "Context", function () { return $abd2fa2c46cec408$export$841858b892ce1f4c; }, function (v) { return $abd2fa2c46cec408$export$841858b892ce1f4c = v; });
$parcel$export($abd2fa2c46cec408$exports, "suggestWidgetStatusbarMenu", function () { return $abd2fa2c46cec408$export$c2ae6207654f3cab; }, function (v) { return $abd2fa2c46cec408$export$c2ae6207654f3cab = v; });
$parcel$export($abd2fa2c46cec408$exports, "CompletionOptions", function () { return $abd2fa2c46cec408$export$6e9613987176d8af; }, function (v) { return $abd2fa2c46cec408$export$6e9613987176d8af = v; });
$parcel$export($abd2fa2c46cec408$exports, "getSnippetSuggestSupport", function () { return $abd2fa2c46cec408$export$72a35c372a05fbe1; }, function (v) { return $abd2fa2c46cec408$export$72a35c372a05fbe1 = v; });
$parcel$export($abd2fa2c46cec408$exports, "provideSuggestionItems", function () { return $abd2fa2c46cec408$export$c34b3fef967c72b0; }, function (v) { return $abd2fa2c46cec408$export$c34b3fef967c72b0 = v; });
$parcel$export($abd2fa2c46cec408$exports, "getSuggestionComparator", function () { return $abd2fa2c46cec408$export$2537afb96e75f997; }, function (v) { return $abd2fa2c46cec408$export$2537afb96e75f997 = v; });
$parcel$export($abd2fa2c46cec408$exports, "showSimpleSuggestions", function () { return $abd2fa2c46cec408$export$88d43510c0fc4cc4; }, function (v) { return $abd2fa2c46cec408$export$88d43510c0fc4cc4 = v; });

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $6FDEF = parcelRequire("6FDEF");

var $6W1JA = parcelRequire("6W1JA");

var $dJKtA = parcelRequire("dJKtA");

var $erLC3 = parcelRequire("erLC3");

var $bUZVY = parcelRequire("bUZVY");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $ftViW = parcelRequire("ftViW");


var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $c0VS7 = parcelRequire("c0VS7");

var $h4kGX = parcelRequire("h4kGX");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $abd2fa2c46cec408$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $abd2fa2c46cec408$export$841858b892ce1f4c = {
    Visible: new $h4kGX.RawContextKey('suggestWidgetVisible', false, $1WuVQ.localize('suggestWidgetVisible', "Whether suggestion are visible")),
    DetailsVisible: new $h4kGX.RawContextKey('suggestWidgetDetailsVisible', false, $1WuVQ.localize('suggestWidgetDetailsVisible', "Whether suggestion details are visible")),
    MultipleSuggestions: new $h4kGX.RawContextKey('suggestWidgetMultipleSuggestions', false, $1WuVQ.localize('suggestWidgetMultipleSuggestions', "Whether there are multiple suggestions to pick from")),
    MakesTextEdit: new $h4kGX.RawContextKey('suggestionMakesTextEdit', true, $1WuVQ.localize('suggestionMakesTextEdit', "Whether inserting the current suggestion yields in a change or has everything already been typed")),
    AcceptSuggestionsOnEnter: new $h4kGX.RawContextKey('acceptSuggestionOnEnter', true, $1WuVQ.localize('acceptSuggestionOnEnter', "Whether suggestions are inserted when pressing Enter")),
    HasInsertAndReplaceRange: new $h4kGX.RawContextKey('suggestionHasInsertAndReplaceRange', false, $1WuVQ.localize('suggestionHasInsertAndReplaceRange', "Whether the current suggestion has insert and replace behaviour")),
    InsertMode: new $h4kGX.RawContextKey('suggestionInsertMode', undefined, {
        type: 'string',
        description: $1WuVQ.localize('suggestionInsertMode', "Whether the default behaviour is to insert or replace")
    }),
    CanResolve: new $h4kGX.RawContextKey('suggestionCanResolve', false, $1WuVQ.localize('suggestionCanResolve', "Whether the current suggestion supports to resolve further details"))
};
const $abd2fa2c46cec408$export$c2ae6207654f3cab = new $iCLhR.MenuId('suggestWidgetStatusBar');
class $abd2fa2c46cec408$export$c290c60b00019a8b {
    // ---- resolving
    get isResolved() {
        return !!this._isResolved;
    }
    resolve(token) {
        return $abd2fa2c46cec408$var$__awaiter(this, void 0, void 0, function*() {
            if (!this._resolveCache) {
                const sub = token.onCancellationRequested(()=>{
                    this._resolveCache = undefined;
                    this._isResolved = false;
                });
                this._resolveCache = Promise.resolve(this.provider.resolveCompletionItem(this.completion, token)).then((value)=>{
                    Object.assign(this.completion, value);
                    this._isResolved = true;
                    sub.dispose();
                }, (err)=>{
                    if ($3FsT3.isPromiseCanceledError(err)) {
                        // the IPC queue will reject the request with the
                        // cancellation error -> reset cached
                        this._resolveCache = undefined;
                        this._isResolved = false;
                    }
                });
            }
            return this._resolveCache;
        });
    }
    constructor(position, completion, container, provider){
        this.position = position;
        this.completion = completion;
        this.container = container;
        this.provider = provider;
        // validation
        this.isInvalid = false;
        // sorting, filtering
        this.score = $6FDEF.FuzzyScore.Default;
        this.distance = 0;
        this.textLabel = typeof completion.label === 'string' ? completion.label : completion.label.label;
        // ensure lower-variants (perf)
        this.labelLow = this.textLabel.toLowerCase();
        // validate label
        this.isInvalid = !this.textLabel;
        this.sortTextLow = completion.sortText && completion.sortText.toLowerCase();
        this.filterTextLow = completion.filterText && completion.filterText.toLowerCase();
        // normalize ranges
        if ($1YFxJ.Range.isIRange(completion.range)) {
            this.editStart = new $fqrfT.Position(completion.range.startLineNumber, completion.range.startColumn);
            this.editInsertEnd = new $fqrfT.Position(completion.range.endLineNumber, completion.range.endColumn);
            this.editReplaceEnd = new $fqrfT.Position(completion.range.endLineNumber, completion.range.endColumn);
            // validate range
            this.isInvalid = this.isInvalid || $1YFxJ.Range.spansMultipleLines(completion.range) || completion.range.startLineNumber !== position.lineNumber;
        } else {
            this.editStart = new $fqrfT.Position(completion.range.insert.startLineNumber, completion.range.insert.startColumn);
            this.editInsertEnd = new $fqrfT.Position(completion.range.insert.endLineNumber, completion.range.insert.endColumn);
            this.editReplaceEnd = new $fqrfT.Position(completion.range.replace.endLineNumber, completion.range.replace.endColumn);
            // validate ranges
            this.isInvalid = this.isInvalid || $1YFxJ.Range.spansMultipleLines(completion.range.insert) || $1YFxJ.Range.spansMultipleLines(completion.range.replace) || completion.range.insert.startLineNumber !== position.lineNumber || completion.range.replace.startLineNumber !== position.lineNumber || completion.range.insert.startColumn !== completion.range.replace.startColumn;
        }
        // create the suggestion resolver
        if (typeof provider.resolveCompletionItem !== 'function') {
            this._resolveCache = Promise.resolve();
            this._isResolved = true;
        }
    }
}
class $abd2fa2c46cec408$export$6e9613987176d8af {
    constructor(snippetSortOrder = 2 /* Bottom */ , kindFilter = new Set(), providerFilter = new Set(), showDeprecated = true){
        this.snippetSortOrder = snippetSortOrder;
        this.kindFilter = kindFilter;
        this.providerFilter = providerFilter;
        this.showDeprecated = showDeprecated;
    }
}
$abd2fa2c46cec408$export$6e9613987176d8af.default = new $abd2fa2c46cec408$export$6e9613987176d8af();
let $abd2fa2c46cec408$var$_snippetSuggestSupport;
function $abd2fa2c46cec408$export$72a35c372a05fbe1() {
    return $abd2fa2c46cec408$var$_snippetSuggestSupport;
}
class $abd2fa2c46cec408$export$5bba491290954073 {
    constructor(items, needsClipboard, durations, disposable){
        this.items = items;
        this.needsClipboard = needsClipboard;
        this.durations = durations;
        this.disposable = disposable;
    }
}
function $abd2fa2c46cec408$export$c34b3fef967c72b0(model, position, options = $abd2fa2c46cec408$export$6e9613987176d8af.default, context = {
    triggerKind: 0 /* Invoke */ 
}, token = $1vhHo.CancellationToken.None) {
    return $abd2fa2c46cec408$var$__awaiter(this, void 0, void 0, function*() {
        const sw1 = new $dJKtA.StopWatch(true);
        position = position.clone();
        const word = model.getWordAtPosition(position);
        const defaultReplaceRange = word ? new $1YFxJ.Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn) : $1YFxJ.Range.fromPositions(position);
        const defaultRange = {
            replace: defaultReplaceRange,
            insert: defaultReplaceRange.setEndPosition(position.lineNumber, position.column)
        };
        const result = [];
        const disposables = new $6W1JA.DisposableStore();
        const durations = [];
        let needsClipboard = false;
        const onCompletionList = (provider, container, sw)=>{
            var _a, _b, _c;
            if (!container) return;
            for (let suggestion of container.suggestions)if (!options.kindFilter.has(suggestion.kind)) {
                // skip if not showing deprecated suggestions
                if (!options.showDeprecated && ((_a = suggestion === null || suggestion === void 0 ? void 0 : suggestion.tags) === null || _a === void 0 ? void 0 : _a.includes(1 /* Deprecated */ ))) continue;
                // fill in default range when missing
                if (!suggestion.range) suggestion.range = defaultRange;
                // fill in default sortText when missing
                if (!suggestion.sortText) suggestion.sortText = typeof suggestion.label === 'string' ? suggestion.label : suggestion.label.label;
                if (!needsClipboard && suggestion.insertTextRules && suggestion.insertTextRules & 4 /* InsertAsSnippet */ ) needsClipboard = $ed35ffdff064bb89$export$e073bfe8583e8fbf.guessNeedsClipboard(suggestion.insertText);
                result.push(new $abd2fa2c46cec408$export$c290c60b00019a8b(position, suggestion, container, provider));
            }
            if ($6W1JA.isDisposable(container)) disposables.add(container);
            durations.push({
                providerName: (_b = provider._debugDisplayName) !== null && _b !== void 0 ? _b : 'unkown_provider',
                elapsedProvider: (_c = container.duration) !== null && _c !== void 0 ? _c : -1,
                elapsedOverall: sw.elapsed()
            });
        };
        // ask for snippets in parallel to asking "real" providers. Only do something if configured to
        // do so - no snippet filter, no special-providers-only request
        const snippetCompletions = (()=>$abd2fa2c46cec408$var$__awaiter(this, void 0, void 0, function*() {
                if (!$abd2fa2c46cec408$var$_snippetSuggestSupport || options.kindFilter.has(27 /* Snippet */ )) return;
                if (options.providerFilter.size > 0 && !options.providerFilter.has($abd2fa2c46cec408$var$_snippetSuggestSupport)) return;
                const sw = new $dJKtA.StopWatch(true);
                const list = yield $abd2fa2c46cec408$var$_snippetSuggestSupport.provideCompletionItems(model, position, context, token);
                onCompletionList($abd2fa2c46cec408$var$_snippetSuggestSupport, list, sw);
            })
        )();
        // add suggestions from contributed providers - providers are ordered in groups of
        // equal score and once a group produces a result the process stops
        // get provider groups, always add snippet suggestion provider
        for (let providerGroup of $goPht.CompletionProviderRegistry.orderedGroups(model)){
            // for each support in the group ask for suggestions
            let lenBefore = result.length;
            yield Promise.all(providerGroup.map((provider)=>$abd2fa2c46cec408$var$__awaiter(this, void 0, void 0, function*() {
                    if (options.providerFilter.size > 0 && !options.providerFilter.has(provider)) return;
                    try {
                        const sw = new $dJKtA.StopWatch(true);
                        const list = yield provider.provideCompletionItems(model, position, context, token);
                        onCompletionList(provider, list, sw);
                    } catch (err) {
                        $3FsT3.onUnexpectedExternalError(err);
                    }
                })
            ));
            if (lenBefore !== result.length || token.isCancellationRequested) break;
        }
        yield snippetCompletions;
        if (token.isCancellationRequested) {
            disposables.dispose();
            return Promise.reject($3FsT3.canceled());
        }
        return new $abd2fa2c46cec408$export$5bba491290954073(result.sort($abd2fa2c46cec408$export$2537afb96e75f997(options.snippetSortOrder)), needsClipboard, {
            entries: durations,
            elapsed: sw1.elapsed()
        }, disposables);
    });
}
function $abd2fa2c46cec408$var$defaultComparator(a, b) {
    // check with 'sortText'
    if (a.sortTextLow && b.sortTextLow) {
        if (a.sortTextLow < b.sortTextLow) return -1;
        else if (a.sortTextLow > b.sortTextLow) return 1;
    }
    // check with 'label'
    if (a.completion.label < b.completion.label) return -1;
    else if (a.completion.label > b.completion.label) return 1;
    // check with 'type'
    return a.completion.kind - b.completion.kind;
}
function $abd2fa2c46cec408$var$snippetUpComparator(a, b) {
    if (a.completion.kind !== b.completion.kind) {
        if (a.completion.kind === 27 /* Snippet */ ) return -1;
        else if (b.completion.kind === 27 /* Snippet */ ) return 1;
    }
    return $abd2fa2c46cec408$var$defaultComparator(a, b);
}
function $abd2fa2c46cec408$var$snippetDownComparator(a, b) {
    if (a.completion.kind !== b.completion.kind) {
        if (a.completion.kind === 27 /* Snippet */ ) return 1;
        else if (b.completion.kind === 27 /* Snippet */ ) return -1;
    }
    return $abd2fa2c46cec408$var$defaultComparator(a, b);
}
const $abd2fa2c46cec408$var$_snippetComparators = new Map();
$abd2fa2c46cec408$var$_snippetComparators.set(0 /* Top */ , $abd2fa2c46cec408$var$snippetUpComparator);
$abd2fa2c46cec408$var$_snippetComparators.set(2 /* Bottom */ , $abd2fa2c46cec408$var$snippetDownComparator);
$abd2fa2c46cec408$var$_snippetComparators.set(1 /* Inline */ , $abd2fa2c46cec408$var$defaultComparator);
function $abd2fa2c46cec408$export$2537afb96e75f997(snippetConfig) {
    return $abd2fa2c46cec408$var$_snippetComparators.get(snippetConfig);
}
$c0VS7.CommandsRegistry.registerCommand('_executeCompletionItemProvider', (accessor, ...args)=>$abd2fa2c46cec408$var$__awaiter(void 0, void 0, void 0, function*() {
        const [uri, position, triggerCharacter, maxItemsToResolve] = args;
        $erLC3.assertType($bUZVY.URI.isUri(uri));
        $erLC3.assertType($fqrfT.Position.isIPosition(position));
        $erLC3.assertType(typeof triggerCharacter === 'string' || !triggerCharacter);
        $erLC3.assertType(typeof maxItemsToResolve === 'number' || !maxItemsToResolve);
        const ref = yield accessor.get($ftViW.ITextModelService).createModelReference(uri);
        try {
            const result = {
                incomplete: false,
                suggestions: []
            };
            const resolving = [];
            const completions = yield $abd2fa2c46cec408$export$c34b3fef967c72b0(ref.object.textEditorModel, $fqrfT.Position.lift(position), undefined, {
                triggerCharacter: triggerCharacter,
                triggerKind: triggerCharacter ? 1 /* TriggerCharacter */  : 0 /* Invoke */ 
            });
            for (const item of completions.items){
                if (resolving.length < (maxItemsToResolve !== null && maxItemsToResolve !== void 0 ? maxItemsToResolve : 0)) resolving.push(item.resolve($1vhHo.CancellationToken.None));
                result.incomplete = result.incomplete || item.container.incomplete;
                result.suggestions.push(item.completion);
            }
            try {
                yield Promise.all(resolving);
                return result;
            } finally{
                setTimeout(()=>completions.disposable.dispose()
                , 100);
            }
        } finally{
            ref.dispose();
        }
    })
);
const $abd2fa2c46cec408$var$_provider = new class {
    provideCompletionItems() {
        let suggestions = this.onlyOnceSuggestions.slice(0);
        let result = {
            suggestions: suggestions
        };
        this.onlyOnceSuggestions.length = 0;
        return result;
    }
    constructor(){
        this.onlyOnceSuggestions = [];
    }
};
$goPht.CompletionProviderRegistry.register('*', $abd2fa2c46cec408$var$_provider);
function $abd2fa2c46cec408$export$88d43510c0fc4cc4(editor, suggestions) {
    setTimeout(()=>{
        $abd2fa2c46cec408$var$_provider.onlyOnceSuggestions.push(...suggestions);
        editor.getContribution('editor.contrib.suggestController').triggerSuggest(new Set().add($abd2fa2c46cec408$var$_provider));
    }, 0);
}



var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $eMXt9 = parcelRequire("eMXt9");

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $bd7aaf7eb12cf161$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $bd7aaf7eb12cf161$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $bd7aaf7eb12cf161$var$_defaultOptions = {
    overwriteBefore: 0,
    overwriteAfter: 0,
    undoStopBefore: true,
    undoStopAfter: true,
    adjustWhitespace: true,
    clipboardText: undefined,
    overtypingCapturer: undefined
};
let $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0 = class $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0 {
    static get(editor) {
        return editor.getContribution($bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.ID);
    }
    dispose() {
        var _a;
        this._inSnippet.reset();
        this._hasPrevTabstop.reset();
        this._hasNextTabstop.reset();
        (_a = this._session) === null || _a === void 0 || _a.dispose();
        this._snippetListener.dispose();
    }
    insert(template, opts) {
        // this is here to find out more about the yet-not-understood
        // error that sometimes happens when we fail to inserted a nested
        // snippet
        try {
            this._doInsert(template, typeof opts === 'undefined' ? $bd7aaf7eb12cf161$var$_defaultOptions : Object.assign(Object.assign({}, $bd7aaf7eb12cf161$var$_defaultOptions), opts));
        } catch (e) {
            this.cancel();
            this._logService.error(e);
            this._logService.error('snippet_error');
            this._logService.error('insert_template=', template);
            this._logService.error('existing_template=', this._session ? this._session._logInfo() : '<no_session>');
        }
    }
    _doInsert(template, opts) {
        if (!this._editor.hasModel()) return;
        // don't listen while inserting the snippet
        // as that is the inflight state causing cancelation
        this._snippetListener.clear();
        if (opts.undoStopBefore) this._editor.getModel().pushStackElement();
        if (!this._session) {
            this._modelVersionId = this._editor.getModel().getAlternativeVersionId();
            this._session = new $6e50d63a68ae3902$export$d334bb6e0f563f7(this._editor, template, opts);
            this._session.insert();
        } else this._session.merge(template, opts);
        if (opts.undoStopAfter) this._editor.getModel().pushStackElement();
        this._updateState();
        this._snippetListener.add(this._editor.onDidChangeModelContent((e)=>e.isFlush && this.cancel()
        ));
        this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel()
        ));
        this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()
        ));
    }
    _updateState() {
        if (!this._session || !this._editor.hasModel()) // canceled in the meanwhile
        return;
        if (this._modelVersionId === this._editor.getModel().getAlternativeVersionId()) // undo until the 'before' state happened
        // and makes use cancel snippet mode
        return this.cancel();
        if (!this._session.hasPlaceholder) // don't listen for selection changes and don't
        // update context keys when the snippet is plain text
        return this.cancel();
        if (this._session.isAtLastPlaceholder || !this._session.isSelectionWithinPlaceholders()) return this.cancel();
        this._inSnippet.set(true);
        this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder);
        this._hasNextTabstop.set(!this._session.isAtLastPlaceholder);
        this._handleChoice();
    }
    _handleChoice() {
        if (!this._session || !this._editor.hasModel()) {
            this._currentChoice = undefined;
            return;
        }
        const { choice: choice  } = this._session;
        if (!choice) {
            this._currentChoice = undefined;
            return;
        }
        if (this._currentChoice !== choice) {
            this._currentChoice = choice;
            this._editor.setSelections(this._editor.getSelections().map((s)=>$jS6at.Selection.fromPositions(s.getStartPosition())
            ));
            const [first] = choice.options;
            $abd2fa2c46cec408$exports.showSimpleSuggestions(this._editor, choice.options.map((option, i)=>{
                // let before = choice.options.slice(0, i);
                // let after = choice.options.slice(i);
                return {
                    kind: 13 /* Value */ ,
                    label: option.value,
                    insertText: option.value,
                    // insertText: `\${1|${after.concat(before).join(',')}|}$0`,
                    // snippetType: 'textmate',
                    sortText: 'a'.repeat(i + 1),
                    range: $1YFxJ.Range.fromPositions(this._editor.getPosition(), this._editor.getPosition().delta(0, first.value.length))
                };
            }));
        }
    }
    finish() {
        while(this._inSnippet.get())this.next();
    }
    cancel(resetSelection = false) {
        var _a;
        this._inSnippet.reset();
        this._hasPrevTabstop.reset();
        this._hasNextTabstop.reset();
        this._snippetListener.clear();
        (_a = this._session) === null || _a === void 0 || _a.dispose();
        this._session = undefined;
        this._modelVersionId = -1;
        if (resetSelection) // reset selection to the primary cursor when being asked
        // for. this happens when explicitly cancelling snippet mode,
        // e.g. when pressing ESC
        this._editor.setSelections([
            this._editor.getSelection()
        ]);
    }
    prev() {
        if (this._session) this._session.prev();
        this._updateState();
    }
    next() {
        if (this._session) this._session.next();
        this._updateState();
    }
    isInSnippet() {
        return Boolean(this._inSnippet.get());
    }
    constructor(_editor, _logService, contextKeyService){
        this._editor = _editor;
        this._logService = _logService;
        this._snippetListener = new $6W1JA.DisposableStore();
        this._modelVersionId = -1;
        this._inSnippet = $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.InSnippetMode.bindTo(contextKeyService);
        this._hasNextTabstop = $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.HasNextTabstop.bindTo(contextKeyService);
        this._hasPrevTabstop = $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.HasPrevTabstop.bindTo(contextKeyService);
    }
};
$bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.ID = 'snippetController2';
$bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.InSnippetMode = new $h4kGX.RawContextKey('inSnippetMode', false, $1WuVQ.localize('inSnippetMode', "Whether the editor in current in snippet mode"));
$bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.HasNextTabstop = new $h4kGX.RawContextKey('hasNextTabstop', false, $1WuVQ.localize('hasNextTabstop', "Whether there is a next tab stop when in snippet mode"));
$bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.HasPrevTabstop = new $h4kGX.RawContextKey('hasPrevTabstop', false, $1WuVQ.localize('hasPrevTabstop', "Whether there is a previous tab stop when in snippet mode"));
$bd7aaf7eb12cf161$export$d27b4f7e5ea418b0 = $bd7aaf7eb12cf161$var$__decorate([
    $bd7aaf7eb12cf161$var$__param(1, $eMXt9.ILogService),
    $bd7aaf7eb12cf161$var$__param(2, $h4kGX.IContextKeyService)
], $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0);
$g9Zlr.registerEditorContribution($bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.ID, $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0);
const $bd7aaf7eb12cf161$var$CommandCtor = $g9Zlr.EditorCommand.bindToContribution($bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.get);
$g9Zlr.registerEditorCommand(new $bd7aaf7eb12cf161$var$CommandCtor({
    id: 'jumpToNextSnippetPlaceholder',
    precondition: $h4kGX.ContextKeyExpr.and($bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.InSnippetMode, $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.HasNextTabstop),
    handler: (ctrl)=>ctrl.next()
    ,
    kbOpts: {
        weight: 130,
        kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
        primary: 2 /* Tab */ 
    }
}));
$g9Zlr.registerEditorCommand(new $bd7aaf7eb12cf161$var$CommandCtor({
    id: 'jumpToPrevSnippetPlaceholder',
    precondition: $h4kGX.ContextKeyExpr.and($bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.InSnippetMode, $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.HasPrevTabstop),
    handler: (ctrl)=>ctrl.prev()
    ,
    kbOpts: {
        weight: 130,
        kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
        primary: 1026 /* Tab */ 
    }
}));
$g9Zlr.registerEditorCommand(new $bd7aaf7eb12cf161$var$CommandCtor({
    id: 'leaveSnippet',
    precondition: $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.InSnippetMode,
    handler: (ctrl)=>ctrl.cancel(true)
    ,
    kbOpts: {
        weight: 130,
        kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
        primary: 9 /* Escape */ ,
        secondary: [
            1033 /* Escape */ 
        ]
    }
}));
$g9Zlr.registerEditorCommand(new $bd7aaf7eb12cf161$var$CommandCtor({
    id: 'acceptSnippet',
    precondition: $bd7aaf7eb12cf161$export$d27b4f7e5ea418b0.InSnippetMode,
    handler: (ctrl)=>ctrl.finish()
}));



var $9cb84a52f4754130$exports = {};

$parcel$export($9cb84a52f4754130$exports, "ISuggestMemoryService", function () { return $9cb84a52f4754130$export$d66aa79ce7d9c867; }, function (v) { return $9cb84a52f4754130$export$d66aa79ce7d9c867 = v; });

var $5piST = parcelRequire("5piST");

var $6W1JA = parcelRequire("6W1JA");

var $dNpei = parcelRequire("dNpei");

var $goPht = parcelRequire("goPht");

var $6goiI = parcelRequire("6goiI");

var $fjjY8 = parcelRequire("fjjY8");

var $6Xx7t = parcelRequire("6Xx7t");

var $4toHF = parcelRequire("4toHF");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $9cb84a52f4754130$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $9cb84a52f4754130$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
class $9cb84a52f4754130$export$29d4d7bc03c348a5 {
    select(model, pos, items) {
        if (items.length === 0) return 0;
        let topScore = items[0].score[0];
        for(let i = 0; i < items.length; i++){
            const { score: score , completion: suggestion  } = items[i];
            if (score[0] !== topScore) break;
            if (suggestion.preselect) // stop when seeing an auto-select-item
            return i;
        }
        return 0;
    }
    constructor(name){
        this.name = name;
    }
}
class $9cb84a52f4754130$export$f425102ee8def711 extends $9cb84a52f4754130$export$29d4d7bc03c348a5 {
    memorize(model, pos, item) {
    // no-op
    }
    toJSON() {
        return undefined;
    }
    fromJSON() {
    //
    }
    constructor(){
        super('first');
    }
}
class $9cb84a52f4754130$export$ebb88911201cb1d1 extends $9cb84a52f4754130$export$29d4d7bc03c348a5 {
    memorize(model, pos, item) {
        const key = `${model.getLanguageId()}/${item.textLabel}`;
        this._cache.set(key, {
            touch: this._seq++,
            type: item.completion.kind,
            insertText: item.completion.insertText
        });
    }
    select(model, pos, items) {
        if (items.length === 0) return 0;
        const lineSuffix = model.getLineContent(pos.lineNumber).substr(pos.column - 10, pos.column - 1);
        if (/\s$/.test(lineSuffix)) return super.select(model, pos, items);
        let topScore = items[0].score[0];
        let indexPreselect = -1;
        let indexRecency = -1;
        let seq = -1;
        for(let i = 0; i < items.length; i++){
            if (items[i].score[0] !== topScore) break;
            const key = `${model.getLanguageId()}/${items[i].textLabel}`;
            const item = this._cache.peek(key);
            if (item && item.touch > seq && item.type === items[i].completion.kind && item.insertText === items[i].completion.insertText) {
                seq = item.touch;
                indexRecency = i;
            }
            if (items[i].completion.preselect && indexPreselect === -1) // stop when seeing an auto-select-item
            return indexPreselect = i;
        }
        if (indexRecency !== -1) return indexRecency;
        else if (indexPreselect !== -1) return indexPreselect;
        else return 0;
    }
    toJSON() {
        return this._cache.toJSON();
    }
    fromJSON(data) {
        this._cache.clear();
        let seq = 0;
        for (const [key, value] of data){
            value.touch = seq;
            value.type = typeof value.type === 'number' ? value.type : $goPht.completionKindFromString(value.type);
            this._cache.set(key, value);
        }
        this._seq = this._cache.size;
    }
    constructor(){
        super('recentlyUsed');
        this._cache = new $dNpei.LRUCache(300, 0.66);
        this._seq = 0;
    }
}
class $9cb84a52f4754130$export$9b0af8db2fb435e5 extends $9cb84a52f4754130$export$29d4d7bc03c348a5 {
    memorize(model, pos, item) {
        const { word: word  } = model.getWordUntilPosition(pos);
        const key = `${model.getLanguageId()}/${word}`;
        this._trie.set(key, {
            type: item.completion.kind,
            insertText: item.completion.insertText,
            touch: this._seq++
        });
    }
    select(model, pos, items) {
        let { word: word  } = model.getWordUntilPosition(pos);
        if (!word) return super.select(model, pos, items);
        let key = `${model.getLanguageId()}/${word}`;
        let item = this._trie.get(key);
        if (!item) item = this._trie.findSubstr(key);
        if (item) for(let i = 0; i < items.length; i++){
            let { kind: kind , insertText: insertText  } = items[i].completion;
            if (kind === item.type && insertText === item.insertText) return i;
        }
        return super.select(model, pos, items);
    }
    toJSON() {
        let entries = [];
        this._trie.forEach((value, key)=>entries.push([
                key,
                value
            ])
        );
        // sort by last recently used (touch), then
        // take the top 200 item and normalize their
        // touch
        entries.sort((a, b)=>-(a[1].touch - b[1].touch)
        ).forEach((value, i)=>value[1].touch = i
        );
        return entries.slice(0, 200);
    }
    fromJSON(data) {
        this._trie.clear();
        if (data.length > 0) {
            this._seq = data[0][1].touch + 1;
            for (const [key, value] of data){
                value.type = typeof value.type === 'number' ? value.type : $goPht.completionKindFromString(value.type);
                this._trie.set(key, value);
            }
        }
    }
    constructor(){
        super('recentlyUsedByPrefix');
        this._trie = $dNpei.TernarySearchTree.forStrings();
        this._seq = 0;
    }
}
let $9cb84a52f4754130$export$50aa987e170ccef7 = class $9cb84a52f4754130$export$50aa987e170ccef7 {
    dispose() {
        this._disposables.dispose();
        this._persistSoon.dispose();
    }
    memorize(model, pos, item) {
        this._withStrategy(model, pos).memorize(model, pos, item);
        this._persistSoon.schedule();
    }
    select(model, pos, items) {
        return this._withStrategy(model, pos).select(model, pos, items);
    }
    _withStrategy(model, pos) {
        var _a;
        const mode = this._configService.getValue('editor.suggestSelection', {
            overrideIdentifier: model.getLanguageIdAtPosition(pos.lineNumber, pos.column),
            resource: model.uri
        });
        if (((_a = this._strategy) === null || _a === void 0 ? void 0 : _a.name) !== mode) {
            this._saveState();
            const ctor = $9cb84a52f4754130$export$50aa987e170ccef7._strategyCtors.get(mode) || $9cb84a52f4754130$export$f425102ee8def711;
            this._strategy = new ctor();
            try {
                const share = this._configService.getValue('editor.suggest.shareSuggestSelections');
                const scope = share ? 0 /* GLOBAL */  : 1 /* WORKSPACE */ ;
                const raw = this._storageService.get(`${$9cb84a52f4754130$export$50aa987e170ccef7._storagePrefix}/${mode}`, scope);
                if (raw) this._strategy.fromJSON(JSON.parse(raw));
            } catch (e) {
            // things can go wrong with JSON...
            }
        }
        return this._strategy;
    }
    _saveState() {
        if (this._strategy) {
            const share = this._configService.getValue('editor.suggest.shareSuggestSelections');
            const scope = share ? 0 /* GLOBAL */  : 1 /* WORKSPACE */ ;
            const raw = JSON.stringify(this._strategy);
            this._storageService.store(`${$9cb84a52f4754130$export$50aa987e170ccef7._storagePrefix}/${this._strategy.name}`, raw, scope, 1 /* MACHINE */ );
        }
    }
    constructor(_storageService, _configService){
        this._storageService = _storageService;
        this._configService = _configService;
        this._disposables = new $6W1JA.DisposableStore();
        this._persistSoon = new $5piST.RunOnceScheduler(()=>this._saveState()
        , 500);
        this._disposables.add(_storageService.onWillSaveState((e)=>{
            if (e.reason === $4toHF.WillSaveStateReason.SHUTDOWN) this._saveState();
        }));
    }
};
$9cb84a52f4754130$export$50aa987e170ccef7._strategyCtors = new Map([
    [
        'recentlyUsedByPrefix',
        $9cb84a52f4754130$export$9b0af8db2fb435e5
    ],
    [
        'recentlyUsed',
        $9cb84a52f4754130$export$ebb88911201cb1d1
    ],
    [
        'first',
        $9cb84a52f4754130$export$f425102ee8def711
    ]
]);
$9cb84a52f4754130$export$50aa987e170ccef7._storagePrefix = 'suggest/memories';
$9cb84a52f4754130$export$50aa987e170ccef7 = $9cb84a52f4754130$var$__decorate([
    $9cb84a52f4754130$var$__param(0, $4toHF.IStorageService),
    $9cb84a52f4754130$var$__param(1, $6goiI.IConfigurationService)
], $9cb84a52f4754130$export$50aa987e170ccef7);
const $9cb84a52f4754130$export$d66aa79ce7d9c867 = $6Xx7t.createDecorator('ISuggestMemories');
$fjjY8.registerSingleton($9cb84a52f4754130$export$d66aa79ce7d9c867, $9cb84a52f4754130$export$50aa987e170ccef7, true);


var $daadce6144dee16c$exports = {};

$parcel$export($daadce6144dee16c$exports, "WordContextKey", function () { return $daadce6144dee16c$export$f4d1b9d63b237092; }, function (v) { return $daadce6144dee16c$export$f4d1b9d63b237092 = v; });

var $h4kGX = parcelRequire("h4kGX");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $daadce6144dee16c$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $daadce6144dee16c$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $daadce6144dee16c$export$f4d1b9d63b237092 = class $daadce6144dee16c$export$f4d1b9d63b237092 {
    dispose() {
        var _a;
        this._configListener.dispose();
        (_a = this._selectionListener) === null || _a === void 0 || _a.dispose();
        this._ckAtEnd.reset();
    }
    _update() {
        // only update this when tab completions are enabled
        const enabled = this._editor.getOption(110 /* tabCompletion */ ) === 'on';
        if (this._enabled === enabled) return;
        this._enabled = enabled;
        if (this._enabled) {
            const checkForWordEnd = ()=>{
                if (!this._editor.hasModel()) {
                    this._ckAtEnd.set(false);
                    return;
                }
                const model = this._editor.getModel();
                const selection = this._editor.getSelection();
                const word = model.getWordAtPosition(selection.getStartPosition());
                if (!word) {
                    this._ckAtEnd.set(false);
                    return;
                }
                this._ckAtEnd.set(word.endColumn === selection.getStartPosition().column);
            };
            this._selectionListener = this._editor.onDidChangeCursorSelection(checkForWordEnd);
            checkForWordEnd();
        } else if (this._selectionListener) {
            this._ckAtEnd.reset();
            this._selectionListener.dispose();
            this._selectionListener = undefined;
        }
    }
    constructor(_editor, contextKeyService){
        this._editor = _editor;
        this._enabled = false;
        this._ckAtEnd = $daadce6144dee16c$export$f4d1b9d63b237092.AtEnd.bindTo(contextKeyService);
        this._configListener = this._editor.onDidChangeConfiguration((e)=>e.hasChanged(110 /* tabCompletion */ ) && this._update()
        );
        this._update();
    }
};
$daadce6144dee16c$export$f4d1b9d63b237092.AtEnd = new $h4kGX.RawContextKey('atEndOfWord', false);
$daadce6144dee16c$export$f4d1b9d63b237092 = $daadce6144dee16c$var$__decorate([
    $daadce6144dee16c$var$__param(1, $h4kGX.IContextKeyService)
], $daadce6144dee16c$export$f4d1b9d63b237092);



var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $c0VS7 = parcelRequire("c0VS7");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $6ObvH = parcelRequire("6ObvH");

var $eMXt9 = parcelRequire("eMXt9");

var $a3f3b1c09e816ef3$exports = {};

$parcel$export($a3f3b1c09e816ef3$exports, "SuggestAlternatives", function () { return $a3f3b1c09e816ef3$export$26081dcda3428b4d; }, function (v) { return $a3f3b1c09e816ef3$export$26081dcda3428b4d = v; });

var $h4kGX = parcelRequire("h4kGX");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $a3f3b1c09e816ef3$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $a3f3b1c09e816ef3$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $a3f3b1c09e816ef3$export$26081dcda3428b4d = class $a3f3b1c09e816ef3$export$26081dcda3428b4d {
    dispose() {
        this.reset();
    }
    reset() {
        var _a;
        this._ckOtherSuggestions.reset();
        (_a = this._listener) === null || _a === void 0 || _a.dispose();
        this._model = undefined;
        this._acceptNext = undefined;
        this._ignore = false;
    }
    set({ model: model , index: index  }, acceptNext) {
        // no suggestions -> nothing to do
        if (model.items.length === 0) {
            this.reset();
            return;
        }
        // no alternative suggestions -> nothing to do
        let nextIndex = $a3f3b1c09e816ef3$export$26081dcda3428b4d._moveIndex(true, model, index);
        if (nextIndex === index) {
            this.reset();
            return;
        }
        this._acceptNext = acceptNext;
        this._model = model;
        this._index = index;
        this._listener = this._editor.onDidChangeCursorPosition(()=>{
            if (!this._ignore) this.reset();
        });
        this._ckOtherSuggestions.set(true);
    }
    static _moveIndex(fwd, model, index) {
        let newIndex = index;
        while(true){
            newIndex = (newIndex + model.items.length + (fwd ? 1 : -1)) % model.items.length;
            if (newIndex === index) break;
            if (!model.items[newIndex].completion.additionalTextEdits) break;
        }
        return newIndex;
    }
    next() {
        this._move(true);
    }
    prev() {
        this._move(false);
    }
    _move(fwd) {
        if (!this._model) // nothing to reason about
        return;
        try {
            this._ignore = true;
            this._index = $a3f3b1c09e816ef3$export$26081dcda3428b4d._moveIndex(fwd, this._model, this._index);
            this._acceptNext({
                index: this._index,
                item: this._model.items[this._index],
                model: this._model
            });
        } finally{
            this._ignore = false;
        }
    }
    constructor(_editor, contextKeyService){
        this._editor = _editor;
        this._index = 0;
        this._ckOtherSuggestions = $a3f3b1c09e816ef3$export$26081dcda3428b4d.OtherSuggestions.bindTo(contextKeyService);
    }
};
$a3f3b1c09e816ef3$export$26081dcda3428b4d.OtherSuggestions = new $h4kGX.RawContextKey('hasOtherSuggestions', false);
$a3f3b1c09e816ef3$export$26081dcda3428b4d = $a3f3b1c09e816ef3$var$__decorate([
    $a3f3b1c09e816ef3$var$__param(1, $h4kGX.IContextKeyService)
], $a3f3b1c09e816ef3$export$26081dcda3428b4d);



var $duSG1 = parcelRequire("duSG1");

var $6W1JA = parcelRequire("6W1JA");

var $dCvSz = parcelRequire("dCvSz");
class $5e52785dc011876e$export$1c5a4637a8cc1b47 {
    _onItem(selected) {
        if (!selected || !$duSG1.isNonEmptyArray(selected.item.completion.commitCharacters)) {
            // no item or no commit characters
            this.reset();
            return;
        }
        if (this._active && this._active.item.item === selected.item) // still the same item
        return;
        // keep item and its commit characters
        const acceptCharacters = new $dCvSz.CharacterSet();
        for (const ch of selected.item.completion.commitCharacters)if (ch.length > 0) acceptCharacters.add(ch.charCodeAt(0));
        this._active = {
            acceptCharacters: acceptCharacters,
            item: selected
        };
    }
    reset() {
        this._active = undefined;
    }
    dispose() {
        this._disposables.dispose();
    }
    constructor(editor, widget, accept){
        this._disposables = new $6W1JA.DisposableStore();
        this._disposables.add(widget.onDidShow(()=>this._onItem(widget.getFocusedItem())
        ));
        this._disposables.add(widget.onDidFocus(this._onItem, this));
        this._disposables.add(widget.onDidHide(this.reset, this));
        this._disposables.add(editor.onWillType((text)=>{
            if (this._active && !widget.isFrozen()) {
                const ch = text.charCodeAt(text.length - 1);
                if (this._active.acceptCharacters.has(ch) && editor.getOption(0 /* acceptSuggestionOnCommitCharacter */ )) accept(this._active.item);
            }
        }));
    }
}


var $2ca54ba2dd621951$exports = {};

$parcel$export($2ca54ba2dd621951$exports, "SuggestModel", function () { return $2ca54ba2dd621951$export$bd6d3a37695095d5; }, function (v) { return $2ca54ba2dd621951$export$bd6d3a37695095d5 = v; });

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $jS6at = parcelRequire("jS6at");

var $goPht = parcelRequire("goPht");

var $5GWmu = parcelRequire("5GWmu");

var $2fa36e8e7b00c985$exports = {};

$parcel$export($2fa36e8e7b00c985$exports, "WordDistance", function () { return $2fa36e8e7b00c985$export$620c7fa9f786bff6; }, function (v) { return $2fa36e8e7b00c985$export$620c7fa9f786bff6 = v; });

var $duSG1 = parcelRequire("duSG1");

var $1YFxJ = parcelRequire("1YFxJ");
var $3a5b2b6ca91420f3$exports = {};

$parcel$export($3a5b2b6ca91420f3$exports, "BracketSelectionRangeProvider", function () { return $3a5b2b6ca91420f3$export$aa5c9041294ca4c8; }, function (v) { return $3a5b2b6ca91420f3$export$aa5c9041294ca4c8 = v; });

var $1c12Y = parcelRequire("1c12Y");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $3a5b2b6ca91420f3$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $3a5b2b6ca91420f3$export$aa5c9041294ca4c8 {
    provideSelectionRanges(model, positions) {
        return $3a5b2b6ca91420f3$var$__awaiter(this, void 0, void 0, function*() {
            const result = [];
            for (const position of positions){
                const bucket = [];
                result.push(bucket);
                const ranges = new Map();
                yield new Promise((resolve)=>$3a5b2b6ca91420f3$export$aa5c9041294ca4c8._bracketsRightYield(resolve, 0, model, position, ranges)
                );
                yield new Promise((resolve)=>$3a5b2b6ca91420f3$export$aa5c9041294ca4c8._bracketsLeftYield(resolve, 0, model, position, ranges, bucket)
                );
            }
            return result;
        });
    }
    static _bracketsRightYield(resolve, round, model, pos, ranges) {
        const counts = new Map();
        const t1 = Date.now();
        while(true){
            if (round >= $3a5b2b6ca91420f3$export$aa5c9041294ca4c8._maxRounds) {
                resolve();
                break;
            }
            if (!pos) {
                resolve();
                break;
            }
            let bracket = model.bracketPairs.findNextBracket(pos);
            if (!bracket) {
                resolve();
                break;
            }
            let d = Date.now() - t1;
            if (d > $3a5b2b6ca91420f3$export$aa5c9041294ca4c8._maxDuration) {
                setTimeout(()=>$3a5b2b6ca91420f3$export$aa5c9041294ca4c8._bracketsRightYield(resolve, round + 1, model, pos, ranges)
                );
                break;
            }
            const key = bracket.close[0];
            if (bracket.isOpen) {
                // wait for closing
                let val = counts.has(key) ? counts.get(key) : 0;
                counts.set(key, val + 1);
            } else {
                // process closing
                let val = counts.has(key) ? counts.get(key) : 0;
                val -= 1;
                counts.set(key, Math.max(0, val));
                if (val < 0) {
                    let list = ranges.get(key);
                    if (!list) {
                        list = new $1c12Y.LinkedList();
                        ranges.set(key, list);
                    }
                    list.push(bracket.range);
                }
            }
            pos = bracket.range.getEndPosition();
        }
    }
    static _bracketsLeftYield(resolve, round, model, pos, ranges, bucket) {
        const counts = new Map();
        const t1 = Date.now();
        while(true){
            if (round >= $3a5b2b6ca91420f3$export$aa5c9041294ca4c8._maxRounds && ranges.size === 0) {
                resolve();
                break;
            }
            if (!pos) {
                resolve();
                break;
            }
            let bracket = model.bracketPairs.findPrevBracket(pos);
            if (!bracket) {
                resolve();
                break;
            }
            let d = Date.now() - t1;
            if (d > $3a5b2b6ca91420f3$export$aa5c9041294ca4c8._maxDuration) {
                setTimeout(()=>$3a5b2b6ca91420f3$export$aa5c9041294ca4c8._bracketsLeftYield(resolve, round + 1, model, pos, ranges, bucket)
                );
                break;
            }
            const key = bracket.close[0];
            if (!bracket.isOpen) {
                // wait for opening
                let val = counts.has(key) ? counts.get(key) : 0;
                counts.set(key, val + 1);
            } else {
                // opening
                let val = counts.has(key) ? counts.get(key) : 0;
                val -= 1;
                counts.set(key, Math.max(0, val));
                if (val < 0) {
                    let list = ranges.get(key);
                    if (list) {
                        let closing = list.shift();
                        if (list.size === 0) ranges.delete(key);
                        const innerBracket = $1YFxJ.Range.fromPositions(bracket.range.getEndPosition(), closing.getStartPosition());
                        const outerBracket = $1YFxJ.Range.fromPositions(bracket.range.getStartPosition(), closing.getEndPosition());
                        bucket.push({
                            range: innerBracket
                        });
                        bucket.push({
                            range: outerBracket
                        });
                        $3a5b2b6ca91420f3$export$aa5c9041294ca4c8._addBracketLeading(model, outerBracket, bucket);
                    }
                }
            }
            pos = bracket.range.getStartPosition();
        }
    }
    static _addBracketLeading(model, bracket, bucket) {
        if (bracket.startLineNumber === bracket.endLineNumber) return;
        // xxxxxxxx {
        //
        // }
        const startLine = bracket.startLineNumber;
        const column = model.getLineFirstNonWhitespaceColumn(startLine);
        if (column !== 0 && column !== bracket.startColumn) {
            bucket.push({
                range: $1YFxJ.Range.fromPositions(new $fqrfT.Position(startLine, column), bracket.getEndPosition())
            });
            bucket.push({
                range: $1YFxJ.Range.fromPositions(new $fqrfT.Position(startLine, 1), bracket.getEndPosition())
            });
        }
        // xxxxxxxx
        // {
        //
        // }
        const aboveLine = startLine - 1;
        if (aboveLine > 0) {
            const column = model.getLineFirstNonWhitespaceColumn(aboveLine);
            if (column === bracket.startColumn && column !== model.getLineLastNonWhitespaceColumn(aboveLine)) {
                bucket.push({
                    range: $1YFxJ.Range.fromPositions(new $fqrfT.Position(aboveLine, column), bracket.getEndPosition())
                });
                bucket.push({
                    range: $1YFxJ.Range.fromPositions(new $fqrfT.Position(aboveLine, 1), bracket.getEndPosition())
                });
            }
        }
    }
}
$3a5b2b6ca91420f3$export$aa5c9041294ca4c8._maxDuration = 30;
$3a5b2b6ca91420f3$export$aa5c9041294ca4c8._maxRounds = 2;


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $2fa36e8e7b00c985$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $2fa36e8e7b00c985$export$620c7fa9f786bff6 {
    static create(service, editor) {
        return $2fa36e8e7b00c985$var$__awaiter(this, void 0, void 0, function*() {
            if (!editor.getOption(105 /* suggest */ ).localityBonus) return $2fa36e8e7b00c985$export$620c7fa9f786bff6.None;
            if (!editor.hasModel()) return $2fa36e8e7b00c985$export$620c7fa9f786bff6.None;
            const model = editor.getModel();
            const position = editor.getPosition();
            if (!service.canComputeWordRanges(model.uri)) return $2fa36e8e7b00c985$export$620c7fa9f786bff6.None;
            const [ranges] = yield new $3a5b2b6ca91420f3$exports.BracketSelectionRangeProvider().provideSelectionRanges(model, [
                position
            ]);
            if (ranges.length === 0) return $2fa36e8e7b00c985$export$620c7fa9f786bff6.None;
            const wordRanges = yield service.computeWordRanges(model.uri, ranges[0].range);
            if (!wordRanges) return $2fa36e8e7b00c985$export$620c7fa9f786bff6.None;
            // remove current word
            const wordUntilPos = model.getWordUntilPosition(position);
            delete wordRanges[wordUntilPos.word];
            return new class extends $2fa36e8e7b00c985$export$620c7fa9f786bff6 {
                distance(anchor, item) {
                    if (!position.equals(editor.getPosition())) return 0;
                    if (item.kind === 17 /* Keyword */ ) return 2097152;
                    let word = typeof item.label === 'string' ? item.label : item.label.label;
                    let wordLines = wordRanges[word];
                    if ($duSG1.isFalsyOrEmpty(wordLines)) return 2097152;
                    let idx = $duSG1.binarySearch(wordLines, $1YFxJ.Range.fromPositions(anchor), $1YFxJ.Range.compareRangesUsingStarts);
                    let bestWordRange = idx >= 0 ? wordLines[idx] : wordLines[Math.max(0, ~idx - 1)];
                    let blockDistance = ranges.length;
                    for (const range of ranges){
                        if (!$1YFxJ.Range.containsRange(range.range, bestWordRange)) break;
                        blockDistance -= 1;
                    }
                    return blockDistance;
                }
            };
        });
    }
}
$2fa36e8e7b00c985$export$620c7fa9f786bff6.None = new class extends $2fa36e8e7b00c985$export$620c7fa9f786bff6 {
    distance() {
        return 0;
    }
};



var $4ZL8G = parcelRequire("4ZL8G");

var $6goiI = parcelRequire("6goiI");

var $h4kGX = parcelRequire("h4kGX");

var $eMXt9 = parcelRequire("eMXt9");

var $dDQuJ = parcelRequire("dDQuJ");

var $duSG1 = parcelRequire("duSG1");

var $6FDEF = parcelRequire("6FDEF");

var $i4xl7 = parcelRequire("i4xl7");
class $09261e435aaa9b60$export$894a84ea03928d60 {
    constructor(leadingLineContent, characterCountDelta){
        this.leadingLineContent = leadingLineContent;
        this.characterCountDelta = characterCountDelta;
    }
}
class $09261e435aaa9b60$export$8420ec00c11e432f {
    get lineContext() {
        return this._lineContext;
    }
    set lineContext(value) {
        if (this._lineContext.leadingLineContent !== value.leadingLineContent || this._lineContext.characterCountDelta !== value.characterCountDelta) {
            this._refilterKind = this._lineContext.characterCountDelta < value.characterCountDelta && this._filteredItems ? 2 /* Incr */  : 1 /* All */ ;
            this._lineContext = value;
        }
    }
    get items() {
        this._ensureCachedState();
        return this._filteredItems;
    }
    get allProvider() {
        this._ensureCachedState();
        return this._providerInfo.keys();
    }
    get incomplete() {
        this._ensureCachedState();
        const result = new Set();
        for (let [provider, incomplete] of this._providerInfo)if (incomplete) result.add(provider);
        return result;
    }
    adopt(except) {
        let res = [];
        for(let i = 0; i < this._items.length;)if (!except.has(this._items[i].provider)) {
            res.push(this._items[i]);
            // unordered removed
            this._items[i] = this._items[this._items.length - 1];
            this._items.pop();
        } else // continue with next item
        i++;
        this._refilterKind = 1 /* All */ ;
        return res;
    }
    get stats() {
        this._ensureCachedState();
        return this._stats;
    }
    _ensureCachedState() {
        if (this._refilterKind !== 0 /* Nothing */ ) this._createCachedState();
    }
    _createCachedState() {
        this._providerInfo = new Map();
        const labelLengths = [];
        const { leadingLineContent: leadingLineContent , characterCountDelta: characterCountDelta  } = this._lineContext;
        let word = '';
        let wordLow = '';
        // incrementally filter less
        const source = this._refilterKind === 1 /* All */  ? this._items : this._filteredItems;
        const target = [];
        // picks a score function based on the number of
        // items that we have to score/filter and based on the
        // user-configuration
        const scoreFn = !this._options.filterGraceful || source.length > 2000 ? $6FDEF.fuzzyScore : $6FDEF.fuzzyScoreGracefulAggressive;
        for(let i = 0; i < source.length; i++){
            const item = source[i];
            if (item.isInvalid) continue; // SKIP invalid items
            // collect all support, know if their result is incomplete
            this._providerInfo.set(item.provider, Boolean(item.container.incomplete));
            // 'word' is that remainder of the current line that we
            // filter and score against. In theory each suggestion uses a
            // different word, but in practice not - that's why we cache
            const overwriteBefore = item.position.column - item.editStart.column;
            const wordLen = overwriteBefore + characterCountDelta - (item.position.column - this._column);
            if (word.length !== wordLen) {
                word = wordLen === 0 ? '' : leadingLineContent.slice(-wordLen);
                wordLow = word.toLowerCase();
            }
            // remember the word against which this item was
            // scored
            item.word = word;
            if (wordLen === 0) // when there is nothing to score against, don't
            // event try to do. Use a const rank and rely on
            // the fallback-sort using the initial sort order.
            // use a score of `-100` because that is out of the
            // bound of values `fuzzyScore` will return
            item.score = $6FDEF.FuzzyScore.Default;
            else {
                // skip word characters that are whitespace until
                // we have hit the replace range (overwriteBefore)
                let wordPos = 0;
                while(wordPos < overwriteBefore){
                    const ch = word.charCodeAt(wordPos);
                    if (ch === 32 /* Space */  || ch === 9 /* Tab */ ) wordPos += 1;
                    else break;
                }
                if (wordPos >= wordLen) // the wordPos at which scoring starts is the whole word
                // and therefore the same rules as not having a word apply
                item.score = $6FDEF.FuzzyScore.Default;
                else if (typeof item.completion.filterText === 'string') {
                    // when there is a `filterText` it must match the `word`.
                    // if it matches we check with the label to compute highlights
                    // and if that doesn't yield a result we have no highlights,
                    // despite having the match
                    let match = scoreFn(word, wordLow, wordPos, item.completion.filterText, item.filterTextLow, 0, false);
                    if (!match) continue; // NO match
                    if ($i4xl7.compareIgnoreCase(item.completion.filterText, item.textLabel) === 0) // filterText and label are actually the same -> use good highlights
                    item.score = match;
                    else {
                        // re-run the scorer on the label in the hope of a result BUT use the rank
                        // of the filterText-match
                        item.score = $6FDEF.anyScore(word, wordLow, wordPos, item.textLabel, item.labelLow, 0);
                        item.score[0] = match[0]; // use score from filterText
                    }
                } else {
                    // by default match `word` against the `label`
                    let match = scoreFn(word, wordLow, wordPos, item.textLabel, item.labelLow, 0, false);
                    if (!match) continue; // NO match
                    item.score = match;
                }
            }
            item.idx = i;
            item.distance = this._wordDistance.distance(item.position, item.completion);
            target.push(item);
            // update stats
            labelLengths.push(item.textLabel.length);
        }
        this._filteredItems = target.sort(this._snippetCompareFn);
        this._refilterKind = 0 /* Nothing */ ;
        this._stats = {
            pLabelLen: labelLengths.length ? $duSG1.quickSelect(labelLengths.length - .85, labelLengths, (a, b)=>a - b
            ) : 0
        };
    }
    static _compareCompletionItems(a, b) {
        if (a.score[0] > b.score[0]) return -1;
        else if (a.score[0] < b.score[0]) return 1;
        else if (a.distance < b.distance) return -1;
        else if (a.distance > b.distance) return 1;
        else if (a.idx < b.idx) return -1;
        else if (a.idx > b.idx) return 1;
        else return 0;
    }
    static _compareCompletionItemsSnippetsDown(a, b) {
        if (a.completion.kind !== b.completion.kind) {
            if (a.completion.kind === 27 /* Snippet */ ) return 1;
            else if (b.completion.kind === 27 /* Snippet */ ) return -1;
        }
        return $09261e435aaa9b60$export$8420ec00c11e432f._compareCompletionItems(a, b);
    }
    static _compareCompletionItemsSnippetsUp(a, b) {
        if (a.completion.kind !== b.completion.kind) {
            if (a.completion.kind === 27 /* Snippet */ ) return -1;
            else if (b.completion.kind === 27 /* Snippet */ ) return 1;
        }
        return $09261e435aaa9b60$export$8420ec00c11e432f._compareCompletionItems(a, b);
    }
    constructor(items, column, lineContext, wordDistance, options, snippetSuggestions, clipboardText){
        this.clipboardText = clipboardText;
        this._snippetCompareFn = $09261e435aaa9b60$export$8420ec00c11e432f._compareCompletionItems;
        this._items = items;
        this._column = column;
        this._wordDistance = wordDistance;
        this._options = options;
        this._refilterKind = 1 /* All */ ;
        this._lineContext = lineContext;
        if (snippetSuggestions === 'top') this._snippetCompareFn = $09261e435aaa9b60$export$8420ec00c11e432f._compareCompletionItemsSnippetsUp;
        else if (snippetSuggestions === 'bottom') this._snippetCompareFn = $09261e435aaa9b60$export$8420ec00c11e432f._compareCompletionItemsSnippetsDown;
    }
}



/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $2ca54ba2dd621951$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $2ca54ba2dd621951$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $2ca54ba2dd621951$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $2ca54ba2dd621951$export$894a84ea03928d60 {
    static shouldAutoTrigger(editor) {
        if (!editor.hasModel()) return false;
        const model = editor.getModel();
        const pos = editor.getPosition();
        model.tokenizeIfCheap(pos.lineNumber);
        const word = model.getWordAtPosition(pos);
        if (!word) return false;
        if (word.endColumn !== pos.column) return false;
        if (!isNaN(Number(word.word))) return false;
        return true;
    }
    constructor(model, position, auto, shy){
        this.leadingLineContent = model.getLineContent(position.lineNumber).substr(0, position.column - 1);
        this.leadingWord = model.getWordUntilPosition(position);
        this.lineNumber = position.lineNumber;
        this.column = position.column;
        this.auto = auto;
        this.shy = shy;
    }
}
function $2ca54ba2dd621951$var$isSuggestPreviewEnabled(editor) {
    return editor.getOption(105 /* suggest */ ).preview;
}
function $2ca54ba2dd621951$var$canShowQuickSuggest(editor, contextKeyService, configurationService) {
    if (!Boolean(contextKeyService.getContextKeyValue('inlineSuggestionVisible'))) // Allow if there is no inline suggestion.
    return true;
    const allowQuickSuggestions = configurationService.getValue('editor.inlineSuggest.allowQuickSuggestions');
    if (allowQuickSuggestions !== undefined) // Use setting if available.
    return Boolean(allowQuickSuggestions);
    // Don't allow if inline suggestions are visible and no suggest preview is configured.
    // TODO disabled for copilot
    return false;
}
function $2ca54ba2dd621951$var$canShowSuggestOnTriggerCharacters(editor, contextKeyService, configurationService) {
    if (!Boolean(contextKeyService.getContextKeyValue('inlineSuggestionVisible'))) // Allow if there is no inline suggestion.
    return true;
    const allowQuickSuggestions = configurationService.getValue('editor.inlineSuggest.allowSuggestOnTriggerCharacters');
    if (allowQuickSuggestions !== undefined) // Use setting if available.
    return Boolean(allowQuickSuggestions);
    // Don't allow if inline suggestions are visible and no suggest preview is configured.
    // TODO disabled for copilot
    return false;
}
let $2ca54ba2dd621951$export$bd6d3a37695095d5 = class $2ca54ba2dd621951$export$bd6d3a37695095d5 {
    dispose() {
        $6W1JA.dispose(this._triggerCharacterListener);
        $6W1JA.dispose([
            this._onDidCancel,
            this._onDidSuggest,
            this._onDidTrigger,
            this._triggerQuickSuggest
        ]);
        this._toDispose.dispose();
        this._completionDisposables.dispose();
        this.cancel();
    }
    // --- handle configuration & precondition changes
    _updateQuickSuggest() {
        this._quickSuggestDelay = this._editor.getOption(79 /* quickSuggestionsDelay */ );
        if (isNaN(this._quickSuggestDelay) || !this._quickSuggestDelay && this._quickSuggestDelay !== 0 || this._quickSuggestDelay < 0) this._quickSuggestDelay = 10;
    }
    _updateTriggerCharacters() {
        this._triggerCharacterListener.clear();
        if (this._editor.getOption(80 /* readOnly */ ) || !this._editor.hasModel() || !this._editor.getOption(108 /* suggestOnTriggerCharacters */ )) return;
        const supportsByTriggerCharacter = new Map();
        for (const support of $goPht.CompletionProviderRegistry.all(this._editor.getModel()))for (const ch of support.triggerCharacters || []){
            let set = supportsByTriggerCharacter.get(ch);
            if (!set) {
                set = new Set();
                set.add($abd2fa2c46cec408$exports.getSnippetSuggestSupport());
                supportsByTriggerCharacter.set(ch, set);
            }
            set.add(support);
        }
        const checkTriggerCharacter = (text)=>{
            if (!$2ca54ba2dd621951$var$canShowSuggestOnTriggerCharacters(this._editor, this._contextKeyService, this._configurationService)) return;
            if ($2ca54ba2dd621951$export$894a84ea03928d60.shouldAutoTrigger(this._editor)) // don't trigger by trigger characters when this is a case for quick suggest
            return;
            if (!text) {
                // came here from the compositionEnd-event
                const position = this._editor.getPosition();
                const model = this._editor.getModel();
                text = model.getLineContent(position.lineNumber).substr(0, position.column - 1);
            }
            let lastChar = '';
            if ($i4xl7.isLowSurrogate(text.charCodeAt(text.length - 1))) {
                if ($i4xl7.isHighSurrogate(text.charCodeAt(text.length - 2))) lastChar = text.substr(text.length - 2);
            } else lastChar = text.charAt(text.length - 1);
            const supports = supportsByTriggerCharacter.get(lastChar);
            if (supports) {
                // keep existing items that where not computed by the
                // supports/providers that want to trigger now
                const existing = this._completionModel ? {
                    items: this._completionModel.adopt(supports),
                    clipboardText: this._completionModel.clipboardText
                } : undefined;
                this.trigger({
                    auto: true,
                    shy: false,
                    triggerCharacter: lastChar
                }, Boolean(this._completionModel), supports, existing);
            }
        };
        this._triggerCharacterListener.add(this._editor.onDidType(checkTriggerCharacter));
        this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(checkTriggerCharacter));
    }
    // --- trigger/retrigger/cancel suggest
    get state() {
        return this._state;
    }
    cancel(retrigger = false) {
        var _a;
        if (this._state !== 0 /* Idle */ ) {
            this._triggerQuickSuggest.cancel();
            (_a = this._requestToken) === null || _a === void 0 || _a.cancel();
            this._requestToken = undefined;
            this._state = 0 /* Idle */ ;
            this._completionModel = undefined;
            this._context = undefined;
            this._onDidCancel.fire({
                retrigger: retrigger
            });
        }
    }
    clear() {
        this._completionDisposables.clear();
    }
    _updateActiveSuggestSession() {
        if (this._state !== 0 /* Idle */ ) {
            if (!this._editor.hasModel() || !$goPht.CompletionProviderRegistry.has(this._editor.getModel())) this.cancel();
            else this.trigger({
                auto: this._state === 2 /* Auto */ ,
                shy: false
            }, true);
        }
    }
    _onCursorChange(e) {
        if (!this._editor.hasModel()) return;
        const prevSelection = this._currentSelection;
        this._currentSelection = this._editor.getSelection();
        if (!e.selection.isEmpty() || e.reason !== 0 /* NotSet */  && e.reason !== 3 /* Explicit */  || e.source !== 'keyboard' && e.source !== 'deleteLeft') {
            // Early exit if nothing needs to be done!
            // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)
            this.cancel();
            return;
        }
        if (this._state === 0 /* Idle */  && e.reason === 0 /* NotSet */ ) {
            if (prevSelection.containsRange(this._currentSelection) || prevSelection.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())) // cursor did move RIGHT due to typing -> trigger quick suggest
            this._doTriggerQuickSuggest();
        } else if (this._state !== 0 /* Idle */  && e.reason === 3 /* Explicit */ ) // suggest is active and something like cursor keys are used to move
        // the cursor. this means we can refilter at the new position
        this._refilterCompletionItems();
    }
    _onCompositionEnd() {
        // trigger or refilter when composition ends
        if (this._state === 0 /* Idle */ ) this._doTriggerQuickSuggest();
        else this._refilterCompletionItems();
    }
    _doTriggerQuickSuggest() {
        if (this._editor.getOption(78 /* quickSuggestions */ ) === false) // not enabled
        return;
        if (this._editor.getOption(105 /* suggest */ ).snippetsPreventQuickSuggestions && $bd7aaf7eb12cf161$exports.SnippetController2.get(this._editor).isInSnippet()) // no quick suggestion when in snippet mode
        return;
        this.cancel();
        this._triggerQuickSuggest.cancelAndSet(()=>{
            if (this._state !== 0 /* Idle */ ) return;
            if (!$2ca54ba2dd621951$export$894a84ea03928d60.shouldAutoTrigger(this._editor)) return;
            if (!this._editor.hasModel()) return;
            const model = this._editor.getModel();
            const pos = this._editor.getPosition();
            // validate enabled now
            const quickSuggestions = this._editor.getOption(78 /* quickSuggestions */ );
            if (quickSuggestions === false) return;
            else if (quickSuggestions === true) ;
            else {
                // Check the type of the token that triggered this
                model.tokenizeIfCheap(pos.lineNumber);
                const lineTokens = model.getLineTokens(pos.lineNumber);
                const tokenType = lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(pos.column - 1 - 1, 0)));
                const inValidScope = quickSuggestions.other && tokenType === 0 /* Other */  || quickSuggestions.comments && tokenType === 1 /* Comment */  || quickSuggestions.strings && tokenType === 2 /* String */ ;
                if (!inValidScope) return;
            }
            if (!$2ca54ba2dd621951$var$canShowQuickSuggest(this._editor, this._contextKeyService, this._configurationService)) // do not trigger quick suggestions if inline suggestions are shown
            return;
            if (!$goPht.CompletionProviderRegistry.has(model)) return;
            // we made it till here -> trigger now
            this.trigger({
                auto: true,
                shy: false
            });
        }, this._quickSuggestDelay);
    }
    _refilterCompletionItems() {
        // Re-filter suggestions. This MUST run async because filtering/scoring
        // uses the model content AND the cursor position. The latter is NOT
        // updated when the document has changed (the event which drives this method)
        // and therefore a little pause (next mirco task) is needed. See:
        // https://stackoverflow.com/questions/25915634/difference-between-microtask-and-macrotask-within-an-event-loop-context#25933985
        Promise.resolve().then(()=>{
            if (this._state === 0 /* Idle */ ) return;
            if (!this._editor.hasModel()) return;
            const model = this._editor.getModel();
            const position = this._editor.getPosition();
            const ctx = new $2ca54ba2dd621951$export$894a84ea03928d60(model, position, this._state === 2 /* Auto */ , false);
            this._onNewContext(ctx);
        });
    }
    trigger(context, retrigger = false, onlyFrom, existing) {
        var _a;
        if (!this._editor.hasModel()) return;
        const model1 = this._editor.getModel();
        const auto = context.auto;
        const ctx1 = new $2ca54ba2dd621951$export$894a84ea03928d60(model1, this._editor.getPosition(), auto, context.shy);
        // Cancel previous requests, change state & update UI
        this.cancel(retrigger);
        this._state = auto ? 2 /* Auto */  : 1 /* Manual */ ;
        this._onDidTrigger.fire({
            auto: auto,
            shy: context.shy,
            position: this._editor.getPosition()
        });
        // Capture context when request was sent
        this._context = ctx1;
        // Build context for request
        let suggestCtx = {
            triggerKind: (_a = context.triggerKind) !== null && _a !== void 0 ? _a : 0 /* Invoke */ 
        };
        if (context.triggerCharacter) suggestCtx = {
            triggerKind: 1 /* TriggerCharacter */ ,
            triggerCharacter: context.triggerCharacter
        };
        this._requestToken = new $1vhHo.CancellationTokenSource();
        // kind filter and snippet sort rules
        const snippetSuggestions = this._editor.getOption(100 /* snippetSuggestions */ );
        let snippetSortOrder = 1 /* Inline */ ;
        switch(snippetSuggestions){
            case 'top':
                snippetSortOrder = 0 /* Top */ ;
                break;
            // 	 that's the default anyways...
            // case 'inline':
            // 	snippetSortOrder = SnippetSortOrder.Inline;
            // 	break;
            case 'bottom':
                snippetSortOrder = 2 /* Bottom */ ;
                break;
        }
        const { itemKind: itemKindFilter , showDeprecated: showDeprecated  } = $2ca54ba2dd621951$export$bd6d3a37695095d5._createSuggestFilter(this._editor);
        const wordDistance1 = $2fa36e8e7b00c985$exports.WordDistance.create(this._editorWorkerService, this._editor);
        const completions1 = $abd2fa2c46cec408$exports.provideSuggestionItems(model1, this._editor.getPosition(), new $abd2fa2c46cec408$exports.CompletionOptions(snippetSortOrder, itemKindFilter, onlyFrom, showDeprecated), suggestCtx, this._requestToken.token);
        Promise.all([
            completions1,
            wordDistance1
        ]).then(([completions, wordDistance])=>$2ca54ba2dd621951$var$__awaiter(this, void 0, void 0, function*() {
                var _b;
                (_b = this._requestToken) === null || _b === void 0 || _b.dispose();
                if (!this._editor.hasModel()) return;
                let clipboardText = existing === null || existing === void 0 ? void 0 : existing.clipboardText;
                if (!clipboardText && completions.needsClipboard) clipboardText = yield this._clipboardService.readText();
                if (this._state === 0 /* Idle */ ) return;
                const model = this._editor.getModel();
                let items = completions.items;
                if (existing) {
                    const cmpFn = $abd2fa2c46cec408$exports.getSuggestionComparator(snippetSortOrder);
                    items = items.concat(existing.items).sort(cmpFn);
                }
                const ctx = new $2ca54ba2dd621951$export$894a84ea03928d60(model, this._editor.getPosition(), auto, context.shy);
                this._completionModel = new $09261e435aaa9b60$export$8420ec00c11e432f(items, this._context.column, {
                    leadingLineContent: ctx.leadingLineContent,
                    characterCountDelta: ctx.column - this._context.column
                }, wordDistance, this._editor.getOption(105 /* suggest */ ), this._editor.getOption(100 /* snippetSuggestions */ ), clipboardText);
                // store containers so that they can be disposed later
                this._completionDisposables.add(completions.disposable);
                this._onNewContext(ctx);
                // finally report telemetry about durations
                this._reportDurationsTelemetry(completions.durations);
            })
        ).catch($3FsT3.onUnexpectedError);
    }
    _reportDurationsTelemetry(durations) {
        if ((this._telemetryGate++) % 230 !== 0) return;
        setTimeout(()=>{
            this._telemetryService.publicLog2('suggest.durations.json', {
                data: JSON.stringify(durations)
            });
            this._logService.debug('suggest.durations.json', durations);
        });
    }
    static _createSuggestFilter(editor) {
        // kind filter and snippet sort rules
        const result = new Set();
        // snippet setting
        const snippetSuggestions = editor.getOption(100 /* snippetSuggestions */ );
        if (snippetSuggestions === 'none') result.add(27 /* Snippet */ );
        // type setting
        const suggestOptions = editor.getOption(105 /* suggest */ );
        if (!suggestOptions.showMethods) result.add(0 /* Method */ );
        if (!suggestOptions.showFunctions) result.add(1 /* Function */ );
        if (!suggestOptions.showConstructors) result.add(2 /* Constructor */ );
        if (!suggestOptions.showFields) result.add(3 /* Field */ );
        if (!suggestOptions.showVariables) result.add(4 /* Variable */ );
        if (!suggestOptions.showClasses) result.add(5 /* Class */ );
        if (!suggestOptions.showStructs) result.add(6 /* Struct */ );
        if (!suggestOptions.showInterfaces) result.add(7 /* Interface */ );
        if (!suggestOptions.showModules) result.add(8 /* Module */ );
        if (!suggestOptions.showProperties) result.add(9 /* Property */ );
        if (!suggestOptions.showEvents) result.add(10 /* Event */ );
        if (!suggestOptions.showOperators) result.add(11 /* Operator */ );
        if (!suggestOptions.showUnits) result.add(12 /* Unit */ );
        if (!suggestOptions.showValues) result.add(13 /* Value */ );
        if (!suggestOptions.showConstants) result.add(14 /* Constant */ );
        if (!suggestOptions.showEnums) result.add(15 /* Enum */ );
        if (!suggestOptions.showEnumMembers) result.add(16 /* EnumMember */ );
        if (!suggestOptions.showKeywords) result.add(17 /* Keyword */ );
        if (!suggestOptions.showWords) result.add(18 /* Text */ );
        if (!suggestOptions.showColors) result.add(19 /* Color */ );
        if (!suggestOptions.showFiles) result.add(20 /* File */ );
        if (!suggestOptions.showReferences) result.add(21 /* Reference */ );
        if (!suggestOptions.showColors) result.add(22 /* Customcolor */ );
        if (!suggestOptions.showFolders) result.add(23 /* Folder */ );
        if (!suggestOptions.showTypeParameters) result.add(24 /* TypeParameter */ );
        if (!suggestOptions.showSnippets) result.add(27 /* Snippet */ );
        if (!suggestOptions.showUsers) result.add(25 /* User */ );
        if (!suggestOptions.showIssues) result.add(26 /* Issue */ );
        return {
            itemKind: result,
            showDeprecated: suggestOptions.showDeprecated
        };
    }
    _onNewContext(ctx) {
        if (!this._context) // happens when 24x7 IntelliSense is enabled and still in its delay
        return;
        if (ctx.lineNumber !== this._context.lineNumber) {
            // e.g. happens when pressing Enter while IntelliSense is computed
            this.cancel();
            return;
        }
        if ($i4xl7.getLeadingWhitespace(ctx.leadingLineContent) !== $i4xl7.getLeadingWhitespace(this._context.leadingLineContent)) {
            // cancel IntelliSense when line start changes
            // happens when the current word gets outdented
            this.cancel();
            return;
        }
        if (ctx.column < this._context.column) {
            // typed -> moved cursor LEFT -> retrigger if still on a word
            if (ctx.leadingWord.word) this.trigger({
                auto: this._context.auto,
                shy: false
            }, true);
            else this.cancel();
            return;
        }
        if (!this._completionModel) // happens when IntelliSense is not yet computed
        return;
        if (ctx.leadingWord.word.length !== 0 && ctx.leadingWord.startColumn > this._context.leadingWord.startColumn) {
            // started a new word while IntelliSense shows -> retrigger
            // Select those providers have not contributed to this completion model and re-trigger completions for
            // them. Also adopt the existing items and merge them into the new completion model
            const inactiveProvider = new Set($goPht.CompletionProviderRegistry.all(this._editor.getModel()));
            for (let provider of this._completionModel.allProvider)inactiveProvider.delete(provider);
            const items = this._completionModel.adopt(new Set());
            this.trigger({
                auto: this._context.auto,
                shy: false
            }, true, inactiveProvider, {
                items: items,
                clipboardText: this._completionModel.clipboardText
            });
            return;
        }
        if (ctx.column > this._context.column && this._completionModel.incomplete.size > 0 && ctx.leadingWord.word.length !== 0) {
            // typed -> moved cursor RIGHT & incomple model & still on a word -> retrigger
            const { incomplete: incomplete  } = this._completionModel;
            const items = this._completionModel.adopt(incomplete);
            this.trigger({
                auto: this._state === 2 /* Auto */ ,
                shy: false,
                triggerKind: 2 /* TriggerForIncompleteCompletions */ 
            }, true, incomplete, {
                items: items,
                clipboardText: this._completionModel.clipboardText
            });
        } else {
            // typed -> moved cursor RIGHT -> update UI
            let oldLineContext = this._completionModel.lineContext;
            let isFrozen = false;
            this._completionModel.lineContext = {
                leadingLineContent: ctx.leadingLineContent,
                characterCountDelta: ctx.column - this._context.column
            };
            if (this._completionModel.items.length === 0) {
                if ($2ca54ba2dd621951$export$894a84ea03928d60.shouldAutoTrigger(this._editor) && this._context.leadingWord.endColumn < ctx.leadingWord.startColumn) {
                    // retrigger when heading into a new word
                    this.trigger({
                        auto: this._context.auto,
                        shy: false
                    }, true);
                    return;
                }
                if (!this._context.auto) {
                    // freeze when IntelliSense was manually requested
                    this._completionModel.lineContext = oldLineContext;
                    isFrozen = this._completionModel.items.length > 0;
                    if (isFrozen && ctx.leadingWord.word.length === 0) {
                        // there were results before but now there aren't
                        // and also we are not on a word anymore -> cancel
                        this.cancel();
                        return;
                    }
                } else {
                    // nothing left
                    this.cancel();
                    return;
                }
            }
            this._onDidSuggest.fire({
                completionModel: this._completionModel,
                auto: this._context.auto,
                shy: this._context.shy,
                isFrozen: isFrozen
            });
        }
    }
    constructor(_editor, _editorWorkerService, _clipboardService, _telemetryService, _logService, _contextKeyService, _configurationService){
        this._editor = _editor;
        this._editorWorkerService = _editorWorkerService;
        this._clipboardService = _clipboardService;
        this._telemetryService = _telemetryService;
        this._logService = _logService;
        this._contextKeyService = _contextKeyService;
        this._configurationService = _configurationService;
        this._toDispose = new $6W1JA.DisposableStore();
        this._quickSuggestDelay = 10;
        this._triggerCharacterListener = new $6W1JA.DisposableStore();
        this._triggerQuickSuggest = new $5piST.TimeoutTimer();
        this._state = 0 /* Idle */ ;
        this._completionDisposables = new $6W1JA.DisposableStore();
        this._onDidCancel = new $bkXdq.Emitter();
        this._onDidTrigger = new $bkXdq.Emitter();
        this._onDidSuggest = new $bkXdq.Emitter();
        this.onDidCancel = this._onDidCancel.event;
        this.onDidTrigger = this._onDidTrigger.event;
        this.onDidSuggest = this._onDidSuggest.event;
        this._telemetryGate = 0;
        this._currentSelection = this._editor.getSelection() || new $jS6at.Selection(1, 1, 1, 1);
        // wire up various listeners
        this._toDispose.add(this._editor.onDidChangeModel(()=>{
            this._updateTriggerCharacters();
            this.cancel();
        }));
        this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{
            this._updateTriggerCharacters();
            this.cancel();
        }));
        this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{
            this._updateTriggerCharacters();
            this._updateQuickSuggest();
        }));
        this._toDispose.add($goPht.CompletionProviderRegistry.onDidChange(()=>{
            this._updateTriggerCharacters();
            this._updateActiveSuggestSession();
        }));
        this._toDispose.add(this._editor.onDidChangeCursorSelection((e)=>{
            this._onCursorChange(e);
        }));
        let editorIsComposing = false;
        this._toDispose.add(this._editor.onDidCompositionStart(()=>{
            editorIsComposing = true;
        }));
        this._toDispose.add(this._editor.onDidCompositionEnd(()=>{
            editorIsComposing = false;
            this._onCompositionEnd();
        }));
        this._toDispose.add(this._editor.onDidChangeModelContent(()=>{
            // only filter completions when the editor isn't composing a character
            // allow-any-unicode-next-line
            // e.g.  + u makes  but just  cannot be used for filtering
            if (!editorIsComposing) this._refilterCompletionItems();
        }));
        this._updateTriggerCharacters();
        this._updateQuickSuggest();
    }
};
$2ca54ba2dd621951$export$bd6d3a37695095d5 = $2ca54ba2dd621951$var$__decorate([
    $2ca54ba2dd621951$var$__param(1, $5GWmu.IEditorWorkerService),
    $2ca54ba2dd621951$var$__param(2, $4ZL8G.IClipboardService),
    $2ca54ba2dd621951$var$__param(3, $dDQuJ.ITelemetryService),
    $2ca54ba2dd621951$var$__param(4, $eMXt9.ILogService),
    $2ca54ba2dd621951$var$__param(5, $h4kGX.IContextKeyService),
    $2ca54ba2dd621951$var$__param(6, $6goiI.IConfigurationService)
], $2ca54ba2dd621951$export$bd6d3a37695095d5);



var $6W1JA = parcelRequire("6W1JA");
class $7aea7c5067c2278f$export$4f0a10c40326a303 {
    getLastOvertypedInfo(idx) {
        if (!this._empty && idx >= 0 && idx < this._lastOvertyped.length) return this._lastOvertyped[idx];
        return undefined;
    }
    dispose() {
        this._disposables.dispose();
    }
    constructor(editor, suggestModel){
        this._disposables = new $6W1JA.DisposableStore();
        this._lastOvertyped = [];
        this._empty = true;
        this._disposables.add(editor.onWillType(()=>{
            if (!this._empty) return;
            if (!editor.hasModel()) return;
            const selections = editor.getSelections();
            const selectionsLength = selections.length;
            // Check if it will overtype any selections
            let willOvertype = false;
            for(let i = 0; i < selectionsLength; i++)if (!selections[i].isEmpty()) {
                willOvertype = true;
                break;
            }
            if (!willOvertype) return;
            this._lastOvertyped = [];
            const model = editor.getModel();
            for(let i1 = 0; i1 < selectionsLength; i1++){
                const selection = selections[i1];
                // Check for overtyping capturer restrictions
                if (model.getValueLengthInRange(selection) > $7aea7c5067c2278f$export$4f0a10c40326a303._maxSelectionLength) return;
                this._lastOvertyped[i1] = {
                    value: model.getValueInRange(selection),
                    multiline: selection.startLineNumber !== selection.endLineNumber
                };
            }
            this._empty = false;
        }));
        this._disposables.add(suggestModel.onDidCancel((e)=>{
            if (!this._empty && !e.retrigger) this._empty = true;
        }));
    }
}
$7aea7c5067c2278f$export$4f0a10c40326a303._maxSelectionLength = 51200;


var $6aadd619d41e04a1$exports = {};

$parcel$export($6aadd619d41e04a1$exports, "SuggestWidget", function () { return $6aadd619d41e04a1$export$ad1808d575fcd49b; }, function (v) { return $6aadd619d41e04a1$export$ad1808d575fcd49b = v; });

var $8xgjE = parcelRequire("8xgjE");
parcelRequire("eedmO");

var $1oapv = parcelRequire("1oapv");

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $lbI5A = parcelRequire("lbI5A");

var $i4xl7 = parcelRequire("i4xl7");


var $bcf5a4ea861177d9$exports = {};

$parcel$export($bcf5a4ea861177d9$exports, "SuggestWidgetStatus", function () { return $bcf5a4ea861177d9$export$59a11735faca49fe; }, function (v) { return $bcf5a4ea861177d9$export$59a11735faca49fe = v; });

var $8xgjE = parcelRequire("8xgjE");

var $7s6Vc = parcelRequire("7s6Vc");

var $6W1JA = parcelRequire("6W1JA");


var $1WuVQ = parcelRequire("1WuVQ");


var $iCLhR = parcelRequire("iCLhR");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $bcf5a4ea861177d9$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $bcf5a4ea861177d9$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
class $bcf5a4ea861177d9$var$StatusBarViewItem extends $987c6183856787fa$exports.MenuEntryActionViewItem {
    updateLabel() {
        const kb = this._keybindingService.lookupKeybinding(this._action.id, this._contextKeyService);
        if (!kb) return super.updateLabel();
        if (this.label) this.label.textContent = $1WuVQ.localize('ddd', '{0} ({1})', this._action.label, $bcf5a4ea861177d9$var$StatusBarViewItem.symbolPrintEnter(kb));
    }
    static symbolPrintEnter(kb) {
        var _a;
        return (_a = kb.getLabel()) === null || _a === void 0 ? void 0 : _a.replace(/\benter\b/gi, '\u23CE');
    }
}
let $bcf5a4ea861177d9$export$59a11735faca49fe = class $bcf5a4ea861177d9$export$59a11735faca49fe {
    dispose() {
        this._menuDisposables.dispose();
        this.element.remove();
    }
    show() {
        const menu = this._menuService.createMenu($abd2fa2c46cec408$exports.suggestWidgetStatusbarMenu, this._contextKeyService);
        const renderMenu = ()=>{
            const left = [];
            const right = [];
            for (let [group, actions] of menu.getActions())if (group === 'left') left.push(...actions);
            else right.push(...actions);
            this._leftActions.clear();
            this._leftActions.push(left);
            this._rightActions.clear();
            this._rightActions.push(right);
        };
        this._menuDisposables.add(menu.onDidChange(()=>renderMenu()
        ));
        this._menuDisposables.add(menu);
    }
    hide() {
        this._menuDisposables.clear();
    }
    constructor(container, instantiationService, _menuService, _contextKeyService){
        this._menuService = _menuService;
        this._contextKeyService = _contextKeyService;
        this._menuDisposables = new $6W1JA.DisposableStore();
        this.element = $8xgjE.append(container, $8xgjE.$('.suggest-status-bar'));
        const actionViewItemProvider = (action)=>{
            return action instanceof $iCLhR.MenuItemAction ? instantiationService.createInstance($bcf5a4ea861177d9$var$StatusBarViewItem, action, undefined) : undefined;
        };
        this._leftActions = new $7s6Vc.ActionBar(this.element, {
            actionViewItemProvider: actionViewItemProvider
        });
        this._rightActions = new $7s6Vc.ActionBar(this.element, {
            actionViewItemProvider: actionViewItemProvider
        });
        this._leftActions.domNode.classList.add('left');
        this._rightActions.domNode.classList.add('right');
    }
};
$bcf5a4ea861177d9$export$59a11735faca49fe = $bcf5a4ea861177d9$var$__decorate([
    $bcf5a4ea861177d9$var$__param(1, $6Xx7t.IInstantiationService),
    $bcf5a4ea861177d9$var$__param(2, $iCLhR.IMenuService),
    $bcf5a4ea861177d9$var$__param(3, $h4kGX.IContextKeyService)
], $bcf5a4ea861177d9$export$59a11735faca49fe);



var $k4zqw = parcelRequire("k4zqw");

var $1WuVQ = parcelRequire("1WuVQ");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
const $a13c263b7045c682$export$3fae9d11aa0b9bc4 = $kL4Ig.registerColor('symbolIcon.arrayForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.arrayForeground', 'The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$8b518b8ab21e1b34 = $kL4Ig.registerColor('symbolIcon.booleanForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.booleanForeground', 'The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$4e2906c73c1071f4 = $kL4Ig.registerColor('symbolIcon.classForeground', {
    dark: '#EE9D28',
    light: '#D67E00',
    hc: '#EE9D28'
}, $1WuVQ.localize('symbolIcon.classForeground', 'The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$b9dc349586d7399d = $kL4Ig.registerColor('symbolIcon.colorForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.colorForeground', 'The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$aff0be1504894ea8 = $kL4Ig.registerColor('symbolIcon.constantForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.constantForeground', 'The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$63d89b6050035451 = $kL4Ig.registerColor('symbolIcon.constructorForeground', {
    dark: '#B180D7',
    light: '#652D90',
    hc: '#B180D7'
}, $1WuVQ.localize('symbolIcon.constructorForeground', 'The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$327509b94276884d = $kL4Ig.registerColor('symbolIcon.enumeratorForeground', {
    dark: '#EE9D28',
    light: '#D67E00',
    hc: '#EE9D28'
}, $1WuVQ.localize('symbolIcon.enumeratorForeground', 'The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$82c014b2122e3732 = $kL4Ig.registerColor('symbolIcon.enumeratorMemberForeground', {
    dark: '#75BEFF',
    light: '#007ACC',
    hc: '#75BEFF'
}, $1WuVQ.localize('symbolIcon.enumeratorMemberForeground', 'The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$d1dd34511c01e5f7 = $kL4Ig.registerColor('symbolIcon.eventForeground', {
    dark: '#EE9D28',
    light: '#D67E00',
    hc: '#EE9D28'
}, $1WuVQ.localize('symbolIcon.eventForeground', 'The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$74e9aa28e30eaabc = $kL4Ig.registerColor('symbolIcon.fieldForeground', {
    dark: '#75BEFF',
    light: '#007ACC',
    hc: '#75BEFF'
}, $1WuVQ.localize('symbolIcon.fieldForeground', 'The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$a116c119dac29f5d = $kL4Ig.registerColor('symbolIcon.fileForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.fileForeground', 'The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$2d73341161b73c6b = $kL4Ig.registerColor('symbolIcon.folderForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.folderForeground', 'The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$2ca6c19cc6b399f2 = $kL4Ig.registerColor('symbolIcon.functionForeground', {
    dark: '#B180D7',
    light: '#652D90',
    hc: '#B180D7'
}, $1WuVQ.localize('symbolIcon.functionForeground', 'The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$8a976e1cbce7093b = $kL4Ig.registerColor('symbolIcon.interfaceForeground', {
    dark: '#75BEFF',
    light: '#007ACC',
    hc: '#75BEFF'
}, $1WuVQ.localize('symbolIcon.interfaceForeground', 'The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$73fcd76f3eaf95ca = $kL4Ig.registerColor('symbolIcon.keyForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.keyForeground', 'The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$55c4a8243445e5c1 = $kL4Ig.registerColor('symbolIcon.keywordForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.keywordForeground', 'The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$ffd6832099bc300 = $kL4Ig.registerColor('symbolIcon.methodForeground', {
    dark: '#B180D7',
    light: '#652D90',
    hc: '#B180D7'
}, $1WuVQ.localize('symbolIcon.methodForeground', 'The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$a28f8647a8c464f7 = $kL4Ig.registerColor('symbolIcon.moduleForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.moduleForeground', 'The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$3f085360969ec869 = $kL4Ig.registerColor('symbolIcon.namespaceForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.namespaceForeground', 'The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$faf07d36462572e = $kL4Ig.registerColor('symbolIcon.nullForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.nullForeground', 'The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$98983ac5e98e402e = $kL4Ig.registerColor('symbolIcon.numberForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.numberForeground', 'The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$1c6ae5c31c02eebe = $kL4Ig.registerColor('symbolIcon.objectForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.objectForeground', 'The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$f7ded60d36d8c9df = $kL4Ig.registerColor('symbolIcon.operatorForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.operatorForeground', 'The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$201c5e1a4afacb86 = $kL4Ig.registerColor('symbolIcon.packageForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.packageForeground', 'The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$ecc1bfda99ca719b = $kL4Ig.registerColor('symbolIcon.propertyForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.propertyForeground', 'The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$b2b64d36d52e1648 = $kL4Ig.registerColor('symbolIcon.referenceForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.referenceForeground', 'The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$2a18d5e0c753d08f = $kL4Ig.registerColor('symbolIcon.snippetForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.snippetForeground', 'The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$e5b1264624214988 = $kL4Ig.registerColor('symbolIcon.stringForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.stringForeground', 'The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$a09716ab27e476aa = $kL4Ig.registerColor('symbolIcon.structForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.structForeground', 'The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$63bb8b0faacec0ee = $kL4Ig.registerColor('symbolIcon.textForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.textForeground', 'The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$2832ad164df8dd4b = $kL4Ig.registerColor('symbolIcon.typeParameterForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.typeParameterForeground', 'The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$a88fbc3f8bc85cf8 = $kL4Ig.registerColor('symbolIcon.unitForeground', {
    dark: $kL4Ig.foreground,
    light: $kL4Ig.foreground,
    hc: $kL4Ig.foreground
}, $1WuVQ.localize('symbolIcon.unitForeground', 'The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
const $a13c263b7045c682$export$479057adc7371f16 = $kL4Ig.registerColor('symbolIcon.variableForeground', {
    dark: '#75BEFF',
    light: '#007ACC',
    hc: '#75BEFF'
}, $1WuVQ.localize('symbolIcon.variableForeground', 'The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const symbolIconArrayColor = theme.getColor($a13c263b7045c682$export$3fae9d11aa0b9bc4);
    if (symbolIconArrayColor) collector.addRule(`${$k4zqw.Codicon.symbolArray.cssSelector} { color: ${symbolIconArrayColor}; }`);
    const symbolIconBooleanColor = theme.getColor($a13c263b7045c682$export$8b518b8ab21e1b34);
    if (symbolIconBooleanColor) collector.addRule(`${$k4zqw.Codicon.symbolBoolean.cssSelector} { color: ${symbolIconBooleanColor}; }`);
    const symbolIconClassColor = theme.getColor($a13c263b7045c682$export$4e2906c73c1071f4);
    if (symbolIconClassColor) collector.addRule(`${$k4zqw.Codicon.symbolClass.cssSelector} { color: ${symbolIconClassColor}; }`);
    const symbolIconMethodColor = theme.getColor($a13c263b7045c682$export$ffd6832099bc300);
    if (symbolIconMethodColor) collector.addRule(`${$k4zqw.Codicon.symbolMethod.cssSelector} { color: ${symbolIconMethodColor}; }`);
    const symbolIconColorColor = theme.getColor($a13c263b7045c682$export$b9dc349586d7399d);
    if (symbolIconColorColor) collector.addRule(`${$k4zqw.Codicon.symbolColor.cssSelector} { color: ${symbolIconColorColor}; }`);
    const symbolIconConstantColor = theme.getColor($a13c263b7045c682$export$aff0be1504894ea8);
    if (symbolIconConstantColor) collector.addRule(`${$k4zqw.Codicon.symbolConstant.cssSelector} { color: ${symbolIconConstantColor}; }`);
    const symbolIconConstructorColor = theme.getColor($a13c263b7045c682$export$63d89b6050035451);
    if (symbolIconConstructorColor) collector.addRule(`${$k4zqw.Codicon.symbolConstructor.cssSelector} { color: ${symbolIconConstructorColor}; }`);
    const symbolIconEnumeratorColor = theme.getColor($a13c263b7045c682$export$327509b94276884d);
    if (symbolIconEnumeratorColor) collector.addRule(`
			${$k4zqw.Codicon.symbolValue.cssSelector},${$k4zqw.Codicon.symbolEnum.cssSelector} { color: ${symbolIconEnumeratorColor}; }`);
    const symbolIconEnumeratorMemberColor = theme.getColor($a13c263b7045c682$export$82c014b2122e3732);
    if (symbolIconEnumeratorMemberColor) collector.addRule(`${$k4zqw.Codicon.symbolEnumMember.cssSelector} { color: ${symbolIconEnumeratorMemberColor}; }`);
    const symbolIconEventColor = theme.getColor($a13c263b7045c682$export$d1dd34511c01e5f7);
    if (symbolIconEventColor) collector.addRule(`${$k4zqw.Codicon.symbolEvent.cssSelector} { color: ${symbolIconEventColor}; }`);
    const symbolIconFieldColor = theme.getColor($a13c263b7045c682$export$74e9aa28e30eaabc);
    if (symbolIconFieldColor) collector.addRule(`${$k4zqw.Codicon.symbolField.cssSelector} { color: ${symbolIconFieldColor}; }`);
    const symbolIconFileColor = theme.getColor($a13c263b7045c682$export$a116c119dac29f5d);
    if (symbolIconFileColor) collector.addRule(`${$k4zqw.Codicon.symbolFile.cssSelector} { color: ${symbolIconFileColor}; }`);
    const symbolIconFolderColor = theme.getColor($a13c263b7045c682$export$2d73341161b73c6b);
    if (symbolIconFolderColor) collector.addRule(`${$k4zqw.Codicon.symbolFolder.cssSelector} { color: ${symbolIconFolderColor}; }`);
    const symbolIconFunctionColor = theme.getColor($a13c263b7045c682$export$2ca6c19cc6b399f2);
    if (symbolIconFunctionColor) collector.addRule(`${$k4zqw.Codicon.symbolFunction.cssSelector} { color: ${symbolIconFunctionColor}; }`);
    const symbolIconInterfaceColor = theme.getColor($a13c263b7045c682$export$8a976e1cbce7093b);
    if (symbolIconInterfaceColor) collector.addRule(`${$k4zqw.Codicon.symbolInterface.cssSelector} { color: ${symbolIconInterfaceColor}; }`);
    const symbolIconKeyColor = theme.getColor($a13c263b7045c682$export$73fcd76f3eaf95ca);
    if (symbolIconKeyColor) collector.addRule(`${$k4zqw.Codicon.symbolKey.cssSelector} { color: ${symbolIconKeyColor}; }`);
    const symbolIconKeywordColor = theme.getColor($a13c263b7045c682$export$55c4a8243445e5c1);
    if (symbolIconKeywordColor) collector.addRule(`${$k4zqw.Codicon.symbolKeyword.cssSelector} { color: ${symbolIconKeywordColor}; }`);
    const symbolIconModuleColor = theme.getColor($a13c263b7045c682$export$a28f8647a8c464f7);
    if (symbolIconModuleColor) collector.addRule(`${$k4zqw.Codicon.symbolModule.cssSelector} { color: ${symbolIconModuleColor}; }`);
    const outlineNamespaceColor = theme.getColor($a13c263b7045c682$export$3f085360969ec869);
    if (outlineNamespaceColor) collector.addRule(`${$k4zqw.Codicon.symbolNamespace.cssSelector} { color: ${outlineNamespaceColor}; }`);
    const symbolIconNullColor = theme.getColor($a13c263b7045c682$export$faf07d36462572e);
    if (symbolIconNullColor) collector.addRule(`${$k4zqw.Codicon.symbolNull.cssSelector} { color: ${symbolIconNullColor}; }`);
    const symbolIconNumberColor = theme.getColor($a13c263b7045c682$export$98983ac5e98e402e);
    if (symbolIconNumberColor) collector.addRule(`${$k4zqw.Codicon.symbolNumber.cssSelector} { color: ${symbolIconNumberColor}; }`);
    const symbolIconObjectColor = theme.getColor($a13c263b7045c682$export$1c6ae5c31c02eebe);
    if (symbolIconObjectColor) collector.addRule(`${$k4zqw.Codicon.symbolObject.cssSelector} { color: ${symbolIconObjectColor}; }`);
    const symbolIconOperatorColor = theme.getColor($a13c263b7045c682$export$f7ded60d36d8c9df);
    if (symbolIconOperatorColor) collector.addRule(`${$k4zqw.Codicon.symbolOperator.cssSelector} { color: ${symbolIconOperatorColor}; }`);
    const symbolIconPackageColor = theme.getColor($a13c263b7045c682$export$201c5e1a4afacb86);
    if (symbolIconPackageColor) collector.addRule(`${$k4zqw.Codicon.symbolPackage.cssSelector} { color: ${symbolIconPackageColor}; }`);
    const symbolIconPropertyColor = theme.getColor($a13c263b7045c682$export$ecc1bfda99ca719b);
    if (symbolIconPropertyColor) collector.addRule(`${$k4zqw.Codicon.symbolProperty.cssSelector} { color: ${symbolIconPropertyColor}; }`);
    const symbolIconReferenceColor = theme.getColor($a13c263b7045c682$export$b2b64d36d52e1648);
    if (symbolIconReferenceColor) collector.addRule(`${$k4zqw.Codicon.symbolReference.cssSelector} { color: ${symbolIconReferenceColor}; }`);
    const symbolIconSnippetColor = theme.getColor($a13c263b7045c682$export$2a18d5e0c753d08f);
    if (symbolIconSnippetColor) collector.addRule(`${$k4zqw.Codicon.symbolSnippet.cssSelector} { color: ${symbolIconSnippetColor}; }`);
    const symbolIconStringColor = theme.getColor($a13c263b7045c682$export$e5b1264624214988);
    if (symbolIconStringColor) collector.addRule(`${$k4zqw.Codicon.symbolString.cssSelector} { color: ${symbolIconStringColor}; }`);
    const symbolIconStructColor = theme.getColor($a13c263b7045c682$export$a09716ab27e476aa);
    if (symbolIconStructColor) collector.addRule(`${$k4zqw.Codicon.symbolStruct.cssSelector} { color: ${symbolIconStructColor}; }`);
    const symbolIconTextColor = theme.getColor($a13c263b7045c682$export$63bb8b0faacec0ee);
    if (symbolIconTextColor) collector.addRule(`${$k4zqw.Codicon.symbolText.cssSelector} { color: ${symbolIconTextColor}; }`);
    const symbolIconTypeParameterColor = theme.getColor($a13c263b7045c682$export$2832ad164df8dd4b);
    if (symbolIconTypeParameterColor) collector.addRule(`${$k4zqw.Codicon.symbolTypeParameter.cssSelector} { color: ${symbolIconTypeParameterColor}; }`);
    const symbolIconUnitColor = theme.getColor($a13c263b7045c682$export$a88fbc3f8bc85cf8);
    if (symbolIconUnitColor) collector.addRule(`${$k4zqw.Codicon.symbolUnit.cssSelector} { color: ${symbolIconUnitColor}; }`);
    const symbolIconVariableColor = theme.getColor($a13c263b7045c682$export$479057adc7371f16);
    if (symbolIconVariableColor) collector.addRule(`${$k4zqw.Codicon.symbolVariable.cssSelector} { color: ${symbolIconVariableColor}; }`);
});



var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $4toHF = parcelRequire("4toHF");

var $kL4Ig = parcelRequire("kL4Ig");

var $5d1gs = parcelRequire("5d1gs");

var $5Wwop = parcelRequire("5Wwop");

var $8xgjE = parcelRequire("8xgjE");

var $hQ1Ev = parcelRequire("hQ1Ev");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");
class $dc51bf70f63d509a$export$f049a29194943609 {
    dispose() {
        this._northSash.dispose();
        this._southSash.dispose();
        this._eastSash.dispose();
        this._westSash.dispose();
        this._sashListener.dispose();
        this._onDidResize.dispose();
        this._onDidWillResize.dispose();
        this.domNode.remove();
    }
    enableSashes(north, east, south, west) {
        this._northSash.state = north ? 3 /* Enabled */  : 0 /* Disabled */ ;
        this._eastSash.state = east ? 3 /* Enabled */  : 0 /* Disabled */ ;
        this._southSash.state = south ? 3 /* Enabled */  : 0 /* Disabled */ ;
        this._westSash.state = west ? 3 /* Enabled */  : 0 /* Disabled */ ;
    }
    layout(height = this.size.height, width = this.size.width) {
        const { height: minHeight , width: minWidth  } = this._minSize;
        const { height: maxHeight , width: maxWidth  } = this._maxSize;
        height = Math.max(minHeight, Math.min(maxHeight, height));
        width = Math.max(minWidth, Math.min(maxWidth, width));
        const newSize = new $8xgjE.Dimension(width, height);
        if (!$8xgjE.Dimension.equals(newSize, this._size)) {
            this.domNode.style.height = height + 'px';
            this.domNode.style.width = width + 'px';
            this._size = newSize;
            this._northSash.layout();
            this._eastSash.layout();
            this._southSash.layout();
            this._westSash.layout();
        }
    }
    clearSashHoverState() {
        this._eastSash.clearSashHoverState();
        this._westSash.clearSashHoverState();
        this._northSash.clearSashHoverState();
        this._southSash.clearSashHoverState();
    }
    get size() {
        return this._size;
    }
    set maxSize(value) {
        this._maxSize = value;
    }
    get maxSize() {
        return this._maxSize;
    }
    set minSize(value) {
        this._minSize = value;
    }
    get minSize() {
        return this._minSize;
    }
    set preferredSize(value) {
        this._preferredSize = value;
    }
    get preferredSize() {
        return this._preferredSize;
    }
    constructor(){
        this._onDidWillResize = new $bkXdq.Emitter();
        this.onDidWillResize = this._onDidWillResize.event;
        this._onDidResize = new $bkXdq.Emitter();
        this.onDidResize = this._onDidResize.event;
        this._sashListener = new $6W1JA.DisposableStore();
        this._size = new $8xgjE.Dimension(0, 0);
        this._minSize = new $8xgjE.Dimension(0, 0);
        this._maxSize = new $8xgjE.Dimension(Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER);
        this.domNode = document.createElement('div');
        this._eastSash = new $hQ1Ev.Sash(this.domNode, {
            getVerticalSashLeft: ()=>this._size.width
        }, {
            orientation: 0 /* VERTICAL */ 
        });
        this._westSash = new $hQ1Ev.Sash(this.domNode, {
            getVerticalSashLeft: ()=>0
        }, {
            orientation: 0 /* VERTICAL */ 
        });
        this._northSash = new $hQ1Ev.Sash(this.domNode, {
            getHorizontalSashTop: ()=>0
        }, {
            orientation: 1 /* HORIZONTAL */ ,
            orthogonalEdge: $hQ1Ev.OrthogonalEdge.North
        });
        this._southSash = new $hQ1Ev.Sash(this.domNode, {
            getHorizontalSashTop: ()=>this._size.height
        }, {
            orientation: 1 /* HORIZONTAL */ ,
            orthogonalEdge: $hQ1Ev.OrthogonalEdge.South
        });
        this._northSash.orthogonalStartSash = this._westSash;
        this._northSash.orthogonalEndSash = this._eastSash;
        this._southSash.orthogonalStartSash = this._westSash;
        this._southSash.orthogonalEndSash = this._eastSash;
        let currentSize;
        let deltaY = 0;
        let deltaX = 0;
        this._sashListener.add($bkXdq.Event.any(this._northSash.onDidStart, this._eastSash.onDidStart, this._southSash.onDidStart, this._westSash.onDidStart)(()=>{
            if (currentSize === undefined) {
                this._onDidWillResize.fire();
                currentSize = this._size;
                deltaY = 0;
                deltaX = 0;
            }
        }));
        this._sashListener.add($bkXdq.Event.any(this._northSash.onDidEnd, this._eastSash.onDidEnd, this._southSash.onDidEnd, this._westSash.onDidEnd)(()=>{
            if (currentSize !== undefined) {
                currentSize = undefined;
                deltaY = 0;
                deltaX = 0;
                this._onDidResize.fire({
                    dimension: this._size,
                    done: true
                });
            }
        }));
        this._sashListener.add(this._eastSash.onDidChange((e)=>{
            if (currentSize) {
                deltaX = e.currentX - e.startX;
                this.layout(currentSize.height + deltaY, currentSize.width + deltaX);
                this._onDidResize.fire({
                    dimension: this._size,
                    done: false,
                    east: true
                });
            }
        }));
        this._sashListener.add(this._westSash.onDidChange((e)=>{
            if (currentSize) {
                deltaX = -(e.currentX - e.startX);
                this.layout(currentSize.height + deltaY, currentSize.width + deltaX);
                this._onDidResize.fire({
                    dimension: this._size,
                    done: false,
                    west: true
                });
            }
        }));
        this._sashListener.add(this._northSash.onDidChange((e)=>{
            if (currentSize) {
                deltaY = -(e.currentY - e.startY);
                this.layout(currentSize.height + deltaY, currentSize.width + deltaX);
                this._onDidResize.fire({
                    dimension: this._size,
                    done: false,
                    north: true
                });
            }
        }));
        this._sashListener.add(this._southSash.onDidChange((e)=>{
            if (currentSize) {
                deltaY = e.currentY - e.startY;
                this.layout(currentSize.height + deltaY, currentSize.width + deltaX);
                this._onDidResize.fire({
                    dimension: this._size,
                    done: false,
                    south: true
                });
            }
        }));
        this._sashListener.add($bkXdq.Event.any(this._eastSash.onDidReset, this._westSash.onDidReset)((e)=>{
            if (this._preferredSize) {
                this.layout(this._size.height, this._preferredSize.width);
                this._onDidResize.fire({
                    dimension: this._size,
                    done: true
                });
            }
        }));
        this._sashListener.add($bkXdq.Event.any(this._northSash.onDidReset, this._southSash.onDidReset)((e)=>{
            if (this._preferredSize) {
                this.layout(this._preferredSize.height, this._size.width);
                this._onDidResize.fire({
                    dimension: this._size,
                    done: true
                });
            }
        }));
    }
}



var $5a2d3ae07cc5cc10$exports = {};

$parcel$export($5a2d3ae07cc5cc10$exports, "canExpandCompletionItem", function () { return $5a2d3ae07cc5cc10$export$f492f5f48ff8b22b; }, function (v) { return $5a2d3ae07cc5cc10$export$f492f5f48ff8b22b = v; });
$parcel$export($5a2d3ae07cc5cc10$exports, "SuggestDetailsWidget", function () { return $5a2d3ae07cc5cc10$export$61e0dc2df900a441; }, function (v) { return $5a2d3ae07cc5cc10$export$61e0dc2df900a441 = v; });
$parcel$export($5a2d3ae07cc5cc10$exports, "SuggestDetailsOverlay", function () { return $5a2d3ae07cc5cc10$export$d55abf796289b194; }, function (v) { return $5a2d3ae07cc5cc10$export$d55abf796289b194 = v; });

var $cBBwi = parcelRequire("cBBwi");

var $8xgjE = parcelRequire("8xgjE");

var $lSwjB = parcelRequire("lSwjB");

var $k4zqw = parcelRequire("k4zqw");

var $bkXdq = parcelRequire("bkXdq");

var $eeQ9E = parcelRequire("eeQ9E");

var $6W1JA = parcelRequire("6W1JA");


var $iB8dk = parcelRequire("iB8dk");


var $1WuVQ = parcelRequire("1WuVQ");

var $6Xx7t = parcelRequire("6Xx7t");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $5a2d3ae07cc5cc10$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $5a2d3ae07cc5cc10$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
function $5a2d3ae07cc5cc10$export$f492f5f48ff8b22b(item) {
    return !!item && Boolean(item.completion.documentation || item.completion.detail && item.completion.detail !== item.completion.label);
}
let $5a2d3ae07cc5cc10$export$61e0dc2df900a441 = class $5a2d3ae07cc5cc10$export$61e0dc2df900a441 {
    dispose() {
        this._disposables.dispose();
        this._renderDisposeable.dispose();
    }
    _configureFont() {
        const options = this._editor.getOptions();
        const fontInfo = options.get(43 /* fontInfo */ );
        const fontFamily = fontInfo.getMassagedFontFamily($cBBwi.isSafari ? $iB8dk.EDITOR_FONT_DEFAULTS.fontFamily : null);
        const fontSize = options.get(106 /* suggestFontSize */ ) || fontInfo.fontSize;
        const lineHeight = options.get(107 /* suggestLineHeight */ ) || fontInfo.lineHeight;
        const fontWeight = fontInfo.fontWeight;
        const fontSizePx = `${fontSize}px`;
        const lineHeightPx = `${lineHeight}px`;
        this.domNode.style.fontSize = fontSizePx;
        this.domNode.style.lineHeight = `${lineHeight / fontSize}`;
        this.domNode.style.fontWeight = fontWeight;
        this.domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;
        this._type.style.fontFamily = fontFamily;
        this._close.style.height = lineHeightPx;
        this._close.style.width = lineHeightPx;
    }
    getLayoutInfo() {
        const lineHeight = this._editor.getOption(107 /* suggestLineHeight */ ) || this._editor.getOption(43 /* fontInfo */ ).lineHeight;
        const borderWidth = this._borderWidth;
        const borderHeight = borderWidth * 2;
        return {
            lineHeight: lineHeight,
            borderWidth: borderWidth,
            borderHeight: borderHeight,
            verticalPadding: 22,
            horizontalPadding: 14
        };
    }
    renderLoading() {
        this._type.textContent = $1WuVQ.localize('loading', "Loading...");
        this._docs.textContent = '';
        this.domNode.classList.remove('no-docs', 'no-type');
        this.layout(this.size.width, this.getLayoutInfo().lineHeight * 2);
        this._onDidChangeContents.fire(this);
    }
    renderItem(item, explainMode) {
        var _a, _b;
        this._renderDisposeable.clear();
        let { detail: detail , documentation: documentation  } = item.completion;
        if (explainMode) {
            let md = '';
            md += `score: ${item.score[0]}\n`;
            md += `prefix: ${(_a = item.word) !== null && _a !== void 0 ? _a : '(no prefix)'}\n`;
            md += `word: ${item.completion.filterText ? item.completion.filterText + ' (filterText)' : item.textLabel}\n`;
            md += `distance: ${item.distance} (localityBonus-setting)\n`;
            md += `index: ${item.idx}, based on ${item.completion.sortText && `sortText: "${item.completion.sortText}"` || 'label'}\n`;
            md += `commit_chars: ${(_b = item.completion.commitCharacters) === null || _b === void 0 ? void 0 : _b.join('')}\n`;
            documentation = new $eeQ9E.MarkdownString().appendCodeblock('empty', md);
            detail = `Provider: ${item.provider._debugDisplayName}`;
        }
        if (!explainMode && !$5a2d3ae07cc5cc10$export$f492f5f48ff8b22b(item)) {
            this.clearContents();
            return;
        }
        this.domNode.classList.remove('no-docs', 'no-type');
        // --- details
        if (detail) {
            const cappedDetail = detail.length > 100000 ? `${detail.substr(0, 100000)}` : detail;
            this._type.textContent = cappedDetail;
            this._type.title = cappedDetail;
            $8xgjE.show(this._type);
            this._type.classList.toggle('auto-wrap', !/\r?\n^\s+/gmi.test(cappedDetail));
        } else {
            $8xgjE.clearNode(this._type);
            this._type.title = '';
            $8xgjE.hide(this._type);
            this.domNode.classList.add('no-type');
        }
        // --- documentation
        $8xgjE.clearNode(this._docs);
        if (typeof documentation === 'string') {
            this._docs.classList.remove('markdown-docs');
            this._docs.textContent = documentation;
        } else if (documentation) {
            this._docs.classList.add('markdown-docs');
            $8xgjE.clearNode(this._docs);
            const renderedContents = this._markdownRenderer.render(documentation);
            this._docs.appendChild(renderedContents.element);
            this._renderDisposeable.add(renderedContents);
            this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{
                this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);
                this._onDidChangeContents.fire(this);
            }));
        }
        this.domNode.style.userSelect = 'text';
        this.domNode.tabIndex = -1;
        this._close.onmousedown = (e)=>{
            e.preventDefault();
            e.stopPropagation();
        };
        this._close.onclick = (e)=>{
            e.preventDefault();
            e.stopPropagation();
            this._onDidClose.fire();
        };
        this._body.scrollTop = 0;
        this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);
        this._onDidChangeContents.fire(this);
    }
    clearContents() {
        this.domNode.classList.add('no-docs');
        this._type.textContent = '';
        this._docs.textContent = '';
    }
    get size() {
        return this._size;
    }
    layout(width, height) {
        const newSize = new $8xgjE.Dimension(width, height);
        if (!$8xgjE.Dimension.equals(newSize, this._size)) {
            this._size = newSize;
            $8xgjE.size(this.domNode, width, height);
        }
        this._scrollbar.scanDomNode();
    }
    scrollDown(much = 8) {
        this._body.scrollTop += much;
    }
    scrollUp(much = 8) {
        this._body.scrollTop -= much;
    }
    scrollTop() {
        this._body.scrollTop = 0;
    }
    scrollBottom() {
        this._body.scrollTop = this._body.scrollHeight;
    }
    pageDown() {
        this.scrollDown(80);
    }
    pageUp() {
        this.scrollUp(80);
    }
    set borderWidth(width) {
        this._borderWidth = width;
    }
    get borderWidth() {
        return this._borderWidth;
    }
    constructor(_editor, instaService){
        this._editor = _editor;
        this._onDidClose = new $bkXdq.Emitter();
        this.onDidClose = this._onDidClose.event;
        this._onDidChangeContents = new $bkXdq.Emitter();
        this.onDidChangeContents = this._onDidChangeContents.event;
        this._disposables = new $6W1JA.DisposableStore();
        this._renderDisposeable = new $6W1JA.DisposableStore();
        this._borderWidth = 1;
        this._size = new $8xgjE.Dimension(330, 0);
        this.domNode = $8xgjE.$('.suggest-details');
        this.domNode.classList.add('no-docs');
        this._markdownRenderer = instaService.createInstance($4a80f1f73e880bad$exports.MarkdownRenderer, {
            editor: _editor
        });
        this._body = $8xgjE.$('.body');
        this._scrollbar = new $lSwjB.DomScrollableElement(this._body, {});
        $8xgjE.append(this.domNode, this._scrollbar.getDomNode());
        this._disposables.add(this._scrollbar);
        this._header = $8xgjE.append(this._body, $8xgjE.$('.header'));
        this._close = $8xgjE.append(this._header, $8xgjE.$('span' + $k4zqw.Codicon.close.cssSelector));
        this._close.title = $1WuVQ.localize('details.close', "Close");
        this._type = $8xgjE.append(this._header, $8xgjE.$('p.type'));
        this._docs = $8xgjE.append(this._body, $8xgjE.$('p.docs'));
        this._configureFont();
        this._disposables.add(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(43 /* fontInfo */ )) this._configureFont();
        }));
    }
};
$5a2d3ae07cc5cc10$export$61e0dc2df900a441 = $5a2d3ae07cc5cc10$var$__decorate([
    $5a2d3ae07cc5cc10$var$__param(1, $6Xx7t.IInstantiationService)
], $5a2d3ae07cc5cc10$export$61e0dc2df900a441);
class $5a2d3ae07cc5cc10$export$d55abf796289b194 {
    dispose() {
        this._resizable.dispose();
        this._disposables.dispose();
        this.hide();
    }
    getId() {
        return 'suggest.details';
    }
    getDomNode() {
        return this._resizable.domNode;
    }
    getPosition() {
        return null;
    }
    show() {
        if (!this._added) {
            this._editor.addOverlayWidget(this);
            this.getDomNode().style.position = 'fixed';
            this._added = true;
        }
    }
    hide(sessionEnded = false) {
        this._resizable.clearSashHoverState();
        if (this._added) {
            this._editor.removeOverlayWidget(this);
            this._added = false;
            this._anchorBox = undefined;
            this._topLeft = undefined;
        }
        if (sessionEnded) {
            this._userSize = undefined;
            this.widget.clearContents();
        }
    }
    placeAtAnchor(anchor, preferAlignAtTop) {
        var _a;
        const anchorBox = anchor.getBoundingClientRect();
        this._anchorBox = anchorBox;
        this._preferAlignAtTop = preferAlignAtTop;
        this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, preferAlignAtTop);
    }
    _placeAtAnchor(anchorBox, size, preferAlignAtTop) {
        var _a;
        const bodyBox = $8xgjE.getClientArea(document.body);
        const info = this.widget.getLayoutInfo();
        const defaultMinSize = new $8xgjE.Dimension(220, 2 * info.lineHeight);
        const defaultTop = anchorBox.top;
        // EAST
        const eastPlacement = function() {
            const width = bodyBox.width - (anchorBox.left + anchorBox.width + info.borderWidth + info.horizontalPadding);
            const left = -info.borderWidth + anchorBox.left + anchorBox.width;
            const maxSizeTop = new $8xgjE.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);
            const maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);
            return {
                top: defaultTop,
                left: left,
                fit: width - size.width,
                maxSizeTop: maxSizeTop,
                maxSizeBottom: maxSizeBottom,
                minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width))
            };
        }();
        // WEST
        const westPlacement = function() {
            const width = anchorBox.left - info.borderWidth - info.horizontalPadding;
            const left = Math.max(info.horizontalPadding, anchorBox.left - size.width - info.borderWidth);
            const maxSizeTop = new $8xgjE.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);
            const maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);
            return {
                top: defaultTop,
                left: left,
                fit: width - size.width,
                maxSizeTop: maxSizeTop,
                maxSizeBottom: maxSizeBottom,
                minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width))
            };
        }();
        // SOUTH
        const southPacement = function() {
            const left = anchorBox.left;
            const top = -info.borderWidth + anchorBox.top + anchorBox.height;
            const maxSizeBottom = new $8xgjE.Dimension(anchorBox.width - info.borderHeight, bodyBox.height - anchorBox.top - anchorBox.height - info.verticalPadding);
            return {
                top: top,
                left: left,
                fit: maxSizeBottom.height - size.height,
                maxSizeBottom: maxSizeBottom,
                maxSizeTop: maxSizeBottom,
                minSize: defaultMinSize.with(maxSizeBottom.width)
            };
        }();
        // take first placement that fits or the first with "least bad" fit
        const placements = [
            eastPlacement,
            westPlacement,
            southPacement
        ];
        const placement = (_a = placements.find((p)=>p.fit >= 0
        )) !== null && _a !== void 0 ? _a : placements.sort((a, b)=>b.fit - a.fit
        )[0];
        // top/bottom placement
        const bottom = anchorBox.top + anchorBox.height - info.borderHeight;
        let alignAtTop;
        let height = size.height;
        const maxHeight = Math.max(placement.maxSizeTop.height, placement.maxSizeBottom.height);
        if (height > maxHeight) height = maxHeight;
        let maxSize;
        if (preferAlignAtTop) {
            if (height <= placement.maxSizeTop.height) {
                alignAtTop = true;
                maxSize = placement.maxSizeTop;
            } else {
                alignAtTop = false;
                maxSize = placement.maxSizeBottom;
            }
        } else if (height <= placement.maxSizeBottom.height) {
            alignAtTop = false;
            maxSize = placement.maxSizeBottom;
        } else {
            alignAtTop = true;
            maxSize = placement.maxSizeTop;
        }
        this._applyTopLeft({
            left: placement.left,
            top: alignAtTop ? placement.top : bottom - height
        });
        this.getDomNode().style.position = 'fixed';
        this._resizable.enableSashes(!alignAtTop, placement === eastPlacement, alignAtTop, placement !== eastPlacement);
        this._resizable.minSize = placement.minSize;
        this._resizable.maxSize = maxSize;
        this._resizable.layout(height, Math.min(maxSize.width, size.width));
        this.widget.layout(this._resizable.size.width, this._resizable.size.height);
    }
    _applyTopLeft(topLeft) {
        this._topLeft = topLeft;
        this.getDomNode().style.left = `${this._topLeft.left}px`;
        this.getDomNode().style.top = `${this._topLeft.top}px`;
    }
    constructor(widget, _editor){
        this.widget = widget;
        this._editor = _editor;
        this._disposables = new $6W1JA.DisposableStore();
        this._added = false;
        this._preferAlignAtTop = true;
        this._resizable = new $dc51bf70f63d509a$export$f049a29194943609();
        this._resizable.domNode.classList.add('suggest-details-container');
        this._resizable.domNode.appendChild(widget.domNode);
        this._resizable.enableSashes(false, true, true, false);
        let topLeftNow;
        let sizeNow;
        let deltaTop = 0;
        let deltaLeft = 0;
        this._disposables.add(this._resizable.onDidWillResize(()=>{
            topLeftNow = this._topLeft;
            sizeNow = this._resizable.size;
        }));
        this._disposables.add(this._resizable.onDidResize((e)=>{
            if (topLeftNow && sizeNow) {
                this.widget.layout(e.dimension.width, e.dimension.height);
                let updateTopLeft = false;
                if (e.west) {
                    deltaLeft = sizeNow.width - e.dimension.width;
                    updateTopLeft = true;
                }
                if (e.north) {
                    deltaTop = sizeNow.height - e.dimension.height;
                    updateTopLeft = true;
                }
                if (updateTopLeft) this._applyTopLeft({
                    top: topLeftNow.top + deltaTop,
                    left: topLeftNow.left + deltaLeft
                });
            }
            if (e.done) {
                topLeftNow = undefined;
                sizeNow = undefined;
                deltaTop = 0;
                deltaLeft = 0;
                this._userSize = e.dimension;
            }
        }));
        this._disposables.add(this.widget.onDidChangeContents(()=>{
            var _a;
            if (this._anchorBox) this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, this._preferAlignAtTop);
        }));
    }
}


var $c11430de2b037138$exports = {};

$parcel$export($c11430de2b037138$exports, "getAriaId", function () { return $c11430de2b037138$export$1b8419c18a1973d4; }, function (v) { return $c11430de2b037138$export$1b8419c18a1973d4 = v; });
$parcel$export($c11430de2b037138$exports, "ItemRenderer", function () { return $c11430de2b037138$export$72711cb3319e66a8; }, function (v) { return $c11430de2b037138$export$72711cb3319e66a8 = v; });

var $cBBwi = parcelRequire("cBBwi");

var $8xgjE = parcelRequire("8xgjE");

var $i4NBN = parcelRequire("i4NBN");

var $duSG1 = parcelRequire("duSG1");

var $k4zqw = parcelRequire("k4zqw");

var $bkXdq = parcelRequire("bkXdq");

var $6FDEF = parcelRequire("6FDEF");

var $6W1JA = parcelRequire("6W1JA");

var $bUZVY = parcelRequire("bUZVY");

var $iB8dk = parcelRequire("iB8dk");

var $goPht = parcelRequire("goPht");

var $fA94G = parcelRequire("fA94G");

var $lvxAj = parcelRequire("lvxAj");

var $gVAML = parcelRequire("gVAML");
var $45c27cef55e25307$export$13c2b15ba9153568;
(function($45c27cef55e25307$export$13c2b15ba9153568) {
    $45c27cef55e25307$export$13c2b15ba9153568[$45c27cef55e25307$export$13c2b15ba9153568["FILE"] = 0] = "FILE";
    $45c27cef55e25307$export$13c2b15ba9153568[$45c27cef55e25307$export$13c2b15ba9153568["FOLDER"] = 1] = "FOLDER";
    $45c27cef55e25307$export$13c2b15ba9153568[$45c27cef55e25307$export$13c2b15ba9153568["ROOT_FOLDER"] = 2] = "ROOT_FOLDER";
})($45c27cef55e25307$export$13c2b15ba9153568 || ($45c27cef55e25307$export$13c2b15ba9153568 = {})); //#endregion


function $a5f5c75f62e01608$export$e27af96b7ae3b008(modelService, modeService, resource, fileKind) {
    // we always set these base classes even if we do not have a path
    const classes = fileKind === $45c27cef55e25307$export$13c2b15ba9153568.ROOT_FOLDER ? [
        'rootfolder-icon'
    ] : fileKind === $45c27cef55e25307$export$13c2b15ba9153568.FOLDER ? [
        'folder-icon'
    ] : [
        'file-icon'
    ];
    if (resource) {
        // Get the path and name of the resource. For data-URIs, we need to parse specially
        let name;
        if (resource.scheme === $fA94G.Schemas.data) {
            const metadata = $lvxAj.DataUri.parseMetaData(resource);
            name = metadata.get($lvxAj.DataUri.META_DATA_LABEL);
        } else name = $a5f5c75f62e01608$export$a5d1f61e0bd5c403($lvxAj.basenameOrAuthority(resource).toLowerCase());
        // Folders
        if (fileKind === $45c27cef55e25307$export$13c2b15ba9153568.FOLDER) classes.push(`${name}-name-folder-icon`);
        else {
            // Name & Extension(s)
            if (name) {
                classes.push(`${name}-name-file-icon`);
                // Avoid doing an explosive combination of extensions for very long filenames
                // (most file systems do not allow files > 255 length) with lots of `.` characters
                // https://github.com/microsoft/vscode/issues/116199
                if (name.length <= 255) {
                    const dotSegments = name.split('.');
                    for(let i = 1; i < dotSegments.length; i++)classes.push(`${dotSegments.slice(i).join('.')}-ext-file-icon`); // add each combination of all found extensions if more than one
                }
                classes.push(`ext-file-icon`); // extra segment to increase file-ext score
            }
            // Detected Mode
            const detectedModeId = $a5f5c75f62e01608$var$detectModeId(modelService, modeService, resource);
            if (detectedModeId) classes.push(`${$a5f5c75f62e01608$export$a5d1f61e0bd5c403(detectedModeId)}-lang-file-icon`);
        }
    }
    return classes;
}
function $a5f5c75f62e01608$var$detectModeId(modelService, modeService, resource) {
    if (!resource) return null; // we need a resource at least
    let modeId = null;
    // Data URI: check for encoded metadata
    if (resource.scheme === $fA94G.Schemas.data) {
        const metadata = $lvxAj.DataUri.parseMetaData(resource);
        const mime = metadata.get($lvxAj.DataUri.META_DATA_MIME);
        if (mime) modeId = modeService.getModeId(mime);
    } else {
        const model = modelService.getModel(resource);
        if (model) modeId = model.getLanguageId();
    }
    // only take if the mode is specific (aka no just plain text)
    if (modeId && modeId !== $gVAML.PLAINTEXT_MODE_ID) return modeId;
    // otherwise fallback to path based detection
    return modeService.getModeIdByFilepathOrFirstLine(resource);
}
function $a5f5c75f62e01608$export$a5d1f61e0bd5c403(str) {
    return str.replace(/[\11\12\14\15\40]/g, '/'); // HTML class names can not contain certain whitespace characters, use / instead, which doesn't exist in file names.
}



var $75At3 = parcelRequire("75At3");

var $jwAxq = parcelRequire("jwAxq");

var $1WuVQ = parcelRequire("1WuVQ");


var $citn9 = parcelRequire("citn9");

var $5Wwop = parcelRequire("5Wwop");

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $c11430de2b037138$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $c11430de2b037138$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $c11430de2b037138$var$_a;
function $c11430de2b037138$export$1b8419c18a1973d4(index) {
    return `suggest-aria-id:${index}`;
}
const $c11430de2b037138$export$3cc1a6a224e77f6d = $citn9.registerIcon('suggest-more-info', $k4zqw.Codicon.chevronRight, $1WuVQ.localize('suggestMoreInfoIcon', 'Icon for more information in the suggest widget.'));
const $c11430de2b037138$var$_completionItemColor = new ($c11430de2b037138$var$_a = class ColorExtractor {
    extract(item, out) {
        if (item.textLabel.match(ColorExtractor._regexStrict)) {
            out[0] = item.textLabel;
            return true;
        }
        if (item.completion.detail && item.completion.detail.match(ColorExtractor._regexStrict)) {
            out[0] = item.completion.detail;
            return true;
        }
        if (typeof item.completion.documentation === 'string') {
            const match = ColorExtractor._regexRelaxed.exec(item.completion.documentation);
            if (match && (match.index === 0 || match.index + match[0].length === item.completion.documentation.length)) {
                out[0] = match[0];
                return true;
            }
        }
        return false;
    }
}, $c11430de2b037138$var$_a._regexRelaxed = /(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/, $c11430de2b037138$var$_a._regexStrict = new RegExp(`^${$c11430de2b037138$var$_a._regexRelaxed.source}$`, 'i'), $c11430de2b037138$var$_a);
let $c11430de2b037138$export$72711cb3319e66a8 = class $c11430de2b037138$export$72711cb3319e66a8 {
    dispose() {
        this._onDidToggleDetails.dispose();
    }
    renderTemplate(container) {
        const data = Object.create(null);
        data.disposables = new $6W1JA.DisposableStore();
        data.root = container;
        data.root.classList.add('show-file-icons');
        data.icon = $8xgjE.append(container, $8xgjE.$('.icon'));
        data.colorspan = $8xgjE.append(data.icon, $8xgjE.$('span.colorspan'));
        const text = $8xgjE.append(container, $8xgjE.$('.contents'));
        const main = $8xgjE.append(text, $8xgjE.$('.main'));
        data.iconContainer = $8xgjE.append(main, $8xgjE.$('.icon-label.codicon'));
        data.left = $8xgjE.append(main, $8xgjE.$('span.left'));
        data.right = $8xgjE.append(main, $8xgjE.$('span.right'));
        data.iconLabel = new $i4NBN.IconLabel(data.left, {
            supportHighlights: true,
            supportIcons: true
        });
        data.disposables.add(data.iconLabel);
        data.parametersLabel = $8xgjE.append(data.left, $8xgjE.$('span.signature-label'));
        data.qualifierLabel = $8xgjE.append(data.left, $8xgjE.$('span.qualifier-label'));
        data.detailsLabel = $8xgjE.append(data.right, $8xgjE.$('span.details-label'));
        data.readMore = $8xgjE.append(data.right, $8xgjE.$('span.readMore' + $5Wwop.ThemeIcon.asCSSSelector($c11430de2b037138$export$3cc1a6a224e77f6d)));
        data.readMore.title = $1WuVQ.localize('readMore', "Read More");
        const configureFont = ()=>{
            const options = this._editor.getOptions();
            const fontInfo = options.get(43 /* fontInfo */ );
            const fontFamily = fontInfo.getMassagedFontFamily($cBBwi.isSafari ? $iB8dk.EDITOR_FONT_DEFAULTS.fontFamily : null);
            const fontFeatureSettings = fontInfo.fontFeatureSettings;
            const fontSize = options.get(106 /* suggestFontSize */ ) || fontInfo.fontSize;
            const lineHeight = options.get(107 /* suggestLineHeight */ ) || fontInfo.lineHeight;
            const fontWeight = fontInfo.fontWeight;
            const fontSizePx = `${fontSize}px`;
            const lineHeightPx = `${lineHeight}px`;
            data.root.style.fontSize = fontSizePx;
            data.root.style.fontWeight = fontWeight;
            main.style.fontFamily = fontFamily;
            main.style.fontFeatureSettings = fontFeatureSettings;
            main.style.lineHeight = lineHeightPx;
            data.icon.style.height = lineHeightPx;
            data.icon.style.width = lineHeightPx;
            data.readMore.style.height = lineHeightPx;
            data.readMore.style.width = lineHeightPx;
        };
        configureFont();
        data.disposables.add(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(43 /* fontInfo */ ) || e.hasChanged(106 /* suggestFontSize */ ) || e.hasChanged(107 /* suggestLineHeight */ )) configureFont();
        }));
        return data;
    }
    renderElement(element, index, data) {
        const { completion: completion  } = element;
        data.root.id = $c11430de2b037138$export$1b8419c18a1973d4(index);
        data.colorspan.style.backgroundColor = '';
        const labelOptions = {
            labelEscapeNewLines: true,
            matches: $6FDEF.createMatches(element.score)
        };
        let color = [];
        if (completion.kind === 19 /* Color */  && $c11430de2b037138$var$_completionItemColor.extract(element, color)) {
            // special logic for 'color' completion items
            data.icon.className = 'icon customcolor';
            data.iconContainer.className = 'icon hide';
            data.colorspan.style.backgroundColor = color[0];
        } else if (completion.kind === 20 /* File */  && this._themeService.getFileIconTheme().hasFileIcons) {
            // special logic for 'file' completion items
            data.icon.className = 'icon hide';
            data.iconContainer.className = 'icon hide';
            const labelClasses = $a5f5c75f62e01608$export$e27af96b7ae3b008(this._modelService, this._modeService, $bUZVY.URI.from({
                scheme: 'fake',
                path: element.textLabel
            }), $45c27cef55e25307$export$13c2b15ba9153568.FILE);
            const detailClasses = $a5f5c75f62e01608$export$e27af96b7ae3b008(this._modelService, this._modeService, $bUZVY.URI.from({
                scheme: 'fake',
                path: completion.detail
            }), $45c27cef55e25307$export$13c2b15ba9153568.FILE);
            labelOptions.extraClasses = labelClasses.length > detailClasses.length ? labelClasses : detailClasses;
        } else if (completion.kind === 23 /* Folder */  && this._themeService.getFileIconTheme().hasFolderIcons) {
            // special logic for 'folder' completion items
            data.icon.className = 'icon hide';
            data.iconContainer.className = 'icon hide';
            labelOptions.extraClasses = $duSG1.flatten([
                $a5f5c75f62e01608$export$e27af96b7ae3b008(this._modelService, this._modeService, $bUZVY.URI.from({
                    scheme: 'fake',
                    path: element.textLabel
                }), $45c27cef55e25307$export$13c2b15ba9153568.FOLDER),
                $a5f5c75f62e01608$export$e27af96b7ae3b008(this._modelService, this._modeService, $bUZVY.URI.from({
                    scheme: 'fake',
                    path: completion.detail
                }), $45c27cef55e25307$export$13c2b15ba9153568.FOLDER)
            ]);
        } else {
            // normal icon
            data.icon.className = 'icon hide';
            data.iconContainer.className = '';
            data.iconContainer.classList.add('suggest-icon', ...$goPht.completionKindToCssClass(completion.kind).split(' '));
        }
        if (completion.tags && completion.tags.indexOf(1 /* Deprecated */ ) >= 0) {
            labelOptions.extraClasses = (labelOptions.extraClasses || []).concat([
                'deprecated'
            ]);
            labelOptions.matches = [];
        }
        data.iconLabel.setLabel(element.textLabel, undefined, labelOptions);
        if (typeof completion.label === 'string') {
            data.parametersLabel.textContent = '';
            data.detailsLabel.textContent = $c11430de2b037138$var$stripNewLines(completion.detail || '');
            data.root.classList.add('string-label');
        } else {
            data.parametersLabel.textContent = $c11430de2b037138$var$stripNewLines(completion.label.detail || '');
            data.detailsLabel.textContent = $c11430de2b037138$var$stripNewLines(completion.label.description || '');
            data.root.classList.remove('string-label');
        }
        if (this._editor.getOption(105 /* suggest */ ).showInlineDetails) $8xgjE.show(data.detailsLabel);
        else $8xgjE.hide(data.detailsLabel);
        if ($5a2d3ae07cc5cc10$exports.canExpandCompletionItem(element)) {
            data.right.classList.add('can-expand-details');
            $8xgjE.show(data.readMore);
            data.readMore.onmousedown = (e)=>{
                e.stopPropagation();
                e.preventDefault();
            };
            data.readMore.onclick = (e)=>{
                e.stopPropagation();
                e.preventDefault();
                this._onDidToggleDetails.fire();
            };
        } else {
            data.right.classList.remove('can-expand-details');
            $8xgjE.hide(data.readMore);
            data.readMore.onmousedown = null;
            data.readMore.onclick = null;
        }
    }
    disposeTemplate(templateData) {
        templateData.disposables.dispose();
    }
    constructor(_editor, _modelService, _modeService, _themeService){
        this._editor = _editor;
        this._modelService = _modelService;
        this._modeService = _modeService;
        this._themeService = _themeService;
        this._onDidToggleDetails = new $bkXdq.Emitter();
        this.onDidToggleDetails = this._onDidToggleDetails.event;
        this.templateId = 'suggestion';
    }
};
$c11430de2b037138$export$72711cb3319e66a8 = $c11430de2b037138$var$__decorate([
    $c11430de2b037138$var$__param(1, $75At3.IModelService),
    $c11430de2b037138$var$__param(2, $jwAxq.IModeService),
    $c11430de2b037138$var$__param(3, $5Wwop.IThemeService)
], $c11430de2b037138$export$72711cb3319e66a8);
function $c11430de2b037138$var$stripNewLines(str) {
    return str.replace(/\r\n|\r|\n/g, '');
}


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $6aadd619d41e04a1$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $6aadd619d41e04a1$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $6aadd619d41e04a1$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $6aadd619d41e04a1$export$65272edb16f478e0 = $kL4Ig.registerColor('editorSuggestWidget.background', {
    dark: $kL4Ig.editorWidgetBackground,
    light: $kL4Ig.editorWidgetBackground,
    hc: $kL4Ig.editorWidgetBackground
}, $1WuVQ.localize('editorSuggestWidgetBackground', 'Background color of the suggest widget.'));
const $6aadd619d41e04a1$export$6668106a206c9c = $kL4Ig.registerColor('editorSuggestWidget.border', {
    dark: $kL4Ig.editorWidgetBorder,
    light: $kL4Ig.editorWidgetBorder,
    hc: $kL4Ig.editorWidgetBorder
}, $1WuVQ.localize('editorSuggestWidgetBorder', 'Border color of the suggest widget.'));
const $6aadd619d41e04a1$export$561c03d039046f3 = $kL4Ig.registerColor('editorSuggestWidget.foreground', {
    dark: $kL4Ig.editorForeground,
    light: $kL4Ig.editorForeground,
    hc: $kL4Ig.editorForeground
}, $1WuVQ.localize('editorSuggestWidgetForeground', 'Foreground color of the suggest widget.'));
const $6aadd619d41e04a1$export$bde6de5629497f46 = $kL4Ig.registerColor('editorSuggestWidget.selectedForeground', {
    dark: $kL4Ig.quickInputListFocusForeground,
    light: $kL4Ig.quickInputListFocusForeground,
    hc: $kL4Ig.quickInputListFocusForeground
}, $1WuVQ.localize('editorSuggestWidgetSelectedForeground', 'Foreground color of the selected entry in the suggest widget.'));
const $6aadd619d41e04a1$export$7ed71cbed2bc5436 = $kL4Ig.registerColor('editorSuggestWidget.selectedIconForeground', {
    dark: $kL4Ig.quickInputListFocusIconForeground,
    light: $kL4Ig.quickInputListFocusIconForeground,
    hc: $kL4Ig.quickInputListFocusIconForeground
}, $1WuVQ.localize('editorSuggestWidgetSelectedIconForeground', 'Icon foreground color of the selected entry in the suggest widget.'));
const $6aadd619d41e04a1$export$4e0daeab52f97af3 = $kL4Ig.registerColor('editorSuggestWidget.selectedBackground', {
    dark: $kL4Ig.quickInputListFocusBackground,
    light: $kL4Ig.quickInputListFocusBackground,
    hc: $kL4Ig.quickInputListFocusBackground
}, $1WuVQ.localize('editorSuggestWidgetSelectedBackground', 'Background color of the selected entry in the suggest widget.'));
const $6aadd619d41e04a1$export$6da2c1ee64e17242 = $kL4Ig.registerColor('editorSuggestWidget.highlightForeground', {
    dark: $kL4Ig.listHighlightForeground,
    light: $kL4Ig.listHighlightForeground,
    hc: $kL4Ig.listHighlightForeground
}, $1WuVQ.localize('editorSuggestWidgetHighlightForeground', 'Color of the match highlights in the suggest widget.'));
const $6aadd619d41e04a1$export$9d9332dde5de554a = $kL4Ig.registerColor('editorSuggestWidget.focusHighlightForeground', {
    dark: $kL4Ig.listFocusHighlightForeground,
    light: $kL4Ig.listFocusHighlightForeground,
    hc: $kL4Ig.listFocusHighlightForeground
}, $1WuVQ.localize('editorSuggestWidgetFocusHighlightForeground', 'Color of the match highlights in the suggest widget when an item is focused.'));
const $6aadd619d41e04a1$export$7a3d540790edc735 = $kL4Ig.registerColor('editorSuggestWidgetStatus.foreground', {
    dark: $kL4Ig.transparent($6aadd619d41e04a1$export$561c03d039046f3, .5),
    light: $kL4Ig.transparent($6aadd619d41e04a1$export$561c03d039046f3, .5),
    hc: $kL4Ig.transparent($6aadd619d41e04a1$export$561c03d039046f3, .5)
}, $1WuVQ.localize('editorSuggestWidgetStatusForeground', 'Foreground color of the suggest widget status.'));
class $6aadd619d41e04a1$var$PersistedWidgetSize {
    restore() {
        var _a;
        const raw = (_a = this._service.get(this._key, 0 /* GLOBAL */ )) !== null && _a !== void 0 ? _a : '';
        try {
            const obj = JSON.parse(raw);
            if ($8xgjE.Dimension.is(obj)) return $8xgjE.Dimension.lift(obj);
        } catch (_b) {
        // ignore
        }
        return undefined;
    }
    store(size) {
        this._service.store(this._key, JSON.stringify(size), 0 /* GLOBAL */ , 1 /* MACHINE */ );
    }
    reset() {
        this._service.remove(this._key, 0 /* GLOBAL */ );
    }
    constructor(_service, editor){
        this._service = _service;
        this._key = `suggestWidget.size/${editor.getEditorType()}/${editor instanceof $417b9987abbc15ba$exports.EmbeddedCodeEditorWidget}`;
    }
}
let $6aadd619d41e04a1$export$ad1808d575fcd49b = class $6aadd619d41e04a1$export$ad1808d575fcd49b {
    dispose() {
        var _a;
        this._details.widget.dispose();
        this._details.dispose();
        this._list.dispose();
        this._status.dispose();
        this._disposables.dispose();
        (_a = this._loadingTimeout) === null || _a === void 0 || _a.dispose();
        this._showTimeout.dispose();
        this._contentWidget.dispose();
        this.element.dispose();
    }
    _onEditorMouseDown(mouseEvent) {
        if (this._details.widget.domNode.contains(mouseEvent.target.element)) // Clicking inside details
        this._details.widget.domNode.focus();
        else // Clicking outside details and inside suggest
        if (this.element.domNode.contains(mouseEvent.target.element)) this.editor.focus();
    }
    _onCursorSelectionChanged() {
        if (this._state !== 0 /* Hidden */ ) this._contentWidget.layout();
    }
    _onListMouseDownOrTap(e) {
        if (typeof e.element === 'undefined' || typeof e.index === 'undefined') return;
        // prevent stealing browser focus from the editor
        e.browserEvent.preventDefault();
        e.browserEvent.stopPropagation();
        this._select(e.element, e.index);
    }
    _onListSelection(e) {
        if (e.elements.length) this._select(e.elements[0], e.indexes[0]);
    }
    _select(item, index) {
        const completionModel = this._completionModel;
        if (completionModel) {
            this._onDidSelect.fire({
                item: item,
                index: index,
                model: completionModel
            });
            this.editor.focus();
        }
    }
    _onThemeChange(theme) {
        this._details.widget.borderWidth = theme.type === 'hc' ? 2 : 1;
    }
    _onListFocus(e) {
        var _a;
        if (this._ignoreFocusEvents) return;
        if (!e.elements.length) {
            if (this._currentSuggestionDetails) {
                this._currentSuggestionDetails.cancel();
                this._currentSuggestionDetails = undefined;
                this._focusedItem = undefined;
            }
            this.editor.setAriaOptions({
                activeDescendant: undefined
            });
            return;
        }
        if (!this._completionModel) return;
        const item = e.elements[0];
        const index = e.indexes[0];
        if (item !== this._focusedItem) {
            (_a = this._currentSuggestionDetails) === null || _a === void 0 || _a.cancel();
            this._currentSuggestionDetails = undefined;
            this._focusedItem = item;
            this._list.reveal(index);
            this._currentSuggestionDetails = $5piST.createCancelablePromise((token)=>$6aadd619d41e04a1$var$__awaiter(this, void 0, void 0, function*() {
                    const loading = $5piST.disposableTimeout(()=>{
                        if (this._isDetailsVisible()) this.showDetails(true);
                    }, 250);
                    token.onCancellationRequested(()=>loading.dispose()
                    );
                    const result = yield item.resolve(token);
                    loading.dispose();
                    return result;
                })
            );
            this._currentSuggestionDetails.then(()=>{
                if (index >= this._list.length || item !== this._list.element(index)) return;
                // item can have extra information, so re-render
                this._ignoreFocusEvents = true;
                this._list.splice(index, 1, [
                    item
                ]);
                this._list.setFocus([
                    index
                ]);
                this._ignoreFocusEvents = false;
                if (this._isDetailsVisible()) this.showDetails(false);
                else this.element.domNode.classList.remove('docs-side');
                this.editor.setAriaOptions({
                    activeDescendant: $c11430de2b037138$exports.getAriaId(index)
                });
            }).catch($3FsT3.onUnexpectedError);
        }
        // emit an event
        this._onDidFocus.fire({
            item: item,
            index: index,
            model: this._completionModel
        });
    }
    _setState(state) {
        if (this._state === state) return;
        this._state = state;
        this.element.domNode.classList.toggle('frozen', state === 4 /* Frozen */ );
        this.element.domNode.classList.remove('message');
        switch(state){
            case 0 /* Hidden */ :
                $8xgjE.hide(this._messageElement, this._listElement, this._status.element);
                this._details.hide(true);
                this._status.hide();
                this._contentWidget.hide();
                this._ctxSuggestWidgetVisible.reset();
                this._ctxSuggestWidgetMultipleSuggestions.reset();
                this._showTimeout.cancel();
                this.element.domNode.classList.remove('visible');
                this._list.splice(0, this._list.length);
                this._focusedItem = undefined;
                this._cappedHeight = undefined;
                this._explainMode = false;
                break;
            case 1 /* Loading */ :
                this.element.domNode.classList.add('message');
                this._messageElement.textContent = $6aadd619d41e04a1$export$ad1808d575fcd49b.LOADING_MESSAGE;
                $8xgjE.hide(this._listElement, this._status.element);
                $8xgjE.show(this._messageElement);
                this._details.hide();
                this._show();
                this._focusedItem = undefined;
                break;
            case 2 /* Empty */ :
                this.element.domNode.classList.add('message');
                this._messageElement.textContent = $6aadd619d41e04a1$export$ad1808d575fcd49b.NO_SUGGESTIONS_MESSAGE;
                $8xgjE.hide(this._listElement, this._status.element);
                $8xgjE.show(this._messageElement);
                this._details.hide();
                this._show();
                this._focusedItem = undefined;
                break;
            case 3 /* Open */ :
                $8xgjE.hide(this._messageElement);
                $8xgjE.show(this._listElement, this._status.element);
                this._show();
                break;
            case 4 /* Frozen */ :
                $8xgjE.hide(this._messageElement);
                $8xgjE.show(this._listElement, this._status.element);
                this._show();
                break;
            case 5 /* Details */ :
                $8xgjE.hide(this._messageElement);
                $8xgjE.show(this._listElement, this._status.element);
                this._details.show();
                this._show();
                break;
        }
    }
    _show() {
        this._status.show();
        this._contentWidget.show();
        this._layout(this._persistedSize.restore());
        this._ctxSuggestWidgetVisible.set(true);
        this._showTimeout.cancelAndSet(()=>{
            this.element.domNode.classList.add('visible');
            this._onDidShow.fire(this);
        }, 100);
    }
    showTriggered(auto, delay) {
        if (this._state !== 0 /* Hidden */ ) return;
        this._contentWidget.setPosition(this.editor.getPosition());
        this._isAuto = !!auto;
        if (!this._isAuto) this._loadingTimeout = $5piST.disposableTimeout(()=>this._setState(1 /* Loading */ )
        , delay);
    }
    showSuggestions(completionModel, selectionIndex, isFrozen, isAuto) {
        var _a, _b;
        this._contentWidget.setPosition(this.editor.getPosition());
        (_a = this._loadingTimeout) === null || _a === void 0 || _a.dispose();
        (_b = this._currentSuggestionDetails) === null || _b === void 0 || _b.cancel();
        this._currentSuggestionDetails = undefined;
        if (this._completionModel !== completionModel) this._completionModel = completionModel;
        if (isFrozen && this._state !== 2 /* Empty */  && this._state !== 0 /* Hidden */ ) {
            this._setState(4 /* Frozen */ );
            return;
        }
        const visibleCount = this._completionModel.items.length;
        const isEmpty = visibleCount === 0;
        this._ctxSuggestWidgetMultipleSuggestions.set(visibleCount > 1);
        if (isEmpty) {
            this._setState(isAuto ? 0 /* Hidden */  : 2 /* Empty */ );
            this._completionModel = undefined;
            return;
        }
        this._focusedItem = undefined;
        this._list.splice(0, this._list.length, this._completionModel.items);
        this._setState(isFrozen ? 4 /* Frozen */  : 3 /* Open */ );
        this._list.reveal(selectionIndex, 0);
        this._list.setFocus([
            selectionIndex
        ]);
        this._layout(this.element.size);
        // Reset focus border
        this._details.widget.domNode.classList.remove('focused');
    }
    selectNextPage() {
        switch(this._state){
            case 0 /* Hidden */ :
                return false;
            case 5 /* Details */ :
                this._details.widget.pageDown();
                return true;
            case 1 /* Loading */ :
                return !this._isAuto;
            default:
                this._list.focusNextPage();
                return true;
        }
    }
    selectNext() {
        switch(this._state){
            case 0 /* Hidden */ :
                return false;
            case 1 /* Loading */ :
                return !this._isAuto;
            default:
                this._list.focusNext(1, true);
                return true;
        }
    }
    selectLast() {
        switch(this._state){
            case 0 /* Hidden */ :
                return false;
            case 5 /* Details */ :
                this._details.widget.scrollBottom();
                return true;
            case 1 /* Loading */ :
                return !this._isAuto;
            default:
                this._list.focusLast();
                return true;
        }
    }
    selectPreviousPage() {
        switch(this._state){
            case 0 /* Hidden */ :
                return false;
            case 5 /* Details */ :
                this._details.widget.pageUp();
                return true;
            case 1 /* Loading */ :
                return !this._isAuto;
            default:
                this._list.focusPreviousPage();
                return true;
        }
    }
    selectPrevious() {
        switch(this._state){
            case 0 /* Hidden */ :
                return false;
            case 1 /* Loading */ :
                return !this._isAuto;
            default:
                this._list.focusPrevious(1, true);
                return false;
        }
    }
    selectFirst() {
        switch(this._state){
            case 0 /* Hidden */ :
                return false;
            case 5 /* Details */ :
                this._details.widget.scrollTop();
                return true;
            case 1 /* Loading */ :
                return !this._isAuto;
            default:
                this._list.focusFirst();
                return true;
        }
    }
    getFocusedItem() {
        if (this._state !== 0 /* Hidden */  && this._state !== 2 /* Empty */  && this._state !== 1 /* Loading */  && this._completionModel) return {
            item: this._list.getFocusedElements()[0],
            index: this._list.getFocus()[0],
            model: this._completionModel
        };
        return undefined;
    }
    toggleDetailsFocus() {
        if (this._state === 5 /* Details */ ) {
            this._setState(3 /* Open */ );
            this._details.widget.domNode.classList.remove('focused');
        } else if (this._state === 3 /* Open */  && this._isDetailsVisible()) {
            this._setState(5 /* Details */ );
            this._details.widget.domNode.classList.add('focused');
        }
    }
    toggleDetails() {
        if (this._isDetailsVisible()) {
            // hide details widget
            this._ctxSuggestWidgetDetailsVisible.set(false);
            this._setDetailsVisible(false);
            this._details.hide();
            this.element.domNode.classList.remove('shows-details');
        } else if (($5a2d3ae07cc5cc10$exports.canExpandCompletionItem(this._list.getFocusedElements()[0]) || this._explainMode) && (this._state === 3 /* Open */  || this._state === 5 /* Details */  || this._state === 4 /* Frozen */ )) {
            // show details widget (iff possible)
            this._ctxSuggestWidgetDetailsVisible.set(true);
            this._setDetailsVisible(true);
            this.showDetails(false);
        }
    }
    showDetails(loading) {
        this._details.show();
        if (loading) this._details.widget.renderLoading();
        else this._details.widget.renderItem(this._list.getFocusedElements()[0], this._explainMode);
        this._positionDetails();
        this.editor.focus();
        this.element.domNode.classList.add('shows-details');
    }
    toggleExplainMode() {
        if (this._list.getFocusedElements()[0]) {
            this._explainMode = !this._explainMode;
            if (!this._isDetailsVisible()) this.toggleDetails();
            else this.showDetails(false);
        }
    }
    resetPersistedSize() {
        this._persistedSize.reset();
    }
    hideWidget() {
        var _a;
        (_a = this._loadingTimeout) === null || _a === void 0 || _a.dispose();
        this._setState(0 /* Hidden */ );
        this._onDidHide.fire(this);
        this.element.clearSashHoverState();
        // ensure that a reasonable widget height is persisted so that
        // accidential "resize-to-single-items" cases aren't happening
        const dim = this._persistedSize.restore();
        const minPersistedHeight = Math.ceil(this.getLayoutInfo().itemHeight * 4.3);
        if (dim && dim.height < minPersistedHeight) this._persistedSize.store(dim.with(undefined, minPersistedHeight));
    }
    isFrozen() {
        return this._state === 4 /* Frozen */ ;
    }
    _afterRender(position) {
        if (position === null) {
            if (this._isDetailsVisible()) this._details.hide(); //todo@jrieken soft-hide
            return;
        }
        if (this._state === 2 /* Empty */  || this._state === 1 /* Loading */ ) // no special positioning when widget isn't showing list
        return;
        if (this._isDetailsVisible()) this._details.show();
        this._positionDetails();
    }
    _layout(size) {
        var _a, _b, _c;
        if (!this.editor.hasModel()) return;
        if (!this.editor.getDomNode()) // happens when running tests
        return;
        const bodyBox = $8xgjE.getClientArea(document.body);
        const info = this.getLayoutInfo();
        if (!size) size = info.defaultSize;
        let height = size.height;
        let width = size.width;
        // status bar
        this._status.element.style.lineHeight = `${info.itemHeight}px`;
        if (this._state === 2 /* Empty */  || this._state === 1 /* Loading */ ) {
            // showing a message only
            height = info.itemHeight + info.borderHeight;
            width = info.defaultSize.width / 2;
            this.element.enableSashes(false, false, false, false);
            this.element.minSize = this.element.maxSize = new $8xgjE.Dimension(width, height);
            this._contentWidget.setPreference(2 /* BELOW */ );
        } else {
            // showing items
            // width math
            const maxWidth = bodyBox.width - info.borderHeight - 2 * info.horizontalPadding;
            if (width > maxWidth) width = maxWidth;
            const preferredWidth = this._completionModel ? this._completionModel.stats.pLabelLen * info.typicalHalfwidthCharacterWidth : width;
            // height math
            const fullHeight = info.statusBarHeight + this._list.contentHeight + info.borderHeight;
            const minHeight = info.itemHeight + info.statusBarHeight;
            const editorBox = $8xgjE.getDomNodePagePosition(this.editor.getDomNode());
            const cursorBox = this.editor.getScrolledVisiblePosition(this.editor.getPosition());
            const cursorBottom = editorBox.top + cursorBox.top + cursorBox.height;
            const maxHeightBelow = Math.min(bodyBox.height - cursorBottom - info.verticalPadding, fullHeight);
            const availableSpaceAbove = editorBox.top + cursorBox.top - info.verticalPadding;
            const maxHeightAbove = Math.min(availableSpaceAbove, fullHeight);
            let maxHeight = Math.min(Math.max(maxHeightAbove, maxHeightBelow) + info.borderHeight, fullHeight);
            if (height === ((_a = this._cappedHeight) === null || _a === void 0 ? void 0 : _a.capped)) // Restore the old (wanted) height when the current
            // height is capped to fit
            height = this._cappedHeight.wanted;
            if (height < minHeight) height = minHeight;
            if (height > maxHeight) height = maxHeight;
            const forceRenderingAboveRequiredSpace = 150;
            if (height > maxHeightBelow || this._forceRenderingAbove && availableSpaceAbove > forceRenderingAboveRequiredSpace) {
                this._contentWidget.setPreference(1 /* ABOVE */ );
                this.element.enableSashes(true, true, false, false);
                maxHeight = maxHeightAbove;
            } else {
                this._contentWidget.setPreference(2 /* BELOW */ );
                this.element.enableSashes(false, true, true, false);
                maxHeight = maxHeightBelow;
            }
            this.element.preferredSize = new $8xgjE.Dimension(preferredWidth, info.defaultSize.height);
            this.element.maxSize = new $8xgjE.Dimension(maxWidth, maxHeight);
            this.element.minSize = new $8xgjE.Dimension(220, minHeight);
            // Know when the height was capped to fit and remember
            // the wanted height for later. This is required when going
            // left to widen suggestions.
            this._cappedHeight = height === fullHeight ? {
                wanted: (_c = (_b = this._cappedHeight) === null || _b === void 0 ? void 0 : _b.wanted) !== null && _c !== void 0 ? _c : size.height,
                capped: height
            } : undefined;
        }
        this._resize(width, height);
    }
    _resize(width, height) {
        const { width: maxWidth , height: maxHeight  } = this.element.maxSize;
        width = Math.min(maxWidth, width);
        height = Math.min(maxHeight, height);
        const { statusBarHeight: statusBarHeight  } = this.getLayoutInfo();
        this._list.layout(height - statusBarHeight, width);
        this._listElement.style.height = `${height - statusBarHeight}px`;
        this.element.layout(height, width);
        this._contentWidget.layout();
        this._positionDetails();
    }
    _positionDetails() {
        var _a;
        if (this._isDetailsVisible()) this._details.placeAtAnchor(this.element.domNode, ((_a = this._contentWidget.getPosition()) === null || _a === void 0 ? void 0 : _a.preference[0]) === 2 /* BELOW */ );
    }
    getLayoutInfo() {
        const fontInfo = this.editor.getOption(43 /* fontInfo */ );
        const itemHeight = $lbI5A.clamp(this.editor.getOption(107 /* suggestLineHeight */ ) || fontInfo.lineHeight, 8, 1000);
        const statusBarHeight = !this.editor.getOption(105 /* suggest */ ).showStatusBar || this._state === 2 /* Empty */  || this._state === 1 /* Loading */  ? 0 : itemHeight;
        const borderWidth = this._details.widget.borderWidth;
        const borderHeight = 2 * borderWidth;
        return {
            itemHeight: itemHeight,
            statusBarHeight: statusBarHeight,
            borderWidth: borderWidth,
            borderHeight: borderHeight,
            typicalHalfwidthCharacterWidth: fontInfo.typicalHalfwidthCharacterWidth,
            verticalPadding: 22,
            horizontalPadding: 14,
            defaultSize: new $8xgjE.Dimension(430, statusBarHeight + 12 * itemHeight + borderHeight)
        };
    }
    _isDetailsVisible() {
        return this._storageService.getBoolean('expandSuggestionDocs', 0 /* GLOBAL */ , false);
    }
    _setDetailsVisible(value) {
        this._storageService.store('expandSuggestionDocs', value, 0 /* GLOBAL */ , 0 /* USER */ );
    }
    forceRenderingAbove() {
        if (!this._forceRenderingAbove) {
            this._forceRenderingAbove = true;
            this._layout(this._persistedSize.restore());
        }
    }
    stopForceRenderingAbove() {
        this._forceRenderingAbove = false;
    }
    constructor(editor, _storageService, _contextKeyService, _themeService, instantiationService){
        this.editor = editor;
        this._storageService = _storageService;
        this._state = 0 /* Hidden */ ;
        this._isAuto = false;
        this._ignoreFocusEvents = false;
        this._forceRenderingAbove = false;
        this._explainMode = false;
        this._showTimeout = new $5piST.TimeoutTimer();
        this._disposables = new $6W1JA.DisposableStore();
        this._onDidSelect = new $bkXdq.Emitter();
        this._onDidFocus = new $bkXdq.Emitter();
        this._onDidHide = new $bkXdq.Emitter();
        this._onDidShow = new $bkXdq.Emitter();
        this.onDidSelect = this._onDidSelect.event;
        this.onDidFocus = this._onDidFocus.event;
        this.onDidHide = this._onDidHide.event;
        this.onDidShow = this._onDidShow.event;
        this._onDetailsKeydown = new $bkXdq.Emitter();
        this.onDetailsKeyDown = this._onDetailsKeydown.event;
        this.element = new $dc51bf70f63d509a$export$f049a29194943609();
        this.element.domNode.classList.add('editor-widget', 'suggest-widget');
        this._contentWidget = new $6aadd619d41e04a1$export$335c575f116d83ac(this, editor);
        this._persistedSize = new $6aadd619d41e04a1$var$PersistedWidgetSize(_storageService, editor);
        class ResizeState {
            constructor(persistedSize, currentSize, persistHeight = false, persistWidth = false){
                this.persistedSize = persistedSize;
                this.currentSize = currentSize;
                this.persistHeight = persistHeight;
                this.persistWidth = persistWidth;
            }
        }
        let state;
        this._disposables.add(this.element.onDidWillResize(()=>{
            this._contentWidget.lockPreference();
            state = new ResizeState(this._persistedSize.restore(), this.element.size);
        }));
        this._disposables.add(this.element.onDidResize((e)=>{
            var _a, _b, _c, _d;
            this._resize(e.dimension.width, e.dimension.height);
            if (state) {
                state.persistHeight = state.persistHeight || !!e.north || !!e.south;
                state.persistWidth = state.persistWidth || !!e.east || !!e.west;
            }
            if (!e.done) return;
            if (state) {
                // only store width or height value that have changed and also
                // only store changes that are above a certain threshold
                const { itemHeight: itemHeight , defaultSize: defaultSize  } = this.getLayoutInfo();
                const threshold = Math.round(itemHeight / 2);
                let { width: width , height: height  } = this.element.size;
                if (!state.persistHeight || Math.abs(state.currentSize.height - height) <= threshold) height = (_b = (_a = state.persistedSize) === null || _a === void 0 ? void 0 : _a.height) !== null && _b !== void 0 ? _b : defaultSize.height;
                if (!state.persistWidth || Math.abs(state.currentSize.width - width) <= threshold) width = (_d = (_c = state.persistedSize) === null || _c === void 0 ? void 0 : _c.width) !== null && _d !== void 0 ? _d : defaultSize.width;
                this._persistedSize.store(new $8xgjE.Dimension(width, height));
            }
            // reset working state
            this._contentWidget.unlockPreference();
            state = undefined;
        }));
        this._messageElement = $8xgjE.append(this.element.domNode, $8xgjE.$('.message'));
        this._listElement = $8xgjE.append(this.element.domNode, $8xgjE.$('.tree'));
        const details = instantiationService.createInstance($5a2d3ae07cc5cc10$exports.SuggestDetailsWidget, this.editor);
        details.onDidClose(this.toggleDetails, this, this._disposables);
        this._details = new $5a2d3ae07cc5cc10$exports.SuggestDetailsOverlay(details, this.editor);
        const applyIconStyle = ()=>this.element.domNode.classList.toggle('no-icons', !this.editor.getOption(105 /* suggest */ ).showIcons)
        ;
        applyIconStyle();
        const renderer = instantiationService.createInstance($c11430de2b037138$exports.ItemRenderer, this.editor);
        this._disposables.add(renderer);
        this._disposables.add(renderer.onDidToggleDetails(()=>this.toggleDetails()
        ));
        this._list = new $1oapv.List('SuggestWidget', this._listElement, {
            getHeight: (_element)=>this.getLayoutInfo().itemHeight
            ,
            getTemplateId: (_element)=>'suggestion'
        }, [
            renderer
        ], {
            alwaysConsumeMouseWheel: true,
            useShadows: false,
            mouseSupport: false,
            accessibilityProvider: {
                getRole: ()=>'option'
                ,
                getAriaLabel: (item)=>{
                    if (item.isResolved && this._isDetailsVisible()) {
                        const { documentation: documentation , detail: detail  } = item.completion;
                        const docs = $i4xl7.format('{0}{1}', detail || '', documentation ? typeof documentation === 'string' ? documentation : documentation.value : '');
                        return $1WuVQ.localize('ariaCurrenttSuggestionReadDetails', "{0}, docs: {1}", item.textLabel, docs);
                    } else return item.textLabel;
                },
                getWidgetAriaLabel: ()=>$1WuVQ.localize('suggest', "Suggest")
                ,
                getWidgetRole: ()=>'listbox'
            }
        });
        this._status = instantiationService.createInstance($bcf5a4ea861177d9$exports.SuggestWidgetStatus, this.element.domNode);
        const applyStatusBarStyle = ()=>this.element.domNode.classList.toggle('with-status-bar', this.editor.getOption(105 /* suggest */ ).showStatusBar)
        ;
        applyStatusBarStyle();
        this._disposables.add($5d1gs.attachListStyler(this._list, _themeService, {
            listInactiveFocusBackground: $6aadd619d41e04a1$export$4e0daeab52f97af3,
            listInactiveFocusOutline: $kL4Ig.activeContrastBorder
        }));
        this._disposables.add(_themeService.onDidColorThemeChange((t)=>this._onThemeChange(t)
        ));
        this._onThemeChange(_themeService.getColorTheme());
        this._disposables.add(this._list.onMouseDown((e)=>this._onListMouseDownOrTap(e)
        ));
        this._disposables.add(this._list.onTap((e)=>this._onListMouseDownOrTap(e)
        ));
        this._disposables.add(this._list.onDidChangeSelection((e)=>this._onListSelection(e)
        ));
        this._disposables.add(this._list.onDidChangeFocus((e)=>this._onListFocus(e)
        ));
        this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged()
        ));
        this._disposables.add(this.editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(105 /* suggest */ )) {
                applyStatusBarStyle();
                applyIconStyle();
            }
        }));
        this._ctxSuggestWidgetVisible = $abd2fa2c46cec408$exports.Context.Visible.bindTo(_contextKeyService);
        this._ctxSuggestWidgetDetailsVisible = $abd2fa2c46cec408$exports.Context.DetailsVisible.bindTo(_contextKeyService);
        this._ctxSuggestWidgetMultipleSuggestions = $abd2fa2c46cec408$exports.Context.MultipleSuggestions.bindTo(_contextKeyService);
        this._disposables.add($8xgjE.addStandardDisposableListener(this._details.widget.domNode, 'keydown', (e)=>{
            this._onDetailsKeydown.fire(e);
        }));
        this._disposables.add(this.editor.onMouseDown((e)=>this._onEditorMouseDown(e)
        ));
    }
};
$6aadd619d41e04a1$export$ad1808d575fcd49b.LOADING_MESSAGE = $1WuVQ.localize('suggestWidget.loading', "Loading...");
$6aadd619d41e04a1$export$ad1808d575fcd49b.NO_SUGGESTIONS_MESSAGE = $1WuVQ.localize('suggestWidget.noSuggestions', "No suggestions.");
$6aadd619d41e04a1$export$ad1808d575fcd49b = $6aadd619d41e04a1$var$__decorate([
    $6aadd619d41e04a1$var$__param(1, $4toHF.IStorageService),
    $6aadd619d41e04a1$var$__param(2, $h4kGX.IContextKeyService),
    $6aadd619d41e04a1$var$__param(3, $5Wwop.IThemeService),
    $6aadd619d41e04a1$var$__param(4, $6Xx7t.IInstantiationService)
], $6aadd619d41e04a1$export$ad1808d575fcd49b);
class $6aadd619d41e04a1$export$335c575f116d83ac {
    dispose() {
        if (this._added) {
            this._added = false;
            this._editor.removeContentWidget(this);
        }
    }
    getId() {
        return 'editor.widget.suggestWidget';
    }
    getDomNode() {
        return this._widget.element.domNode;
    }
    show() {
        this._hidden = false;
        if (!this._added) {
            this._added = true;
            this._editor.addContentWidget(this);
        }
    }
    hide() {
        if (!this._hidden) {
            this._hidden = true;
            this.layout();
        }
    }
    layout() {
        this._editor.layoutContentWidget(this);
    }
    getPosition() {
        if (this._hidden || !this._position || !this._preference) return null;
        return {
            position: this._position,
            preference: [
                this._preference
            ]
        };
    }
    beforeRender() {
        const { height: height , width: width  } = this._widget.element.size;
        const { borderWidth: borderWidth , horizontalPadding: horizontalPadding  } = this._widget.getLayoutInfo();
        return new $8xgjE.Dimension(width + 2 * borderWidth + horizontalPadding, height + 2 * borderWidth);
    }
    afterRender(position) {
        this._widget._afterRender(position);
    }
    setPreference(preference) {
        if (!this._preferenceLocked) this._preference = preference;
    }
    lockPreference() {
        this._preferenceLocked = true;
    }
    unlockPreference() {
        this._preferenceLocked = false;
    }
    setPosition(position) {
        this._position = position;
    }
    constructor(_widget, _editor){
        this._widget = _widget;
        this._editor = _editor;
        this.allowEditorOverflow = true;
        this.suppressMouseDown = false;
        this._preferenceLocked = false;
        this._added = false;
        this._hidden = false;
    }
}



var $dDQuJ = parcelRequire("dDQuJ");

var $lvxAj = parcelRequire("lvxAj");

var $2fM9s = parcelRequire("2fM9s");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $a339368e3efb8cd2$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $a339368e3efb8cd2$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
// sticky suggest widget which doesn't disappear on focus out and such
let $a339368e3efb8cd2$var$_sticky = false;
// _sticky = Boolean("true"); // done "weirdly" so that a lint warning prevents you from pushing this
class $a339368e3efb8cd2$var$LineSuffix {
    dispose() {
        if (this._marker && !this._model.isDisposed()) this._model.deltaDecorations(this._marker, []);
    }
    delta(position) {
        if (this._model.isDisposed() || this._position.lineNumber !== position.lineNumber) // bail out early if things seems fishy
        return 0;
        // read the marker (in case suggest was triggered at line end) or compare
        // the cursor to the line end.
        if (this._marker) {
            const range = this._model.getDecorationRange(this._marker[0]);
            const end = this._model.getOffsetAt(range.getStartPosition());
            return end - this._model.getOffsetAt(position);
        } else return this._model.getLineMaxColumn(position.lineNumber) - position.column;
    }
    constructor(_model, _position){
        this._model = _model;
        this._position = _position;
        // spy on what's happening right of the cursor. two cases:
        // 1. end of line -> check that it's still end of line
        // 2. mid of line -> add a marker and compute the delta
        const maxColumn = _model.getLineMaxColumn(_position.lineNumber);
        if (maxColumn !== _position.column) {
            const offset = _model.getOffsetAt(_position);
            const end = _model.getPositionAt(offset + 1);
            this._marker = _model.deltaDecorations([], [
                {
                    range: $1YFxJ.Range.fromPositions(_position, end),
                    options: {
                        description: 'suggest-line-suffix',
                        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ 
                    }
                }
            ]);
        }
    }
}
let $a339368e3efb8cd2$export$54e1189006f2eb3a = class $a339368e3efb8cd2$export$54e1189006f2eb3a {
    static get(editor) {
        return editor.getContribution($a339368e3efb8cd2$export$54e1189006f2eb3a.ID);
    }
    dispose() {
        this._alternatives.dispose();
        this._toDispose.dispose();
        this.widget.dispose();
        this.model.dispose();
        this._lineSuffix.dispose();
    }
    _insertSuggestion(event, flags) {
        if (!event || !event.item) {
            this._alternatives.value.reset();
            this.model.cancel();
            this.model.clear();
            return;
        }
        if (!this.editor.hasModel()) return;
        const model = this.editor.getModel();
        const modelVersionNow = model.getAlternativeVersionId();
        const { item: item  } = event;
        //
        const tasks = [];
        const cts = new $1vhHo.CancellationTokenSource();
        // pushing undo stops *before* additional text edits and
        // *after* the main edit
        if (!(flags & 1 /* NoBeforeUndoStop */ )) this.editor.pushUndoStop();
        // compute overwrite[Before|After] deltas BEFORE applying extra edits
        const info = this.getOverwriteInfo(item, Boolean(flags & 8 /* AlternativeOverwriteConfig */ ));
        // keep item in memory
        this._memoryService.memorize(model, this.editor.getPosition(), item);
        if (Array.isArray(item.completion.additionalTextEdits)) {
            // sync additional edits
            const scrollState = $78AWm.StableEditorScrollState.capture(this.editor);
            this.editor.executeEdits('suggestController.additionalTextEdits.sync', item.completion.additionalTextEdits.map((edit)=>$EQImd.EditOperation.replace($1YFxJ.Range.lift(edit.range), edit.text)
            ));
            scrollState.restoreRelativeVerticalPositionOfCursor(this.editor);
        } else if (!item.isResolved) {
            // async additional edits
            const sw = new $dJKtA.StopWatch(true);
            let position;
            const docListener = model.onDidChangeContent((e)=>{
                if (e.isFlush) {
                    cts.cancel();
                    docListener.dispose();
                    return;
                }
                for (let change of e.changes){
                    const thisPosition = $1YFxJ.Range.getEndPosition(change.range);
                    if (!position || $fqrfT.Position.isBefore(thisPosition, position)) position = thisPosition;
                }
            });
            let oldFlags = flags;
            flags |= 2 /* NoAfterUndoStop */ ;
            let didType = false;
            let typeListener = this.editor.onWillType(()=>{
                typeListener.dispose();
                didType = true;
                if (!(oldFlags & 2 /* NoAfterUndoStop */ )) this.editor.pushUndoStop();
            });
            tasks.push(item.resolve(cts.token).then(()=>{
                if (!item.completion.additionalTextEdits || cts.token.isCancellationRequested) return false;
                if (position && item.completion.additionalTextEdits.some((edit)=>$fqrfT.Position.isBefore(position, $1YFxJ.Range.getStartPosition(edit.range))
                )) return false;
                if (didType) this.editor.pushUndoStop();
                const scrollState = $78AWm.StableEditorScrollState.capture(this.editor);
                this.editor.executeEdits('suggestController.additionalTextEdits.async', item.completion.additionalTextEdits.map((edit)=>$EQImd.EditOperation.replace($1YFxJ.Range.lift(edit.range), edit.text)
                ));
                scrollState.restoreRelativeVerticalPositionOfCursor(this.editor);
                if (didType || !(oldFlags & 2 /* NoAfterUndoStop */ )) this.editor.pushUndoStop();
                return true;
            }).then((applied)=>{
                this._logService.trace('[suggest] async resolving of edits DONE (ms, applied?)', sw.elapsed(), applied);
                docListener.dispose();
                typeListener.dispose();
            }));
        }
        let { insertText: insertText  } = item.completion;
        if (!(item.completion.insertTextRules & 4 /* InsertAsSnippet */ )) insertText = $ed35ffdff064bb89$export$e073bfe8583e8fbf.escape(insertText);
        $bd7aaf7eb12cf161$exports.SnippetController2.get(this.editor).insert(insertText, {
            overwriteBefore: info.overwriteBefore,
            overwriteAfter: info.overwriteAfter,
            undoStopBefore: false,
            undoStopAfter: false,
            adjustWhitespace: !(item.completion.insertTextRules & 1 /* KeepWhitespace */ ),
            clipboardText: event.model.clipboardText,
            overtypingCapturer: this._overtypingCapturer.value
        });
        if (!(flags & 2 /* NoAfterUndoStop */ )) this.editor.pushUndoStop();
        if (!item.completion.command) // done
        this.model.cancel();
        else if (item.completion.command.id === $a339368e3efb8cd2$export$6adf569aad8e1b71.id) // retigger
        this.model.trigger({
            auto: true,
            shy: false
        }, true);
        else {
            // exec command, done
            tasks.push(this._commandService.executeCommand(item.completion.command.id, ...item.completion.command.arguments ? [
                ...item.completion.command.arguments
            ] : []).catch($3FsT3.onUnexpectedError));
            this.model.cancel();
        }
        if (flags & 4 /* KeepAlternativeSuggestions */ ) this._alternatives.value.set(event, (next)=>{
            // cancel resolving of additional edits
            cts.cancel();
            // this is not so pretty. when inserting the 'next'
            // suggestion we undo until we are at the state at
            // which we were before inserting the previous suggestion...
            while(model.canUndo()){
                if (modelVersionNow !== model.getAlternativeVersionId()) model.undo();
                this._insertSuggestion(next, 3 /* NoAfterUndoStop */  | (flags & 8 /* AlternativeOverwriteConfig */  ? 8 /* AlternativeOverwriteConfig */  : 0));
                break;
            }
        });
        this._alertCompletionItem(item);
        // clear only now - after all tasks are done
        Promise.all(tasks).finally(()=>{
            this._reportSuggestionAcceptedTelemetry(model, event);
            this.model.clear();
            cts.dispose();
        });
    }
    _reportSuggestionAcceptedTelemetry(model, acceptedSuggestion) {
        var _a;
        if ((this._telemetryGate++) % 100 !== 0) return;
        // _debugDisplayName looks like `vscode.css-language-features(/-:)`, where the last bit is the trigger chars
        // normalize it to just the extension ID and lowercase
        const providerId = ((_a = acceptedSuggestion.item.provider._debugDisplayName) !== null && _a !== void 0 ? _a : 'unknown').split('(', 1)[0].toLowerCase();
        this._telemetryService.publicLog2('suggest.acceptedSuggestion', {
            providerId: providerId,
            basenameHash: $2fM9s.hash($lvxAj.basename(model.uri)).toString(16),
            languageId: model.getLanguageId(),
            fileExtension: $lvxAj.extname(model.uri)
        });
    }
    getOverwriteInfo(item, toggleMode) {
        $erLC3.assertType(this.editor.hasModel());
        let replace = this.editor.getOption(105 /* suggest */ ).insertMode === 'replace';
        if (toggleMode) replace = !replace;
        const overwriteBefore = item.position.column - item.editStart.column;
        const overwriteAfter = (replace ? item.editReplaceEnd.column : item.editInsertEnd.column) - item.position.column;
        const columnDelta = this.editor.getPosition().column - item.position.column;
        const suffixDelta = this._lineSuffix.value ? this._lineSuffix.value.delta(this.editor.getPosition()) : 0;
        return {
            overwriteBefore: overwriteBefore + columnDelta,
            overwriteAfter: overwriteAfter + suffixDelta
        };
    }
    _alertCompletionItem(item) {
        if ($duSG1.isNonEmptyArray(item.completion.additionalTextEdits)) {
            let msg = $1WuVQ.localize('aria.alert.snippet', "Accepting '{0}' made {1} additional edits", item.textLabel, item.completion.additionalTextEdits.length);
            $6eCoB.alert(msg);
        }
    }
    triggerSuggest(onlyFrom, auto) {
        if (this.editor.hasModel()) {
            this.model.trigger({
                auto: auto !== null && auto !== void 0 ? auto : false,
                shy: false
            }, false, onlyFrom);
            this.editor.revealPosition(this.editor.getPosition(), 0 /* Smooth */ );
            this.editor.focus();
        }
    }
    triggerSuggestAndAcceptBest(arg) {
        if (!this.editor.hasModel()) return;
        const positionNow = this.editor.getPosition();
        const fallback = ()=>{
            if (positionNow.equals(this.editor.getPosition())) this._commandService.executeCommand(arg.fallback);
        };
        const makesTextEdit = (item)=>{
            if (item.completion.insertTextRules & 4 /* InsertAsSnippet */  || item.completion.additionalTextEdits) // snippet, other editor -> makes edit
            return true;
            const position = this.editor.getPosition();
            const startColumn = item.editStart.column;
            const endColumn = position.column;
            if (endColumn - startColumn !== item.completion.insertText.length) // unequal lengths -> makes edit
            return true;
            const textNow = this.editor.getModel().getValueInRange({
                startLineNumber: position.lineNumber,
                startColumn: startColumn,
                endLineNumber: position.lineNumber,
                endColumn: endColumn
            });
            // unequal text -> makes edit
            return textNow !== item.completion.insertText;
        };
        $bkXdq.Event.once(this.model.onDidTrigger)((_)=>{
            // wait for trigger because only then the cancel-event is trustworthy
            let listener = [];
            $bkXdq.Event.any(this.model.onDidTrigger, this.model.onDidCancel)(()=>{
                // retrigger or cancel -> try to type default text
                $6W1JA.dispose(listener);
                fallback();
            }, undefined, listener);
            this.model.onDidSuggest(({ completionModel: completionModel  })=>{
                $6W1JA.dispose(listener);
                if (completionModel.items.length === 0) {
                    fallback();
                    return;
                }
                const index = this._memoryService.select(this.editor.getModel(), this.editor.getPosition(), completionModel.items);
                const item = completionModel.items[index];
                if (!makesTextEdit(item)) {
                    fallback();
                    return;
                }
                this.editor.pushUndoStop();
                this._insertSuggestion({
                    index: index,
                    item: item,
                    model: completionModel
                }, 7 /* NoAfterUndoStop */ );
            }, undefined, listener);
        });
        this.model.trigger({
            auto: false,
            shy: true
        });
        this.editor.revealPosition(positionNow, 0 /* Smooth */ );
        this.editor.focus();
    }
    acceptSelectedSuggestion(keepAlternativeSuggestions, alternativeOverwriteConfig) {
        const item = this.widget.value.getFocusedItem();
        let flags = 0;
        if (keepAlternativeSuggestions) flags |= 4 /* KeepAlternativeSuggestions */ ;
        if (alternativeOverwriteConfig) flags |= 8 /* AlternativeOverwriteConfig */ ;
        this._insertSuggestion(item, flags);
    }
    acceptNextSuggestion() {
        this._alternatives.value.next();
    }
    acceptPrevSuggestion() {
        this._alternatives.value.prev();
    }
    cancelSuggestWidget() {
        this.model.cancel();
        this.model.clear();
        this.widget.value.hideWidget();
    }
    selectNextSuggestion() {
        this.widget.value.selectNext();
    }
    selectNextPageSuggestion() {
        this.widget.value.selectNextPage();
    }
    selectLastSuggestion() {
        this.widget.value.selectLast();
    }
    selectPrevSuggestion() {
        this.widget.value.selectPrevious();
    }
    selectPrevPageSuggestion() {
        this.widget.value.selectPreviousPage();
    }
    selectFirstSuggestion() {
        this.widget.value.selectFirst();
    }
    toggleSuggestionDetails() {
        this.widget.value.toggleDetails();
    }
    toggleExplainMode() {
        this.widget.value.toggleExplainMode();
    }
    toggleSuggestionFocus() {
        this.widget.value.toggleDetailsFocus();
    }
    resetWidgetSize() {
        this.widget.value.resetPersistedSize();
    }
    forceRenderingAbove() {
        this.widget.value.forceRenderingAbove();
    }
    stopForceRenderingAbove() {
        if (!this.widget.isInitialized) // This method has no effect if the widget is not initialized yet.
        return;
        this.widget.value.stopForceRenderingAbove();
    }
    registerSelector(selector) {
        return this._selectors.register(selector);
    }
    constructor(editor, _memoryService, _commandService, _contextKeyService, _instantiationService, _logService, _telemetryService){
        this._memoryService = _memoryService;
        this._commandService = _commandService;
        this._contextKeyService = _contextKeyService;
        this._instantiationService = _instantiationService;
        this._logService = _logService;
        this._telemetryService = _telemetryService;
        this._lineSuffix = new $6W1JA.MutableDisposable();
        this._toDispose = new $6W1JA.DisposableStore();
        this._selectors = new $a339368e3efb8cd2$var$PriorityRegistry((s)=>s.priority
        );
        this._telemetryGate = 0;
        this.editor = editor;
        this.model = _instantiationService.createInstance($2ca54ba2dd621951$exports.SuggestModel, this.editor);
        // context key: update insert/replace mode
        const ctxInsertMode = $abd2fa2c46cec408$exports.Context.InsertMode.bindTo(_contextKeyService);
        ctxInsertMode.set(editor.getOption(105 /* suggest */ ).insertMode);
        this.model.onDidTrigger(()=>ctxInsertMode.set(editor.getOption(105 /* suggest */ ).insertMode)
        );
        this.widget = this._toDispose.add(new $5piST.IdleValue(()=>{
            const widget = this._instantiationService.createInstance($6aadd619d41e04a1$exports.SuggestWidget, this.editor);
            this._toDispose.add(widget);
            this._toDispose.add(widget.onDidSelect((item)=>this._insertSuggestion(item, 0)
            , this));
            // Wire up logic to accept a suggestion on certain characters
            const commitCharacterController = new $5e52785dc011876e$export$1c5a4637a8cc1b47(this.editor, widget, (item)=>this._insertSuggestion(item, 2 /* NoAfterUndoStop */ )
            );
            this._toDispose.add(commitCharacterController);
            this._toDispose.add(this.model.onDidSuggest((e)=>{
                if (e.completionModel.items.length === 0) commitCharacterController.reset();
            }));
            // Wire up makes text edit context key
            const ctxMakesTextEdit = $abd2fa2c46cec408$exports.Context.MakesTextEdit.bindTo(this._contextKeyService);
            const ctxHasInsertAndReplace = $abd2fa2c46cec408$exports.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService);
            const ctxCanResolve = $abd2fa2c46cec408$exports.Context.CanResolve.bindTo(this._contextKeyService);
            this._toDispose.add($6W1JA.toDisposable(()=>{
                ctxMakesTextEdit.reset();
                ctxHasInsertAndReplace.reset();
                ctxCanResolve.reset();
            }));
            this._toDispose.add(widget.onDidFocus(({ item: item  })=>{
                // (ctx: makesTextEdit)
                const position = this.editor.getPosition();
                const startColumn = item.editStart.column;
                const endColumn = position.column;
                let value = true;
                if (this.editor.getOption(1 /* acceptSuggestionOnEnter */ ) === 'smart' && this.model.state === 2 /* Auto */  && !item.completion.additionalTextEdits && !(item.completion.insertTextRules & 4 /* InsertAsSnippet */ ) && endColumn - startColumn === item.completion.insertText.length) {
                    const oldText = this.editor.getModel().getValueInRange({
                        startLineNumber: position.lineNumber,
                        startColumn: startColumn,
                        endLineNumber: position.lineNumber,
                        endColumn: endColumn
                    });
                    value = oldText !== item.completion.insertText;
                }
                ctxMakesTextEdit.set(value);
                // (ctx: hasInsertAndReplaceRange)
                ctxHasInsertAndReplace.set(!$fqrfT.Position.equals(item.editInsertEnd, item.editReplaceEnd));
                // (ctx: canResolve)
                ctxCanResolve.set(Boolean(item.provider.resolveCompletionItem) || Boolean(item.completion.documentation) || item.completion.detail !== item.completion.label);
            }));
            this._toDispose.add(widget.onDetailsKeyDown((e)=>{
                // cmd + c on macOS, ctrl + c on Win / Linux
                if (e.toKeybinding().equals(new $fRvj6.SimpleKeybinding(true, false, false, false, 33 /* KeyC */ )) || $7e5Mc.isMacintosh && e.toKeybinding().equals(new $fRvj6.SimpleKeybinding(false, false, false, true, 33 /* KeyC */ ))) {
                    e.stopPropagation();
                    return;
                }
                if (!e.toKeybinding().isModifierKey()) this.editor.focus();
            }));
            return widget;
        }));
        // Wire up text overtyping capture
        this._overtypingCapturer = this._toDispose.add(new $5piST.IdleValue(()=>{
            return this._toDispose.add(new $7aea7c5067c2278f$export$4f0a10c40326a303(this.editor, this.model));
        }));
        this._alternatives = this._toDispose.add(new $5piST.IdleValue(()=>{
            return this._toDispose.add(new $a3f3b1c09e816ef3$exports.SuggestAlternatives(this.editor, this._contextKeyService));
        }));
        this._toDispose.add(_instantiationService.createInstance($daadce6144dee16c$exports.WordContextKey, editor));
        this._toDispose.add(this.model.onDidTrigger((e)=>{
            this.widget.value.showTriggered(e.auto, e.shy ? 250 : 50);
            this._lineSuffix.value = new $a339368e3efb8cd2$var$LineSuffix(this.editor.getModel(), e.position);
        }));
        this._toDispose.add(this.model.onDidSuggest((e)=>{
            if (!e.shy) {
                let index = -1;
                for (const selector of this._selectors.itemsOrderedByPriorityDesc){
                    index = selector.select(this.editor.getModel(), this.editor.getPosition(), e.completionModel.items);
                    if (index !== -1) break;
                }
                if (index === -1) index = this._memoryService.select(this.editor.getModel(), this.editor.getPosition(), e.completionModel.items);
                this.widget.value.showSuggestions(e.completionModel, index, e.isFrozen, e.auto);
            }
        }));
        this._toDispose.add(this.model.onDidCancel((e)=>{
            if (!e.retrigger) this.widget.value.hideWidget();
        }));
        this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{
            if (!$a339368e3efb8cd2$var$_sticky) {
                this.model.cancel();
                this.model.clear();
            }
        }));
        // Manage the acceptSuggestionsOnEnter context key
        let acceptSuggestionsOnEnter = $abd2fa2c46cec408$exports.Context.AcceptSuggestionsOnEnter.bindTo(_contextKeyService);
        let updateFromConfig = ()=>{
            const acceptSuggestionOnEnter = this.editor.getOption(1 /* acceptSuggestionOnEnter */ );
            acceptSuggestionsOnEnter.set(acceptSuggestionOnEnter === 'on' || acceptSuggestionOnEnter === 'smart');
        };
        this._toDispose.add(this.editor.onDidChangeConfiguration(()=>updateFromConfig()
        ));
        updateFromConfig();
    }
};
$a339368e3efb8cd2$export$54e1189006f2eb3a.ID = 'editor.contrib.suggestController';
$a339368e3efb8cd2$export$54e1189006f2eb3a = $a339368e3efb8cd2$var$__decorate([
    $a339368e3efb8cd2$var$__param(1, $9cb84a52f4754130$exports.ISuggestMemoryService),
    $a339368e3efb8cd2$var$__param(2, $c0VS7.ICommandService),
    $a339368e3efb8cd2$var$__param(3, $h4kGX.IContextKeyService),
    $a339368e3efb8cd2$var$__param(4, $6Xx7t.IInstantiationService),
    $a339368e3efb8cd2$var$__param(5, $eMXt9.ILogService),
    $a339368e3efb8cd2$var$__param(6, $dDQuJ.ITelemetryService)
], $a339368e3efb8cd2$export$54e1189006f2eb3a);
class $a339368e3efb8cd2$var$PriorityRegistry {
    register(value) {
        if (this._items.indexOf(value) !== -1) throw new Error('Value is already registered');
        this._items.push(value);
        this._items.sort((s1, s2)=>this.prioritySelector(s2) - this.prioritySelector(s1)
        );
        return {
            dispose: ()=>{
                const idx = this._items.indexOf(value);
                if (idx >= 0) this._items.splice(idx, 1);
            }
        };
    }
    get itemsOrderedByPriorityDesc() {
        return this._items;
    }
    constructor(prioritySelector){
        this.prioritySelector = prioritySelector;
        this._items = new Array();
    }
}
class $a339368e3efb8cd2$export$6adf569aad8e1b71 extends $g9Zlr.EditorAction {
    run(_accessor, editor, args) {
        const controller = $a339368e3efb8cd2$export$54e1189006f2eb3a.get(editor);
        if (!controller) return;
        let auto;
        if (args && typeof args === 'object') {
            if (args.auto === true) auto = true;
        }
        controller.triggerSuggest(undefined, auto);
    }
    constructor(){
        super({
            id: $a339368e3efb8cd2$export$6adf569aad8e1b71.id,
            label: $1WuVQ.localize('suggest.trigger.label', "Trigger Suggest"),
            alias: 'Trigger Suggest',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasCompletionItemProvider),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 2058 /* Space */ ,
                secondary: [
                    2087 /* KeyI */ 
                ],
                mac: {
                    primary: 266 /* Space */ ,
                    secondary: [
                        521 /* Escape */ ,
                        2087 /* KeyI */ 
                    ]
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$a339368e3efb8cd2$export$6adf569aad8e1b71.id = 'editor.action.triggerSuggest';
$g9Zlr.registerEditorContribution($a339368e3efb8cd2$export$54e1189006f2eb3a.ID, $a339368e3efb8cd2$export$54e1189006f2eb3a);
$g9Zlr.registerEditorAction($a339368e3efb8cd2$export$6adf569aad8e1b71);
const $a339368e3efb8cd2$var$weight = 190;
const $a339368e3efb8cd2$var$SuggestCommand = $g9Zlr.EditorCommand.bindToContribution($a339368e3efb8cd2$export$54e1189006f2eb3a.get);
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'acceptSelectedSuggestion',
    precondition: $abd2fa2c46cec408$exports.Context.Visible,
    handler (x) {
        x.acceptSelectedSuggestion(true, false);
    }
}));
// normal tab
$6ObvH.KeybindingsRegistry.registerKeybindingRule({
    id: 'acceptSelectedSuggestion',
    when: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $7oeKV.EditorContextKeys.textInputFocus),
    primary: 2 /* Tab */ ,
    weight: $a339368e3efb8cd2$var$weight
});
// accept on enter has special rules
$6ObvH.KeybindingsRegistry.registerKeybindingRule({
    id: 'acceptSelectedSuggestion',
    when: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $7oeKV.EditorContextKeys.textInputFocus, $abd2fa2c46cec408$exports.Context.AcceptSuggestionsOnEnter, $abd2fa2c46cec408$exports.Context.MakesTextEdit),
    primary: 3 /* Enter */ ,
    weight: $a339368e3efb8cd2$var$weight
});
$iCLhR.MenuRegistry.appendMenuItem($abd2fa2c46cec408$exports.suggestWidgetStatusbarMenu, {
    command: {
        id: 'acceptSelectedSuggestion',
        title: $1WuVQ.localize('accept.insert', "Insert")
    },
    group: 'left',
    order: 1,
    when: $abd2fa2c46cec408$exports.Context.HasInsertAndReplaceRange.toNegated()
});
$iCLhR.MenuRegistry.appendMenuItem($abd2fa2c46cec408$exports.suggestWidgetStatusbarMenu, {
    command: {
        id: 'acceptSelectedSuggestion',
        title: $1WuVQ.localize('accept.insert', "Insert")
    },
    group: 'left',
    order: 1,
    when: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.HasInsertAndReplaceRange, $abd2fa2c46cec408$exports.Context.InsertMode.isEqualTo('insert'))
});
$iCLhR.MenuRegistry.appendMenuItem($abd2fa2c46cec408$exports.suggestWidgetStatusbarMenu, {
    command: {
        id: 'acceptSelectedSuggestion',
        title: $1WuVQ.localize('accept.replace', "Replace")
    },
    group: 'left',
    order: 1,
    when: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.HasInsertAndReplaceRange, $abd2fa2c46cec408$exports.Context.InsertMode.isEqualTo('replace'))
});
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'acceptAlternativeSelectedSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $7oeKV.EditorContextKeys.textInputFocus),
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 1027 /* Enter */ ,
        secondary: [
            1026 /* Tab */ 
        ]
    },
    handler (x) {
        x.acceptSelectedSuggestion(false, true);
    },
    menuOpts: [
        {
            menuId: $abd2fa2c46cec408$exports.suggestWidgetStatusbarMenu,
            group: 'left',
            order: 2,
            when: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.HasInsertAndReplaceRange, $abd2fa2c46cec408$exports.Context.InsertMode.isEqualTo('insert')),
            title: $1WuVQ.localize('accept.replace', "Replace")
        },
        {
            menuId: $abd2fa2c46cec408$exports.suggestWidgetStatusbarMenu,
            group: 'left',
            order: 2,
            when: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.HasInsertAndReplaceRange, $abd2fa2c46cec408$exports.Context.InsertMode.isEqualTo('replace')),
            title: $1WuVQ.localize('accept.insert', "Insert")
        }
    ]
}));
// continue to support the old command
$c0VS7.CommandsRegistry.registerCommandAlias('acceptSelectedSuggestionOnEnter', 'acceptSelectedSuggestion');
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'hideSuggestWidget',
    precondition: $abd2fa2c46cec408$exports.Context.Visible,
    handler: (x)=>x.cancelSuggestWidget()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 9 /* Escape */ ,
        secondary: [
            1033 /* Escape */ 
        ]
    }
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'selectNextSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $abd2fa2c46cec408$exports.Context.MultipleSuggestions),
    handler: (c)=>c.selectNextSuggestion()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 18 /* DownArrow */ ,
        secondary: [
            2066 /* DownArrow */ 
        ],
        mac: {
            primary: 18 /* DownArrow */ ,
            secondary: [
                2066 /* DownArrow */ ,
                300 /* KeyN */ 
            ]
        }
    }
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'selectNextPageSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $abd2fa2c46cec408$exports.Context.MultipleSuggestions),
    handler: (c)=>c.selectNextPageSuggestion()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 12 /* PageDown */ ,
        secondary: [
            2060 /* PageDown */ 
        ]
    }
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'selectLastSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $abd2fa2c46cec408$exports.Context.MultipleSuggestions),
    handler: (c)=>c.selectLastSuggestion()
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'selectPrevSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $abd2fa2c46cec408$exports.Context.MultipleSuggestions),
    handler: (c)=>c.selectPrevSuggestion()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 16 /* UpArrow */ ,
        secondary: [
            2064 /* UpArrow */ 
        ],
        mac: {
            primary: 16 /* UpArrow */ ,
            secondary: [
                2064 /* UpArrow */ ,
                302 /* KeyP */ 
            ]
        }
    }
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'selectPrevPageSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $abd2fa2c46cec408$exports.Context.MultipleSuggestions),
    handler: (c)=>c.selectPrevPageSuggestion()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 11 /* PageUp */ ,
        secondary: [
            2059 /* PageUp */ 
        ]
    }
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'selectFirstSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.Visible, $abd2fa2c46cec408$exports.Context.MultipleSuggestions),
    handler: (c)=>c.selectFirstSuggestion()
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'toggleSuggestionDetails',
    precondition: $abd2fa2c46cec408$exports.Context.Visible,
    handler: (x)=>x.toggleSuggestionDetails()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 2058 /* Space */ ,
        secondary: [
            2087 /* KeyI */ 
        ],
        mac: {
            primary: 266 /* Space */ ,
            secondary: [
                2087 /* KeyI */ 
            ]
        }
    },
    menuOpts: [
        {
            menuId: $abd2fa2c46cec408$exports.suggestWidgetStatusbarMenu,
            group: 'right',
            order: 1,
            when: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.DetailsVisible, $abd2fa2c46cec408$exports.Context.CanResolve),
            title: $1WuVQ.localize('detail.more', "show less")
        },
        {
            menuId: $abd2fa2c46cec408$exports.suggestWidgetStatusbarMenu,
            group: 'right',
            order: 1,
            when: $h4kGX.ContextKeyExpr.and($abd2fa2c46cec408$exports.Context.DetailsVisible.toNegated(), $abd2fa2c46cec408$exports.Context.CanResolve),
            title: $1WuVQ.localize('detail.less', "show more")
        }
    ]
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'toggleExplainMode',
    precondition: $abd2fa2c46cec408$exports.Context.Visible,
    handler: (x)=>x.toggleExplainMode()
    ,
    kbOpts: {
        weight: 100 /* EditorContrib */ ,
        primary: 2133 /* Slash */ 
    }
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'toggleSuggestionFocus',
    precondition: $abd2fa2c46cec408$exports.Context.Visible,
    handler: (x)=>x.toggleSuggestionFocus()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 2570 /* Space */ ,
        mac: {
            primary: 778 /* Space */ 
        }
    }
}));
//#region tab completions
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'insertBestCompletion',
    precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.textInputFocus, $h4kGX.ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), $daadce6144dee16c$exports.WordContextKey.AtEnd, $abd2fa2c46cec408$exports.Context.Visible.toNegated(), $a3f3b1c09e816ef3$exports.SuggestAlternatives.OtherSuggestions.toNegated(), $bd7aaf7eb12cf161$exports.SnippetController2.InSnippetMode.toNegated()),
    handler: (x, arg)=>{
        x.triggerSuggestAndAcceptBest($erLC3.isObject(arg) ? Object.assign({
            fallback: 'tab'
        }, arg) : {
            fallback: 'tab'
        });
    },
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        primary: 2 /* Tab */ 
    }
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'insertNextSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.textInputFocus, $h4kGX.ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), $a3f3b1c09e816ef3$exports.SuggestAlternatives.OtherSuggestions, $abd2fa2c46cec408$exports.Context.Visible.toNegated(), $bd7aaf7eb12cf161$exports.SnippetController2.InSnippetMode.toNegated()),
    handler: (x)=>x.acceptNextSuggestion()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 2 /* Tab */ 
    }
}));
$g9Zlr.registerEditorCommand(new $a339368e3efb8cd2$var$SuggestCommand({
    id: 'insertPrevSuggestion',
    precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.textInputFocus, $h4kGX.ContextKeyExpr.equals('config.editor.tabCompletion', 'on'), $a3f3b1c09e816ef3$exports.SuggestAlternatives.OtherSuggestions, $abd2fa2c46cec408$exports.Context.Visible.toNegated(), $bd7aaf7eb12cf161$exports.SnippetController2.InSnippetMode.toNegated()),
    handler: (x)=>x.acceptPrevSuggestion()
    ,
    kbOpts: {
        weight: $a339368e3efb8cd2$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
        primary: 1026 /* Tab */ 
    }
}));
$g9Zlr.registerEditorAction(class extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        $a339368e3efb8cd2$export$54e1189006f2eb3a.get(editor).resetWidgetSize();
    }
    constructor(){
        super({
            id: 'editor.action.resetSuggestSize',
            label: $1WuVQ.localize('suggest.reset.label', "Reset Suggest Widget Size"),
            alias: 'Reset Suggest Widget Size',
            precondition: undefined
        });
    }
});




function $a34342259808f2bc$export$76e3015fedec517f(object, disposable) {
    return {
        object: object,
        dispose: ()=>disposable === null || disposable === void 0 ? void 0 : disposable.dispose()
    };
}
function $a34342259808f2bc$export$53e1d82c551f6242(selector, comparator) {
    return (a, b)=>comparator(selector(a), selector(b))
    ;
}
function $a34342259808f2bc$export$bc15bf6a97104dc9() {
    return (a, b)=>a - b
    ;
}
function $a34342259808f2bc$export$7670cf76b4aa9e08(items, comparator) {
    let min = undefined;
    for (const item of items)if (min === undefined || comparator(item, min) > 0) min = item;
    return min;
}


class $58012c0644f18eaf$export$25701ac5464bebfb extends $6W1JA.Disposable {
    /**
     * Returns undefined if the suggest widget is not active.
    */ get state() {
        if (!this._isActive) return undefined;
        return {
            selectedItem: this._currentSuggestItemInfo
        };
    }
    update(newActive) {
        const newInlineCompletion = this.getSuggestItemInfo();
        let shouldFire = false;
        if (!$58012c0644f18eaf$var$suggestItemInfoEquals(this._currentSuggestItemInfo, newInlineCompletion)) {
            this._currentSuggestItemInfo = newInlineCompletion;
            shouldFire = true;
        }
        if (this._isActive !== newActive) {
            this._isActive = newActive;
            shouldFire = true;
        }
        if (shouldFire) this.onDidChangeEmitter.fire();
    }
    getSuggestItemInfo() {
        const suggestController = $a339368e3efb8cd2$exports.SuggestController.get(this.editor);
        if (!suggestController) return undefined;
        if (!this.isSuggestWidgetVisible) return undefined;
        const focusedItem = suggestController.widget.value.getFocusedItem();
        if (!focusedItem) return undefined;
        // TODO: item.isResolved
        return $58012c0644f18eaf$var$suggestionToSuggestItemInfo(suggestController, this.editor.getPosition(), focusedItem.item, this.isShiftKeyPressed);
    }
    stopForceRenderingAbove() {
        const suggestController = $a339368e3efb8cd2$exports.SuggestController.get(this.editor);
        if (suggestController) suggestController.stopForceRenderingAbove();
    }
    forceRenderingAbove() {
        const suggestController = $a339368e3efb8cd2$exports.SuggestController.get(this.editor);
        if (suggestController) suggestController.forceRenderingAbove();
    }
    constructor(editor, suggestControllerPreselector){
        super();
        this.editor = editor;
        this.suggestControllerPreselector = suggestControllerPreselector;
        this.isSuggestWidgetVisible = false;
        this.isShiftKeyPressed = false;
        this._isActive = false;
        this._currentSuggestItemInfo = undefined;
        this.onDidChangeEmitter = new $bkXdq.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
        // This delay fixes a suggest widget issue when typing "." immediately restarts the suggestion session.
        this.setInactiveDelayed = this._register(new $5piST.RunOnceScheduler(()=>{
            if (!this.isSuggestWidgetVisible) {
                if (this._isActive) {
                    this._isActive = false;
                    this.onDidChangeEmitter.fire();
                }
            }
        }, 100));
        // See the command acceptAlternativeSelectedSuggestion that is bound to shift+tab
        this._register(editor.onKeyDown((e)=>{
            if (e.shiftKey && !this.isShiftKeyPressed) {
                this.isShiftKeyPressed = true;
                this.update(this._isActive);
            }
        }));
        this._register(editor.onKeyUp((e)=>{
            if (e.shiftKey && this.isShiftKeyPressed) {
                this.isShiftKeyPressed = false;
                this.update(this._isActive);
            }
        }));
        const suggestController = $a339368e3efb8cd2$exports.SuggestController.get(this.editor);
        if (suggestController) {
            this._register(suggestController.registerSelector({
                priority: 100,
                select: (model, pos, suggestItems)=>{
                    const textModel = this.editor.getModel();
                    const normalizedItemToPreselect = $6d382f87a002acd7$exports.minimizeInlineCompletion(textModel, this.suggestControllerPreselector());
                    if (!normalizedItemToPreselect) return -1;
                    const position = $fqrfT.Position.lift(pos);
                    const candidates = suggestItems.map((suggestItem, index)=>{
                        const inlineSuggestItem = $58012c0644f18eaf$var$suggestionToSuggestItemInfo(suggestController, position, suggestItem, this.isShiftKeyPressed);
                        const normalizedSuggestItem = $6d382f87a002acd7$exports.minimizeInlineCompletion(textModel, inlineSuggestItem === null || inlineSuggestItem === void 0 ? void 0 : inlineSuggestItem.normalizedInlineCompletion);
                        if (!normalizedSuggestItem) return undefined;
                        const valid = $58012c0644f18eaf$export$4f3d24302fd497b(normalizedItemToPreselect.range, normalizedSuggestItem.range) && normalizedItemToPreselect.text.startsWith(normalizedSuggestItem.text);
                        return {
                            index: index,
                            valid: valid,
                            prefixLength: normalizedSuggestItem.text.length,
                            suggestItem: suggestItem
                        };
                    }).filter((item)=>item && item.valid
                    );
                    const result = $a34342259808f2bc$export$7670cf76b4aa9e08(candidates, $a34342259808f2bc$export$53e1d82c551f6242((s)=>s.prefixLength
                    , $a34342259808f2bc$export$bc15bf6a97104dc9()));
                    return result ? result.index : -1;
                }
            }));
            let isBoundToSuggestWidget = false;
            const bindToSuggestWidget = ()=>{
                if (isBoundToSuggestWidget) return;
                isBoundToSuggestWidget = true;
                this._register(suggestController.widget.value.onDidShow(()=>{
                    this.isSuggestWidgetVisible = true;
                    this.update(true);
                }));
                this._register(suggestController.widget.value.onDidHide(()=>{
                    this.isSuggestWidgetVisible = false;
                    this.setInactiveDelayed.schedule();
                    this.update(this._isActive);
                }));
                this._register(suggestController.widget.value.onDidFocus(()=>{
                    this.isSuggestWidgetVisible = true;
                    this.update(true);
                }));
            };
            this._register($bkXdq.Event.once(suggestController.model.onDidTrigger)((e)=>{
                bindToSuggestWidget();
            }));
        }
        this.update(this._isActive);
    }
}
function $58012c0644f18eaf$export$4f3d24302fd497b(rangeToTest, prefix) {
    return prefix.startLineNumber === rangeToTest.startLineNumber && prefix.startColumn === rangeToTest.startColumn && (prefix.endLineNumber < rangeToTest.endLineNumber || prefix.endLineNumber === rangeToTest.endLineNumber && prefix.endColumn <= rangeToTest.endColumn);
}
function $58012c0644f18eaf$var$suggestItemInfoEquals(a, b) {
    if (a === b) return true;
    if (!a || !b) return false;
    return a.completionItemKind === b.completionItemKind && a.isSnippetText === b.isSnippetText && $aff8323f0e9aead1$export$11e165236064256b(a.normalizedInlineCompletion, b.normalizedInlineCompletion);
}
function $58012c0644f18eaf$var$suggestionToSuggestItemInfo(suggestController, position, item, toggleMode) {
    // additionalTextEdits might not be resolved here, this could be problematic.
    if (Array.isArray(item.completion.additionalTextEdits) && item.completion.additionalTextEdits.length > 0) // cannot represent additional text edits
    return {
        completionItemKind: item.completion.kind,
        isSnippetText: false,
        normalizedInlineCompletion: {
            // Dummy element, so that space is reserved, but no text is shown
            range: $1YFxJ.Range.fromPositions(position, position),
            text: ''
        }
    };
    let { insertText: insertText  } = item.completion;
    let isSnippetText = false;
    if (item.completion.insertTextRules & 4 /* InsertAsSnippet */ ) {
        const snippet = new $ed35ffdff064bb89$export$e073bfe8583e8fbf().parse(insertText);
        const model = suggestController.editor.getModel();
        // Ignore snippets that are too large.
        // Adjust whitespace is expensive for them.
        if (snippet.children.length > 100) return undefined;
        $6e50d63a68ae3902$export$d334bb6e0f563f7.adjustWhitespace(model, position, snippet, true, true);
        insertText = snippet.toString();
        isSnippetText = true;
    }
    const info = suggestController.getOverwriteInfo(item, toggleMode);
    return {
        isSnippetText: isSnippetText,
        completionItemKind: item.completion.kind,
        normalizedInlineCompletion: {
            text: insertText,
            range: $1YFxJ.Range.fromPositions(position.delta(0, -info.overwriteBefore), position.delta(0, Math.max(info.overwriteAfter, 0)))
        }
    };
}


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $462f43a99c6de582$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $462f43a99c6de582$export$ebdca630db4b64a2 extends $c646938ef58108ec$export$e69a41b67268cb2a {
    get isActive() {
        return this.suggestionInlineCompletionSource.state !== undefined;
    }
    isSuggestionPreviewEnabled() {
        const suggestOptions = this.editor.getOption(105 /* suggest */ );
        return suggestOptions.preview;
    }
    updateCache() {
        return $462f43a99c6de582$var$__awaiter(this, void 0, void 0, function*() {
            const state = this.suggestionInlineCompletionSource.state;
            if (!state || !state.selectedItem) return;
            const info = {
                text: state.selectedItem.normalizedInlineCompletion.text,
                range: state.selectedItem.normalizedInlineCompletion.range,
                isSnippetText: state.selectedItem.isSnippetText,
                completionKind: state.selectedItem.completionItemKind
            };
            const position = this.editor.getPosition();
            const promise = $5piST.createCancelablePromise((token)=>$462f43a99c6de582$var$__awaiter(this, void 0, void 0, function*() {
                    let result;
                    try {
                        result = yield $6d382f87a002acd7$exports.provideInlineCompletions(position, this.editor.getModel(), {
                            triggerKind: $goPht.InlineCompletionTriggerKind.Automatic,
                            selectedSuggestionInfo: info
                        }, token);
                    } catch (e) {
                        $3FsT3.onUnexpectedError(e);
                        return;
                    }
                    if (token.isCancellationRequested) return;
                    this.cache.setValue(this.editor, result, $goPht.InlineCompletionTriggerKind.Automatic);
                    this.onDidChangeEmitter.fire();
                })
            );
            const operation = new $6d382f87a002acd7$exports.UpdateOperation(promise, $goPht.InlineCompletionTriggerKind.Automatic);
            this.updateOperation.value = operation;
            yield promise;
            if (this.updateOperation.value === operation) this.updateOperation.clear();
        });
    }
    get ghostText() {
        var _a, _b, _c;
        const isSuggestionPreviewEnabled = this.isSuggestionPreviewEnabled();
        const augmentedCompletion = $6d382f87a002acd7$exports.minimizeInlineCompletion(this.editor.getModel(), (_b = (_a = this.cache.value) === null || _a === void 0 ? void 0 : _a.completions[0]) === null || _b === void 0 ? void 0 : _b.toLiveInlineCompletion());
        const suggestWidgetState = this.suggestionInlineCompletionSource.state;
        const suggestInlineCompletion = $6d382f87a002acd7$exports.minimizeInlineCompletion(this.editor.getModel(), (_c = suggestWidgetState === null || suggestWidgetState === void 0 ? void 0 : suggestWidgetState.selectedItem) === null || _c === void 0 ? void 0 : _c.normalizedInlineCompletion);
        const isAugmentedCompletionValid = augmentedCompletion && suggestInlineCompletion && augmentedCompletion.text.startsWith(suggestInlineCompletion.text) && augmentedCompletion.range.equalsRange(suggestInlineCompletion.range);
        if (!isSuggestionPreviewEnabled && !isAugmentedCompletionValid) return undefined;
        // If the augmented completion is not valid and there is no suggest inline completion, we still show the augmented completion.
        const finalCompletion = isAugmentedCompletionValid ? augmentedCompletion : suggestInlineCompletion || augmentedCompletion;
        const inlineCompletionPreviewLength = isAugmentedCompletionValid ? finalCompletion.text.length - suggestInlineCompletion.text.length : 0;
        const newGhostText = this.toGhostText(finalCompletion, inlineCompletionPreviewLength);
        return newGhostText;
    }
    toGhostText(completion, inlineCompletionPreviewLength) {
        const mode = this.editor.getOptions().get(105 /* suggest */ ).previewMode;
        return completion ? $aff8323f0e9aead1$export$31cc5495dc7f07c1(completion, this.editor.getModel(), mode, this.editor.getPosition(), inlineCompletionPreviewLength) || // Show an invisible ghost text to reserve space
        new $c646938ef58108ec$export$9415a6e27591b584(completion.range.endLineNumber, [], this.minReservedLineCount) : undefined;
    }
    constructor(editor, cache){
        super(editor);
        this.cache = cache;
        this.suggestionInlineCompletionSource = this._register(new $58012c0644f18eaf$export$25701ac5464bebfb(this.editor, // Use the first cache item (if any) as preselection.
        ()=>{
            var _a, _b;
            return (_b = (_a = this.cache.value) === null || _a === void 0 ? void 0 : _a.completions[0]) === null || _b === void 0 ? void 0 : _b.toLiveInlineCompletion();
        }));
        this.updateOperation = this._register(new $6W1JA.MutableDisposable());
        this.updateCacheSoon = this._register(new $5piST.RunOnceScheduler(()=>this.updateCache()
        , 50));
        this.minReservedLineCount = 0;
        this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{
            this.updateCacheSoon.schedule();
            const suggestWidgetState = this.suggestionInlineCompletionSource.state;
            if (!suggestWidgetState) this.minReservedLineCount = 0;
            const newGhostText = this.ghostText;
            if (newGhostText) this.minReservedLineCount = Math.max(this.minReservedLineCount, $462f43a99c6de582$var$sum(newGhostText.parts.map((p)=>p.lines.length - 1
            )));
            if (this.minReservedLineCount >= 1) this.suggestionInlineCompletionSource.forceRenderingAbove();
            else this.suggestionInlineCompletionSource.stopForceRenderingAbove();
            this.onDidChangeEmitter.fire();
        }));
        this._register(this.cache.onDidChange(()=>{
            this.onDidChangeEmitter.fire();
        }));
        this._register(this.editor.onDidChangeCursorPosition((e)=>{
            this.minReservedLineCount = 0;
            this.updateCacheSoon.schedule();
            this.onDidChangeEmitter.fire();
        }));
        this._register($6W1JA.toDisposable(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()
        ));
    }
}
function $462f43a99c6de582$var$sum(arr) {
    return arr.reduce((a, b)=>a + b
    , 0);
}




var $c0VS7 = parcelRequire("c0VS7");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $f2f53738cc623aac$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $f2f53738cc623aac$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $f2f53738cc623aac$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $f2f53738cc623aac$export$e7955302052332d2 extends $6W1JA.Disposable {
    get targetModel() {
        var _a;
        return (_a = this.currentModelRef.value) === null || _a === void 0 ? void 0 : _a.object;
    }
    setTargetModel(model) {
        var _a;
        if (((_a = this.currentModelRef.value) === null || _a === void 0 ? void 0 : _a.object) === model) return;
        this.currentModelRef.clear();
        this.currentModelRef.value = model ? $a34342259808f2bc$export$76e3015fedec517f(model, model.onDidChange(()=>{
            this.hasCachedGhostText = false;
            this.onDidChangeEmitter.fire();
        })) : undefined;
        this.hasCachedGhostText = false;
        this.onDidChangeEmitter.fire();
    }
    get ghostText() {
        var _a, _b;
        if (!this.hasCachedGhostText) {
            this.cachedGhostText = (_b = (_a = this.currentModelRef.value) === null || _a === void 0 ? void 0 : _a.object) === null || _b === void 0 ? void 0 : _b.ghostText;
            this.hasCachedGhostText = true;
        }
        return this.cachedGhostText;
    }
    setExpanded(expanded) {
        var _a;
        (_a = this.targetModel) === null || _a === void 0 || _a.setExpanded(expanded);
    }
    get minReservedLineCount() {
        return this.targetModel ? this.targetModel.minReservedLineCount : 0;
    }
    constructor(){
        super(...arguments);
        this.onDidChangeEmitter = new $bkXdq.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
        this.hasCachedGhostText = false;
        this.currentModelRef = this._register(new $6W1JA.MutableDisposable());
    }
}
/**
 * A ghost text model that is both driven by inline completions and the suggest widget.
*/ let $f2f53738cc623aac$export$c35e2fb758843dde = class $f2f53738cc623aac$export$c35e2fb758843dde extends $f2f53738cc623aac$export$e7955302052332d2 {
    get activeInlineCompletionsModel() {
        if (this.targetModel === this.inlineCompletionsModel) return this.inlineCompletionsModel;
        return undefined;
    }
    updateModel() {
        this.setTargetModel(this.suggestWidgetAdapterModel.isActive ? this.suggestWidgetAdapterModel : this.inlineCompletionsModel);
        this.inlineCompletionsModel.setActive(this.targetModel === this.inlineCompletionsModel);
    }
    shouldShowHoverAt(hoverRange) {
        var _a;
        const ghostText = (_a = this.activeInlineCompletionsModel) === null || _a === void 0 ? void 0 : _a.ghostText;
        if (ghostText) return ghostText.parts.some((p)=>hoverRange.containsPosition(new $fqrfT.Position(ghostText.lineNumber, p.column))
        );
        return false;
    }
    triggerInlineCompletion() {
        var _a;
        (_a = this.activeInlineCompletionsModel) === null || _a === void 0 || _a.trigger($goPht.InlineCompletionTriggerKind.Explicit);
    }
    commitInlineCompletion() {
        var _a;
        (_a = this.activeInlineCompletionsModel) === null || _a === void 0 || _a.commitCurrentSuggestion();
    }
    hideInlineCompletion() {
        var _a;
        (_a = this.activeInlineCompletionsModel) === null || _a === void 0 || _a.hide();
    }
    showNextInlineCompletion() {
        var _a;
        (_a = this.activeInlineCompletionsModel) === null || _a === void 0 || _a.showNext();
    }
    showPreviousInlineCompletion() {
        var _a;
        (_a = this.activeInlineCompletionsModel) === null || _a === void 0 || _a.showPrevious();
    }
    hasMultipleInlineCompletions() {
        var _a;
        return $f2f53738cc623aac$var$__awaiter(this, void 0, void 0, function*() {
            const result = yield (_a = this.activeInlineCompletionsModel) === null || _a === void 0 ? void 0 : _a.hasMultipleInlineCompletions();
            return result !== undefined ? result : false;
        });
    }
    constructor(editor, commandService){
        super();
        this.editor = editor;
        this.commandService = commandService;
        this.sharedCache = this._register(new $f2f53738cc623aac$export$a0277e5cfbcb13a5());
        this.suggestWidgetAdapterModel = this._register(new $462f43a99c6de582$exports.SuggestWidgetPreviewModel(this.editor, this.sharedCache));
        this.inlineCompletionsModel = this._register(new $6d382f87a002acd7$exports.InlineCompletionsModel(this.editor, this.sharedCache, this.commandService));
        this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{
            this.updateModel();
        }));
        this.updateModel();
    }
};
$f2f53738cc623aac$export$c35e2fb758843dde = $f2f53738cc623aac$var$__decorate([
    $f2f53738cc623aac$var$__param(1, $c0VS7.ICommandService)
], $f2f53738cc623aac$export$c35e2fb758843dde);
class $f2f53738cc623aac$export$a0277e5cfbcb13a5 extends $6W1JA.Disposable {
    get value() {
        return this.cache.value;
    }
    setValue(editor, completionsSource, triggerKind) {
        this.cache.value = new $6d382f87a002acd7$exports.SynchronizedInlineCompletionsCache(editor, completionsSource, ()=>this.onDidChangeEmitter.fire()
        , triggerKind);
    }
    clearAndLeak() {
        return this.cache.clearAndLeak();
    }
    clear() {
        this.cache.clear();
    }
    constructor(){
        super(...arguments);
        this.onDidChangeEmitter = new $bkXdq.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
        this.cache = this._register(new $6W1JA.MutableDisposable());
    }
}


var $377750a210917c1b$exports = {};

$parcel$export($377750a210917c1b$exports, "GhostTextWidget", function () { return $377750a210917c1b$export$28b57199d8d32698; }, function (v) { return $377750a210917c1b$export$28b57199d8d32698 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");


var $9hSek = parcelRequire("9hSek");

var $iB8dk = parcelRequire("iB8dk");

var $5yfw7 = parcelRequire("5yfw7");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $U1upb = parcelRequire("U1upb");

var $jwAxq = parcelRequire("jwAxq");

var $kYyDx = parcelRequire("kYyDx");

var $fOIDq = parcelRequire("fOIDq");

var $bL9uK = parcelRequire("bL9uK");

var $6Xx7t = parcelRequire("6Xx7t");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $377750a210917c1b$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $377750a210917c1b$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $377750a210917c1b$var$_a;
const $377750a210917c1b$var$ttPolicy = ($377750a210917c1b$var$_a = window.trustedTypes) === null || $377750a210917c1b$var$_a === void 0 ? void 0 : $377750a210917c1b$var$_a.createPolicy('editorGhostText', {
    createHTML: (value)=>value
});
let $377750a210917c1b$export$28b57199d8d32698 = class $377750a210917c1b$export$28b57199d8d32698 extends $6W1JA.Disposable {
    shouldShowHoverAtViewZone(viewZoneId) {
        return this.additionalLinesWidget.viewZoneId === viewZoneId;
    }
    update() {
        var _a;
        const ghostText = this.model.ghostText;
        if (!this.editor.hasModel() || !ghostText || this.disposed) {
            this.partsWidget.clear();
            this.additionalLinesWidget.clear();
            return;
        }
        const inlineTexts = new Array();
        const additionalLines = new Array();
        function addToAdditionalLines(lines, className) {
            if (additionalLines.length > 0) {
                const lastLine = additionalLines[additionalLines.length - 1];
                if (className) lastLine.decorations.push(new $fOIDq.LineDecoration(lastLine.content.length + 1, lastLine.content.length + 1 + lines[0].length, className, 0 /* Regular */ ));
                lastLine.content += lines[0];
                lines = lines.slice(1);
            }
            for (const line of lines)additionalLines.push({
                content: line,
                decorations: className ? [
                    new $fOIDq.LineDecoration(1, line.length + 1, className, 0 /* Regular */ )
                ] : []
            });
        }
        const textBufferLine = this.editor.getModel().getLineContent(ghostText.lineNumber);
        this.editor.getModel().getLineTokens(ghostText.lineNumber);
        let hiddenTextStartColumn = undefined;
        let lastIdx = 0;
        for (const part of ghostText.parts){
            let lines = part.lines;
            if (hiddenTextStartColumn === undefined) {
                inlineTexts.push({
                    column: part.column,
                    text: lines[0],
                    preview: part.preview
                });
                lines = lines.slice(1);
            } else addToAdditionalLines([
                textBufferLine.substring(lastIdx, part.column - 1)
            ], undefined);
            if (lines.length > 0) {
                addToAdditionalLines(lines, 'ghost-text');
                if (hiddenTextStartColumn === undefined && part.column <= textBufferLine.length) hiddenTextStartColumn = part.column;
            }
            lastIdx = part.column - 1;
        }
        if (hiddenTextStartColumn !== undefined) addToAdditionalLines([
            textBufferLine.substring(lastIdx)
        ], undefined);
        this.partsWidget.setParts(ghostText.lineNumber, inlineTexts, hiddenTextStartColumn !== undefined ? {
            column: hiddenTextStartColumn,
            length: textBufferLine.length + 1 - hiddenTextStartColumn
        } : undefined);
        this.additionalLinesWidget.updateLines(ghostText.lineNumber, additionalLines, ghostText.additionalReservedLineCount);
        if (ghostText.parts.some((p)=>p.lines.length < 0
        )) // Not supported at the moment, condition is always false.
        this.viewMoreContentWidget = this.renderViewMoreLines(new $fqrfT.Position(ghostText.lineNumber, this.editor.getModel().getLineMaxColumn(ghostText.lineNumber)), '', 0);
        else {
            (_a = this.viewMoreContentWidget) === null || _a === void 0 || _a.dispose();
            this.viewMoreContentWidget = undefined;
        }
    }
    renderViewMoreLines(position, firstLineText, remainingLinesLength) {
        const fontInfo = this.editor.getOption(43 /* fontInfo */ );
        const domNode = document.createElement('div');
        domNode.className = 'suggest-preview-additional-widget';
        $9hSek.Configuration.applyFontInfoSlow(domNode, fontInfo);
        const spacer = document.createElement('span');
        spacer.className = 'content-spacer';
        spacer.append(firstLineText);
        domNode.append(spacer);
        const newline = document.createElement('span');
        newline.className = 'content-newline suggest-preview-text';
        newline.append('  ');
        domNode.append(newline);
        const disposableStore = new $6W1JA.DisposableStore();
        const button = document.createElement('div');
        button.className = 'button suggest-preview-text';
        button.append(`+${remainingLinesLength} lines`);
        disposableStore.add($8xgjE.addStandardDisposableListener(button, 'mousedown', (e)=>{
            var _a;
            (_a = this.model) === null || _a === void 0 || _a.setExpanded(true);
            e.preventDefault();
            this.editor.focus();
        }));
        domNode.append(button);
        return new $377750a210917c1b$var$ViewMoreLinesContentWidget(this.editor, position, domNode, disposableStore);
    }
    constructor(editor, model, instantiationService, modeService){
        super();
        this.editor = editor;
        this.model = model;
        this.instantiationService = instantiationService;
        this.modeService = modeService;
        this.disposed = false;
        this.partsWidget = this._register(this.instantiationService.createInstance($377750a210917c1b$var$DecorationsWidget, this.editor));
        this.additionalLinesWidget = this._register(new $377750a210917c1b$var$AdditionalLinesWidget(this.editor, this.modeService.languageIdCodec));
        this.viewMoreContentWidget = undefined;
        this._register(this.editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(29 /* disableMonospaceOptimizations */ ) || e.hasChanged(104 /* stopRenderingLineAfter */ ) || e.hasChanged(87 /* renderWhitespace */ ) || e.hasChanged(82 /* renderControlCharacters */ ) || e.hasChanged(44 /* fontLigatures */ ) || e.hasChanged(43 /* fontInfo */ ) || e.hasChanged(58 /* lineHeight */ )) this.update();
        }));
        this._register($6W1JA.toDisposable(()=>{
            var _a;
            this.disposed = true;
            this.update();
            (_a = this.viewMoreContentWidget) === null || _a === void 0 || _a.dispose();
            this.viewMoreContentWidget = undefined;
        }));
        this._register(model.onDidChange(()=>{
            this.update();
        }));
        this.update();
    }
};
$377750a210917c1b$export$28b57199d8d32698 = $377750a210917c1b$var$__decorate([
    $377750a210917c1b$var$__param(2, $6Xx7t.IInstantiationService),
    $377750a210917c1b$var$__param(3, $jwAxq.IModeService)
], $377750a210917c1b$export$28b57199d8d32698);
class $377750a210917c1b$var$DecorationsWidget {
    dispose() {
        this.clear();
        this.disposableStore.dispose();
    }
    clear() {
        this.editor.deltaDecorations(this.decorationIds, []);
        this.disposableStore.clear();
    }
    setParts(lineNumber, parts, hiddenText) {
        this.disposableStore.clear();
        const textModel = this.editor.getModel();
        if (!textModel) return;
        const hiddenTextDecorations = new Array();
        if (hiddenText) hiddenTextDecorations.push({
            range: $1YFxJ.Range.fromPositions(new $fqrfT.Position(lineNumber, hiddenText.column), new $fqrfT.Position(lineNumber, hiddenText.column + hiddenText.length)),
            options: {
                inlineClassName: 'ghost-text-hidden',
                description: 'ghost-text-hidden'
            }
        });
        this.decorationIds = this.editor.deltaDecorations(this.decorationIds, parts.map((p)=>{
            return {
                range: $1YFxJ.Range.fromPositions(new $fqrfT.Position(lineNumber, p.column)),
                options: {
                    description: 'ghost-text',
                    after: {
                        content: p.text,
                        inlineClassName: p.preview ? 'ghost-text-decoration-preview' : 'ghost-text-decoration'
                    },
                    showIfCollapsed: true
                }
            };
        }).concat(hiddenTextDecorations));
    }
    constructor(editor){
        this.editor = editor;
        this.decorationIds = [];
        this.disposableStore = new $6W1JA.DisposableStore();
    }
}
class $377750a210917c1b$var$AdditionalLinesWidget {
    get viewZoneId() {
        return this._viewZoneId;
    }
    dispose() {
        this.clear();
    }
    clear() {
        this.editor.changeViewZones((changeAccessor)=>{
            if (this._viewZoneId) {
                changeAccessor.removeZone(this._viewZoneId);
                this._viewZoneId = undefined;
            }
        });
    }
    updateLines(lineNumber, additionalLines, minReservedLineCount) {
        const textModel = this.editor.getModel();
        if (!textModel) return;
        const { tabSize: tabSize  } = textModel.getOptions();
        this.editor.changeViewZones((changeAccessor)=>{
            if (this._viewZoneId) {
                changeAccessor.removeZone(this._viewZoneId);
                this._viewZoneId = undefined;
            }
            const heightInLines = Math.max(additionalLines.length, minReservedLineCount);
            if (heightInLines > 0) {
                const domNode = document.createElement('div');
                $377750a210917c1b$var$renderLines(domNode, tabSize, additionalLines, this.editor.getOptions(), this.languageIdCodec);
                this._viewZoneId = changeAccessor.addZone({
                    afterLineNumber: lineNumber,
                    heightInLines: heightInLines,
                    domNode: domNode
                });
            }
        });
    }
    constructor(editor, languageIdCodec){
        this.editor = editor;
        this.languageIdCodec = languageIdCodec;
        this._viewZoneId = undefined;
    }
}
function $377750a210917c1b$var$renderLines(domNode, tabSize, lines, opts, languageIdCodec) {
    const disableMonospaceOptimizations = opts.get(29 /* disableMonospaceOptimizations */ );
    const stopRenderingLineAfter = opts.get(104 /* stopRenderingLineAfter */ );
    // To avoid visual confusion, we don't want to render visible whitespace
    const renderWhitespace = 'none';
    const renderControlCharacters = opts.get(82 /* renderControlCharacters */ );
    const fontLigatures = opts.get(44 /* fontLigatures */ );
    const fontInfo = opts.get(43 /* fontInfo */ );
    const lineHeight = opts.get(58 /* lineHeight */ );
    const sb = $U1upb.createStringBuilder(10000);
    sb.appendASCIIString('<div class="suggest-preview-text">');
    for(let i = 0, len = lines.length; i < len; i++){
        const lineData = lines[i];
        const line = lineData.content;
        sb.appendASCIIString('<div class="view-line');
        sb.appendASCIIString('" style="top:');
        sb.appendASCIIString(String(i * lineHeight));
        sb.appendASCIIString('px;width:1000000px;">');
        const isBasicASCII = $i4xl7.isBasicASCII(line);
        const containsRTL = $i4xl7.containsRTL(line);
        const lineTokens = $5yfw7.LineTokens.createEmpty(line, languageIdCodec);
        $bL9uK.renderViewLine(new $bL9uK.RenderLineInput(fontInfo.isMonospace && !disableMonospaceOptimizations, fontInfo.canUseHalfwidthRightwardsArrow, line, false, isBasicASCII, containsRTL, 0, lineTokens, lineData.decorations, tabSize, 0, fontInfo.spaceWidth, fontInfo.middotWidth, fontInfo.wsmiddotWidth, stopRenderingLineAfter, renderWhitespace, renderControlCharacters, fontLigatures !== $iB8dk.EditorFontLigatures.OFF, null), sb);
        sb.appendASCIIString('</div>');
    }
    sb.appendASCIIString('</div>');
    $9hSek.Configuration.applyFontInfoSlow(domNode, fontInfo);
    const html = sb.build();
    const trustedhtml = $377750a210917c1b$var$ttPolicy ? $377750a210917c1b$var$ttPolicy.createHTML(html) : html;
    domNode.innerHTML = trustedhtml;
}
class $377750a210917c1b$var$ViewMoreLinesContentWidget extends $6W1JA.Disposable {
    getId() {
        return 'editor.widget.viewMoreLinesWidget';
    }
    getDomNode() {
        return this.domNode;
    }
    getPosition() {
        return {
            position: this.position,
            preference: [
                0 /* EXACT */ 
            ]
        };
    }
    constructor(editor, position, domNode, disposableStore){
        super();
        this.editor = editor;
        this.position = position;
        this.domNode = domNode;
        this.allowEditorOverflow = false;
        this.suppressMouseDown = false;
        this._register(disposableStore);
        this._register($6W1JA.toDisposable(()=>{
            this.editor.removeContentWidget(this);
        }));
        this.editor.addContentWidget(this);
    }
}
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const foreground = theme.getColor($kYyDx.ghostTextForeground);
    if (foreground) {
        // `!important` ensures that other decorations don't cause a style conflict (#132017).
        collector.addRule(`.monaco-editor .ghost-text-decoration { color: ${foreground.toString()} !important; }`);
        collector.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${foreground.toString()} !important; }`);
        collector.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${foreground.toString()} !important; }`);
    }
    const background = theme.getColor($kYyDx.ghostTextBackground);
    if (background) {
        collector.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${background.toString()}; }`);
        collector.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${background.toString()}; }`);
        collector.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${background.toString()}; }`);
    }
    const border = theme.getColor($kYyDx.ghostTextBorder);
    if (border) {
        collector.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${border}; }`);
        collector.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${border}; }`);
        collector.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${border}; }`);
    }
});



var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $6ObvH = parcelRequire("6ObvH");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $53b07d13fb1eb2c6$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $53b07d13fb1eb2c6$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $53b07d13fb1eb2c6$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
let $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee = class $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution($53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.ID);
    }
    get activeModel() {
        var _a;
        return (_a = this.activeController.value) === null || _a === void 0 ? void 0 : _a.model;
    }
    // Don't call this method when not neccessary. It will recreate the activeController.
    updateModelController() {
        const suggestOptions = this.editor.getOption(105 /* suggest */ );
        const inlineSuggestOptions = this.editor.getOption(54 /* inlineSuggest */ );
        this.activeController.value = undefined;
        // ActiveGhostTextController is only created if one of those settings is set or if the inline completions are triggered explicitly.
        this.activeController.value = this.editor.hasModel() && (suggestOptions.preview || inlineSuggestOptions.enabled || this.triggeredExplicitly) ? this.instantiationService.createInstance($53b07d13fb1eb2c6$export$bcf17a7fc858c9df, this.editor) : undefined;
    }
    shouldShowHoverAt(hoverRange) {
        var _a;
        return ((_a = this.activeModel) === null || _a === void 0 ? void 0 : _a.shouldShowHoverAt(hoverRange)) || false;
    }
    shouldShowHoverAtViewZone(viewZoneId) {
        var _a, _b;
        return ((_b = (_a = this.activeController.value) === null || _a === void 0 ? void 0 : _a.widget) === null || _b === void 0 ? void 0 : _b.shouldShowHoverAtViewZone(viewZoneId)) || false;
    }
    trigger() {
        var _a;
        this.triggeredExplicitly = true;
        if (!this.activeController.value) this.updateModelController();
        (_a = this.activeModel) === null || _a === void 0 || _a.triggerInlineCompletion();
    }
    commit() {
        var _a;
        (_a = this.activeModel) === null || _a === void 0 || _a.commitInlineCompletion();
    }
    hide() {
        var _a;
        (_a = this.activeModel) === null || _a === void 0 || _a.hideInlineCompletion();
    }
    showNextInlineCompletion() {
        var _a;
        (_a = this.activeModel) === null || _a === void 0 || _a.showNextInlineCompletion();
    }
    showPreviousInlineCompletion() {
        var _a;
        (_a = this.activeModel) === null || _a === void 0 || _a.showPreviousInlineCompletion();
    }
    hasMultipleInlineCompletions() {
        var _a;
        return $53b07d13fb1eb2c6$var$__awaiter(this, void 0, void 0, function*() {
            const result = yield (_a = this.activeModel) === null || _a === void 0 ? void 0 : _a.hasMultipleInlineCompletions();
            return result !== undefined ? result : false;
        });
    }
    constructor(editor, instantiationService){
        super();
        this.editor = editor;
        this.instantiationService = instantiationService;
        this.triggeredExplicitly = false;
        this.activeController = this._register(new $6W1JA.MutableDisposable());
        this._register(this.editor.onDidChangeModel(()=>{
            this.updateModelController();
        }));
        this._register(this.editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(105 /* suggest */ )) this.updateModelController();
            if (e.hasChanged(54 /* inlineSuggest */ )) this.updateModelController();
        }));
        this.updateModelController();
    }
};
$53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionVisible = new $h4kGX.RawContextKey('inlineSuggestionVisible', false, $1WuVQ.localize('inlineSuggestionVisible', "Whether an inline suggestion is visible"));
$53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionHasIndentation = new $h4kGX.RawContextKey('inlineSuggestionHasIndentation', false, $1WuVQ.localize('inlineSuggestionHasIndentation', "Whether the inline suggestion starts with whitespace"));
$53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionHasIndentationLessThanTabSize = new $h4kGX.RawContextKey('inlineSuggestionHasIndentationLessThanTabSize', true, $1WuVQ.localize('inlineSuggestionHasIndentationLessThanTabSize', "Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));
$53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.ID = 'editor.contrib.ghostTextController';
$53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee = $53b07d13fb1eb2c6$var$__decorate([
    $53b07d13fb1eb2c6$var$__param(1, $6Xx7t.IInstantiationService)
], $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee);
class $53b07d13fb1eb2c6$var$GhostTextContextKeys {
    constructor(contextKeyService){
        this.contextKeyService = contextKeyService;
        this.inlineCompletionVisible = $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionVisible.bindTo(this.contextKeyService);
        this.inlineCompletionSuggestsIndentation = $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionHasIndentation.bindTo(this.contextKeyService);
        this.inlineCompletionSuggestsIndentationLessThanTabSize = $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService);
    }
}
/**
 * The controller for a text editor with an initialized text model.
 * Must be disposed as soon as the model detaches from the editor.
*/ let $53b07d13fb1eb2c6$export$bcf17a7fc858c9df = class $53b07d13fb1eb2c6$export$bcf17a7fc858c9df extends $6W1JA.Disposable {
    updateContextKeys() {
        var _a;
        this.contextKeys.inlineCompletionVisible.set(((_a = this.model.activeInlineCompletionsModel) === null || _a === void 0 ? void 0 : _a.ghostText) !== undefined);
        let startsWithIndentation = false;
        let startsWithIndentationLessThanTabSize = true;
        const ghostText = this.model.inlineCompletionsModel.ghostText;
        if (!!this.model.activeInlineCompletionsModel && ghostText && ghostText.parts.length > 0) {
            const { column: column , lines: lines  } = ghostText.parts[0];
            const firstLine = lines[0];
            const indentationEndColumn = this.editor.getModel().getLineIndentColumn(ghostText.lineNumber);
            const inIndentation = column <= indentationEndColumn;
            if (inIndentation) {
                let firstNonWsIdx = $i4xl7.firstNonWhitespaceIndex(firstLine);
                if (firstNonWsIdx === -1) firstNonWsIdx = firstLine.length - 1;
                startsWithIndentation = firstNonWsIdx > 0;
                const tabSize = this.editor.getModel().getOptions().tabSize;
                const visibleColumnIndentation = $dBLl6.CursorColumns.visibleColumnFromColumn(firstLine, firstNonWsIdx + 1, tabSize);
                startsWithIndentationLessThanTabSize = visibleColumnIndentation < tabSize;
            }
        }
        this.contextKeys.inlineCompletionSuggestsIndentation.set(startsWithIndentation);
        this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(startsWithIndentationLessThanTabSize);
    }
    constructor(editor, instantiationService, contextKeyService){
        super();
        this.editor = editor;
        this.instantiationService = instantiationService;
        this.contextKeyService = contextKeyService;
        this.contextKeys = new $53b07d13fb1eb2c6$var$GhostTextContextKeys(this.contextKeyService);
        this.model = this._register(this.instantiationService.createInstance($f2f53738cc623aac$exports.GhostTextModel, this.editor));
        this.widget = this._register(this.instantiationService.createInstance($377750a210917c1b$exports.GhostTextWidget, this.editor, this.model));
        this._register($6W1JA.toDisposable(()=>{
            this.contextKeys.inlineCompletionVisible.set(false);
            this.contextKeys.inlineCompletionSuggestsIndentation.set(false);
            this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(true);
        }));
        this._register(this.model.onDidChange(()=>{
            this.updateContextKeys();
        }));
        this.updateContextKeys();
    }
};
$53b07d13fb1eb2c6$export$bcf17a7fc858c9df = $53b07d13fb1eb2c6$var$__decorate([
    $53b07d13fb1eb2c6$var$__param(1, $6Xx7t.IInstantiationService),
    $53b07d13fb1eb2c6$var$__param(2, $h4kGX.IContextKeyService)
], $53b07d13fb1eb2c6$export$bcf17a7fc858c9df);
const $53b07d13fb1eb2c6$var$GhostTextCommand = $g9Zlr.EditorCommand.bindToContribution($53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.get);
const $53b07d13fb1eb2c6$export$6bdad8075dfe5c6b = new $53b07d13fb1eb2c6$var$GhostTextCommand({
    id: $e8cb6f882cee80a6$export$f1235a78c589a102,
    precondition: $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionVisible,
    handler (x) {
        x.commit();
        x.editor.focus();
    }
});
$g9Zlr.registerEditorCommand($53b07d13fb1eb2c6$export$6bdad8075dfe5c6b);
$6ObvH.KeybindingsRegistry.registerKeybindingRule({
    primary: 2 /* Tab */ ,
    weight: 200,
    id: $53b07d13fb1eb2c6$export$6bdad8075dfe5c6b.id,
    when: $h4kGX.ContextKeyExpr.and($53b07d13fb1eb2c6$export$6bdad8075dfe5c6b.precondition, $7oeKV.EditorContextKeys.tabMovesFocus.toNegated(), $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionHasIndentationLessThanTabSize)
});
$g9Zlr.registerEditorCommand(new $53b07d13fb1eb2c6$var$GhostTextCommand({
    id: 'editor.action.inlineSuggest.hide',
    precondition: $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionVisible,
    kbOpts: {
        weight: 100,
        primary: 9 /* Escape */ 
    },
    handler (x) {
        x.hide();
    }
}));
class $53b07d13fb1eb2c6$export$57edbf9569cc9779 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $53b07d13fb1eb2c6$var$__awaiter(this, void 0, void 0, function*() {
            const controller = $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.get(editor);
            if (controller) {
                controller.showNextInlineCompletion();
                editor.focus();
            }
        });
    }
    constructor(){
        super({
            id: $53b07d13fb1eb2c6$export$57edbf9569cc9779.ID,
            label: $1WuVQ.localize('action.inlineSuggest.showNext', "Show Next Inline Suggestion"),
            alias: 'Show Next Inline Suggestion',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionVisible),
            kbOpts: {
                weight: 100,
                primary: 601 /* BracketRight */ 
            }
        });
    }
}
$53b07d13fb1eb2c6$export$57edbf9569cc9779.ID = 'editor.action.inlineSuggest.showNext';
class $53b07d13fb1eb2c6$export$deb45c643cbebb10 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $53b07d13fb1eb2c6$var$__awaiter(this, void 0, void 0, function*() {
            const controller = $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.get(editor);
            if (controller) {
                controller.showPreviousInlineCompletion();
                editor.focus();
            }
        });
    }
    constructor(){
        super({
            id: $53b07d13fb1eb2c6$export$deb45c643cbebb10.ID,
            label: $1WuVQ.localize('action.inlineSuggest.showPrevious', "Show Previous Inline Suggestion"),
            alias: 'Show Previous Inline Suggestion',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.inlineSuggestionVisible),
            kbOpts: {
                weight: 100,
                primary: 599 /* BracketLeft */ 
            }
        });
    }
}
$53b07d13fb1eb2c6$export$deb45c643cbebb10.ID = 'editor.action.inlineSuggest.showPrevious';
class $53b07d13fb1eb2c6$export$ba15d049566a3d99 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $53b07d13fb1eb2c6$var$__awaiter(this, void 0, void 0, function*() {
            const controller = $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.get(editor);
            if (controller) controller.trigger();
        });
    }
    constructor(){
        super({
            id: 'editor.action.inlineSuggest.trigger',
            label: $1WuVQ.localize('action.inlineSuggest.trigger', "Trigger Inline Suggestion"),
            alias: 'Trigger Inline Suggestion',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
$g9Zlr.registerEditorContribution($53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee.ID, $53b07d13fb1eb2c6$export$ffa5b9ac8848b7ee);
$g9Zlr.registerEditorAction($53b07d13fb1eb2c6$export$ba15d049566a3d99);
$g9Zlr.registerEditorAction($53b07d13fb1eb2c6$export$57edbf9569cc9779);
$g9Zlr.registerEditorAction($53b07d13fb1eb2c6$export$deb45c643cbebb10);



var $1WuVQ = parcelRequire("1WuVQ");

var $dcUw3 = parcelRequire("dcUw3");

var $iCLhR = parcelRequire("iCLhR");

var $c0VS7 = parcelRequire("c0VS7");

var $h4kGX = parcelRequire("h4kGX");

var $3jCpu = parcelRequire("3jCpu");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $d9cf98c6fe76fadb$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $d9cf98c6fe76fadb$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
class $d9cf98c6fe76fadb$export$d54b1f95b394dfe6 {
    isValidForHoverAnchor(anchor) {
        return anchor.type === 1 /* Range */  && this.range.startColumn <= anchor.range.startColumn && this.range.endColumn >= anchor.range.endColumn;
    }
    hasMultipleSuggestions() {
        return this.controller.hasMultipleInlineCompletions();
    }
    constructor(owner, range, controller){
        this.owner = owner;
        this.range = range;
        this.controller = controller;
    }
}
let $d9cf98c6fe76fadb$export$85c63d130bb225cb = class $d9cf98c6fe76fadb$export$85c63d130bb225cb {
    suggestHoverAnchor(mouseEvent) {
        const controller = $53b07d13fb1eb2c6$exports.GhostTextController.get(this._editor);
        if (!controller) return null;
        if (mouseEvent.target.type === 8 /* CONTENT_VIEW_ZONE */ ) {
            // handle the case where the mouse is over the view zone
            const viewZoneData = mouseEvent.target.detail;
            if (controller.shouldShowHoverAtViewZone(viewZoneData.viewZoneId)) return new $b583fad617222dcd$export$cadc11e524c92809(1000, this, $1YFxJ.Range.fromPositions(viewZoneData.positionBefore || viewZoneData.position, viewZoneData.positionBefore || viewZoneData.position));
        }
        if (mouseEvent.target.type === 7 /* CONTENT_EMPTY */  && mouseEvent.target.range) {
            // handle the case where the mouse is over the empty portion of a line following ghost text
            if (controller.shouldShowHoverAt(mouseEvent.target.range)) return new $b583fad617222dcd$export$cadc11e524c92809(1000, this, mouseEvent.target.range);
        }
        if (mouseEvent.target.type === 6 /* CONTENT_TEXT */  && mouseEvent.target.range && mouseEvent.target.detail) {
            // handle the case where the mouse is directly over ghost text
            const mightBeForeignElement = mouseEvent.target.detail.mightBeForeignElement;
            if (mightBeForeignElement && controller.shouldShowHoverAt(mouseEvent.target.range)) return new $b583fad617222dcd$export$cadc11e524c92809(1000, this, mouseEvent.target.range);
        }
        return null;
    }
    computeSync(anchor, lineDecorations) {
        const controller = $53b07d13fb1eb2c6$exports.GhostTextController.get(this._editor);
        if (controller && controller.shouldShowHoverAt(anchor.range)) return [
            new $d9cf98c6fe76fadb$export$d54b1f95b394dfe6(this, anchor.range, controller)
        ];
        return [];
    }
    renderHoverParts(hoverParts, fragment, statusBar) {
        const disposableStore = new $6W1JA.DisposableStore();
        const part = hoverParts[0];
        if (this.accessibilityService.isScreenReaderOptimized()) this.renderScreenReaderText(part, fragment, disposableStore);
        const menu = disposableStore.add(this._menuService.createMenu($iCLhR.MenuId.InlineCompletionsActions, this._contextKeyService));
        const previousAction = statusBar.addAction({
            label: $1WuVQ.localize('showNextInlineSuggestion', "Next"),
            commandId: $53b07d13fb1eb2c6$exports.ShowNextInlineSuggestionAction.ID,
            run: ()=>this._commandService.executeCommand($53b07d13fb1eb2c6$exports.ShowNextInlineSuggestionAction.ID)
        });
        const nextAction = statusBar.addAction({
            label: $1WuVQ.localize('showPreviousInlineSuggestion', "Previous"),
            commandId: $53b07d13fb1eb2c6$exports.ShowPreviousInlineSuggestionAction.ID,
            run: ()=>this._commandService.executeCommand($53b07d13fb1eb2c6$exports.ShowPreviousInlineSuggestionAction.ID)
        });
        statusBar.addAction({
            label: $1WuVQ.localize('acceptInlineSuggestion', "Accept"),
            commandId: $53b07d13fb1eb2c6$exports.commitInlineSuggestionAction.id,
            run: ()=>this._commandService.executeCommand($53b07d13fb1eb2c6$exports.commitInlineSuggestionAction.id)
        });
        const actions = [
            previousAction,
            nextAction
        ];
        for (const action1 of actions)action1.setEnabled(false);
        part.hasMultipleSuggestions().then((hasMore)=>{
            for (const action of actions)action.setEnabled(hasMore);
        });
        for (const [_, group] of menu.getActions()){
            for (const action of group)if (action instanceof $iCLhR.MenuItemAction) statusBar.addAction({
                label: action.label,
                commandId: action.item.id,
                run: ()=>this._commandService.executeCommand(action.item.id)
            });
        }
        return disposableStore;
    }
    renderScreenReaderText(part, fragment, disposableStore) {
        var _a, _b;
        const $ = $8xgjE.$;
        const markdownHoverElement = $('div.hover-row.markdown-hover');
        const hoverContentsElement = $8xgjE.append(markdownHoverElement, $('div.hover-contents'));
        const renderer = disposableStore.add(new $4a80f1f73e880bad$exports.MarkdownRenderer({
            editor: this._editor
        }, this._modeService, this._openerService));
        const render = (code)=>{
            disposableStore.add(renderer.onDidRenderAsync(()=>{
                hoverContentsElement.className = 'hover-contents code-hover-contents';
                this._hover.onContentsChanged();
            }));
            const inlineSuggestionAvailable = $1WuVQ.localize('inlineSuggestionFollows', "Suggestion:");
            const renderedContents = disposableStore.add(renderer.render(new $eeQ9E.MarkdownString().appendText(inlineSuggestionAvailable).appendCodeblock('text', code)));
            hoverContentsElement.replaceChildren(renderedContents.element);
        };
        const ghostText = (_b = (_a = part.controller.activeModel) === null || _a === void 0 ? void 0 : _a.inlineCompletionsModel) === null || _b === void 0 ? void 0 : _b.ghostText;
        if (ghostText) {
            const lineText = this._editor.getModel().getLineContent(ghostText.lineNumber);
            render(ghostText.renderForScreenReader(lineText));
        }
        fragment.appendChild(markdownHoverElement);
    }
    constructor(_editor, _hover, _commandService, _menuService, _contextKeyService, _modeService, _openerService, accessibilityService){
        this._editor = _editor;
        this._hover = _hover;
        this._commandService = _commandService;
        this._menuService = _menuService;
        this._contextKeyService = _contextKeyService;
        this._modeService = _modeService;
        this._openerService = _openerService;
        this.accessibilityService = accessibilityService;
    }
};
$d9cf98c6fe76fadb$export$85c63d130bb225cb = $d9cf98c6fe76fadb$var$__decorate([
    $d9cf98c6fe76fadb$var$__param(2, $c0VS7.ICommandService),
    $d9cf98c6fe76fadb$var$__param(3, $iCLhR.IMenuService),
    $d9cf98c6fe76fadb$var$__param(4, $h4kGX.IContextKeyService),
    $d9cf98c6fe76fadb$var$__param(5, $jwAxq.IModeService),
    $d9cf98c6fe76fadb$var$__param(6, $3jCpu.IOpenerService),
    $d9cf98c6fe76fadb$var$__param(7, $dcUw3.IAccessibilityService)
], $d9cf98c6fe76fadb$export$85c63d130bb225cb);



var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $i2aE6 = parcelRequire("i2aE6");

var $482ab4af63e13bd3$exports = {};

$parcel$export($482ab4af63e13bd3$exports, "UnicodeHighlighterHoverParticipant", function () { return $482ab4af63e13bd3$export$abfb214dc8905583; }, function (v) { return $482ab4af63e13bd3$export$abfb214dc8905583 = v; });

var $5piST = parcelRequire("5piST");

var $k4zqw = parcelRequire("k4zqw");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");


var $g9Zlr = parcelRequire("g9Zlr");

var $iB8dk = parcelRequire("iB8dk");

var $96X4O = parcelRequire("96X4O");

var $72tIz = parcelRequire("72tIz");

var $jDGEG = parcelRequire("jDGEG");

var $5GWmu = parcelRequire("5GWmu");

var $jwAxq = parcelRequire("jwAxq");

var $7Yzjc = parcelRequire("7Yzjc");

var $35a9b1d68250898a$exports = {};

$parcel$export($35a9b1d68250898a$exports, "BannerController", function () { return $35a9b1d68250898a$export$1da7e17bff54d3c0; }, function (v) { return $35a9b1d68250898a$export$1da7e17bff54d3c0 = v; });


var $8xgjE = parcelRequire("8xgjE");

var $7s6Vc = parcelRequire("7s6Vc");

var $g4Naw = parcelRequire("g4Naw");

var $6W1JA = parcelRequire("6W1JA");


var $6Xx7t = parcelRequire("6Xx7t");
var $fd4d9325ea606dd3$exports = {};

$parcel$export($fd4d9325ea606dd3$exports, "Link", function () { return $fd4d9325ea606dd3$export$a6c7ac8248d6e38a; }, function (v) { return $fd4d9325ea606dd3$export$a6c7ac8248d6e38a = v; });

var $8xgjE = parcelRequire("8xgjE");

var $84FS6 = parcelRequire("84FS6");

var $lNmqN = parcelRequire("lNmqN");

var $jwiar = parcelRequire("jwiar");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $3jCpu = parcelRequire("3jCpu");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $fd4d9325ea606dd3$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $fd4d9325ea606dd3$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $fd4d9325ea606dd3$export$a6c7ac8248d6e38a = class $fd4d9325ea606dd3$export$a6c7ac8248d6e38a extends $6W1JA.Disposable {
    get enabled() {
        return this._enabled;
    }
    set enabled(enabled) {
        if (enabled) {
            this.el.setAttribute('aria-disabled', 'false');
            this.el.tabIndex = 0;
            this.el.style.pointerEvents = 'auto';
            this.el.style.opacity = '1';
            this.el.style.cursor = 'pointer';
            this._enabled = false;
        } else {
            this.el.setAttribute('aria-disabled', 'true');
            this.el.tabIndex = -1;
            this.el.style.pointerEvents = 'none';
            this.el.style.opacity = '0.4';
            this.el.style.cursor = 'default';
            this._enabled = true;
        }
        this._enabled = enabled;
    }
    constructor(container, _link, options = {}, openerService){
        var _a;
        super();
        this._link = _link;
        this._enabled = true;
        this.el = $8xgjE.append(container, $8xgjE.$('a.monaco-link', {
            tabIndex: (_a = _link.tabIndex) !== null && _a !== void 0 ? _a : 0,
            href: _link.href,
            title: _link.title
        }, _link.label));
        this.el.setAttribute('role', 'button');
        const onClickEmitter = this._register(new $84FS6.DomEmitter(this.el, 'click'));
        const onKeyPress = this._register(new $84FS6.DomEmitter(this.el, 'keypress'));
        const onEnterPress = $bkXdq.Event.chain(onKeyPress.event).map((e)=>new $lNmqN.StandardKeyboardEvent(e)
        ).filter((e)=>e.keyCode === 3 /* Enter */ 
        ).event;
        const onTap = this._register(new $84FS6.DomEmitter(this.el, $jwiar.EventType.Tap)).event;
        this._register($jwiar.Gesture.addTarget(this.el));
        const onOpen = $bkXdq.Event.any(onClickEmitter.event, onEnterPress, onTap);
        this._register(onOpen((e)=>{
            if (!this.enabled) return;
            $8xgjE.EventHelper.stop(e, true);
            if (options === null || options === void 0 ? void 0 : options.opener) options.opener(this._link.href);
            else openerService.open(this._link.href, {
                allowCommands: true
            });
        }));
        this.enabled = true;
    }
};
$fd4d9325ea606dd3$export$a6c7ac8248d6e38a = $fd4d9325ea606dd3$var$__decorate([
    $fd4d9325ea606dd3$var$__param(3, $3jCpu.IOpenerService)
], $fd4d9325ea606dd3$export$a6c7ac8248d6e38a);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const textLinkForegroundColor = theme.getColor($kL4Ig.textLinkForeground);
    if (textLinkForegroundColor) collector.addRule(`.monaco-link { color: ${textLinkForegroundColor}; }`);
    const textLinkActiveForegroundColor = theme.getColor($kL4Ig.textLinkActiveForeground);
    if (textLinkActiveForegroundColor) collector.addRule(`.monaco-link:hover { color: ${textLinkActiveForegroundColor}; }`);
});



var $citn9 = parcelRequire("citn9");

var $5Wwop = parcelRequire("5Wwop");
var $35a9b1d68250898a$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $35a9b1d68250898a$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $35a9b1d68250898a$var$BANNER_ELEMENT_HEIGHT = 26;
let $35a9b1d68250898a$export$1da7e17bff54d3c0 = class $35a9b1d68250898a$export$1da7e17bff54d3c0 extends $6W1JA.Disposable {
    hide() {
        this._editor.setBanner(null, 0);
        this.banner.clear();
    }
    show(item) {
        this.banner.show(Object.assign(Object.assign({}, item), {
            onClose: ()=>{
                this.hide();
                if (item.onClose) item.onClose();
            }
        }));
        this._editor.setBanner(this.banner.element, $35a9b1d68250898a$var$BANNER_ELEMENT_HEIGHT);
    }
    constructor(_editor, instantiationService){
        super();
        this._editor = _editor;
        this.instantiationService = instantiationService;
        this.banner = this._register(this.instantiationService.createInstance($35a9b1d68250898a$var$Banner));
    }
};
$35a9b1d68250898a$export$1da7e17bff54d3c0 = $35a9b1d68250898a$var$__decorate([
    $35a9b1d68250898a$var$__param(1, $6Xx7t.IInstantiationService)
], $35a9b1d68250898a$export$1da7e17bff54d3c0);
// TODO@hediet: Investigate if this can be reused by the workspace banner (bannerPart.ts).
let $35a9b1d68250898a$var$Banner = class Banner extends $6W1JA.Disposable {
    getAriaLabel(item) {
        if (item.ariaLabel) return item.ariaLabel;
        if (typeof item.message === 'string') return item.message;
        return undefined;
    }
    getBannerMessage(message) {
        if (typeof message === 'string') {
            const element = $8xgjE.$('span');
            element.innerText = message;
            return element;
        }
        return this.markdownRenderer.render(message).element;
    }
    clear() {
        $8xgjE.clearNode(this.element);
    }
    show(item) {
        // Clear previous item
        $8xgjE.clearNode(this.element);
        // Banner aria label
        const ariaLabel = this.getAriaLabel(item);
        if (ariaLabel) this.element.setAttribute('aria-label', ariaLabel);
        // Icon
        const iconContainer = $8xgjE.append(this.element, $8xgjE.$('div.icon-container'));
        iconContainer.setAttribute('aria-hidden', 'true');
        if (item.icon) iconContainer.appendChild($8xgjE.$(`div${$5Wwop.ThemeIcon.asCSSSelector(item.icon)}`));
        // Message
        const messageContainer = $8xgjE.append(this.element, $8xgjE.$('div.message-container'));
        messageContainer.setAttribute('aria-hidden', 'true');
        messageContainer.appendChild(this.getBannerMessage(item.message));
        // Message Actions
        this.messageActionsContainer = $8xgjE.append(this.element, $8xgjE.$('div.message-actions-container'));
        if (item.actions) for (const action of item.actions)this._register(this.instantiationService.createInstance($fd4d9325ea606dd3$exports.Link, this.messageActionsContainer, Object.assign(Object.assign({}, action), {
            tabIndex: -1
        }), {}));
        // Action
        const actionBarContainer = $8xgjE.append(this.element, $8xgjE.$('div.action-container'));
        this.actionBar = this._register(new $7s6Vc.ActionBar(actionBarContainer));
        this.actionBar.push(this._register(new $g4Naw.Action('banner.close', 'Close Banner', $5Wwop.ThemeIcon.asClassName($citn9.widgetClose), true, ()=>{
            if (typeof item.onClose === 'function') item.onClose();
        })), {
            icon: true,
            label: false
        });
        this.actionBar.setFocusable(false);
    }
    constructor(instantiationService){
        super();
        this.instantiationService = instantiationService;
        this.markdownRenderer = this.instantiationService.createInstance($4a80f1f73e880bad$exports.MarkdownRenderer, {});
        this.element = $8xgjE.$('div.editor-banner');
        this.element.tabIndex = 0;
    }
};
$35a9b1d68250898a$var$Banner = $35a9b1d68250898a$var$__decorate([
    $35a9b1d68250898a$var$__param(0, $6Xx7t.IInstantiationService)
], $35a9b1d68250898a$var$Banner);



var $1WuVQ = parcelRequire("1WuVQ");

var $6goiI = parcelRequire("6goiI");

var $6Xx7t = parcelRequire("6Xx7t");

var $3jCpu = parcelRequire("3jCpu");

var $1GAzQ = parcelRequire("1GAzQ");

var $kL4Ig = parcelRequire("kL4Ig");

var $citn9 = parcelRequire("citn9");

var $5Wwop = parcelRequire("5Wwop");

var $9RPL4 = parcelRequire("9RPL4");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $482ab4af63e13bd3$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $482ab4af63e13bd3$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $482ab4af63e13bd3$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $482ab4af63e13bd3$export$8929e07d808734d0 = $citn9.registerIcon('extensions-warning-message', $k4zqw.Codicon.warning, $1WuVQ.localize('warningIcon', 'Icon shown with a warning message in the extensions editor.'));
let $482ab4af63e13bd3$export$db6ed2fe81e44dff = class $482ab4af63e13bd3$export$db6ed2fe81e44dff extends $6W1JA.Disposable {
    dispose() {
        if (this._highlighter) {
            this._highlighter.dispose();
            this._highlighter = null;
        }
        super.dispose();
    }
    _updateHighlighter() {
        this._updateState(null);
        if (this._highlighter) {
            this._highlighter.dispose();
            this._highlighter = null;
        }
        if (!this._editor.hasModel()) return;
        const options = $482ab4af63e13bd3$var$resolveOptions(this._workspaceTrustService.isWorkspaceTrusted(), this._options);
        if ([
            options.nonBasicASCII,
            options.ambiguousCharacters,
            options.invisibleCharacters, 
        ].every((option)=>option === false
        )) // Don't do anything if the feature is fully disabled
        return;
        const highlightOptions = {
            nonBasicASCII: options.nonBasicASCII,
            ambiguousCharacters: options.ambiguousCharacters,
            invisibleCharacters: options.invisibleCharacters,
            includeComments: options.includeComments,
            allowedCodePoints: Object.keys(options.allowedCharacters).map((c)=>c.codePointAt(0)
            )
        };
        if (this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)) this._highlighter = new $482ab4af63e13bd3$var$DocumentUnicodeHighlighter(this._editor, highlightOptions, this._updateState, this._editorWorkerService);
        else this._highlighter = new $482ab4af63e13bd3$var$ViewportUnicodeHighlighter(this._editor, highlightOptions, this._updateState);
    }
    getDecorationInfo(decorationId) {
        if (this._highlighter) return this._highlighter.getDecorationInfo(decorationId);
        return null;
    }
    constructor(_editor, _editorWorkerService, _workspaceTrustService, instantiationService){
        super();
        this._editor = _editor;
        this._editorWorkerService = _editorWorkerService;
        this._workspaceTrustService = _workspaceTrustService;
        this._highlighter = null;
        this._bannerClosed = false;
        this._updateState = (state)=>{
            if (state && state.hasMore) {
                if (this._bannerClosed) return;
                // This document contains many non-basic ASCII characters.
                const max = Math.max(state.ambiguousCharacterCount, state.nonBasicAsciiCharacterCount, state.invisibleCharacterCount);
                let data;
                if (state.nonBasicAsciiCharacterCount >= max) data = {
                    message: $1WuVQ.localize('unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters', 'This document contains many non-basic ASCII unicode characters'),
                    command: new $482ab4af63e13bd3$export$bd2d98ee4f877b7c()
                };
                else if (state.ambiguousCharacterCount >= max) data = {
                    message: $1WuVQ.localize('unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters', 'This document contains many ambiguous unicode characters'),
                    command: new $482ab4af63e13bd3$export$13974d2fac2cb715()
                };
                else if (state.invisibleCharacterCount >= max) data = {
                    message: $1WuVQ.localize('unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters', 'This document contains many invisible unicode characters'),
                    command: new $482ab4af63e13bd3$export$a9f1e8c395a54dc4()
                };
                else throw new Error('Unreachable');
                this._bannerController.show({
                    id: 'unicodeHighlightBanner',
                    message: data.message,
                    icon: $482ab4af63e13bd3$export$8929e07d808734d0,
                    actions: [
                        {
                            label: data.command.shortLabel,
                            href: `command:${data.command.id}`
                        }
                    ],
                    onClose: ()=>{
                        this._bannerClosed = true;
                    }
                });
            } else this._bannerController.hide();
        };
        this._bannerController = this._register(instantiationService.createInstance($35a9b1d68250898a$exports.BannerController, _editor));
        this._register(this._editor.onDidChangeModel(()=>{
            this._bannerClosed = false;
            this._updateHighlighter();
        }));
        this._options = _editor.getOption(112 /* unicodeHighlighting */ );
        this._register(_workspaceTrustService.onDidChangeTrust((e)=>{
            this._updateHighlighter();
        }));
        this._register(_editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(112 /* unicodeHighlighting */ )) {
                this._options = _editor.getOption(112 /* unicodeHighlighting */ );
                this._updateHighlighter();
            }
        }));
        this._updateHighlighter();
    }
};
$482ab4af63e13bd3$export$db6ed2fe81e44dff.ID = 'editor.contrib.unicodeHighlighter';
$482ab4af63e13bd3$export$db6ed2fe81e44dff = $482ab4af63e13bd3$var$__decorate([
    $482ab4af63e13bd3$var$__param(1, $5GWmu.IEditorWorkerService),
    $482ab4af63e13bd3$var$__param(2, $9RPL4.IWorkspaceTrustManagementService),
    $482ab4af63e13bd3$var$__param(3, $6Xx7t.IInstantiationService)
], $482ab4af63e13bd3$export$db6ed2fe81e44dff);
function $482ab4af63e13bd3$var$resolveOptions(trusted, options) {
    var _a;
    return {
        nonBasicASCII: options.nonBasicASCII === $iB8dk.inUntrustedWorkspace ? !trusted : options.nonBasicASCII,
        ambiguousCharacters: options.ambiguousCharacters,
        invisibleCharacters: options.invisibleCharacters,
        includeComments: options.includeComments === $iB8dk.inUntrustedWorkspace ? !trusted : options.includeComments,
        allowedCharacters: (_a = options.allowedCharacters) !== null && _a !== void 0 ? _a : {}
    };
}
let $482ab4af63e13bd3$var$DocumentUnicodeHighlighter = class DocumentUnicodeHighlighter extends $6W1JA.Disposable {
    dispose() {
        this._decorationIds = new Set(this._model.deltaDecorations(Array.from(this._decorationIds), []));
        super.dispose();
    }
    _update() {
        if (!this._model.mightContainNonBasicASCII()) {
            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), []));
            return;
        }
        const modelVersionId = this._model.getVersionId();
        this._editorWorkerService.computedUnicodeHighlights(this._model.uri, this._options).then((info)=>{
            if (this._model.getVersionId() !== modelVersionId) // model changed in the meantime
            return;
            this._updateState(info);
            const decorations = [];
            if (!info.hasMore) // Don't show decoration if there are too many.
            // In this case, a banner is shown.
            for (const range of info.ranges)decorations.push({
                range: range,
                options: this._options.includeComments ? $482ab4af63e13bd3$var$DECORATION : $482ab4af63e13bd3$var$DECORATION_HIDE_IN_COMMENTS
            });
            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), decorations));
        });
    }
    getDecorationInfo(decorationId) {
        if (!this._decorationIds.has(decorationId)) return null;
        const model = this._editor.getModel();
        const range = model.getDecorationRange(decorationId);
        if (!$7Yzjc.isModelDecorationVisible(model, {
            range: range,
            options: this._options.includeComments ? $482ab4af63e13bd3$var$DECORATION : $482ab4af63e13bd3$var$DECORATION_HIDE_IN_COMMENTS,
            id: decorationId,
            ownerId: 0
        })) return null;
        const text = model.getValueInRange(range);
        return {
            reason: $482ab4af63e13bd3$var$computeReason(text, this._options)
        };
    }
    constructor(_editor, _options, _updateState, _editorWorkerService){
        super();
        this._editor = _editor;
        this._options = _options;
        this._updateState = _updateState;
        this._editorWorkerService = _editorWorkerService;
        this._model = this._editor.getModel();
        this._decorationIds = new Set();
        this._updateSoon = this._register(new $5piST.RunOnceScheduler(()=>this._update()
        , 250));
        this._register(this._editor.onDidChangeModelContent(()=>{
            this._updateSoon.schedule();
        }));
        this._updateSoon.schedule();
    }
};
$482ab4af63e13bd3$var$DocumentUnicodeHighlighter = $482ab4af63e13bd3$var$__decorate([
    $482ab4af63e13bd3$var$__param(3, $5GWmu.IEditorWorkerService)
], $482ab4af63e13bd3$var$DocumentUnicodeHighlighter);
class $482ab4af63e13bd3$var$ViewportUnicodeHighlighter extends $6W1JA.Disposable {
    dispose() {
        this._decorationIds = new Set(this._model.deltaDecorations(Array.from(this._decorationIds), []));
        super.dispose();
    }
    _update() {
        if (!this._model.mightContainNonBasicASCII()) {
            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), []));
            return;
        }
        const ranges = this._editor.getVisibleRanges();
        const decorations = [];
        const totalResult = {
            ranges: [],
            ambiguousCharacterCount: 0,
            invisibleCharacterCount: 0,
            nonBasicAsciiCharacterCount: 0,
            hasMore: false
        };
        for (const range of ranges){
            const result = $jDGEG.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model, this._options, range);
            for (const r of result.ranges)totalResult.ranges.push(r);
            totalResult.ambiguousCharacterCount += totalResult.ambiguousCharacterCount;
            totalResult.invisibleCharacterCount += totalResult.invisibleCharacterCount;
            totalResult.nonBasicAsciiCharacterCount += totalResult.nonBasicAsciiCharacterCount;
            totalResult.hasMore = totalResult.hasMore || result.hasMore;
        }
        if (!totalResult.hasMore) // Don't show decorations if there are too many.
        // A banner will be shown instead.
        for (const range1 of totalResult.ranges)decorations.push({
            range: range1,
            options: this._options.includeComments ? $482ab4af63e13bd3$var$DECORATION : $482ab4af63e13bd3$var$DECORATION_HIDE_IN_COMMENTS
        });
        this._updateState(totalResult);
        this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), decorations));
    }
    getDecorationInfo(decorationId) {
        if (!this._decorationIds.has(decorationId)) return null;
        const model = this._editor.getModel();
        const range = model.getDecorationRange(decorationId);
        const text = model.getValueInRange(range);
        if (!$7Yzjc.isModelDecorationVisible(model, {
            range: range,
            options: this._options.includeComments ? $482ab4af63e13bd3$var$DECORATION : $482ab4af63e13bd3$var$DECORATION_HIDE_IN_COMMENTS,
            id: decorationId,
            ownerId: 0
        })) return null;
        return {
            reason: $482ab4af63e13bd3$var$computeReason(text, this._options)
        };
    }
    constructor(_editor, _options, _updateState){
        super();
        this._editor = _editor;
        this._options = _options;
        this._updateState = _updateState;
        this._model = this._editor.getModel();
        this._decorationIds = new Set();
        this._updateSoon = this._register(new $5piST.RunOnceScheduler(()=>this._update()
        , 250));
        this._register(this._editor.onDidLayoutChange(()=>{
            this._updateSoon.schedule();
        }));
        this._register(this._editor.onDidScrollChange(()=>{
            this._updateSoon.schedule();
        }));
        this._register(this._editor.onDidChangeHiddenAreas(()=>{
            this._updateSoon.schedule();
        }));
        this._register(this._editor.onDidChangeModelContent(()=>{
            this._updateSoon.schedule();
        }));
        this._updateSoon.schedule();
    }
}
let $482ab4af63e13bd3$export$abfb214dc8905583 = class $482ab4af63e13bd3$export$abfb214dc8905583 {
    computeSync(anchor, lineDecorations) {
        if (!this._editor.hasModel() || anchor.type !== 1 /* Range */ ) return [];
        const model = this._editor.getModel();
        const unicodeHighlighter = this._editor.getContribution($482ab4af63e13bd3$export$db6ed2fe81e44dff.ID);
        const result = [];
        let index = 300;
        for (const d of lineDecorations){
            const highlightInfo = unicodeHighlighter.getDecorationInfo(d.id);
            if (!highlightInfo) continue;
            const char = model.getValueInRange(d.range);
            // text refers to a single character.
            const codePoint1 = char.codePointAt(0);
            function formatCodePoint(codePoint) {
                let value = `\`U+${codePoint.toString(16).padStart(4, '0')}\``;
                if (!$i4xl7.InvisibleCharacters.isInvisibleCharacter(codePoint)) // Don't render any control characters or any invisible characters, as they cannot be seen anyways.
                value += ` "${`${$482ab4af63e13bd3$var$renderCodePointAsInlineCode(codePoint)}`}"`;
                return value;
            }
            const codePointStr = formatCodePoint(codePoint1);
            let reason;
            switch(highlightInfo.reason.kind){
                case 0 /* Ambiguous */ :
                    reason = $1WuVQ.localize('unicodeHighlight.characterIsAmbiguous', 'The character {0} could be confused with the character {1}, which is more common in source code.', codePointStr, formatCodePoint(highlightInfo.reason.confusableWith.codePointAt(0)));
                    break;
                case 1 /* Invisible */ :
                    reason = $1WuVQ.localize('unicodeHighlight.characterIsInvisible', 'The character {0} is invisible.', codePointStr);
                    break;
                case 2 /* NonBasicAscii */ :
                    reason = $1WuVQ.localize('unicodeHighlight.characterIsNonBasicAscii', 'The character {0} is not a basic ASCII character.', codePointStr);
                    break;
            }
            const adjustSettingsArgs = {
                codePoint: codePoint1,
                reason: highlightInfo.reason.kind
            };
            const adjustSettings = $1WuVQ.localize('unicodeHighlight.adjustSettings', 'Adjust settings');
            const contents = [
                {
                    value: `${reason} [${adjustSettings}](command:${$482ab4af63e13bd3$export$cc3a119c1042a4c8.ID}?${encodeURIComponent(JSON.stringify(adjustSettingsArgs))})`,
                    isTrusted: true
                }
            ];
            result.push(new $0453525cadea7137$exports.MarkdownHover(this, d.range, contents, index++));
        }
        return result;
    }
    renderHoverParts(hoverParts, fragment, statusBar) {
        return $0453525cadea7137$exports.renderMarkdownHovers(hoverParts, fragment, this._editor, this._hover, this._modeService, this._openerService);
    }
    constructor(_editor, _hover, _modeService, _openerService){
        this._editor = _editor;
        this._hover = _hover;
        this._modeService = _modeService;
        this._openerService = _openerService;
    }
};
$482ab4af63e13bd3$export$abfb214dc8905583 = $482ab4af63e13bd3$var$__decorate([
    $482ab4af63e13bd3$var$__param(2, $jwAxq.IModeService),
    $482ab4af63e13bd3$var$__param(3, $3jCpu.IOpenerService)
], $482ab4af63e13bd3$export$abfb214dc8905583);
function $482ab4af63e13bd3$var$renderCodePointAsInlineCode(codePoint) {
    if (codePoint === 96 /* BackTick */ ) return '`` ` ``';
    return '`' + String.fromCodePoint(codePoint) + '`';
}
function $482ab4af63e13bd3$var$computeReason(char, options) {
    return $jDGEG.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(char, options);
}
const $482ab4af63e13bd3$var$DECORATION_HIDE_IN_COMMENTS = $72tIz.ModelDecorationOptions.register({
    description: 'unicode-highlight',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'unicode-highlight',
    showIfCollapsed: true,
    overviewRuler: {
        color: $5Wwop.themeColorFromId($kL4Ig.overviewRulerUnicodeHighlightForeground),
        position: $96X4O.OverviewRulerLane.Center
    },
    minimap: {
        color: $5Wwop.themeColorFromId($kL4Ig.minimapUnicodeHighlight),
        position: $96X4O.MinimapPosition.Inline
    },
    hideInCommentTokens: true
});
const $482ab4af63e13bd3$var$DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'unicode-highlight',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'unicode-highlight',
    showIfCollapsed: true,
    overviewRuler: {
        color: $5Wwop.themeColorFromId($kL4Ig.overviewRulerFindMatchForeground),
        position: $96X4O.OverviewRulerLane.Center
    },
    minimap: {
        color: $5Wwop.themeColorFromId($kL4Ig.minimapFindMatch),
        position: $96X4O.MinimapPosition.Inline
    }
});
class $482ab4af63e13bd3$export$13974d2fac2cb715 extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        return $482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get($6goiI.IConfigurationService);
            if (configurationService) this.runAction(configurationService);
        });
    }
    runAction(configurationService) {
        return $482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
            yield configurationService.updateValue($iB8dk.unicodeHighlightConfigKeys.ambiguousCharacters, false, 1 /* USER */ );
        });
    }
    constructor(){
        super({
            id: $482ab4af63e13bd3$export$13974d2fac2cb715.ID,
            label: $1WuVQ.localize('action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters', 'Disable highlighting of ambiguous characters'),
            alias: 'Disable highlighting of ambiguous characters',
            precondition: undefined
        });
        this.shortLabel = $1WuVQ.localize('unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel', 'Disable Ambiguous Highlight');
    }
}
$482ab4af63e13bd3$export$13974d2fac2cb715.ID = 'editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters';
class $482ab4af63e13bd3$export$a9f1e8c395a54dc4 extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        return $482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get($6goiI.IConfigurationService);
            if (configurationService) this.runAction(configurationService);
        });
    }
    runAction(configurationService) {
        return $482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
            yield configurationService.updateValue($iB8dk.unicodeHighlightConfigKeys.invisibleCharacters, false, 1 /* USER */ );
        });
    }
    constructor(){
        super({
            id: $482ab4af63e13bd3$export$a9f1e8c395a54dc4.ID,
            label: $1WuVQ.localize('action.unicodeHighlight.disableHighlightingOfInvisibleCharacters', 'Disable highlighting of invisible characters'),
            alias: 'Disable highlighting of invisible characters',
            precondition: undefined
        });
        this.shortLabel = $1WuVQ.localize('unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel', 'Disable Invisible Highlight');
    }
}
$482ab4af63e13bd3$export$a9f1e8c395a54dc4.ID = 'editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters';
class $482ab4af63e13bd3$export$bd2d98ee4f877b7c extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        return $482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get($6goiI.IConfigurationService);
            if (configurationService) this.runAction(configurationService);
        });
    }
    runAction(configurationService) {
        return $482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
            yield configurationService.updateValue($iB8dk.unicodeHighlightConfigKeys.nonBasicASCII, false, 1 /* USER */ );
        });
    }
    constructor(){
        super({
            id: $482ab4af63e13bd3$export$bd2d98ee4f877b7c.ID,
            label: $1WuVQ.localize('action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters', 'Disable highlighting of non basic ASCII characters'),
            alias: 'Disable highlighting of non basic ASCII characters',
            precondition: undefined
        });
        this.shortLabel = $1WuVQ.localize('unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel', 'Disable Non ASCII Highlight');
    }
}
$482ab4af63e13bd3$export$bd2d98ee4f877b7c.ID = 'editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters';
class $482ab4af63e13bd3$export$cc3a119c1042a4c8 extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        return $482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
            const { codePoint: codePoint3 , reason: reason  } = args;
            const char = String.fromCodePoint(codePoint3);
            const quickPickService = accessor.get($1GAzQ.IQuickInputService);
            const configurationService = accessor.get($6goiI.IConfigurationService);
            function getExcludeCharFromBeingHighlightedLabel(codePoint) {
                if ($i4xl7.InvisibleCharacters.isInvisibleCharacter(codePoint)) return $1WuVQ.localize('unicodeHighlight.excludeInvisibleCharFromBeingHighlighted', 'Exclude {0} (invisible character) from being highlighted', `U+${codePoint.toString(16)}`);
                return $1WuVQ.localize('unicodeHighlight.excludeCharFromBeingHighlighted', 'Exclude {0} from being highlighted', `U+${codePoint.toString(16)} "${char}"`);
            }
            const options = [
                {
                    label: getExcludeCharFromBeingHighlightedLabel(codePoint3),
                    run: ()=>$482ab4af63e13bd3$var$excludeCharFromBeingHighlighted(configurationService, [
                            codePoint3
                        ])
                }, 
            ];
            if (reason === 0 /* Ambiguous */ ) {
                const action = new $482ab4af63e13bd3$export$13974d2fac2cb715();
                options.push({
                    label: action.label,
                    run: ()=>$482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
                            return action.runAction(configurationService);
                        })
                });
            } else if (reason === 1 /* Invisible */ ) {
                const action = new $482ab4af63e13bd3$export$a9f1e8c395a54dc4();
                options.push({
                    label: action.label,
                    run: ()=>$482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
                            return action.runAction(configurationService);
                        })
                });
            } else if (reason === 2 /* NonBasicAscii */ ) {
                const action = new $482ab4af63e13bd3$export$bd2d98ee4f877b7c();
                options.push({
                    label: action.label,
                    run: ()=>$482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
                            return action.runAction(configurationService);
                        })
                });
            } else $482ab4af63e13bd3$var$expectNever(reason);
            const result = yield quickPickService.pick(options, {
                title: $1WuVQ.localize('unicodeHighlight.configureUnicodeHighlightOptions', 'Configure Unicode Highlight Options')
            });
            if (result) yield result.run();
        });
    }
    constructor(){
        super({
            id: $482ab4af63e13bd3$export$cc3a119c1042a4c8.ID,
            label: $1WuVQ.localize('action.unicodeHighlight.showExcludeOptions', "Show Exclude Options"),
            alias: 'Show Exclude Options',
            precondition: undefined
        });
    }
}
$482ab4af63e13bd3$export$cc3a119c1042a4c8.ID = 'editor.action.unicodeHighlight.showExcludeOptions';
function $482ab4af63e13bd3$var$excludeCharFromBeingHighlighted(configurationService, charCodes) {
    return $482ab4af63e13bd3$var$__awaiter(this, void 0, void 0, function*() {
        const existingValue = configurationService.getValue($iB8dk.unicodeHighlightConfigKeys.allowedCharacters);
        let value;
        if (typeof existingValue === 'object' && existingValue) value = existingValue;
        else value = {};
        for (const charCode of charCodes)value[String.fromCodePoint(charCode)] = true;
        yield configurationService.updateValue($iB8dk.unicodeHighlightConfigKeys.allowedCharacters, value, 1 /* USER */ );
    });
}
function $482ab4af63e13bd3$var$expectNever(value) {
    throw new Error(`Unexpected value: ${value}`);
}
$g9Zlr.registerEditorAction($482ab4af63e13bd3$export$13974d2fac2cb715);
$g9Zlr.registerEditorAction($482ab4af63e13bd3$export$a9f1e8c395a54dc4);
$g9Zlr.registerEditorAction($482ab4af63e13bd3$export$bd2d98ee4f877b7c);
$g9Zlr.registerEditorAction($482ab4af63e13bd3$export$cc3a119c1042a4c8);
$g9Zlr.registerEditorContribution($482ab4af63e13bd3$export$db6ed2fe81e44dff.ID, $482ab4af63e13bd3$export$db6ed2fe81e44dff);



var $5piST = parcelRequire("5piST");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $e69539fc234264c3$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $e69539fc234264c3$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $e69539fc234264c3$var$$ = $8xgjE.$;
let $e69539fc234264c3$var$EditorHoverStatusBar = class EditorHoverStatusBar extends $6W1JA.Disposable {
    get hasContent() {
        return this._hasContent;
    }
    addAction(actionOptions) {
        const keybinding = this._keybindingService.lookupKeybinding(actionOptions.commandId);
        const keybindingLabel = keybinding ? keybinding.getLabel() : null;
        this._hasContent = true;
        return this._register($58dc1cd7d823c4bd$export$bc0ed2dd33dfd810.render(this.actionsElement, actionOptions, keybindingLabel));
    }
    append(element) {
        const result = $8xgjE.append(this.actionsElement, element);
        this._hasContent = true;
        return result;
    }
    constructor(_keybindingService){
        super();
        this._keybindingService = _keybindingService;
        this._hasContent = false;
        this.hoverElement = $e69539fc234264c3$var$$('div.hover-row.status-bar');
        this.actionsElement = $8xgjE.append(this.hoverElement, $e69539fc234264c3$var$$('div.actions'));
    }
};
$e69539fc234264c3$var$EditorHoverStatusBar = $e69539fc234264c3$var$__decorate([
    $e69539fc234264c3$var$__param(0, $i2aE6.IKeybindingService)
], $e69539fc234264c3$var$EditorHoverStatusBar);
class $e69539fc234264c3$var$ModesContentComputer {
    setAnchor(anchor) {
        this._anchor = anchor;
        this._result = [];
    }
    clearResult() {
        this._result = [];
    }
    static _getLineDecorations(editor, anchor) {
        if (anchor.type !== 1 /* Range */ ) return [];
        const model = editor.getModel();
        const lineNumber = anchor.range.startLineNumber;
        const maxColumn = model.getLineMaxColumn(lineNumber);
        return editor.getLineDecorations(lineNumber).filter((d)=>{
            if (d.options.isWholeLine) return true;
            const startColumn = d.range.startLineNumber === lineNumber ? d.range.startColumn : 1;
            const endColumn = d.range.endLineNumber === lineNumber ? d.range.endColumn : maxColumn;
            if (d.options.showIfCollapsed) {
                // Relax check around `showIfCollapsed` decorations to also include +/- 1 character
                if (startColumn > anchor.range.startColumn + 1 || anchor.range.endColumn - 1 > endColumn) return false;
            } else {
                if (startColumn > anchor.range.startColumn || anchor.range.endColumn > endColumn) return false;
            }
            return true;
        });
    }
    computeAsync(token) {
        const anchor = this._anchor;
        if (!this._editor.hasModel() || !anchor) return $5piST.AsyncIterableObject.EMPTY;
        const lineDecorations = $e69539fc234264c3$var$ModesContentComputer._getLineDecorations(this._editor, anchor);
        return $5piST.AsyncIterableObject.merge(this._participants.map((participant)=>this._computeAsync(participant, lineDecorations, anchor, token)
        ));
    }
    _computeAsync(participant, lineDecorations, anchor, token) {
        if (!participant.computeAsync) return $5piST.AsyncIterableObject.EMPTY;
        return participant.computeAsync(anchor, lineDecorations, token);
    }
    computeSync() {
        if (!this._editor.hasModel() || !this._anchor) return [];
        const lineDecorations = $e69539fc234264c3$var$ModesContentComputer._getLineDecorations(this._editor, this._anchor);
        let result = [];
        for (const participant of this._participants)result = result.concat(participant.computeSync(this._anchor, lineDecorations));
        return $duSG1.coalesce(result);
    }
    onResult(result, isFromSynchronousComputation) {
        // Always put synchronous messages before asynchronous ones
        if (isFromSynchronousComputation) this._result = result.concat(this._result);
        else this._result = this._result.concat(result);
    }
    getResult() {
        return this._result.slice(0);
    }
    getResultWithLoadingMessage() {
        if (this._anchor) {
            for (const participant of this._participants)if (participant.createLoadingMessage) {
                const loadingMessage = participant.createLoadingMessage(this._anchor);
                if (loadingMessage) return this._result.slice(0).concat([
                    loadingMessage
                ]);
            }
        }
        return this._result.slice(0);
    }
    constructor(editor, _participants){
        this._participants = _participants;
        this._editor = editor;
        this._result = [];
        this._anchor = null;
    }
}
let $e69539fc234264c3$export$27477712c6ad8b14 = class $e69539fc234264c3$export$27477712c6ad8b14 extends $gKMUF.Widget {
    dispose() {
        this._hoverOperation.cancel();
        this._editor.removeContentWidget(this);
        super.dispose();
    }
    getId() {
        return $e69539fc234264c3$export$27477712c6ad8b14.ID;
    }
    getDomNode() {
        return this._hover.containerDomNode;
    }
    _shouldShowAt(mouseEvent) {
        const targetType = mouseEvent.target.type;
        if (targetType === 6 /* CONTENT_TEXT */ ) return true;
        if (targetType === 7 /* CONTENT_EMPTY */ ) {
            const epsilon = this._editor.getOption(43 /* fontInfo */ ).typicalHalfwidthCharacterWidth / 2;
            const data = mouseEvent.target.detail;
            if (data && !data.isAfterLines && typeof data.horizontalDistanceToText === 'number' && data.horizontalDistanceToText < epsilon) // Let hover kick in even when the mouse is technically in the empty area after a line, given the distance is small enough
            return true;
        }
        return false;
    }
    maybeShowAt(mouseEvent) {
        var _a;
        const anchorCandidates = [];
        for (const participant of this._participants)if (typeof participant.suggestHoverAnchor === 'function') {
            const anchor = participant.suggestHoverAnchor(mouseEvent);
            if (anchor) anchorCandidates.push(anchor);
        }
        if (this._shouldShowAt(mouseEvent) && mouseEvent.target.range) {
            // TODO@rebornix. This should be removed if we move Color Picker out of Hover component.
            // Check if mouse is hovering on color decorator
            const hoverOnColorDecorator = [
                ...((_a = mouseEvent.target.element) === null || _a === void 0 ? void 0 : _a.classList.values()) || []
            ].find((className)=>className.startsWith('ced-colorBox')
            ) && mouseEvent.target.range.endColumn - mouseEvent.target.range.startColumn === 1;
            const showAtRange = hoverOnColorDecorator // shift the mouse focus by one as color decorator is a `before` decoration of next character.
             ? new $1YFxJ.Range(mouseEvent.target.range.startLineNumber, mouseEvent.target.range.startColumn + 1, mouseEvent.target.range.endLineNumber, mouseEvent.target.range.endColumn + 1) : mouseEvent.target.range;
            anchorCandidates.push(new $b583fad617222dcd$export$2a967524099ecc2c(0, showAtRange));
        }
        if (anchorCandidates.length === 0) return false;
        anchorCandidates.sort((a, b)=>b.priority - a.priority
        );
        this._startShowingAt(anchorCandidates[0], 0 /* Delayed */ , false);
        return true;
    }
    _showAt(position, range, focus) {
        // Position has changed
        this._showAtPosition = position;
        this._showAtRange = range;
        this._hoverVisibleKey.set(true);
        this._isVisible = true;
        this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);
        this._editor.layoutContentWidget(this);
        // Simply force a synchronous render on the editor
        // such that the widget does not really render with left = '0px'
        this._editor.render();
        this._stoleFocus = focus;
        if (focus) this._hover.containerDomNode.focus();
    }
    getPosition() {
        if (this._isVisible) {
            let preferAbove = this._preferAbove;
            if (!preferAbove && this._contextKeyService.getContextKeyValue($abd2fa2c46cec408$exports.Context.Visible.key)) // Prefer rendering above if the suggest widget is visible
            preferAbove = true;
            return {
                position: this._showAtPosition,
                range: this._showAtRange,
                preference: preferAbove ? [
                    1 /* ABOVE */ ,
                    2 /* BELOW */ , 
                ] : [
                    2 /* BELOW */ ,
                    1 /* ABOVE */ , 
                ]
            };
        }
        return null;
    }
    _updateFont() {
        const codeClasses = Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));
        codeClasses.forEach((node)=>this._editor.applyFontInfo(node)
        );
    }
    _updateContents(node) {
        this._hover.contentsDomNode.textContent = '';
        this._hover.contentsDomNode.appendChild(node);
        this._updateFont();
        this._editor.layoutContentWidget(this);
        this._hover.onContentsChanged();
    }
    layout() {
        const height = Math.max(this._editor.getLayoutInfo().height / 4, 250);
        const { fontSize: fontSize , lineHeight: lineHeight  } = this._editor.getOption(43 /* fontInfo */ );
        this._hover.contentsDomNode.style.fontSize = `${fontSize}px`;
        this._hover.contentsDomNode.style.lineHeight = `${lineHeight / fontSize}`;
        this._hover.contentsDomNode.style.maxHeight = `${height}px`;
        this._hover.contentsDomNode.style.maxWidth = `${Math.max(this._editor.getLayoutInfo().width * 0.66, 500)}px`;
    }
    onModelDecorationsChanged() {
        if (this._isChangingDecorations) return;
        if (this._isVisible) {
            // The decorations have changed and the hover is visible,
            // we need to recompute the displayed text
            this._hoverOperation.cancel();
            this._computer.clearResult();
            if (!this._colorPicker) this._hoverOperation.start(0 /* Delayed */ );
        }
    }
    startShowingAtRange(range, mode, focus) {
        this._startShowingAt(new $b583fad617222dcd$export$2a967524099ecc2c(0, range), mode, focus);
    }
    _startShowingAt(anchor, mode, focus) {
        if (this._lastAnchor && this._lastAnchor.equals(anchor)) // We have to show the widget at the exact same range as before, so no work is needed
        return;
        this._hoverOperation.cancel();
        if (this._isVisible) {
            // The range might have changed, but the hover is visible
            // Instead of hiding it completely, filter out messages that are still in the new range and
            // kick off a new computation
            if (!this._showAtPosition || !this._lastAnchor || !anchor.canAdoptVisibleHover(this._lastAnchor, this._showAtPosition)) this.hide();
            else {
                const filteredMessages = this._messages.filter((m)=>m.isValidForHoverAnchor(anchor)
                );
                if (filteredMessages.length === 0) this.hide();
                else if (filteredMessages.length === this._messages.length && this._messagesAreComplete) // no change
                return;
                else this._renderMessages(anchor, filteredMessages);
            }
        }
        this._lastAnchor = anchor;
        this._computer.setAnchor(anchor);
        this._shouldFocus = focus;
        this._hoverOperation.start(mode);
    }
    hide() {
        this._lastAnchor = null;
        this._hoverOperation.cancel();
        if (this._isVisible) {
            setTimeout(()=>{
                // Give commands a chance to see the key
                if (!this._isVisible) this._hoverVisibleKey.set(false);
            }, 0);
            this._isVisible = false;
            this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);
            this._editor.layoutContentWidget(this);
            if (this._stoleFocus) this._editor.focus();
        }
        this._isChangingDecorations = true;
        this._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, []);
        this._isChangingDecorations = false;
        if (this._renderDisposable) {
            this._renderDisposable.dispose();
            this._renderDisposable = null;
        }
        this._colorPicker = null;
    }
    isColorPickerVisible() {
        return !!this._colorPicker;
    }
    setColorPicker(widget) {
        this._colorPicker = widget;
    }
    onContentsChanged() {
        this._hover.onContentsChanged();
    }
    _withResult(result, complete) {
        this._messages = result;
        this._messagesAreComplete = complete;
        if (this._lastAnchor && this._messages.length > 0) this._renderMessages(this._lastAnchor, this._messages);
        else if (complete) this.hide();
    }
    _renderMessages(anchor, messages) {
        if (this._renderDisposable) {
            this._renderDisposable.dispose();
            this._renderDisposable = null;
        }
        this._colorPicker = null; // TODO: TypeScript thinks this is always null
        // update column from which to show
        let renderColumn = 1073741824 /* MAX_SAFE_SMALL_INTEGER */ ;
        let highlightRange = messages[0].range;
        let forceShowAtRange = null;
        let fragment = document.createDocumentFragment();
        const disposables = new $6W1JA.DisposableStore();
        const hoverParts = new Map();
        for (const msg of messages){
            renderColumn = Math.min(renderColumn, msg.range.startColumn);
            highlightRange = $1YFxJ.Range.plusRange(highlightRange, msg.range);
            if (msg.forceShowAtRange) forceShowAtRange = msg.range;
            if (!hoverParts.has(msg.owner)) hoverParts.set(msg.owner, []);
            const dest = hoverParts.get(msg.owner);
            dest.push(msg);
        }
        const statusBar = disposables.add(new $e69539fc234264c3$var$EditorHoverStatusBar(this._keybindingService));
        for (const participant of this._participants)if (hoverParts.has(participant)) {
            const participantHoverParts = hoverParts.get(participant);
            disposables.add(participant.renderHoverParts(participantHoverParts, fragment, statusBar));
        }
        if (statusBar.hasContent) fragment.appendChild(statusBar.hoverElement);
        this._renderDisposable = disposables;
        // show
        if (fragment.hasChildNodes()) {
            if (forceShowAtRange) this._showAt(forceShowAtRange.getStartPosition(), forceShowAtRange, this._shouldFocus);
            else this._showAt(new $fqrfT.Position(anchor.range.startLineNumber, renderColumn), highlightRange, this._shouldFocus);
            this._updateContents(fragment);
        }
        if (this._colorPicker) this._colorPicker.layout();
        this._isChangingDecorations = true;
        this._highlightDecorations = this._editor.deltaDecorations(this._highlightDecorations, highlightRange ? [
            {
                range: highlightRange,
                options: $e69539fc234264c3$export$27477712c6ad8b14._DECORATION_OPTIONS
            }
        ] : []);
        this._isChangingDecorations = false;
    }
    constructor(editor, _hoverVisibleKey, instantiationService, _keybindingService, _contextKeyService){
        super();
        this._hoverVisibleKey = _hoverVisibleKey;
        this._keybindingService = _keybindingService;
        this._contextKeyService = _contextKeyService;
        // IContentWidget.allowEditorOverflow
        this.allowEditorOverflow = true;
        this._participants = [
            instantiationService.createInstance($8533e63fcf80bffb$exports.ColorHoverParticipant, editor, this),
            instantiationService.createInstance($0453525cadea7137$exports.MarkdownHoverParticipant, editor, this),
            instantiationService.createInstance($d9cf98c6fe76fadb$exports.InlineCompletionsHoverParticipant, editor, this),
            instantiationService.createInstance($482ab4af63e13bd3$exports.UnicodeHighlighterHoverParticipant, editor, this),
            instantiationService.createInstance($a176f00d89108e08$exports.MarkerHoverParticipant, editor, this), 
        ];
        this._editor = editor;
        this._isVisible = false;
        this._stoleFocus = false;
        this._renderDisposable = null;
        this._hover = this._register(new $58dc1cd7d823c4bd$export$bd9cbe052e594410());
        this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);
        this.onkeydown(this._hover.containerDomNode, (e)=>{
            if (e.equals(9 /* Escape */ )) this.hide();
        });
        this._register(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(43 /* fontInfo */ )) this._updateFont();
        }));
        this._editor.onDidLayoutChange(()=>this.layout()
        );
        this.layout();
        this._editor.addContentWidget(this);
        this._showAtPosition = null;
        this._showAtRange = null;
        this._stoleFocus = false;
        this._messages = [];
        this._messagesAreComplete = false;
        this._lastAnchor = null;
        this._computer = new $e69539fc234264c3$var$ModesContentComputer(this._editor, this._participants);
        this._highlightDecorations = [];
        this._isChangingDecorations = false;
        this._shouldFocus = false;
        this._colorPicker = null;
        this._preferAbove = this._editor.getOption(52 /* hover */ ).above;
        this._hoverOperation = new $7a3321eb68edf84d$exports.HoverOperation(this._computer, (result)=>this._withResult(result, true)
        , null, (result)=>this._withResult(result, false)
        , this._editor.getOption(52 /* hover */ ).delay);
        this._register($8xgjE.addStandardDisposableListener(this.getDomNode(), $8xgjE.EventType.FOCUS, ()=>{
            if (this._colorPicker) this.getDomNode().classList.add('colorpicker-hover');
        }));
        this._register($8xgjE.addStandardDisposableListener(this.getDomNode(), $8xgjE.EventType.BLUR, ()=>{
            this.getDomNode().classList.remove('colorpicker-hover');
        }));
        this._register(editor.onDidChangeConfiguration(()=>{
            this._hoverOperation.setHoverTime(this._editor.getOption(52 /* hover */ ).delay);
            this._preferAbove = this._editor.getOption(52 /* hover */ ).above;
        }));
        this._register($goPht.TokenizationRegistry.onDidChange(()=>{
            if (this._isVisible && this._lastAnchor && this._messages.length > 0) {
                this._hover.contentsDomNode.textContent = '';
                this._renderMessages(this._lastAnchor, this._messages);
            }
        }));
    }
};
$e69539fc234264c3$export$27477712c6ad8b14.ID = 'editor.contrib.modesContentHoverWidget';
$e69539fc234264c3$export$27477712c6ad8b14._DECORATION_OPTIONS = $72tIz.ModelDecorationOptions.register({
    description: 'content-hover-highlight',
    className: 'hoverHighlight'
});
$e69539fc234264c3$export$27477712c6ad8b14 = $e69539fc234264c3$var$__decorate([
    $e69539fc234264c3$var$__param(2, $6Xx7t.IInstantiationService),
    $e69539fc234264c3$var$__param(3, $i2aE6.IKeybindingService),
    $e69539fc234264c3$var$__param(4, $h4kGX.IContextKeyService)
], $e69539fc234264c3$export$27477712c6ad8b14);



var $8xgjE = parcelRequire("8xgjE");

var $duSG1 = parcelRequire("duSG1");

var $eeQ9E = parcelRequire("eeQ9E");

var $6W1JA = parcelRequire("6W1JA");



var $gKMUF = parcelRequire("gKMUF");

var $3jCpu = parcelRequire("3jCpu");

const $46c15714e8cf1e62$var$$ = $8xgjE.$;
class $46c15714e8cf1e62$var$MarginComputer {
    setLineNumber(lineNumber) {
        this._lineNumber = lineNumber;
        this._result = [];
    }
    clearResult() {
        this._result = [];
    }
    computeSync() {
        const toHoverMessage = (contents)=>{
            return {
                value: contents
            };
        };
        const lineDecorations = this._editor.getLineDecorations(this._lineNumber);
        const result = [];
        if (!lineDecorations) return result;
        for (const d of lineDecorations){
            if (!d.options.glyphMarginClassName) continue;
            const hoverMessage = d.options.glyphMarginHoverMessage;
            if (!hoverMessage || $eeQ9E.isEmptyMarkdownString(hoverMessage)) continue;
            result.push(...$duSG1.asArray(hoverMessage).map(toHoverMessage));
        }
        return result;
    }
    onResult(result, isFromSynchronousComputation) {
        this._result = this._result.concat(result);
    }
    getResult() {
        return this._result;
    }
    getResultWithLoadingMessage() {
        return this.getResult();
    }
    constructor(editor){
        this._editor = editor;
        this._lineNumber = -1;
        this._result = [];
    }
}
class $46c15714e8cf1e62$export$5b5b89fc3da37c5f extends $gKMUF.Widget {
    dispose() {
        this._hoverOperation.cancel();
        this._editor.removeOverlayWidget(this);
        super.dispose();
    }
    getId() {
        return $46c15714e8cf1e62$export$5b5b89fc3da37c5f.ID;
    }
    getDomNode() {
        return this._hover.containerDomNode;
    }
    getPosition() {
        return null;
    }
    _showAt(lineNumber) {
        if (!this._isVisible) {
            this._isVisible = true;
            this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);
        }
        const editorLayout = this._editor.getLayoutInfo();
        const topForLineNumber = this._editor.getTopForLineNumber(lineNumber);
        const editorScrollTop = this._editor.getScrollTop();
        const lineHeight = this._editor.getOption(58 /* lineHeight */ );
        const nodeHeight = this._hover.containerDomNode.clientHeight;
        const top = topForLineNumber - editorScrollTop - (nodeHeight - lineHeight) / 2;
        this._hover.containerDomNode.style.left = `${editorLayout.glyphMarginLeft + editorLayout.glyphMarginWidth}px`;
        this._hover.containerDomNode.style.top = `${Math.max(Math.round(top), 0)}px`;
    }
    _updateFont() {
        const codeClasses = Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));
        codeClasses.forEach((node)=>this._editor.applyFontInfo(node)
        );
    }
    _updateContents(node) {
        this._hover.contentsDomNode.textContent = '';
        this._hover.contentsDomNode.appendChild(node);
        this._updateFont();
    }
    onModelDecorationsChanged() {
        if (this._isVisible) {
            // The decorations have changed and the hover is visible,
            // we need to recompute the displayed text
            this._hoverOperation.cancel();
            this._computer.clearResult();
            this._hoverOperation.start(0 /* Delayed */ );
        }
    }
    startShowingAt(lineNumber) {
        if (this._lastLineNumber === lineNumber) // We have to show the widget at the exact same line number as before, so no work is needed
        return;
        this._hoverOperation.cancel();
        this.hide();
        this._lastLineNumber = lineNumber;
        this._computer.setLineNumber(lineNumber);
        this._hoverOperation.start(0 /* Delayed */ );
    }
    hide() {
        this._lastLineNumber = -1;
        this._hoverOperation.cancel();
        if (!this._isVisible) return;
        this._isVisible = false;
        this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);
    }
    _withResult(result) {
        this._messages = result;
        if (this._messages.length > 0) this._renderMessages(this._lastLineNumber, this._messages);
        else this.hide();
    }
    _renderMessages(lineNumber, messages) {
        this._renderDisposeables.clear();
        const fragment = document.createDocumentFragment();
        for (const msg of messages){
            const markdownHoverElement = $46c15714e8cf1e62$var$$('div.hover-row.markdown-hover');
            const hoverContentsElement = $8xgjE.append(markdownHoverElement, $46c15714e8cf1e62$var$$('div.hover-contents'));
            const renderedContents = this._renderDisposeables.add(this._markdownRenderer.render(msg.value));
            hoverContentsElement.appendChild(renderedContents.element);
            fragment.appendChild(markdownHoverElement);
        }
        this._updateContents(fragment);
        this._showAt(lineNumber);
    }
    constructor(editor, modeService, openerService = $3jCpu.NullOpenerService){
        super();
        this._renderDisposeables = this._register(new $6W1JA.DisposableStore());
        this._editor = editor;
        this._isVisible = false;
        this._messages = [];
        this._lastLineNumber = -1;
        this._hover = this._register(new $58dc1cd7d823c4bd$export$bd9cbe052e594410());
        this._hover.containerDomNode.classList.toggle('hidden', !this._isVisible);
        this._markdownRenderer = this._register(new $4a80f1f73e880bad$exports.MarkdownRenderer({
            editor: this._editor
        }, modeService, openerService));
        this._computer = new $46c15714e8cf1e62$var$MarginComputer(this._editor);
        this._hoverOperation = new $7a3321eb68edf84d$exports.HoverOperation(this._computer, (result)=>this._withResult(result)
        , undefined, (result)=>this._withResult(result)
        , 300);
        this._register(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(43 /* fontInfo */ )) this._updateFont();
        }));
        this._editor.addOverlayWidget(this);
    }
}
$46c15714e8cf1e62$export$5b5b89fc3da37c5f.ID = 'editor.contrib.modesGlyphHoverWidget';



var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $3jCpu = parcelRequire("3jCpu");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $e1f3db627688d9c5$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $e1f3db627688d9c5$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $e1f3db627688d9c5$export$5fb2eabf73ef0293 = class $e1f3db627688d9c5$export$5fb2eabf73ef0293 {
    static get(editor) {
        return editor.getContribution($e1f3db627688d9c5$export$5fb2eabf73ef0293.ID);
    }
    _hookEvents() {
        const hideWidgetsEventHandler = ()=>this._hideWidgets()
        ;
        const hoverOpts = this._editor.getOption(52 /* hover */ );
        this._isHoverEnabled = hoverOpts.enabled;
        this._isHoverSticky = hoverOpts.sticky;
        if (this._isHoverEnabled) {
            this._toUnhook.add(this._editor.onMouseDown((e)=>this._onEditorMouseDown(e)
            ));
            this._toUnhook.add(this._editor.onMouseUp((e)=>this._onEditorMouseUp(e)
            ));
            this._toUnhook.add(this._editor.onMouseMove((e)=>this._onEditorMouseMove(e)
            ));
            this._toUnhook.add(this._editor.onKeyDown((e)=>this._onKeyDown(e)
            ));
            this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()
            ));
        } else {
            this._toUnhook.add(this._editor.onMouseMove((e)=>this._onEditorMouseMove(e)
            ));
            this._toUnhook.add(this._editor.onKeyDown((e)=>this._onKeyDown(e)
            ));
        }
        this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler));
        this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler));
        this._toUnhook.add(this._editor.onDidScrollChange((e)=>this._onEditorScrollChanged(e)
        ));
    }
    _unhookEvents() {
        this._toUnhook.clear();
    }
    _onModelDecorationsChanged() {
        var _a, _b;
        (_a = this._contentWidget) === null || _a === void 0 || _a.onModelDecorationsChanged();
        (_b = this._glyphWidget) === null || _b === void 0 || _b.onModelDecorationsChanged();
    }
    _onEditorScrollChanged(e) {
        if (e.scrollTopChanged || e.scrollLeftChanged) this._hideWidgets();
    }
    _onEditorMouseDown(mouseEvent) {
        this._isMouseDown = true;
        const targetType = mouseEvent.target.type;
        if (targetType === 9 /* CONTENT_WIDGET */  && mouseEvent.target.detail === $e69539fc234264c3$exports.ModesContentHoverWidget.ID) {
            this._hoverClicked = true;
            // mouse down on top of content hover widget
            return;
        }
        if (targetType === 12 /* OVERLAY_WIDGET */  && mouseEvent.target.detail === $46c15714e8cf1e62$export$5b5b89fc3da37c5f.ID) // mouse down on top of overlay hover widget
        return;
        if (targetType !== 12 /* OVERLAY_WIDGET */  && mouseEvent.target.detail !== $46c15714e8cf1e62$export$5b5b89fc3da37c5f.ID) this._hoverClicked = false;
        this._hideWidgets();
    }
    _onEditorMouseUp(mouseEvent) {
        this._isMouseDown = false;
    }
    _onEditorMouseMove(mouseEvent) {
        var _a, _b, _c, _d, _e;
        let targetType = mouseEvent.target.type;
        if (this._isMouseDown && this._hoverClicked) return;
        if (this._isHoverSticky && targetType === 9 /* CONTENT_WIDGET */  && mouseEvent.target.detail === $e69539fc234264c3$exports.ModesContentHoverWidget.ID) // mouse moved on top of content hover widget
        return;
        if (this._isHoverSticky && !((_b = (_a = mouseEvent.event.browserEvent.view) === null || _a === void 0 ? void 0 : _a.getSelection()) === null || _b === void 0 ? void 0 : _b.isCollapsed)) // selected text within content hover widget
        return;
        if (!this._isHoverSticky && targetType === 9 /* CONTENT_WIDGET */  && mouseEvent.target.detail === $e69539fc234264c3$exports.ModesContentHoverWidget.ID && ((_c = this._contentWidget) === null || _c === void 0 ? void 0 : _c.isColorPickerVisible())) // though the hover is not sticky, the color picker needs to.
        return;
        if (this._isHoverSticky && targetType === 12 /* OVERLAY_WIDGET */  && mouseEvent.target.detail === $46c15714e8cf1e62$export$5b5b89fc3da37c5f.ID) // mouse moved on top of overlay hover widget
        return;
        if (!this._isHoverEnabled) {
            this._hideWidgets();
            return;
        }
        const contentWidget = this._getOrCreateContentWidget();
        if (contentWidget.maybeShowAt(mouseEvent)) {
            (_d = this._glyphWidget) === null || _d === void 0 || _d.hide();
            return;
        }
        if (targetType === 2 /* GUTTER_GLYPH_MARGIN */  && mouseEvent.target.position) {
            (_e = this._contentWidget) === null || _e === void 0 || _e.hide();
            if (!this._glyphWidget) this._glyphWidget = new $46c15714e8cf1e62$export$5b5b89fc3da37c5f(this._editor, this._modeService, this._openerService);
            this._glyphWidget.startShowingAt(mouseEvent.target.position.lineNumber);
            return;
        }
        this._hideWidgets();
    }
    _onKeyDown(e) {
        if (e.keyCode !== 5 /* Ctrl */  && e.keyCode !== 6 /* Alt */  && e.keyCode !== 57 /* Meta */  && e.keyCode !== 4 /* Shift */ ) // Do not hide hover when a modifier key is pressed
        this._hideWidgets();
    }
    _hideWidgets() {
        var _a, _b, _c;
        if (this._isMouseDown && this._hoverClicked && ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible())) return;
        this._hoverClicked = false;
        (_b = this._glyphWidget) === null || _b === void 0 || _b.hide();
        (_c = this._contentWidget) === null || _c === void 0 || _c.hide();
    }
    _getOrCreateContentWidget() {
        if (!this._contentWidget) this._contentWidget = this._instantiationService.createInstance($e69539fc234264c3$exports.ModesContentHoverWidget, this._editor, this._hoverVisibleKey);
        return this._contentWidget;
    }
    isColorPickerVisible() {
        var _a;
        return ((_a = this._contentWidget) === null || _a === void 0 ? void 0 : _a.isColorPickerVisible()) || false;
    }
    showContentHover(range, mode, focus) {
        this._getOrCreateContentWidget().startShowingAtRange(range, mode, focus);
    }
    dispose() {
        var _a, _b;
        this._unhookEvents();
        this._toUnhook.dispose();
        this._didChangeConfigurationHandler.dispose();
        (_a = this._glyphWidget) === null || _a === void 0 || _a.dispose();
        (_b = this._contentWidget) === null || _b === void 0 || _b.dispose();
    }
    constructor(_editor, _instantiationService, _openerService, _modeService, _contextKeyService){
        this._editor = _editor;
        this._instantiationService = _instantiationService;
        this._openerService = _openerService;
        this._modeService = _modeService;
        this._toUnhook = new $6W1JA.DisposableStore();
        this._isMouseDown = false;
        this._hoverClicked = false;
        this._contentWidget = null;
        this._glyphWidget = null;
        this._hookEvents();
        this._didChangeConfigurationHandler = this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(52 /* hover */ )) {
                this._unhookEvents();
                this._hookEvents();
            }
        });
        this._hoverVisibleKey = $7oeKV.EditorContextKeys.hoverVisible.bindTo(_contextKeyService);
    }
};
$e1f3db627688d9c5$export$5fb2eabf73ef0293.ID = 'editor.contrib.hover';
$e1f3db627688d9c5$export$5fb2eabf73ef0293 = $e1f3db627688d9c5$var$__decorate([
    $e1f3db627688d9c5$var$__param(1, $6Xx7t.IInstantiationService),
    $e1f3db627688d9c5$var$__param(2, $3jCpu.IOpenerService),
    $e1f3db627688d9c5$var$__param(3, $jwAxq.IModeService),
    $e1f3db627688d9c5$var$__param(4, $h4kGX.IContextKeyService)
], $e1f3db627688d9c5$export$5fb2eabf73ef0293);
class $e1f3db627688d9c5$var$ShowHoverAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        let controller = $e1f3db627688d9c5$export$5fb2eabf73ef0293.get(editor);
        if (!controller) return;
        const position = editor.getPosition();
        const range = new $1YFxJ.Range(position.lineNumber, position.column, position.lineNumber, position.column);
        const focus = editor.getOption(2 /* accessibilitySupport */ ) === 2 /* Enabled */ ;
        controller.showContentHover(range, 1 /* Immediate */ , focus);
    }
    constructor(){
        super({
            id: 'editor.action.showHover',
            label: $1WuVQ.localize({
                key: 'showHover',
                comment: [
                    'Label for action that will trigger the showing of a hover in the editor.',
                    'This allows for users to show the hover without using the mouse.'
                ]
            }, "Show Hover"),
            alias: 'Show Hover',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2087 /* KeyI */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e1f3db627688d9c5$var$ShowDefinitionPreviewHoverAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let controller = $e1f3db627688d9c5$export$5fb2eabf73ef0293.get(editor);
        if (!controller) return;
        const position = editor.getPosition();
        if (!position) return;
        const range = new $1YFxJ.Range(position.lineNumber, position.column, position.lineNumber, position.column);
        const goto = $b38214ecae1a10ff$exports.GotoDefinitionAtPositionEditorContribution.get(editor);
        const promise = goto.startFindDefinitionFromCursor(position);
        promise.then(()=>{
            controller.showContentHover(range, 1 /* Immediate */ , true);
        });
    }
    constructor(){
        super({
            id: 'editor.action.showDefinitionPreviewHover',
            label: $1WuVQ.localize({
                key: 'showDefinitionPreviewHover',
                comment: [
                    'Label for action that will trigger the showing of definition preview hover in the editor.',
                    'This allows for users to show the definition preview hover without using the mouse.'
                ]
            }, "Show Definition Preview Hover"),
            alias: 'Show Definition Preview Hover',
            precondition: undefined
        });
    }
}
$g9Zlr.registerEditorContribution($e1f3db627688d9c5$export$5fb2eabf73ef0293.ID, $e1f3db627688d9c5$export$5fb2eabf73ef0293);
$g9Zlr.registerEditorAction($e1f3db627688d9c5$var$ShowHoverAction);
$g9Zlr.registerEditorAction($e1f3db627688d9c5$var$ShowDefinitionPreviewHoverAction);
// theming
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const editorHoverHighlightColor = theme.getColor($kL4Ig.editorHoverHighlight);
    if (editorHoverHighlightColor) collector.addRule(`.monaco-editor .hoverHighlight { background-color: ${editorHoverHighlightColor}; }`);
    const hoverBackground = theme.getColor($kL4Ig.editorHoverBackground);
    if (hoverBackground) collector.addRule(`.monaco-editor .monaco-hover { background-color: ${hoverBackground}; }`);
    const hoverBorder = theme.getColor($kL4Ig.editorHoverBorder);
    if (hoverBorder) {
        collector.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${hoverBorder}; }`);
        collector.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);
        collector.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${hoverBorder.transparent(0.5)}; }`);
        collector.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${hoverBorder.transparent(0.5)}; }`);
    }
    const link = theme.getColor($kL4Ig.textLinkForeground);
    if (link) collector.addRule(`.monaco-editor .monaco-hover a { color: ${link}; }`);
    const linkHover = theme.getColor($kL4Ig.textLinkActiveForeground);
    if (linkHover) collector.addRule(`.monaco-editor .monaco-hover a:hover { color: ${linkHover}; }`);
    const hoverForeground = theme.getColor($kL4Ig.editorHoverForeground);
    if (hoverForeground) collector.addRule(`.monaco-editor .monaco-hover { color: ${hoverForeground}; }`);
    const actionsBackground = theme.getColor($kL4Ig.editorHoverStatusBarBackground);
    if (actionsBackground) collector.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${actionsBackground}; }`);
    const codeBackground = theme.getColor($kL4Ig.textCodeBlockBackground);
    if (codeBackground) collector.addRule(`.monaco-editor .monaco-hover code { background-color: ${codeBackground}; }`);
});


class $7179ce0feb9f9976$export$207d84fc3451c066 extends $6W1JA.Disposable {
    dispose() {
        super.dispose();
    }
    onMouseDown(mouseEvent) {
        var _a;
        const targetType = mouseEvent.target.type;
        if (targetType !== 6 /* CONTENT_TEXT */ ) return;
        const hoverOnColorDecorator = [
            ...((_a = mouseEvent.target.element) === null || _a === void 0 ? void 0 : _a.classList.values()) || []
        ].find((className)=>className.startsWith('ced-colorBox')
        );
        if (!hoverOnColorDecorator) return;
        if (!mouseEvent.target.range) return;
        const hoverController = this._editor.getContribution($e1f3db627688d9c5$exports.ModesHoverController.ID);
        if (!hoverController.isColorPickerVisible()) {
            const range = new $1YFxJ.Range(mouseEvent.target.range.startLineNumber, mouseEvent.target.range.startColumn + 1, mouseEvent.target.range.endLineNumber, mouseEvent.target.range.endColumn + 1);
            hoverController.showContentHover(range, 0 /* Delayed */ , false);
        }
    }
    constructor(_editor){
        super();
        this._editor = _editor;
        this._register(_editor.onMouseDown((e)=>this.onMouseDown(e)
        ));
    }
}
$7179ce0feb9f9976$export$207d84fc3451c066.ID = 'editor.contrib.colorContribution'; // ms
$g9Zlr.registerEditorContribution($7179ce0feb9f9976$export$207d84fc3451c066.ID, $7179ce0feb9f9976$export$207d84fc3451c066);



var $ecpYn = parcelRequire("ecpYn");

var $g9Zlr = parcelRequire("g9Zlr");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");

var $EQImd = parcelRequire("EQImd");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $ahykL = parcelRequire("ahykL");
class $bd010d98b9062646$export$889a1441dfb5fa88 {
    static _haystackHasNeedleAtOffset(haystack, needle, offset) {
        if (offset < 0) return false;
        const needleLength = needle.length;
        const haystackLength = haystack.length;
        if (offset + needleLength > haystackLength) return false;
        for(let i = 0; i < needleLength; i++){
            const codeA = haystack.charCodeAt(offset + i);
            const codeB = needle.charCodeAt(i);
            if (codeA === codeB) continue;
            if (codeA >= 65 /* A */  && codeA <= 90 /* Z */  && codeA + 32 === codeB) continue;
            if (codeB >= 65 /* A */  && codeB <= 90 /* Z */  && codeB + 32 === codeA) continue;
            return false;
        }
        return true;
    }
    _createOperationsForBlockComment(selection, startToken, endToken, insertSpace, model, builder) {
        const startLineNumber = selection.startLineNumber;
        const startColumn = selection.startColumn;
        const endLineNumber = selection.endLineNumber;
        const endColumn = selection.endColumn;
        const startLineText = model.getLineContent(startLineNumber);
        const endLineText = model.getLineContent(endLineNumber);
        let startTokenIndex = startLineText.lastIndexOf(startToken, startColumn - 1 + startToken.length);
        let endTokenIndex = endLineText.indexOf(endToken, endColumn - 1 - endToken.length);
        if (startTokenIndex !== -1 && endTokenIndex !== -1) {
            if (startLineNumber === endLineNumber) {
                const lineBetweenTokens = startLineText.substring(startTokenIndex + startToken.length, endTokenIndex);
                if (lineBetweenTokens.indexOf(endToken) >= 0) {
                    // force to add a block comment
                    startTokenIndex = -1;
                    endTokenIndex = -1;
                }
            } else {
                const startLineAfterStartToken = startLineText.substring(startTokenIndex + startToken.length);
                const endLineBeforeEndToken = endLineText.substring(0, endTokenIndex);
                if (startLineAfterStartToken.indexOf(endToken) >= 0 || endLineBeforeEndToken.indexOf(endToken) >= 0) {
                    // force to add a block comment
                    startTokenIndex = -1;
                    endTokenIndex = -1;
                }
            }
        }
        let ops;
        if (startTokenIndex !== -1 && endTokenIndex !== -1) {
            // Consider spaces as part of the comment tokens
            if (insertSpace && startTokenIndex + startToken.length < startLineText.length && startLineText.charCodeAt(startTokenIndex + startToken.length) === 32 /* Space */ ) // Pretend the start token contains a trailing space
            startToken = startToken + ' ';
            if (insertSpace && endTokenIndex > 0 && endLineText.charCodeAt(endTokenIndex - 1) === 32 /* Space */ ) {
                // Pretend the end token contains a leading space
                endToken = ' ' + endToken;
                endTokenIndex -= 1;
            }
            ops = $bd010d98b9062646$export$889a1441dfb5fa88._createRemoveBlockCommentOperations(new $1YFxJ.Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);
        } else {
            ops = $bd010d98b9062646$export$889a1441dfb5fa88._createAddBlockCommentOperations(selection, startToken, endToken, this._insertSpace);
            this._usedEndToken = ops.length === 1 ? endToken : null;
        }
        for (const op of ops)builder.addTrackedEditOperation(op.range, op.text);
    }
    static _createRemoveBlockCommentOperations(r, startToken, endToken) {
        let res = [];
        if (!$1YFxJ.Range.isEmpty(r)) {
            // Remove block comment start
            res.push($EQImd.EditOperation.delete(new $1YFxJ.Range(r.startLineNumber, r.startColumn - startToken.length, r.startLineNumber, r.startColumn)));
            // Remove block comment end
            res.push($EQImd.EditOperation.delete(new $1YFxJ.Range(r.endLineNumber, r.endColumn, r.endLineNumber, r.endColumn + endToken.length)));
        } else // Remove both continuously
        res.push($EQImd.EditOperation.delete(new $1YFxJ.Range(r.startLineNumber, r.startColumn - startToken.length, r.endLineNumber, r.endColumn + endToken.length)));
        return res;
    }
    static _createAddBlockCommentOperations(r, startToken, endToken, insertSpace) {
        let res = [];
        if (!$1YFxJ.Range.isEmpty(r)) {
            // Insert block comment start
            res.push($EQImd.EditOperation.insert(new $fqrfT.Position(r.startLineNumber, r.startColumn), startToken + (insertSpace ? ' ' : '')));
            // Insert block comment end
            res.push($EQImd.EditOperation.insert(new $fqrfT.Position(r.endLineNumber, r.endColumn), (insertSpace ? ' ' : '') + endToken));
        } else // Insert both continuously
        res.push($EQImd.EditOperation.replace(new $1YFxJ.Range(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn), startToken + '  ' + endToken));
        return res;
    }
    getEditOperations(model, builder) {
        const startLineNumber = this._selection.startLineNumber;
        const startColumn = this._selection.startColumn;
        model.tokenizeIfCheap(startLineNumber);
        const languageId = model.getLanguageIdAtPosition(startLineNumber, startColumn);
        const config = $ahykL.LanguageConfigurationRegistry.getComments(languageId);
        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) // Mode does not support block comments
        return;
        this._createOperationsForBlockComment(this._selection, config.blockCommentStartToken, config.blockCommentEndToken, this._insertSpace, model, builder);
    }
    computeCursorState(model, helper) {
        const inverseEditOperations = helper.getInverseEditOperations();
        if (inverseEditOperations.length === 2) {
            const startTokenEditOperation = inverseEditOperations[0];
            const endTokenEditOperation = inverseEditOperations[1];
            return new $jS6at.Selection(startTokenEditOperation.range.endLineNumber, startTokenEditOperation.range.endColumn, endTokenEditOperation.range.startLineNumber, endTokenEditOperation.range.startColumn);
        } else {
            const srcRange = inverseEditOperations[0].range;
            const deltaColumn = this._usedEndToken ? -this._usedEndToken.length - 1 : 0; // minus 1 space before endToken
            return new $jS6at.Selection(srcRange.endLineNumber, srcRange.endColumn + deltaColumn, srcRange.endLineNumber, srcRange.endColumn + deltaColumn);
        }
    }
    constructor(selection, insertSpace){
        this._selection = selection;
        this._insertSpace = insertSpace;
        this._usedEndToken = null;
    }
}



var $i4xl7 = parcelRequire("i4xl7");

var $EQImd = parcelRequire("EQImd");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $ahykL = parcelRequire("ahykL");

class $dbc99dd1b60192d6$export$da3e0fab717c9ef9 {
    /**
     * Do an initial pass over the lines and gather info about the line comment string.
     * Returns null if any of the lines doesn't support a line comment string.
     */ static _gatherPreflightCommentStrings(model, startLineNumber, endLineNumber) {
        model.tokenizeIfCheap(startLineNumber);
        const languageId = model.getLanguageIdAtPosition(startLineNumber, 1);
        const config = $ahykL.LanguageConfigurationRegistry.getComments(languageId);
        const commentStr = config ? config.lineCommentToken : null;
        if (!commentStr) // Mode does not support line comments
        return null;
        let lines = [];
        for(let i = 0, lineCount = endLineNumber - startLineNumber + 1; i < lineCount; i++)lines[i] = {
            ignore: false,
            commentStr: commentStr,
            commentStrOffset: 0,
            commentStrLength: commentStr.length
        };
        return lines;
    }
    /**
     * Analyze lines and decide which lines are relevant and what the toggle should do.
     * Also, build up several offsets and lengths useful in the generation of editor operations.
     */ static _analyzeLines(type, insertSpace, model, lines, startLineNumber, ignoreEmptyLines, ignoreFirstLine) {
        let onlyWhitespaceLines = true;
        let shouldRemoveComments;
        if (type === 0 /* Toggle */ ) shouldRemoveComments = true;
        else if (type === 1 /* ForceAdd */ ) shouldRemoveComments = false;
        else shouldRemoveComments = true;
        for(let i = 0, lineCount = lines.length; i < lineCount; i++){
            const lineData = lines[i];
            const lineNumber = startLineNumber + i;
            if (lineNumber === startLineNumber && ignoreFirstLine) {
                // first line ignored
                lineData.ignore = true;
                continue;
            }
            const lineContent = model.getLineContent(lineNumber);
            const lineContentStartOffset = $i4xl7.firstNonWhitespaceIndex(lineContent);
            if (lineContentStartOffset === -1) {
                // Empty or whitespace only line
                lineData.ignore = ignoreEmptyLines;
                lineData.commentStrOffset = lineContent.length;
                continue;
            }
            onlyWhitespaceLines = false;
            lineData.ignore = false;
            lineData.commentStrOffset = lineContentStartOffset;
            if (shouldRemoveComments && !$bd010d98b9062646$export$889a1441dfb5fa88._haystackHasNeedleAtOffset(lineContent, lineData.commentStr, lineContentStartOffset)) {
                if (type === 0 /* Toggle */ ) // Every line so far has been a line comment, but this one is not
                shouldRemoveComments = false;
                else if (type === 1 /* ForceAdd */ ) ;
                else lineData.ignore = true;
            }
            if (shouldRemoveComments && insertSpace) {
                // Remove a following space if present
                const commentStrEndOffset = lineContentStartOffset + lineData.commentStrLength;
                if (commentStrEndOffset < lineContent.length && lineContent.charCodeAt(commentStrEndOffset) === 32 /* Space */ ) lineData.commentStrLength += 1;
            }
        }
        if (type === 0 /* Toggle */  && onlyWhitespaceLines) {
            // For only whitespace lines, we insert comments
            shouldRemoveComments = false;
            // Also, no longer ignore them
            for(let i = 0, lineCount = lines.length; i < lineCount; i++)lines[i].ignore = false;
        }
        return {
            supported: true,
            shouldRemoveComments: shouldRemoveComments,
            lines: lines
        };
    }
    /**
     * Analyze all lines and decide exactly what to do => not supported | insert line comments | remove line comments
     */ static _gatherPreflightData(type, insertSpace, model, startLineNumber, endLineNumber, ignoreEmptyLines, ignoreFirstLine) {
        const lines = $dbc99dd1b60192d6$export$da3e0fab717c9ef9._gatherPreflightCommentStrings(model, startLineNumber, endLineNumber);
        if (lines === null) return {
            supported: false
        };
        return $dbc99dd1b60192d6$export$da3e0fab717c9ef9._analyzeLines(type, insertSpace, model, lines, startLineNumber, ignoreEmptyLines, ignoreFirstLine);
    }
    /**
     * Given a successful analysis, execute either insert line comments, either remove line comments
     */ _executeLineComments(model, builder, data, s) {
        let ops;
        if (data.shouldRemoveComments) ops = $dbc99dd1b60192d6$export$da3e0fab717c9ef9._createRemoveLineCommentsOperations(data.lines, s.startLineNumber);
        else {
            $dbc99dd1b60192d6$export$da3e0fab717c9ef9._normalizeInsertionPoint(model, data.lines, s.startLineNumber, this._tabSize);
            ops = this._createAddLineCommentsOperations(data.lines, s.startLineNumber);
        }
        const cursorPosition = new $fqrfT.Position(s.positionLineNumber, s.positionColumn);
        for(let i = 0, len = ops.length; i < len; i++){
            builder.addEditOperation(ops[i].range, ops[i].text);
            if ($1YFxJ.Range.isEmpty(ops[i].range) && $1YFxJ.Range.getStartPosition(ops[i].range).equals(cursorPosition)) {
                const lineContent = model.getLineContent(cursorPosition.lineNumber);
                if (lineContent.length + 1 === cursorPosition.column) this._deltaColumn = (ops[i].text || '').length;
            }
        }
        this._selectionId = builder.trackSelection(s);
    }
    _attemptRemoveBlockComment(model, s, startToken, endToken) {
        let startLineNumber = s.startLineNumber;
        let endLineNumber = s.endLineNumber;
        let startTokenAllowedBeforeColumn = endToken.length + Math.max(model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.startColumn);
        let startTokenIndex = model.getLineContent(startLineNumber).lastIndexOf(startToken, startTokenAllowedBeforeColumn - 1);
        let endTokenIndex = model.getLineContent(endLineNumber).indexOf(endToken, s.endColumn - 1 - startToken.length);
        if (startTokenIndex !== -1 && endTokenIndex === -1) {
            endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);
            endLineNumber = startLineNumber;
        }
        if (startTokenIndex === -1 && endTokenIndex !== -1) {
            startTokenIndex = model.getLineContent(endLineNumber).lastIndexOf(startToken, endTokenIndex);
            startLineNumber = endLineNumber;
        }
        if (s.isEmpty() && (startTokenIndex === -1 || endTokenIndex === -1)) {
            startTokenIndex = model.getLineContent(startLineNumber).indexOf(startToken);
            if (startTokenIndex !== -1) endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);
        }
        // We have to adjust to possible inner white space.
        // For Space after startToken, add Space to startToken - range math will work out.
        if (startTokenIndex !== -1 && model.getLineContent(startLineNumber).charCodeAt(startTokenIndex + startToken.length) === 32 /* Space */ ) startToken += ' ';
        // For Space before endToken, add Space before endToken and shift index one left.
        if (endTokenIndex !== -1 && model.getLineContent(endLineNumber).charCodeAt(endTokenIndex - 1) === 32 /* Space */ ) {
            endToken = ' ' + endToken;
            endTokenIndex -= 1;
        }
        if (startTokenIndex !== -1 && endTokenIndex !== -1) return $bd010d98b9062646$export$889a1441dfb5fa88._createRemoveBlockCommentOperations(new $1YFxJ.Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);
        return null;
    }
    /**
     * Given an unsuccessful analysis, delegate to the block comment command
     */ _executeBlockComment(model, builder, s) {
        model.tokenizeIfCheap(s.startLineNumber);
        let languageId = model.getLanguageIdAtPosition(s.startLineNumber, 1);
        let config = $ahykL.LanguageConfigurationRegistry.getComments(languageId);
        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) // Mode does not support block comments
        return;
        const startToken = config.blockCommentStartToken;
        const endToken = config.blockCommentEndToken;
        let ops = this._attemptRemoveBlockComment(model, s, startToken, endToken);
        if (!ops) {
            if (s.isEmpty()) {
                const lineContent = model.getLineContent(s.startLineNumber);
                let firstNonWhitespaceIndex = $i4xl7.firstNonWhitespaceIndex(lineContent);
                if (firstNonWhitespaceIndex === -1) // Line is empty or contains only whitespace
                firstNonWhitespaceIndex = lineContent.length;
                ops = $bd010d98b9062646$export$889a1441dfb5fa88._createAddBlockCommentOperations(new $1YFxJ.Range(s.startLineNumber, firstNonWhitespaceIndex + 1, s.startLineNumber, lineContent.length + 1), startToken, endToken, this._insertSpace);
            } else ops = $bd010d98b9062646$export$889a1441dfb5fa88._createAddBlockCommentOperations(new $1YFxJ.Range(s.startLineNumber, model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), startToken, endToken, this._insertSpace);
            if (ops.length === 1) // Leave cursor after token and Space
            this._deltaColumn = startToken.length + 1;
        }
        this._selectionId = builder.trackSelection(s);
        for (const op of ops)builder.addEditOperation(op.range, op.text);
    }
    getEditOperations(model, builder) {
        let s = this._selection;
        this._moveEndPositionDown = false;
        if (s.startLineNumber === s.endLineNumber && this._ignoreFirstLine) {
            builder.addEditOperation(new $1YFxJ.Range(s.startLineNumber, model.getLineMaxColumn(s.startLineNumber), s.startLineNumber + 1, 1), s.startLineNumber === model.getLineCount() ? '' : '\n');
            this._selectionId = builder.trackSelection(s);
            return;
        }
        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {
            this._moveEndPositionDown = true;
            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));
        }
        const data = $dbc99dd1b60192d6$export$da3e0fab717c9ef9._gatherPreflightData(this._type, this._insertSpace, model, s.startLineNumber, s.endLineNumber, this._ignoreEmptyLines, this._ignoreFirstLine);
        if (data.supported) return this._executeLineComments(model, builder, data, s);
        return this._executeBlockComment(model, builder, s);
    }
    computeCursorState(model, helper) {
        let result = helper.getTrackedSelection(this._selectionId);
        if (this._moveEndPositionDown) result = result.setEndPosition(result.endLineNumber + 1, 1);
        return new $jS6at.Selection(result.selectionStartLineNumber, result.selectionStartColumn + this._deltaColumn, result.positionLineNumber, result.positionColumn + this._deltaColumn);
    }
    /**
     * Generate edit operations in the remove line comment case
     */ static _createRemoveLineCommentsOperations(lines, startLineNumber) {
        let res = [];
        for(let i = 0, len = lines.length; i < len; i++){
            const lineData = lines[i];
            if (lineData.ignore) continue;
            res.push($EQImd.EditOperation.delete(new $1YFxJ.Range(startLineNumber + i, lineData.commentStrOffset + 1, startLineNumber + i, lineData.commentStrOffset + lineData.commentStrLength + 1)));
        }
        return res;
    }
    /**
     * Generate edit operations in the add line comment case
     */ _createAddLineCommentsOperations(lines, startLineNumber) {
        let res = [];
        const afterCommentStr = this._insertSpace ? ' ' : '';
        for(let i = 0, len = lines.length; i < len; i++){
            const lineData = lines[i];
            if (lineData.ignore) continue;
            res.push($EQImd.EditOperation.insert(new $fqrfT.Position(startLineNumber + i, lineData.commentStrOffset + 1), lineData.commentStr + afterCommentStr));
        }
        return res;
    }
    static nextVisibleColumn(currentVisibleColumn, tabSize, isTab, columnSize) {
        if (isTab) return currentVisibleColumn + (tabSize - currentVisibleColumn % tabSize);
        return currentVisibleColumn + columnSize;
    }
    /**
     * Adjust insertion points to have them vertically aligned in the add line comment case
     */ static _normalizeInsertionPoint(model, lines, startLineNumber, tabSize) {
        let minVisibleColumn = 1073741824 /* MAX_SAFE_SMALL_INTEGER */ ;
        let j;
        let lenJ;
        for(let i = 0, len = lines.length; i < len; i++){
            if (lines[i].ignore) continue;
            const lineContent = model.getLineContent(startLineNumber + i);
            let currentVisibleColumn = 0;
            for(let j = 0, lenJ = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j < lenJ; j++)currentVisibleColumn = $dbc99dd1b60192d6$export$da3e0fab717c9ef9.nextVisibleColumn(currentVisibleColumn, tabSize, lineContent.charCodeAt(j) === 9 /* Tab */ , 1);
            if (currentVisibleColumn < minVisibleColumn) minVisibleColumn = currentVisibleColumn;
        }
        minVisibleColumn = Math.floor(minVisibleColumn / tabSize) * tabSize;
        for(let i1 = 0, len1 = lines.length; i1 < len1; i1++){
            if (lines[i1].ignore) continue;
            const lineContent = model.getLineContent(startLineNumber + i1);
            let currentVisibleColumn = 0;
            for(j = 0, lenJ = lines[i1].commentStrOffset; currentVisibleColumn < minVisibleColumn && j < lenJ; j++)currentVisibleColumn = $dbc99dd1b60192d6$export$da3e0fab717c9ef9.nextVisibleColumn(currentVisibleColumn, tabSize, lineContent.charCodeAt(j) === 9 /* Tab */ , 1);
            if (currentVisibleColumn > minVisibleColumn) lines[i1].commentStrOffset = j - 1;
            else lines[i1].commentStrOffset = j;
        }
    }
    constructor(selection, tabSize, type, insertSpace, ignoreEmptyLines, ignoreFirstLine){
        this._selection = selection;
        this._tabSize = tabSize;
        this._type = type;
        this._insertSpace = insertSpace;
        this._selectionId = null;
        this._deltaColumn = 0;
        this._moveEndPositionDown = false;
        this._ignoreEmptyLines = ignoreEmptyLines;
        this._ignoreFirstLine = ignoreFirstLine || false;
    }
}



var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");
class $c5d5f10b2d43f8c6$var$CommentLineAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        const model = editor.getModel();
        const commands = [];
        const modelOptions = model.getOptions();
        const commentsOptions = editor.getOption(19 /* comments */ );
        const selections = editor.getSelections().map((selection, index)=>({
                selection: selection,
                index: index,
                ignoreFirstLine: false
            })
        );
        selections.sort((a, b)=>$1YFxJ.Range.compareRangesUsingStarts(a.selection, b.selection)
        );
        // Remove selections that would result in copying the same line
        let prev = selections[0];
        for(let i = 1; i < selections.length; i++){
            const curr = selections[i];
            if (prev.selection.endLineNumber === curr.selection.startLineNumber) {
                // these two selections would copy the same line
                if (prev.index < curr.index) // prev wins
                curr.ignoreFirstLine = true;
                else {
                    // curr wins
                    prev.ignoreFirstLine = true;
                    prev = curr;
                }
            }
        }
        for (const selection1 of selections)commands.push(new $dbc99dd1b60192d6$export$da3e0fab717c9ef9(selection1.selection, modelOptions.tabSize, this._type, commentsOptions.insertSpace, commentsOptions.ignoreEmptyLines, selection1.ignoreFirstLine));
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(type, opts){
        super(opts);
        this._type = type;
    }
}
class $c5d5f10b2d43f8c6$var$ToggleCommentLineAction extends $c5d5f10b2d43f8c6$var$CommentLineAction {
    constructor(){
        super(0 /* Toggle */ , {
            id: 'editor.action.commentLine',
            label: $1WuVQ.localize('comment.line', "Toggle Line Comment"),
            alias: 'Toggle Line Comment',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2133 /* Slash */ ,
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarEditMenu,
                group: '5_insert',
                title: $1WuVQ.localize({
                    key: 'miToggleLineComment',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "&&Toggle Line Comment"),
                order: 1
            }
        });
    }
}
class $c5d5f10b2d43f8c6$var$AddLineCommentAction extends $c5d5f10b2d43f8c6$var$CommentLineAction {
    constructor(){
        super(1 /* ForceAdd */ , {
            id: 'editor.action.addCommentLine',
            label: $1WuVQ.localize('comment.line.add', "Add Line Comment"),
            alias: 'Add Line Comment',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2081 /* KeyC */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $c5d5f10b2d43f8c6$var$RemoveLineCommentAction extends $c5d5f10b2d43f8c6$var$CommentLineAction {
    constructor(){
        super(2 /* ForceRemove */ , {
            id: 'editor.action.removeCommentLine',
            label: $1WuVQ.localize('comment.line.remove', "Remove Line Comment"),
            alias: 'Remove Line Comment',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2099 /* KeyU */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $c5d5f10b2d43f8c6$var$BlockCommentAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        const commentsOptions = editor.getOption(19 /* comments */ );
        const commands = [];
        const selections = editor.getSelections();
        for (const selection of selections)commands.push(new $bd010d98b9062646$export$889a1441dfb5fa88(selection, commentsOptions.insertSpace));
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(){
        super({
            id: 'editor.action.blockComment',
            label: $1WuVQ.localize('comment.block', "Toggle Block Comment"),
            alias: 'Toggle Block Comment',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1567 /* KeyA */ ,
                linux: {
                    primary: 3103 /* KeyA */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarEditMenu,
                group: '5_insert',
                title: $1WuVQ.localize({
                    key: 'miToggleBlockComment',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Toggle &&Block Comment"),
                order: 2
            }
        });
    }
}
$g9Zlr.registerEditorAction($c5d5f10b2d43f8c6$var$ToggleCommentLineAction);
$g9Zlr.registerEditorAction($c5d5f10b2d43f8c6$var$AddLineCommentAction);
$g9Zlr.registerEditorAction($c5d5f10b2d43f8c6$var$RemoveLineCommentAction);
$g9Zlr.registerEditorAction($c5d5f10b2d43f8c6$var$BlockCommentAction);


var $23ac3fc8f7aed207$exports = {};

var $8xgjE = parcelRequire("8xgjE");

var $8pBDX = parcelRequire("8pBDX");

var $g4Naw = parcelRequire("g4Naw");

var $6W1JA = parcelRequire("6W1JA");

var $7e5Mc = parcelRequire("7e5Mc");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $h4kGX = parcelRequire("h4kGX");

var $grLnf = parcelRequire("grLnf");

var $i2aE6 = parcelRequire("i2aE6");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $23ac3fc8f7aed207$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $23ac3fc8f7aed207$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $23ac3fc8f7aed207$export$4b3a61d923941f77 = class $23ac3fc8f7aed207$export$4b3a61d923941f77 {
    static get(editor) {
        return editor.getContribution($23ac3fc8f7aed207$export$4b3a61d923941f77.ID);
    }
    _onContextMenu(e) {
        if (!this._editor.hasModel()) return;
        if (!this._editor.getOption(20 /* contextmenu */ )) {
            this._editor.focus();
            // Ensure the cursor is at the position of the mouse click
            if (e.target.position && !this._editor.getSelection().containsPosition(e.target.position)) this._editor.setPosition(e.target.position);
            return; // Context menu is turned off through configuration
        }
        if (e.target.type === 12 /* OVERLAY_WIDGET */ ) return; // allow native menu on widgets to support right click on input field for example in find
        e.event.preventDefault();
        e.event.stopPropagation();
        if (e.target.type !== 6 /* CONTENT_TEXT */  && e.target.type !== 7 /* CONTENT_EMPTY */  && e.target.type !== 1 /* TEXTAREA */ ) return; // only support mouse click into text or native context menu key for now
        // Ensure the editor gets focus if it hasn't, so the right events are being sent to other contributions
        this._editor.focus();
        // Ensure the cursor is at the position of the mouse click
        if (e.target.position) {
            let hasSelectionAtPosition = false;
            for (const selection of this._editor.getSelections())if (selection.containsPosition(e.target.position)) {
                hasSelectionAtPosition = true;
                break;
            }
            if (!hasSelectionAtPosition) this._editor.setPosition(e.target.position);
        }
        // Unless the user triggerd the context menu through Shift+F10, use the mouse position as menu position
        let anchor = null;
        if (e.target.type !== 1 /* TEXTAREA */ ) anchor = {
            x: e.event.posx - 1,
            width: 2,
            y: e.event.posy - 1,
            height: 2
        };
        // Show the context menu
        this.showContextMenu(anchor);
    }
    showContextMenu(anchor) {
        if (!this._editor.getOption(20 /* contextmenu */ )) return; // Context menu is turned off through configuration
        if (!this._editor.hasModel()) return;
        if (!this._contextMenuService) {
            this._editor.focus();
            return; // We need the context menu service to function
        }
        // Find actions available for menu
        const menuActions = this._getMenuActions(this._editor.getModel(), this._editor.isSimpleWidget ? $iCLhR.MenuId.SimpleEditorContext : $iCLhR.MenuId.EditorContext);
        // Show menu if we have actions to show
        if (menuActions.length > 0) this._doShowContextMenu(menuActions, anchor);
    }
    _getMenuActions(model, menuId) {
        const result = [];
        // get menu groups
        const menu = this._menuService.createMenu(menuId, this._contextKeyService);
        const groups = menu.getActions({
            arg: model.uri
        });
        menu.dispose();
        // translate them into other actions
        for (let group of groups){
            const [, actions] = group;
            let addedItems = 0;
            for (const action of actions)if (action instanceof $iCLhR.SubmenuItemAction) {
                const subActions = this._getMenuActions(model, action.item.submenu);
                if (subActions.length > 0) {
                    result.push(new $g4Naw.SubmenuAction(action.id, action.label, subActions));
                    addedItems++;
                }
            } else {
                result.push(action);
                addedItems++;
            }
            if (addedItems) result.push(new $g4Naw.Separator());
        }
        if (result.length) result.pop(); // remove last separator
        return result;
    }
    _doShowContextMenu(actions, anchor = null) {
        if (!this._editor.hasModel()) return;
        // Disable hover
        const oldHoverSetting = this._editor.getOption(52 /* hover */ );
        this._editor.updateOptions({
            hover: {
                enabled: false
            }
        });
        if (!anchor) {
            // Ensure selection is visible
            this._editor.revealPosition(this._editor.getPosition(), 1 /* Immediate */ );
            this._editor.render();
            const cursorCoords = this._editor.getScrolledVisiblePosition(this._editor.getPosition());
            // Translate to absolute editor position
            const editorCoords = $8xgjE.getDomNodePagePosition(this._editor.getDomNode());
            const posx = editorCoords.left + cursorCoords.left;
            const posy = editorCoords.top + cursorCoords.top + cursorCoords.height;
            anchor = {
                x: posx,
                y: posy
            };
        }
        const useShadowDOM = this._editor.getOption(114 /* useShadowDOM */ ) && !$7e5Mc.isIOS; // Do not use shadow dom on IOS #122035
        // Show menu
        this._contextMenuIsBeingShownCount++;
        this._contextMenuService.showContextMenu({
            domForShadowRoot: useShadowDOM ? this._editor.getDomNode() : undefined,
            getAnchor: ()=>anchor
            ,
            getActions: ()=>actions
            ,
            getActionViewItem: (action)=>{
                const keybinding = this._keybindingFor(action);
                if (keybinding) return new $8pBDX.ActionViewItem(action, action, {
                    label: true,
                    keybinding: keybinding.getLabel(),
                    isMenu: true
                });
                const customActionViewItem = action;
                if (typeof customActionViewItem.getActionViewItem === 'function') return customActionViewItem.getActionViewItem();
                return new $8pBDX.ActionViewItem(action, action, {
                    icon: true,
                    label: true,
                    isMenu: true
                });
            },
            getKeyBinding: (action)=>{
                return this._keybindingFor(action);
            },
            onHide: (wasCancelled)=>{
                this._contextMenuIsBeingShownCount--;
                this._editor.focus();
                this._editor.updateOptions({
                    hover: oldHoverSetting
                });
            }
        });
    }
    _keybindingFor(action) {
        return this._keybindingService.lookupKeybinding(action.id);
    }
    dispose() {
        if (this._contextMenuIsBeingShownCount > 0) this._contextViewService.hideContextView();
        this._toDispose.dispose();
    }
    constructor(editor, _contextMenuService, _contextViewService, _contextKeyService, _keybindingService, _menuService){
        this._contextMenuService = _contextMenuService;
        this._contextViewService = _contextViewService;
        this._contextKeyService = _contextKeyService;
        this._keybindingService = _keybindingService;
        this._menuService = _menuService;
        this._toDispose = new $6W1JA.DisposableStore();
        this._contextMenuIsBeingShownCount = 0;
        this._editor = editor;
        this._toDispose.add(this._editor.onContextMenu((e)=>this._onContextMenu(e)
        ));
        this._toDispose.add(this._editor.onMouseWheel((e)=>{
            if (this._contextMenuIsBeingShownCount > 0) {
                const view = this._contextViewService.getContextViewElement();
                const target = e.srcElement;
                // Event triggers on shadow root host first
                // Check if the context view is under this host before hiding it #103169
                if (!(target.shadowRoot && $8xgjE.getShadowRoot(view) === target.shadowRoot)) this._contextViewService.hideContextView();
            }
        }));
        this._toDispose.add(this._editor.onKeyDown((e)=>{
            if (e.keyCode === 58 /* ContextMenu */ ) {
                // Chrome is funny like that
                e.preventDefault();
                e.stopPropagation();
                this.showContextMenu();
            }
        }));
    }
};
$23ac3fc8f7aed207$export$4b3a61d923941f77.ID = 'editor.contrib.contextmenu';
$23ac3fc8f7aed207$export$4b3a61d923941f77 = $23ac3fc8f7aed207$var$__decorate([
    $23ac3fc8f7aed207$var$__param(1, $grLnf.IContextMenuService),
    $23ac3fc8f7aed207$var$__param(2, $grLnf.IContextViewService),
    $23ac3fc8f7aed207$var$__param(3, $h4kGX.IContextKeyService),
    $23ac3fc8f7aed207$var$__param(4, $i2aE6.IKeybindingService),
    $23ac3fc8f7aed207$var$__param(5, $iCLhR.IMenuService)
], $23ac3fc8f7aed207$export$4b3a61d923941f77);
class $23ac3fc8f7aed207$var$ShowContextMenu extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let contribution = $23ac3fc8f7aed207$export$4b3a61d923941f77.get(editor);
        contribution.showContextMenu();
    }
    constructor(){
        super({
            id: 'editor.action.showContextMenu',
            label: $1WuVQ.localize('action.showContextMenu.label', "Show Editor Context Menu"),
            alias: 'Show Editor Context Menu',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 1092 /* F10 */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorContribution($23ac3fc8f7aed207$export$4b3a61d923941f77.ID, $23ac3fc8f7aed207$export$4b3a61d923941f77);
$g9Zlr.registerEditorAction($23ac3fc8f7aed207$var$ShowContextMenu);



var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $1WuVQ = parcelRequire("1WuVQ");
class $94b0a7fe9c15ce43$var$CursorState {
    equals(other) {
        const thisLen = this.selections.length;
        const otherLen = other.selections.length;
        if (thisLen !== otherLen) return false;
        for(let i = 0; i < thisLen; i++){
            if (!this.selections[i].equalsSelection(other.selections[i])) return false;
        }
        return true;
    }
    constructor(selections){
        this.selections = selections;
    }
}
class $94b0a7fe9c15ce43$var$StackElement {
    constructor(cursorState, scrollTop, scrollLeft){
        this.cursorState = cursorState;
        this.scrollTop = scrollTop;
        this.scrollLeft = scrollLeft;
    }
}
class $94b0a7fe9c15ce43$export$74eff563205978ea extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution($94b0a7fe9c15ce43$export$74eff563205978ea.ID);
    }
    cursorUndo() {
        if (!this._editor.hasModel() || this._undoStack.length === 0) return;
        this._redoStack.push(new $94b0a7fe9c15ce43$var$StackElement(new $94b0a7fe9c15ce43$var$CursorState(this._editor.getSelections()), this._editor.getScrollTop(), this._editor.getScrollLeft()));
        this._applyState(this._undoStack.pop());
    }
    cursorRedo() {
        if (!this._editor.hasModel() || this._redoStack.length === 0) return;
        this._undoStack.push(new $94b0a7fe9c15ce43$var$StackElement(new $94b0a7fe9c15ce43$var$CursorState(this._editor.getSelections()), this._editor.getScrollTop(), this._editor.getScrollLeft()));
        this._applyState(this._redoStack.pop());
    }
    _applyState(stackElement) {
        this._isCursorUndoRedo = true;
        this._editor.setSelections(stackElement.cursorState.selections);
        this._editor.setScrollPosition({
            scrollTop: stackElement.scrollTop,
            scrollLeft: stackElement.scrollLeft
        });
        this._isCursorUndoRedo = false;
    }
    constructor(editor){
        super();
        this._editor = editor;
        this._isCursorUndoRedo = false;
        this._undoStack = [];
        this._redoStack = [];
        this._register(editor.onDidChangeModel((e)=>{
            this._undoStack = [];
            this._redoStack = [];
        }));
        this._register(editor.onDidChangeModelContent((e)=>{
            this._undoStack = [];
            this._redoStack = [];
        }));
        this._register(editor.onDidChangeCursorSelection((e)=>{
            if (this._isCursorUndoRedo) return;
            if (!e.oldSelections) return;
            if (e.oldModelVersionId !== e.modelVersionId) return;
            const prevState = new $94b0a7fe9c15ce43$var$CursorState(e.oldSelections);
            const isEqualToLastUndoStack = this._undoStack.length > 0 && this._undoStack[this._undoStack.length - 1].cursorState.equals(prevState);
            if (!isEqualToLastUndoStack) {
                this._undoStack.push(new $94b0a7fe9c15ce43$var$StackElement(prevState, editor.getScrollTop(), editor.getScrollLeft()));
                this._redoStack = [];
                if (this._undoStack.length > 50) // keep the cursor undo stack bounded
                this._undoStack.shift();
            }
        }));
    }
}
$94b0a7fe9c15ce43$export$74eff563205978ea.ID = 'editor.contrib.cursorUndoRedoController';
class $94b0a7fe9c15ce43$export$3118bf0ed8b65899 extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        $94b0a7fe9c15ce43$export$74eff563205978ea.get(editor).cursorUndo();
    }
    constructor(){
        super({
            id: 'cursorUndo',
            label: $1WuVQ.localize('cursor.undo', "Cursor Undo"),
            alias: 'Cursor Undo',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 2099 /* KeyU */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $94b0a7fe9c15ce43$export$d501f63aca5a7669 extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        $94b0a7fe9c15ce43$export$74eff563205978ea.get(editor).cursorRedo();
    }
    constructor(){
        super({
            id: 'cursorRedo',
            label: $1WuVQ.localize('cursor.redo', "Cursor Redo"),
            alias: 'Cursor Redo',
            precondition: undefined
        });
    }
}
$g9Zlr.registerEditorContribution($94b0a7fe9c15ce43$export$74eff563205978ea.ID, $94b0a7fe9c15ce43$export$74eff563205978ea);
$g9Zlr.registerEditorAction($94b0a7fe9c15ce43$export$3118bf0ed8b65899);
$g9Zlr.registerEditorAction($94b0a7fe9c15ce43$export$d501f63aca5a7669);



var $6W1JA = parcelRequire("6W1JA");

var $7e5Mc = parcelRequire("7e5Mc");


var $g9Zlr = parcelRequire("g9Zlr");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $72tIz = parcelRequire("72tIz");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");
class $53eabd04e1ccdebd$export$eb6766de171f86ab {
    getEditOperations(model, builder) {
        let text = model.getValueInRange(this.selection);
        if (!this.copy) builder.addEditOperation(this.selection, null);
        builder.addEditOperation(new $1YFxJ.Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);
        if (this.selection.containsPosition(this.targetPosition) && !(this.copy && (this.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition) // we allow users to paste content beside the selection
        ))) {
            this.targetSelection = this.selection;
            return;
        }
        if (this.copy) {
            this.targetSelection = new $jS6at.Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column + this.selection.endColumn - this.selection.startColumn : this.selection.endColumn);
            return;
        }
        if (this.targetPosition.lineNumber > this.selection.endLineNumber) {
            // Drag the selection downwards
            this.targetSelection = new $jS6at.Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column + this.selection.endColumn - this.selection.startColumn : this.selection.endColumn);
            return;
        }
        if (this.targetPosition.lineNumber < this.selection.endLineNumber) {
            // Drag the selection upwards
            this.targetSelection = new $jS6at.Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column + this.selection.endColumn - this.selection.startColumn : this.selection.endColumn);
            return;
        }
        // The target position is at the same line as the selection's end position.
        if (this.selection.endColumn <= this.targetPosition.column) // The target position is after the selection's end position
        this.targetSelection = new $jS6at.Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column - this.selection.endColumn + this.selection.startColumn : this.targetPosition.column - this.selection.endColumn + this.selection.startColumn, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ? this.targetPosition.column : this.selection.endColumn);
        else // The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.
        this.targetSelection = new $jS6at.Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column + this.selection.endColumn - this.selection.startColumn);
    }
    computeCursorState(model, helper) {
        return this.targetSelection;
    }
    constructor(selection, targetPosition, copy){
        this.selection = selection;
        this.targetPosition = targetPosition;
        this.copy = copy;
        this.targetSelection = null;
    }
}


function $0909a8a537730a5e$var$hasTriggerModifier(e) {
    if ($7e5Mc.isMacintosh) return e.altKey;
    else return e.ctrlKey;
}
class $0909a8a537730a5e$export$809c28265265f08e extends $6W1JA.Disposable {
    onEditorBlur() {
        this._removeDecoration();
        this._dragSelection = null;
        this._mouseDown = false;
        this._modifierPressed = false;
    }
    onEditorKeyDown(e) {
        if (!this._editor.getOption(31 /* dragAndDrop */ ) || this._editor.getOption(18 /* columnSelection */ )) return;
        if ($0909a8a537730a5e$var$hasTriggerModifier(e)) this._modifierPressed = true;
        if (this._mouseDown && $0909a8a537730a5e$var$hasTriggerModifier(e)) this._editor.updateOptions({
            mouseStyle: 'copy'
        });
    }
    onEditorKeyUp(e) {
        if (!this._editor.getOption(31 /* dragAndDrop */ ) || this._editor.getOption(18 /* columnSelection */ )) return;
        if ($0909a8a537730a5e$var$hasTriggerModifier(e)) this._modifierPressed = false;
        if (this._mouseDown && e.keyCode === $0909a8a537730a5e$export$809c28265265f08e.TRIGGER_KEY_VALUE) this._editor.updateOptions({
            mouseStyle: 'default'
        });
    }
    _onEditorMouseDown(mouseEvent) {
        this._mouseDown = true;
    }
    _onEditorMouseUp(mouseEvent) {
        this._mouseDown = false;
        // Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.
        this._editor.updateOptions({
            mouseStyle: 'text'
        });
    }
    _onEditorMouseDrag(mouseEvent) {
        let target = mouseEvent.target;
        if (this._dragSelection === null) {
            const selections = this._editor.getSelections() || [];
            let possibleSelections = selections.filter((selection)=>target.position && selection.containsPosition(target.position)
            );
            if (possibleSelections.length === 1) this._dragSelection = possibleSelections[0];
            else return;
        }
        if ($0909a8a537730a5e$var$hasTriggerModifier(mouseEvent.event)) this._editor.updateOptions({
            mouseStyle: 'copy'
        });
        else this._editor.updateOptions({
            mouseStyle: 'default'
        });
        if (target.position) {
            if (this._dragSelection.containsPosition(target.position)) this._removeDecoration();
            else this.showAt(target.position);
        }
    }
    _onEditorMouseDropCanceled() {
        this._editor.updateOptions({
            mouseStyle: 'text'
        });
        this._removeDecoration();
        this._dragSelection = null;
        this._mouseDown = false;
    }
    _onEditorMouseDrop(mouseEvent) {
        if (mouseEvent.target && (this._hitContent(mouseEvent.target) || this._hitMargin(mouseEvent.target)) && mouseEvent.target.position) {
            let newCursorPosition = new $fqrfT.Position(mouseEvent.target.position.lineNumber, mouseEvent.target.position.column);
            if (this._dragSelection === null) {
                let newSelections = null;
                if (mouseEvent.event.shiftKey) {
                    let primarySelection = this._editor.getSelection();
                    if (primarySelection) {
                        const { selectionStartLineNumber: selectionStartLineNumber , selectionStartColumn: selectionStartColumn  } = primarySelection;
                        newSelections = [
                            new $jS6at.Selection(selectionStartLineNumber, selectionStartColumn, newCursorPosition.lineNumber, newCursorPosition.column)
                        ];
                    }
                } else newSelections = (this._editor.getSelections() || []).map((selection)=>{
                    if (selection.containsPosition(newCursorPosition)) return new $jS6at.Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);
                    else return selection;
                });
                // Use `mouse` as the source instead of `api` and setting the reason to explicit (to behave like any other mouse operation).
                this._editor.setSelections(newSelections || [], 'mouse', 3 /* Explicit */ );
            } else if (!this._dragSelection.containsPosition(newCursorPosition) || ($0909a8a537730a5e$var$hasTriggerModifier(mouseEvent.event) || this._modifierPressed) && (this._dragSelection.getEndPosition().equals(newCursorPosition) || this._dragSelection.getStartPosition().equals(newCursorPosition) // we allow users to paste content beside the selection
            )) {
                this._editor.pushUndoStop();
                this._editor.executeCommand($0909a8a537730a5e$export$809c28265265f08e.ID, new $53eabd04e1ccdebd$export$eb6766de171f86ab(this._dragSelection, newCursorPosition, $0909a8a537730a5e$var$hasTriggerModifier(mouseEvent.event) || this._modifierPressed));
                this._editor.pushUndoStop();
            }
        }
        this._editor.updateOptions({
            mouseStyle: 'text'
        });
        this._removeDecoration();
        this._dragSelection = null;
        this._mouseDown = false;
    }
    showAt(position) {
        let newDecorations = [
            {
                range: new $1YFxJ.Range(position.lineNumber, position.column, position.lineNumber, position.column),
                options: $0909a8a537730a5e$export$809c28265265f08e._DECORATION_OPTIONS
            }
        ];
        this._dndDecorationIds = this._editor.deltaDecorations(this._dndDecorationIds, newDecorations);
        this._editor.revealPosition(position, 1 /* Immediate */ );
    }
    _removeDecoration() {
        this._dndDecorationIds = this._editor.deltaDecorations(this._dndDecorationIds, []);
    }
    _hitContent(target) {
        return target.type === 6 /* CONTENT_TEXT */  || target.type === 7 /* CONTENT_EMPTY */ ;
    }
    _hitMargin(target) {
        return target.type === 2 /* GUTTER_GLYPH_MARGIN */  || target.type === 3 /* GUTTER_LINE_NUMBERS */  || target.type === 4 /* GUTTER_LINE_DECORATIONS */ ;
    }
    dispose() {
        this._removeDecoration();
        this._dragSelection = null;
        this._mouseDown = false;
        this._modifierPressed = false;
        super.dispose();
    }
    constructor(editor){
        super();
        this._editor = editor;
        this._register(this._editor.onMouseDown((e)=>this._onEditorMouseDown(e)
        ));
        this._register(this._editor.onMouseUp((e)=>this._onEditorMouseUp(e)
        ));
        this._register(this._editor.onMouseDrag((e)=>this._onEditorMouseDrag(e)
        ));
        this._register(this._editor.onMouseDrop((e)=>this._onEditorMouseDrop(e)
        ));
        this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled()
        ));
        this._register(this._editor.onKeyDown((e)=>this.onEditorKeyDown(e)
        ));
        this._register(this._editor.onKeyUp((e)=>this.onEditorKeyUp(e)
        ));
        this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur()
        ));
        this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur()
        ));
        this._dndDecorationIds = [];
        this._mouseDown = false;
        this._modifierPressed = false;
        this._dragSelection = null;
    }
}
$0909a8a537730a5e$export$809c28265265f08e.ID = 'editor.contrib.dragAndDrop';
$0909a8a537730a5e$export$809c28265265f08e.TRIGGER_KEY_VALUE = $7e5Mc.isMacintosh ? 6 /* Alt */  : 5 /* Ctrl */ ;
$0909a8a537730a5e$export$809c28265265f08e._DECORATION_OPTIONS = $72tIz.ModelDecorationOptions.register({
    description: 'dnd-target',
    className: 'dnd-target'
});
$g9Zlr.registerEditorContribution($0909a8a537730a5e$export$809c28265265f08e.ID, $0909a8a537730a5e$export$809c28265265f08e);


var $d0d3d74e57b5f086$exports = {};

$parcel$export($d0d3d74e57b5f086$exports, "CommonFindController", function () { return $d0d3d74e57b5f086$export$3190f9a23ad62166; }, function (v) { return $d0d3d74e57b5f086$export$3190f9a23ad62166 = v; });

var $5piST = parcelRequire("5piST");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $duSG1 = parcelRequire("duSG1");

var $5piST = parcelRequire("5piST");

var $6W1JA = parcelRequire("6W1JA");

var $eSuzf = parcelRequire("eSuzf");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $hFugC = parcelRequire("hFugC");

var $1YFxJ = parcelRequire("1YFxJ");

var $96X4O = parcelRequire("96X4O");

var $72tIz = parcelRequire("72tIz");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
class $08b0cbad2bac3c1a$export$bd754614700a28d5 {
    dispose() {
        this._editor.deltaDecorations(this._allDecorations(), []);
        this._decorations = [];
        this._overviewRulerApproximateDecorations = [];
        this._findScopeDecorationIds = [];
        this._rangeHighlightDecorationId = null;
        this._highlightedDecorationId = null;
    }
    reset() {
        this._decorations = [];
        this._overviewRulerApproximateDecorations = [];
        this._findScopeDecorationIds = [];
        this._rangeHighlightDecorationId = null;
        this._highlightedDecorationId = null;
    }
    getCount() {
        return this._decorations.length;
    }
    /** @deprecated use getFindScopes to support multiple selections */ getFindScope() {
        if (this._findScopeDecorationIds[0]) return this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]);
        return null;
    }
    getFindScopes() {
        if (this._findScopeDecorationIds.length) {
            const scopes = this._findScopeDecorationIds.map((findScopeDecorationId)=>this._editor.getModel().getDecorationRange(findScopeDecorationId)
            ).filter((element)=>!!element
            );
            if (scopes.length) return scopes;
        }
        return null;
    }
    getStartPosition() {
        return this._startPosition;
    }
    setStartPosition(newStartPosition) {
        this._startPosition = newStartPosition;
        this.setCurrentFindMatch(null);
    }
    _getDecorationIndex(decorationId) {
        const index = this._decorations.indexOf(decorationId);
        if (index >= 0) return index + 1;
        return 1;
    }
    getCurrentMatchesPosition(desiredRange) {
        let candidates = this._editor.getModel().getDecorationsInRange(desiredRange);
        for (const candidate of candidates){
            const candidateOpts = candidate.options;
            if (candidateOpts === $08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_DECORATION || candidateOpts === $08b0cbad2bac3c1a$export$bd754614700a28d5._CURRENT_FIND_MATCH_DECORATION) return this._getDecorationIndex(candidate.id);
        }
        // We don't know the current match position, so returns zero to show '?' in find widget
        return 0;
    }
    setCurrentFindMatch(nextMatch) {
        let newCurrentDecorationId = null;
        let matchPosition = 0;
        if (nextMatch) for(let i = 0, len = this._decorations.length; i < len; i++){
            let range = this._editor.getModel().getDecorationRange(this._decorations[i]);
            if (nextMatch.equalsRange(range)) {
                newCurrentDecorationId = this._decorations[i];
                matchPosition = i + 1;
                break;
            }
        }
        if (this._highlightedDecorationId !== null || newCurrentDecorationId !== null) this._editor.changeDecorations((changeAccessor)=>{
            if (this._highlightedDecorationId !== null) {
                changeAccessor.changeDecorationOptions(this._highlightedDecorationId, $08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_DECORATION);
                this._highlightedDecorationId = null;
            }
            if (newCurrentDecorationId !== null) {
                this._highlightedDecorationId = newCurrentDecorationId;
                changeAccessor.changeDecorationOptions(this._highlightedDecorationId, $08b0cbad2bac3c1a$export$bd754614700a28d5._CURRENT_FIND_MATCH_DECORATION);
            }
            if (this._rangeHighlightDecorationId !== null) {
                changeAccessor.removeDecoration(this._rangeHighlightDecorationId);
                this._rangeHighlightDecorationId = null;
            }
            if (newCurrentDecorationId !== null) {
                let rng = this._editor.getModel().getDecorationRange(newCurrentDecorationId);
                if (rng.startLineNumber !== rng.endLineNumber && rng.endColumn === 1) {
                    let lineBeforeEnd = rng.endLineNumber - 1;
                    let lineBeforeEndMaxColumn = this._editor.getModel().getLineMaxColumn(lineBeforeEnd);
                    rng = new $1YFxJ.Range(rng.startLineNumber, rng.startColumn, lineBeforeEnd, lineBeforeEndMaxColumn);
                }
                this._rangeHighlightDecorationId = changeAccessor.addDecoration(rng, $08b0cbad2bac3c1a$export$bd754614700a28d5._RANGE_HIGHLIGHT_DECORATION);
            }
        });
        return matchPosition;
    }
    set(findMatches, findScopes) {
        this._editor.changeDecorations((accessor)=>{
            let findMatchesOptions = $08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_DECORATION;
            let newOverviewRulerApproximateDecorations = [];
            if (findMatches.length > 1000) {
                // we go into a mode where the overview ruler gets "approximate" decorations
                // the reason is that the overview ruler paints all the decorations in the file and we don't want to cause freezes
                findMatchesOptions = $08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_NO_OVERVIEW_DECORATION;
                // approximate a distance in lines where matches should be merged
                const lineCount = this._editor.getModel().getLineCount();
                const height = this._editor.getLayoutInfo().height;
                const approxPixelsPerLine = height / lineCount;
                const mergeLinesDelta = Math.max(2, Math.ceil(3 / approxPixelsPerLine));
                // merge decorations as much as possible
                let prevStartLineNumber = findMatches[0].range.startLineNumber;
                let prevEndLineNumber = findMatches[0].range.endLineNumber;
                for(let i = 1, len = findMatches.length; i < len; i++){
                    const range = findMatches[i].range;
                    if (prevEndLineNumber + mergeLinesDelta >= range.startLineNumber) {
                        if (range.endLineNumber > prevEndLineNumber) prevEndLineNumber = range.endLineNumber;
                    } else {
                        newOverviewRulerApproximateDecorations.push({
                            range: new $1YFxJ.Range(prevStartLineNumber, 1, prevEndLineNumber, 1),
                            options: $08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_ONLY_OVERVIEW_DECORATION
                        });
                        prevStartLineNumber = range.startLineNumber;
                        prevEndLineNumber = range.endLineNumber;
                    }
                }
                newOverviewRulerApproximateDecorations.push({
                    range: new $1YFxJ.Range(prevStartLineNumber, 1, prevEndLineNumber, 1),
                    options: $08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_ONLY_OVERVIEW_DECORATION
                });
            }
            // Find matches
            let newFindMatchesDecorations = new Array(findMatches.length);
            for(let i = 0, len = findMatches.length; i < len; i++)newFindMatchesDecorations[i] = {
                range: findMatches[i].range,
                options: findMatchesOptions
            };
            this._decorations = accessor.deltaDecorations(this._decorations, newFindMatchesDecorations);
            // Overview ruler approximate decorations
            this._overviewRulerApproximateDecorations = accessor.deltaDecorations(this._overviewRulerApproximateDecorations, newOverviewRulerApproximateDecorations);
            // Range highlight
            if (this._rangeHighlightDecorationId) {
                accessor.removeDecoration(this._rangeHighlightDecorationId);
                this._rangeHighlightDecorationId = null;
            }
            // Find scope
            if (this._findScopeDecorationIds.length) {
                this._findScopeDecorationIds.forEach((findScopeDecorationId)=>accessor.removeDecoration(findScopeDecorationId)
                );
                this._findScopeDecorationIds = [];
            }
            if (findScopes === null || findScopes === void 0 ? void 0 : findScopes.length) this._findScopeDecorationIds = findScopes.map((findScope)=>accessor.addDecoration(findScope, $08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_SCOPE_DECORATION)
            );
        });
    }
    matchBeforePosition(position) {
        if (this._decorations.length === 0) return null;
        for(let i = this._decorations.length - 1; i >= 0; i--){
            let decorationId = this._decorations[i];
            let r = this._editor.getModel().getDecorationRange(decorationId);
            if (!r || r.endLineNumber > position.lineNumber) continue;
            if (r.endLineNumber < position.lineNumber) return r;
            if (r.endColumn > position.column) continue;
            return r;
        }
        return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length - 1]);
    }
    matchAfterPosition(position) {
        if (this._decorations.length === 0) return null;
        for(let i = 0, len = this._decorations.length; i < len; i++){
            let decorationId = this._decorations[i];
            let r = this._editor.getModel().getDecorationRange(decorationId);
            if (!r || r.startLineNumber < position.lineNumber) continue;
            if (r.startLineNumber > position.lineNumber) return r;
            if (r.startColumn < position.column) continue;
            return r;
        }
        return this._editor.getModel().getDecorationRange(this._decorations[0]);
    }
    _allDecorations() {
        let result = [];
        result = result.concat(this._decorations);
        result = result.concat(this._overviewRulerApproximateDecorations);
        if (this._findScopeDecorationIds.length) result.push(...this._findScopeDecorationIds);
        if (this._rangeHighlightDecorationId) result.push(this._rangeHighlightDecorationId);
        return result;
    }
    constructor(editor){
        this._editor = editor;
        this._decorations = [];
        this._overviewRulerApproximateDecorations = [];
        this._findScopeDecorationIds = [];
        this._rangeHighlightDecorationId = null;
        this._highlightedDecorationId = null;
        this._startPosition = this._editor.getPosition();
    }
}
$08b0cbad2bac3c1a$export$bd754614700a28d5._CURRENT_FIND_MATCH_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'current-find-match',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    zIndex: 13,
    className: 'currentFindMatch',
    showIfCollapsed: true,
    overviewRuler: {
        color: $5Wwop.themeColorFromId($kL4Ig.overviewRulerFindMatchForeground),
        position: $96X4O.OverviewRulerLane.Center
    },
    minimap: {
        color: $5Wwop.themeColorFromId($kL4Ig.minimapFindMatch),
        position: $96X4O.MinimapPosition.Inline
    }
});
$08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'find-match',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    zIndex: 10,
    className: 'findMatch',
    showIfCollapsed: true,
    overviewRuler: {
        color: $5Wwop.themeColorFromId($kL4Ig.overviewRulerFindMatchForeground),
        position: $96X4O.OverviewRulerLane.Center
    },
    minimap: {
        color: $5Wwop.themeColorFromId($kL4Ig.minimapFindMatch),
        position: $96X4O.MinimapPosition.Inline
    }
});
$08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_NO_OVERVIEW_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'find-match-no-overview',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'findMatch',
    showIfCollapsed: true
});
$08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_MATCH_ONLY_OVERVIEW_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'find-match-only-overview',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    overviewRuler: {
        color: $5Wwop.themeColorFromId($kL4Ig.overviewRulerFindMatchForeground),
        position: $96X4O.OverviewRulerLane.Center
    }
});
$08b0cbad2bac3c1a$export$bd754614700a28d5._RANGE_HIGHLIGHT_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'find-range-highlight',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'rangeHighlight',
    isWholeLine: true
});
$08b0cbad2bac3c1a$export$bd754614700a28d5._FIND_SCOPE_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'find-scope',
    className: 'findScope',
    isWholeLine: true
});



var $1YFxJ = parcelRequire("1YFxJ");
class $a348e131bd1b1ff2$export$3f7edd8e0e87094f {
    getEditOperations(model, builder) {
        if (this._ranges.length > 0) {
            // Collect all edit operations
            let ops = [];
            for(let i = 0; i < this._ranges.length; i++)ops.push({
                range: this._ranges[i],
                text: this._replaceStrings[i]
            });
            // Sort them in ascending order by range starts
            ops.sort((o1, o2)=>{
                return $1YFxJ.Range.compareRangesUsingStarts(o1.range, o2.range);
            });
            // Merge operations that touch each other
            let resultOps = [];
            let previousOp = ops[0];
            for(let i1 = 1; i1 < ops.length; i1++)if (previousOp.range.endLineNumber === ops[i1].range.startLineNumber && previousOp.range.endColumn === ops[i1].range.startColumn) {
                // These operations are one after another and can be merged
                previousOp.range = previousOp.range.plusRange(ops[i1].range);
                previousOp.text = previousOp.text + ops[i1].text;
            } else {
                resultOps.push(previousOp);
                previousOp = ops[i1];
            }
            resultOps.push(previousOp);
            for (const op of resultOps)builder.addEditOperation(op.range, op.text);
        }
        this._trackedEditorSelectionId = builder.trackSelection(this._editorSelection);
    }
    computeCursorState(model, helper) {
        return helper.getTrackedSelection(this._trackedEditorSelectionId);
    }
    constructor(editorSelection, ranges, replaceStrings){
        this._editorSelection = editorSelection;
        this._ranges = ranges;
        this._replaceStrings = replaceStrings;
        this._trackedEditorSelectionId = null;
    }
}



var $i4xl7 = parcelRequire("i4xl7");
function $9a7f7a72bcfcf68e$export$f007c37acc80e042(matches, pattern) {
    if (matches && matches[0] !== '') {
        const containsHyphens = $9a7f7a72bcfcf68e$var$validateSpecificSpecialCharacter(matches, pattern, '-');
        const containsUnderscores = $9a7f7a72bcfcf68e$var$validateSpecificSpecialCharacter(matches, pattern, '_');
        if (containsHyphens && !containsUnderscores) return $9a7f7a72bcfcf68e$var$buildReplaceStringForSpecificSpecialCharacter(matches, pattern, '-');
        else if (!containsHyphens && containsUnderscores) return $9a7f7a72bcfcf68e$var$buildReplaceStringForSpecificSpecialCharacter(matches, pattern, '_');
        if (matches[0].toUpperCase() === matches[0]) return pattern.toUpperCase();
        else if (matches[0].toLowerCase() === matches[0]) return pattern.toLowerCase();
        else if ($i4xl7.containsUppercaseCharacter(matches[0][0]) && pattern.length > 0) return pattern[0].toUpperCase() + pattern.substr(1);
        else if (matches[0][0].toUpperCase() !== matches[0][0] && pattern.length > 0) return pattern[0].toLowerCase() + pattern.substr(1);
        else // we don't understand its pattern yet.
        return pattern;
    } else return pattern;
}
function $9a7f7a72bcfcf68e$var$validateSpecificSpecialCharacter(matches, pattern, specialCharacter) {
    const doesContainSpecialCharacter = matches[0].indexOf(specialCharacter) !== -1 && pattern.indexOf(specialCharacter) !== -1;
    return doesContainSpecialCharacter && matches[0].split(specialCharacter).length === pattern.split(specialCharacter).length;
}
function $9a7f7a72bcfcf68e$var$buildReplaceStringForSpecificSpecialCharacter(matches, pattern, specialCharacter) {
    const splitPatternAtSpecialCharacter = pattern.split(specialCharacter);
    const splitMatchAtSpecialCharacter = matches[0].split(specialCharacter);
    let replaceString = '';
    splitPatternAtSpecialCharacter.forEach((splitValue, index)=>{
        replaceString += $9a7f7a72bcfcf68e$export$f007c37acc80e042([
            splitMatchAtSpecialCharacter[index]
        ], splitValue) + specialCharacter;
    });
    return replaceString.slice(0, -1);
}


/**
 * Assigned when the replace pattern is entirely static.
 */ class $41d9e2fb4514653f$var$StaticValueReplacePattern {
    constructor(staticValue){
        this.staticValue = staticValue;
        this.kind = 0 /* StaticValue */ ;
    }
}
/**
 * Assigned when the replace pattern has replacement patterns.
 */ class $41d9e2fb4514653f$var$DynamicPiecesReplacePattern {
    constructor(pieces){
        this.pieces = pieces;
        this.kind = 1 /* DynamicPieces */ ;
    }
}
class $41d9e2fb4514653f$export$512648940a758bce {
    static fromStaticValue(value) {
        return new $41d9e2fb4514653f$export$512648940a758bce([
            $41d9e2fb4514653f$export$1454288cb32b9472.staticValue(value)
        ]);
    }
    get hasReplacementPatterns() {
        return this._state.kind === 1 /* DynamicPieces */ ;
    }
    buildReplaceString(matches, preserveCase) {
        if (this._state.kind === 0 /* StaticValue */ ) {
            if (preserveCase) return $9a7f7a72bcfcf68e$export$f007c37acc80e042(matches, this._state.staticValue);
            else return this._state.staticValue;
        }
        let result = '';
        for(let i = 0, len = this._state.pieces.length; i < len; i++){
            let piece = this._state.pieces[i];
            if (piece.staticValue !== null) {
                // static value ReplacePiece
                result += piece.staticValue;
                continue;
            }
            // match index ReplacePiece
            let match = $41d9e2fb4514653f$export$512648940a758bce._substitute(piece.matchIndex, matches);
            if (piece.caseOps !== null && piece.caseOps.length > 0) {
                let repl = [];
                let lenOps = piece.caseOps.length;
                let opIdx = 0;
                for(let idx = 0, len = match.length; idx < len; idx++){
                    if (opIdx >= lenOps) {
                        repl.push(match.slice(idx));
                        break;
                    }
                    switch(piece.caseOps[opIdx]){
                        case 'U':
                            repl.push(match[idx].toUpperCase());
                            break;
                        case 'u':
                            repl.push(match[idx].toUpperCase());
                            opIdx++;
                            break;
                        case 'L':
                            repl.push(match[idx].toLowerCase());
                            break;
                        case 'l':
                            repl.push(match[idx].toLowerCase());
                            opIdx++;
                            break;
                        default:
                            repl.push(match[idx]);
                    }
                }
                match = repl.join('');
            }
            result += match;
        }
        return result;
    }
    static _substitute(matchIndex, matches) {
        if (matches === null) return '';
        if (matchIndex === 0) return matches[0];
        let remainder = '';
        while(matchIndex > 0){
            if (matchIndex < matches.length) {
                // A match can be undefined
                let match = matches[matchIndex] || '';
                return match + remainder;
            }
            remainder = String(matchIndex % 10) + remainder;
            matchIndex = Math.floor(matchIndex / 10);
        }
        return '$' + remainder;
    }
    constructor(pieces){
        if (!pieces || pieces.length === 0) this._state = new $41d9e2fb4514653f$var$StaticValueReplacePattern('');
        else if (pieces.length === 1 && pieces[0].staticValue !== null) this._state = new $41d9e2fb4514653f$var$StaticValueReplacePattern(pieces[0].staticValue);
        else this._state = new $41d9e2fb4514653f$var$DynamicPiecesReplacePattern(pieces);
    }
}
class $41d9e2fb4514653f$export$1454288cb32b9472 {
    static staticValue(value) {
        return new $41d9e2fb4514653f$export$1454288cb32b9472(value, -1, null);
    }
    static caseOps(index, caseOps) {
        return new $41d9e2fb4514653f$export$1454288cb32b9472(null, index, caseOps);
    }
    constructor(staticValue, matchIndex, caseOps){
        this.staticValue = staticValue;
        this.matchIndex = matchIndex;
        if (!caseOps || caseOps.length === 0) this.caseOps = null;
        else this.caseOps = caseOps.slice(0);
    }
}
class $41d9e2fb4514653f$var$ReplacePieceBuilder {
    emitUnchanged(toCharIndex) {
        this._emitStatic(this._source.substring(this._lastCharIndex, toCharIndex));
        this._lastCharIndex = toCharIndex;
    }
    emitStatic(value, toCharIndex) {
        this._emitStatic(value);
        this._lastCharIndex = toCharIndex;
    }
    _emitStatic(value) {
        if (value.length === 0) return;
        this._currentStaticPiece += value;
    }
    emitMatchIndex(index, toCharIndex, caseOps) {
        if (this._currentStaticPiece.length !== 0) {
            this._result[this._resultLen++] = $41d9e2fb4514653f$export$1454288cb32b9472.staticValue(this._currentStaticPiece);
            this._currentStaticPiece = '';
        }
        this._result[this._resultLen++] = $41d9e2fb4514653f$export$1454288cb32b9472.caseOps(index, caseOps);
        this._lastCharIndex = toCharIndex;
    }
    finalize() {
        this.emitUnchanged(this._source.length);
        if (this._currentStaticPiece.length !== 0) {
            this._result[this._resultLen++] = $41d9e2fb4514653f$export$1454288cb32b9472.staticValue(this._currentStaticPiece);
            this._currentStaticPiece = '';
        }
        return new $41d9e2fb4514653f$export$512648940a758bce(this._result);
    }
    constructor(source){
        this._source = source;
        this._lastCharIndex = 0;
        this._result = [];
        this._resultLen = 0;
        this._currentStaticPiece = '';
    }
}
function $41d9e2fb4514653f$export$ca668b7a7924cbca(replaceString) {
    if (!replaceString || replaceString.length === 0) return new $41d9e2fb4514653f$export$512648940a758bce(null);
    let caseOps = [];
    let result = new $41d9e2fb4514653f$var$ReplacePieceBuilder(replaceString);
    for(let i = 0, len = replaceString.length; i < len; i++){
        let chCode = replaceString.charCodeAt(i);
        if (chCode === 92 /* Backslash */ ) {
            // move to next char
            i++;
            if (i >= len) break;
            let nextChCode = replaceString.charCodeAt(i);
            // let replaceWithCharacter: string | null = null;
            switch(nextChCode){
                case 92 /* Backslash */ :
                    // \\ => inserts a "\"
                    result.emitUnchanged(i - 1);
                    result.emitStatic('\\', i + 1);
                    break;
                case 110 /* n */ :
                    // \n => inserts a LF
                    result.emitUnchanged(i - 1);
                    result.emitStatic('\n', i + 1);
                    break;
                case 116 /* t */ :
                    // \t => inserts a TAB
                    result.emitUnchanged(i - 1);
                    result.emitStatic('\t', i + 1);
                    break;
                // Case modification of string replacements, patterned after Boost, but only applied
                // to the replacement text, not subsequent content.
                case 117 /* u */ :
                // \u => upper-cases one character.
                case 85 /* U */ :
                // \U => upper-cases ALL following characters.
                case 108 /* l */ :
                // \l => lower-cases one character.
                case 76 /* L */ :
                    // \L => lower-cases ALL following characters.
                    result.emitUnchanged(i - 1);
                    result.emitStatic('', i + 1);
                    caseOps.push(String.fromCharCode(nextChCode));
                    break;
            }
            continue;
        }
        if (chCode === 36 /* DollarSign */ ) {
            // move to next char
            i++;
            if (i >= len) break;
            let nextChCode = replaceString.charCodeAt(i);
            if (nextChCode === 36 /* DollarSign */ ) {
                // $$ => inserts a "$"
                result.emitUnchanged(i - 1);
                result.emitStatic('$', i + 1);
                continue;
            }
            if (nextChCode === 48 /* Digit0 */  || nextChCode === 38 /* Ampersand */ ) {
                // $& and $0 => inserts the matched substring.
                result.emitUnchanged(i - 1);
                result.emitMatchIndex(0, i + 1, caseOps);
                caseOps.length = 0;
                continue;
            }
            if (49 /* Digit1 */  <= nextChCode && nextChCode <= 57 /* Digit9 */ ) {
                // $n
                let matchIndex = nextChCode - 48 /* Digit0 */ ;
                // peek next char to probe for $nn
                if (i + 1 < len) {
                    let nextNextChCode = replaceString.charCodeAt(i + 1);
                    if (48 /* Digit0 */  <= nextNextChCode && nextNextChCode <= 57 /* Digit9 */ ) {
                        // $nn
                        // move to next char
                        i++;
                        matchIndex = matchIndex * 10 + (nextNextChCode - 48 /* Digit0 */ );
                        result.emitUnchanged(i - 2);
                        result.emitMatchIndex(matchIndex, i + 1, caseOps);
                        caseOps.length = 0;
                        continue;
                    }
                }
                result.emitUnchanged(i - 1);
                result.emitMatchIndex(matchIndex, i + 1, caseOps);
                caseOps.length = 0;
                continue;
            }
        }
    }
    return result.finalize();
}



var $h4kGX = parcelRequire("h4kGX");
const $a3a9155c09fe06f0$export$bc27e4192c4ca2b8 = new $h4kGX.RawContextKey('findWidgetVisible', false);
const $a3a9155c09fe06f0$export$ee1a044baab7813d = $a3a9155c09fe06f0$export$bc27e4192c4ca2b8.toNegated();
const $a3a9155c09fe06f0$export$1bcc3ed82148a8b9 = new $h4kGX.RawContextKey('findInputFocussed', false);
const $a3a9155c09fe06f0$export$1b9f123cc9b71d78 = new $h4kGX.RawContextKey('replaceInputFocussed', false);
const $a3a9155c09fe06f0$export$2fe068521df792d6 = {
    primary: 545 /* KeyC */ ,
    mac: {
        primary: 2593 /* KeyC */ 
    }
};
const $a3a9155c09fe06f0$export$cc2b8eb9ab15ca30 = {
    primary: 565 /* KeyW */ ,
    mac: {
        primary: 2613 /* KeyW */ 
    }
};
const $a3a9155c09fe06f0$export$7c479f7cdbb6d55e = {
    primary: 560 /* KeyR */ ,
    mac: {
        primary: 2608 /* KeyR */ 
    }
};
const $a3a9155c09fe06f0$export$a02b1f674b6f16d3 = {
    primary: 554 /* KeyL */ ,
    mac: {
        primary: 2602 /* KeyL */ 
    }
};
const $a3a9155c09fe06f0$export$68ae9fdc5844d61a = {
    primary: 558 /* KeyP */ ,
    mac: {
        primary: 2606 /* KeyP */ 
    }
};
const $a3a9155c09fe06f0$export$a4fc1be778636938 = {
    StartFindAction: 'actions.find',
    StartFindWithSelection: 'actions.findWithSelection',
    StartFindWithArgs: 'editor.actions.findWithArgs',
    NextMatchFindAction: 'editor.action.nextMatchFindAction',
    PreviousMatchFindAction: 'editor.action.previousMatchFindAction',
    NextSelectionMatchFindAction: 'editor.action.nextSelectionMatchFindAction',
    PreviousSelectionMatchFindAction: 'editor.action.previousSelectionMatchFindAction',
    StartFindReplaceAction: 'editor.action.startFindReplaceAction',
    CloseFindWidgetCommand: 'closeFindWidget',
    ToggleCaseSensitiveCommand: 'toggleFindCaseSensitive',
    ToggleWholeWordCommand: 'toggleFindWholeWord',
    ToggleRegexCommand: 'toggleFindRegex',
    ToggleSearchScopeCommand: 'toggleFindInSelection',
    TogglePreserveCaseCommand: 'togglePreserveCase',
    ReplaceOneAction: 'editor.action.replaceOne',
    ReplaceAllAction: 'editor.action.replaceAll',
    SelectAllMatchesAction: 'editor.action.selectAllMatches'
};
const $a3a9155c09fe06f0$export$79640dbfb07f50a4 = 19999;
const $a3a9155c09fe06f0$var$RESEARCH_DELAY = 240;
class $a3a9155c09fe06f0$export$2aaa4f42000d804d {
    dispose() {
        this._isDisposed = true;
        $6W1JA.dispose(this._startSearchingTimer);
        this._toDispose.dispose();
    }
    _onStateChanged(e) {
        if (this._isDisposed) // The find model is disposed during a find state changed event
        return;
        if (!this._editor.hasModel()) // The find model will be disposed momentarily
        return;
        if (e.searchString || e.isReplaceRevealed || e.isRegex || e.wholeWord || e.matchCase || e.searchScope) {
            let model = this._editor.getModel();
            if (model.isTooLargeForSyncing()) {
                this._startSearchingTimer.cancel();
                this._startSearchingTimer.setIfNotSet(()=>{
                    if (e.searchScope) this.research(e.moveCursor, this._state.searchScope);
                    else this.research(e.moveCursor);
                }, $a3a9155c09fe06f0$var$RESEARCH_DELAY);
            } else if (e.searchScope) this.research(e.moveCursor, this._state.searchScope);
            else this.research(e.moveCursor);
        }
    }
    static _getSearchRange(model, findScope) {
        // If we have set now or before a find scope, use it for computing the search range
        if (findScope) return findScope;
        return model.getFullModelRange();
    }
    research(moveCursor, newFindScope) {
        let findScopes = null;
        if (typeof newFindScope !== 'undefined') {
            if (newFindScope !== null) {
                if (!Array.isArray(newFindScope)) findScopes = [
                    newFindScope
                ];
                else findScopes = newFindScope;
            }
        } else findScopes = this._decorations.getFindScopes();
        if (findScopes !== null) findScopes = findScopes.map((findScope)=>{
            if (findScope.startLineNumber !== findScope.endLineNumber) {
                let endLineNumber = findScope.endLineNumber;
                if (findScope.endColumn === 1) endLineNumber = endLineNumber - 1;
                return new $1YFxJ.Range(findScope.startLineNumber, 1, endLineNumber, this._editor.getModel().getLineMaxColumn(endLineNumber));
            }
            return findScope;
        });
        let findMatches = this._findMatches(findScopes, false, $a3a9155c09fe06f0$export$79640dbfb07f50a4);
        this._decorations.set(findMatches, findScopes);
        const editorSelection = this._editor.getSelection();
        let currentMatchesPosition = this._decorations.getCurrentMatchesPosition(editorSelection);
        if (currentMatchesPosition === 0 && findMatches.length > 0) {
            // current selection is not on top of a match
            // try to find its nearest result from the top of the document
            const matchAfterSelection = $duSG1.findFirstInSorted(findMatches.map((match)=>match.range
            ), (range)=>$1YFxJ.Range.compareRangesUsingStarts(range, editorSelection) >= 0
            );
            currentMatchesPosition = matchAfterSelection > 0 ? matchAfterSelection - 1 + 1 /** match position is one based */  : currentMatchesPosition;
        }
        this._state.changeMatchInfo(currentMatchesPosition, this._decorations.getCount(), undefined);
        if (moveCursor && this._editor.getOption(35 /* find */ ).cursorMoveOnType) this._moveToNextMatch(this._decorations.getStartPosition());
    }
    _hasMatches() {
        return this._state.matchesCount > 0;
    }
    _cannotFind() {
        if (!this._hasMatches()) {
            let findScope = this._decorations.getFindScope();
            if (findScope) // Reveal the selection so user is reminded that 'selection find' is on.
            this._editor.revealRangeInCenterIfOutsideViewport(findScope, 0 /* Smooth */ );
            return true;
        }
        return false;
    }
    _setCurrentFindMatch(match) {
        let matchesPosition = this._decorations.setCurrentFindMatch(match);
        this._state.changeMatchInfo(matchesPosition, this._decorations.getCount(), match);
        this._editor.setSelection(match);
        this._editor.revealRangeInCenterIfOutsideViewport(match, 0 /* Smooth */ );
    }
    _prevSearchPosition(before) {
        let isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0 || this._state.searchString.indexOf('$') >= 0);
        let { lineNumber: lineNumber , column: column  } = before;
        let model = this._editor.getModel();
        if (isUsingLineStops || column === 1) {
            if (lineNumber === 1) lineNumber = model.getLineCount();
            else lineNumber--;
            column = model.getLineMaxColumn(lineNumber);
        } else column--;
        return new $fqrfT.Position(lineNumber, column);
    }
    _moveToPrevMatch(before, isRecursed = false) {
        if (!this._state.canNavigateBack()) {
            // we are beyond the first matched find result
            // instead of doing nothing, we should refocus the first item
            const nextMatchRange = this._decorations.matchAfterPosition(before);
            if (nextMatchRange) this._setCurrentFindMatch(nextMatchRange);
            return;
        }
        if (this._decorations.getCount() < $a3a9155c09fe06f0$export$79640dbfb07f50a4) {
            let prevMatchRange = this._decorations.matchBeforePosition(before);
            if (prevMatchRange && prevMatchRange.isEmpty() && prevMatchRange.getStartPosition().equals(before)) {
                before = this._prevSearchPosition(before);
                prevMatchRange = this._decorations.matchBeforePosition(before);
            }
            if (prevMatchRange) this._setCurrentFindMatch(prevMatchRange);
            return;
        }
        if (this._cannotFind()) return;
        let findScope = this._decorations.getFindScope();
        let searchRange = $a3a9155c09fe06f0$export$2aaa4f42000d804d._getSearchRange(this._editor.getModel(), findScope);
        // ...(----)...|...
        if (searchRange.getEndPosition().isBefore(before)) before = searchRange.getEndPosition();
        // ...|...(----)...
        if (before.isBefore(searchRange.getStartPosition())) before = searchRange.getEndPosition();
        let { lineNumber: lineNumber , column: column  } = before;
        let model = this._editor.getModel();
        let position = new $fqrfT.Position(lineNumber, column);
        let prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, false);
        if (prevMatch && prevMatch.range.isEmpty() && prevMatch.range.getStartPosition().equals(position)) {
            // Looks like we're stuck at this position, unacceptable!
            position = this._prevSearchPosition(position);
            prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, false);
        }
        if (!prevMatch) // there is precisely one match and selection is on top of it
        return;
        if (!isRecursed && !searchRange.containsRange(prevMatch.range)) return this._moveToPrevMatch(prevMatch.range.getStartPosition(), true);
        this._setCurrentFindMatch(prevMatch.range);
    }
    moveToPrevMatch() {
        this._moveToPrevMatch(this._editor.getSelection().getStartPosition());
    }
    _nextSearchPosition(after) {
        let isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0 || this._state.searchString.indexOf('$') >= 0);
        let { lineNumber: lineNumber , column: column  } = after;
        let model = this._editor.getModel();
        if (isUsingLineStops || column === model.getLineMaxColumn(lineNumber)) {
            if (lineNumber === model.getLineCount()) lineNumber = 1;
            else lineNumber++;
            column = 1;
        } else column++;
        return new $fqrfT.Position(lineNumber, column);
    }
    _moveToNextMatch(after) {
        if (!this._state.canNavigateForward()) {
            // we are beyond the last matched find result
            // instead of doing nothing, we should refocus the last item
            const prevMatchRange = this._decorations.matchBeforePosition(after);
            if (prevMatchRange) this._setCurrentFindMatch(prevMatchRange);
            return;
        }
        if (this._decorations.getCount() < $a3a9155c09fe06f0$export$79640dbfb07f50a4) {
            let nextMatchRange = this._decorations.matchAfterPosition(after);
            if (nextMatchRange && nextMatchRange.isEmpty() && nextMatchRange.getStartPosition().equals(after)) {
                // Looks like we're stuck at this position, unacceptable!
                after = this._nextSearchPosition(after);
                nextMatchRange = this._decorations.matchAfterPosition(after);
            }
            if (nextMatchRange) this._setCurrentFindMatch(nextMatchRange);
            return;
        }
        let nextMatch = this._getNextMatch(after, false, true);
        if (nextMatch) this._setCurrentFindMatch(nextMatch.range);
    }
    _getNextMatch(after, captureMatches, forceMove, isRecursed = false) {
        if (this._cannotFind()) return null;
        let findScope = this._decorations.getFindScope();
        let searchRange = $a3a9155c09fe06f0$export$2aaa4f42000d804d._getSearchRange(this._editor.getModel(), findScope);
        // ...(----)...|...
        if (searchRange.getEndPosition().isBefore(after)) after = searchRange.getStartPosition();
        // ...|...(----)...
        if (after.isBefore(searchRange.getStartPosition())) after = searchRange.getStartPosition();
        let { lineNumber: lineNumber , column: column  } = after;
        let model = this._editor.getModel();
        let position = new $fqrfT.Position(lineNumber, column);
        let nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, captureMatches);
        if (forceMove && nextMatch && nextMatch.range.isEmpty() && nextMatch.range.getStartPosition().equals(position)) {
            // Looks like we're stuck at this position, unacceptable!
            position = this._nextSearchPosition(position);
            nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, captureMatches);
        }
        if (!nextMatch) // there is precisely one match and selection is on top of it
        return null;
        if (!isRecursed && !searchRange.containsRange(nextMatch.range)) return this._getNextMatch(nextMatch.range.getEndPosition(), captureMatches, forceMove, true);
        return nextMatch;
    }
    moveToNextMatch() {
        this._moveToNextMatch(this._editor.getSelection().getEndPosition());
    }
    _getReplacePattern() {
        if (this._state.isRegex) return $41d9e2fb4514653f$export$ca668b7a7924cbca(this._state.replaceString);
        return $41d9e2fb4514653f$export$512648940a758bce.fromStaticValue(this._state.replaceString);
    }
    replace() {
        if (!this._hasMatches()) return;
        let replacePattern = this._getReplacePattern();
        let selection = this._editor.getSelection();
        let nextMatch = this._getNextMatch(selection.getStartPosition(), true, false);
        if (nextMatch) {
            if (selection.equalsRange(nextMatch.range)) {
                // selection sits on a find match => replace it!
                let replaceString = replacePattern.buildReplaceString(nextMatch.matches, this._state.preserveCase);
                let command = new $eSuzf.ReplaceCommand(selection, replaceString);
                this._executeEditorCommand('replace', command);
                this._decorations.setStartPosition(new $fqrfT.Position(selection.startLineNumber, selection.startColumn + replaceString.length));
                this.research(true);
            } else {
                this._decorations.setStartPosition(this._editor.getPosition());
                this._setCurrentFindMatch(nextMatch.range);
            }
        }
    }
    _findMatches(findScopes, captureMatches, limitResultCount) {
        const searchRanges = (findScopes || [
            null
        ]).map((scope)=>$a3a9155c09fe06f0$export$2aaa4f42000d804d._getSearchRange(this._editor.getModel(), scope)
        );
        return this._editor.getModel().findMatches(this._state.searchString, searchRanges, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, captureMatches, limitResultCount);
    }
    replaceAll() {
        if (!this._hasMatches()) return;
        const findScopes = this._decorations.getFindScopes();
        if (findScopes === null && this._state.matchesCount >= $a3a9155c09fe06f0$export$79640dbfb07f50a4) // Doing a replace on the entire file that is over ${MATCHES_LIMIT} matches
        this._largeReplaceAll();
        else this._regularReplaceAll(findScopes);
        this.research(false);
    }
    _largeReplaceAll() {
        const searchParams = new $hFugC.SearchParams(this._state.searchString, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null);
        const searchData = searchParams.parseSearchRequest();
        if (!searchData) return;
        let searchRegex = searchData.regex;
        if (!searchRegex.multiline) {
            let mod = 'mu';
            if (searchRegex.ignoreCase) mod += 'i';
            if (searchRegex.global) mod += 'g';
            searchRegex = new RegExp(searchRegex.source, mod);
        }
        const model = this._editor.getModel();
        const modelText = model.getValue(1 /* LF */ );
        const fullModelRange = model.getFullModelRange();
        const replacePattern = this._getReplacePattern();
        let resultText;
        const preserveCase = this._state.preserveCase;
        if (replacePattern.hasReplacementPatterns || preserveCase) resultText = modelText.replace(searchRegex, function() {
            return replacePattern.buildReplaceString(arguments, preserveCase);
        });
        else resultText = modelText.replace(searchRegex, replacePattern.buildReplaceString(null, preserveCase));
        let command = new $eSuzf.ReplaceCommandThatPreservesSelection(fullModelRange, resultText, this._editor.getSelection());
        this._executeEditorCommand('replaceAll', command);
    }
    _regularReplaceAll(findScopes) {
        const replacePattern = this._getReplacePattern();
        // Get all the ranges (even more than the highlighted ones)
        let matches = this._findMatches(findScopes, replacePattern.hasReplacementPatterns || this._state.preserveCase, 1073741824 /* MAX_SAFE_SMALL_INTEGER */ );
        let replaceStrings = [];
        for(let i = 0, len = matches.length; i < len; i++)replaceStrings[i] = replacePattern.buildReplaceString(matches[i].matches, this._state.preserveCase);
        let command = new $a348e131bd1b1ff2$export$3f7edd8e0e87094f(this._editor.getSelection(), matches.map((m)=>m.range
        ), replaceStrings);
        this._executeEditorCommand('replaceAll', command);
    }
    selectAllMatches() {
        if (!this._hasMatches()) return;
        let findScopes = this._decorations.getFindScopes();
        // Get all the ranges (even more than the highlighted ones)
        let matches = this._findMatches(findScopes, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */ );
        let selections = matches.map((m)=>new $jS6at.Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn)
        );
        // If one of the ranges is the editor selection, then maintain it as primary
        let editorSelection = this._editor.getSelection();
        for(let i = 0, len = selections.length; i < len; i++){
            let sel = selections[i];
            if (sel.equalsRange(editorSelection)) {
                selections = [
                    editorSelection
                ].concat(selections.slice(0, i)).concat(selections.slice(i + 1));
                break;
            }
        }
        this._editor.setSelections(selections);
    }
    _executeEditorCommand(source, command) {
        try {
            this._ignoreModelContentChanged = true;
            this._editor.pushUndoStop();
            this._editor.executeCommand(source, command);
            this._editor.pushUndoStop();
        } finally{
            this._ignoreModelContentChanged = false;
        }
    }
    constructor(editor, state){
        this._toDispose = new $6W1JA.DisposableStore();
        this._editor = editor;
        this._state = state;
        this._isDisposed = false;
        this._startSearchingTimer = new $5piST.TimeoutTimer();
        this._decorations = new $08b0cbad2bac3c1a$export$bd754614700a28d5(editor);
        this._toDispose.add(this._decorations);
        this._updateDecorationsScheduler = new $5piST.RunOnceScheduler(()=>this.research(false)
        , 100);
        this._toDispose.add(this._updateDecorationsScheduler);
        this._toDispose.add(this._editor.onDidChangeCursorPosition((e)=>{
            if (e.reason === 3 /* Explicit */  || e.reason === 5 /* Undo */  || e.reason === 6 /* Redo */ ) this._decorations.setStartPosition(this._editor.getPosition());
        }));
        this._ignoreModelContentChanged = false;
        this._toDispose.add(this._editor.onDidChangeModelContent((e)=>{
            if (this._ignoreModelContentChanged) return;
            if (e.isFlush) // a model.setValue() was called
            this._decorations.reset();
            this._decorations.setStartPosition(this._editor.getPosition());
            this._updateDecorationsScheduler.schedule();
        }));
        this._toDispose.add(this._state.onFindReplaceStateChange((e)=>this._onStateChanged(e)
        ));
        this.research(false, this._state.searchScope);
    }
}



var $8xgjE = parcelRequire("8xgjE");

var $gKMUF = parcelRequire("gKMUF");

var $k4zqw = parcelRequire("k4zqw");

var $8OIA7 = parcelRequire("8OIA7");

var $bkXdq = parcelRequire("bkXdq");

const $ce303a4331a587e6$var$defaultOpts = {
    inputActiveOptionBorder: $8OIA7.Color.fromHex('#007ACC00'),
    inputActiveOptionForeground: $8OIA7.Color.fromHex('#FFFFFF'),
    inputActiveOptionBackground: $8OIA7.Color.fromHex('#0E639C50')
};
class $ce303a4331a587e6$export$48513f6b9f8ce62d extends $gKMUF.Widget {
    get enabled() {
        return this.domNode.getAttribute('aria-disabled') !== 'true';
    }
    focus() {
        this.domNode.focus();
    }
    get checked() {
        return this._checked;
    }
    set checked(newIsChecked) {
        this._checked = newIsChecked;
        this.domNode.setAttribute('aria-checked', String(this._checked));
        this.domNode.classList.toggle('checked', this._checked);
        this.applyStyles();
    }
    width() {
        return 22 /* icon width */ ;
    }
    style(styles) {
        if (styles.inputActiveOptionBorder) this._opts.inputActiveOptionBorder = styles.inputActiveOptionBorder;
        if (styles.inputActiveOptionForeground) this._opts.inputActiveOptionForeground = styles.inputActiveOptionForeground;
        if (styles.inputActiveOptionBackground) this._opts.inputActiveOptionBackground = styles.inputActiveOptionBackground;
        this.applyStyles();
    }
    applyStyles() {
        if (this.domNode) {
            this.domNode.style.borderColor = this._checked && this._opts.inputActiveOptionBorder ? this._opts.inputActiveOptionBorder.toString() : '';
            this.domNode.style.color = this._checked && this._opts.inputActiveOptionForeground ? this._opts.inputActiveOptionForeground.toString() : 'inherit';
            this.domNode.style.backgroundColor = this._checked && this._opts.inputActiveOptionBackground ? this._opts.inputActiveOptionBackground.toString() : '';
        }
    }
    enable() {
        this.domNode.setAttribute('aria-disabled', String(false));
    }
    disable() {
        this.domNode.setAttribute('aria-disabled', String(true));
    }
    constructor(opts){
        super();
        this._onChange = this._register(new $bkXdq.Emitter());
        this.onChange = this._onChange.event;
        this._onKeyDown = this._register(new $bkXdq.Emitter());
        this.onKeyDown = this._onKeyDown.event;
        this._opts = Object.assign(Object.assign({}, $ce303a4331a587e6$var$defaultOpts), opts);
        this._checked = this._opts.isChecked;
        const classes = [
            'monaco-custom-checkbox'
        ];
        if (this._opts.icon) classes.push(...$k4zqw.CSSIcon.asClassNameArray(this._opts.icon));
        if (this._opts.actionClassName) classes.push(...this._opts.actionClassName.split(' '));
        if (this._checked) classes.push('checked');
        this.domNode = document.createElement('div');
        this.domNode.title = this._opts.title;
        this.domNode.classList.add(...classes);
        if (!this._opts.notFocusable) this.domNode.tabIndex = 0;
        this.domNode.setAttribute('role', 'checkbox');
        this.domNode.setAttribute('aria-checked', String(this._checked));
        this.domNode.setAttribute('aria-label', this._opts.title);
        this.applyStyles();
        this.onclick(this.domNode, (ev)=>{
            this.checked = !this._checked;
            this._onChange.fire(false);
            ev.preventDefault();
        });
        this.ignoreGesture(this.domNode);
        this.onkeydown(this.domNode, (keyboardEvent)=>{
            if (keyboardEvent.keyCode === 10 /* Space */  || keyboardEvent.keyCode === 3 /* Enter */ ) {
                this.checked = !this._checked;
                this._onChange.fire(true);
                keyboardEvent.preventDefault();
                return;
            }
            this._onKeyDown.fire(keyboardEvent);
        });
    }
}



var $k4zqw = parcelRequire("k4zqw");

var $1WuVQ = parcelRequire("1WuVQ");
const $43fe43bb88072571$var$NLS_CASE_SENSITIVE_CHECKBOX_LABEL = $1WuVQ.localize('caseDescription', "Match Case");
const $43fe43bb88072571$var$NLS_WHOLE_WORD_CHECKBOX_LABEL = $1WuVQ.localize('wordsDescription', "Match Whole Word");
const $43fe43bb88072571$var$NLS_REGEX_CHECKBOX_LABEL = $1WuVQ.localize('regexDescription', "Use Regular Expression");
class $43fe43bb88072571$export$35c8b2120be2442f extends $ce303a4331a587e6$export$48513f6b9f8ce62d {
    constructor(opts){
        super({
            icon: $k4zqw.Codicon.caseSensitive,
            title: $43fe43bb88072571$var$NLS_CASE_SENSITIVE_CHECKBOX_LABEL + opts.appendTitle,
            isChecked: opts.isChecked,
            inputActiveOptionBorder: opts.inputActiveOptionBorder,
            inputActiveOptionForeground: opts.inputActiveOptionForeground,
            inputActiveOptionBackground: opts.inputActiveOptionBackground
        });
    }
}
class $43fe43bb88072571$export$ac12d23e9f4ae591 extends $ce303a4331a587e6$export$48513f6b9f8ce62d {
    constructor(opts){
        super({
            icon: $k4zqw.Codicon.wholeWord,
            title: $43fe43bb88072571$var$NLS_WHOLE_WORD_CHECKBOX_LABEL + opts.appendTitle,
            isChecked: opts.isChecked,
            inputActiveOptionBorder: opts.inputActiveOptionBorder,
            inputActiveOptionForeground: opts.inputActiveOptionForeground,
            inputActiveOptionBackground: opts.inputActiveOptionBackground
        });
    }
}
class $43fe43bb88072571$export$4e97f692e737273e extends $ce303a4331a587e6$export$48513f6b9f8ce62d {
    constructor(opts){
        super({
            icon: $k4zqw.Codicon.regex,
            title: $43fe43bb88072571$var$NLS_REGEX_CHECKBOX_LABEL + opts.appendTitle,
            isChecked: opts.isChecked,
            inputActiveOptionBorder: opts.inputActiveOptionBorder,
            inputActiveOptionForeground: opts.inputActiveOptionForeground,
            inputActiveOptionBackground: opts.inputActiveOptionBackground
        });
    }
}



var $gKMUF = parcelRequire("gKMUF");

var $5piST = parcelRequire("5piST");


var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
class $7c61bb4874c7eea6$export$2ff720b27319038e extends $gKMUF.Widget {
    _keybindingLabelFor(actionId) {
        let kb = this._keybindingService.lookupKeybinding(actionId);
        if (!kb) return '';
        return ` (${kb.getLabel()})`;
    }
    dispose() {
        this._editor.removeOverlayWidget(this);
        super.dispose();
    }
    // ----- IOverlayWidget API
    getId() {
        return $7c61bb4874c7eea6$export$2ff720b27319038e.ID;
    }
    getDomNode() {
        return this._domNode;
    }
    getPosition() {
        return {
            preference: 0 /* TOP_RIGHT_CORNER */ 
        };
    }
    highlightFindOptions() {
        this._revealTemporarily();
    }
    _revealTemporarily() {
        this._show();
        this._hideSoon.schedule();
    }
    _onMouseOut() {
        this._hideSoon.schedule();
    }
    _onMouseOver() {
        this._hideSoon.cancel();
    }
    _show() {
        if (this._isVisible) return;
        this._isVisible = true;
        this._domNode.style.display = 'block';
    }
    _hide() {
        if (!this._isVisible) return;
        this._isVisible = false;
        this._domNode.style.display = 'none';
    }
    _applyTheme(theme) {
        let inputStyles = {
            inputActiveOptionBorder: theme.getColor($kL4Ig.inputActiveOptionBorder),
            inputActiveOptionForeground: theme.getColor($kL4Ig.inputActiveOptionForeground),
            inputActiveOptionBackground: theme.getColor($kL4Ig.inputActiveOptionBackground)
        };
        this.caseSensitive.style(inputStyles);
        this.wholeWords.style(inputStyles);
        this.regex.style(inputStyles);
    }
    constructor(editor, state, keybindingService, themeService){
        super();
        this._hideSoon = this._register(new $5piST.RunOnceScheduler(()=>this._hide()
        , 2000));
        this._isVisible = false;
        this._editor = editor;
        this._state = state;
        this._keybindingService = keybindingService;
        this._domNode = document.createElement('div');
        this._domNode.className = 'findOptionsWidget';
        this._domNode.style.display = 'none';
        this._domNode.style.top = '10px';
        this._domNode.setAttribute('role', 'presentation');
        this._domNode.setAttribute('aria-hidden', 'true');
        const inputActiveOptionBorderColor = themeService.getColorTheme().getColor($kL4Ig.inputActiveOptionBorder);
        const inputActiveOptionForegroundColor = themeService.getColorTheme().getColor($kL4Ig.inputActiveOptionForeground);
        const inputActiveOptionBackgroundColor = themeService.getColorTheme().getColor($kL4Ig.inputActiveOptionBackground);
        this.caseSensitive = this._register(new $43fe43bb88072571$export$35c8b2120be2442f({
            appendTitle: this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ToggleCaseSensitiveCommand),
            isChecked: this._state.matchCase,
            inputActiveOptionBorder: inputActiveOptionBorderColor,
            inputActiveOptionForeground: inputActiveOptionForegroundColor,
            inputActiveOptionBackground: inputActiveOptionBackgroundColor
        }));
        this._domNode.appendChild(this.caseSensitive.domNode);
        this._register(this.caseSensitive.onChange(()=>{
            this._state.change({
                matchCase: this.caseSensitive.checked
            }, false);
        }));
        this.wholeWords = this._register(new $43fe43bb88072571$export$ac12d23e9f4ae591({
            appendTitle: this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ToggleWholeWordCommand),
            isChecked: this._state.wholeWord,
            inputActiveOptionBorder: inputActiveOptionBorderColor,
            inputActiveOptionForeground: inputActiveOptionForegroundColor,
            inputActiveOptionBackground: inputActiveOptionBackgroundColor
        }));
        this._domNode.appendChild(this.wholeWords.domNode);
        this._register(this.wholeWords.onChange(()=>{
            this._state.change({
                wholeWord: this.wholeWords.checked
            }, false);
        }));
        this.regex = this._register(new $43fe43bb88072571$export$4e97f692e737273e({
            appendTitle: this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ToggleRegexCommand),
            isChecked: this._state.isRegex,
            inputActiveOptionBorder: inputActiveOptionBorderColor,
            inputActiveOptionForeground: inputActiveOptionForegroundColor,
            inputActiveOptionBackground: inputActiveOptionBackgroundColor
        }));
        this._domNode.appendChild(this.regex.domNode);
        this._register(this.regex.onChange(()=>{
            this._state.change({
                isRegex: this.regex.checked
            }, false);
        }));
        this._editor.addOverlayWidget(this);
        this._register(this._state.onFindReplaceStateChange((e)=>{
            let somethingChanged = false;
            if (e.isRegex) {
                this.regex.checked = this._state.isRegex;
                somethingChanged = true;
            }
            if (e.wholeWord) {
                this.wholeWords.checked = this._state.wholeWord;
                somethingChanged = true;
            }
            if (e.matchCase) {
                this.caseSensitive.checked = this._state.matchCase;
                somethingChanged = true;
            }
            if (!this._state.isRevealed && somethingChanged) this._revealTemporarily();
        }));
        this._register($8xgjE.addDisposableNonBubblingMouseOutListener(this._domNode, (e)=>this._onMouseOut()
        ));
        this._register($8xgjE.addDisposableListener(this._domNode, 'mouseover', (e)=>this._onMouseOver()
        ));
        this._applyTheme(themeService.getColorTheme());
        this._register(themeService.onDidColorThemeChange(this._applyTheme.bind(this)));
    }
}
$7c61bb4874c7eea6$export$2ff720b27319038e.ID = 'editor.contrib.findOptionsWidget';
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const widgetBackground = theme.getColor($kL4Ig.editorWidgetBackground);
    if (widgetBackground) collector.addRule(`.monaco-editor .findOptionsWidget { background-color: ${widgetBackground}; }`);
    const widgetForeground = theme.getColor($kL4Ig.editorWidgetForeground);
    if (widgetForeground) collector.addRule(`.monaco-editor .findOptionsWidget { color: ${widgetForeground}; }`);
    const widgetShadowColor = theme.getColor($kL4Ig.widgetShadow);
    if (widgetShadowColor) collector.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${widgetShadowColor}; }`);
    const hcBorder = theme.getColor($kL4Ig.contrastBorder);
    if (hcBorder) collector.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${hcBorder}; }`);
});



var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $1YFxJ = parcelRequire("1YFxJ");

function $087aa3d8bd7f007a$var$effectiveOptionValue(override, value) {
    if (override === 1 /* True */ ) return true;
    if (override === 2 /* False */ ) return false;
    return value;
}
class $087aa3d8bd7f007a$export$134b1d8b9bc10076 extends $6W1JA.Disposable {
    get searchString() {
        return this._searchString;
    }
    get replaceString() {
        return this._replaceString;
    }
    get isRevealed() {
        return this._isRevealed;
    }
    get isReplaceRevealed() {
        return this._isReplaceRevealed;
    }
    get isRegex() {
        return $087aa3d8bd7f007a$var$effectiveOptionValue(this._isRegexOverride, this._isRegex);
    }
    get wholeWord() {
        return $087aa3d8bd7f007a$var$effectiveOptionValue(this._wholeWordOverride, this._wholeWord);
    }
    get matchCase() {
        return $087aa3d8bd7f007a$var$effectiveOptionValue(this._matchCaseOverride, this._matchCase);
    }
    get preserveCase() {
        return $087aa3d8bd7f007a$var$effectiveOptionValue(this._preserveCaseOverride, this._preserveCase);
    }
    get actualIsRegex() {
        return this._isRegex;
    }
    get actualWholeWord() {
        return this._wholeWord;
    }
    get actualMatchCase() {
        return this._matchCase;
    }
    get actualPreserveCase() {
        return this._preserveCase;
    }
    get searchScope() {
        return this._searchScope;
    }
    get matchesPosition() {
        return this._matchesPosition;
    }
    get matchesCount() {
        return this._matchesCount;
    }
    get currentMatch() {
        return this._currentMatch;
    }
    changeMatchInfo(matchesPosition, matchesCount, currentMatch) {
        let changeEvent = {
            moveCursor: false,
            updateHistory: false,
            searchString: false,
            replaceString: false,
            isRevealed: false,
            isReplaceRevealed: false,
            isRegex: false,
            wholeWord: false,
            matchCase: false,
            preserveCase: false,
            searchScope: false,
            matchesPosition: false,
            matchesCount: false,
            currentMatch: false,
            loop: false
        };
        let somethingChanged = false;
        if (matchesCount === 0) matchesPosition = 0;
        if (matchesPosition > matchesCount) matchesPosition = matchesCount;
        if (this._matchesPosition !== matchesPosition) {
            this._matchesPosition = matchesPosition;
            changeEvent.matchesPosition = true;
            somethingChanged = true;
        }
        if (this._matchesCount !== matchesCount) {
            this._matchesCount = matchesCount;
            changeEvent.matchesCount = true;
            somethingChanged = true;
        }
        if (typeof currentMatch !== 'undefined') {
            if (!$1YFxJ.Range.equalsRange(this._currentMatch, currentMatch)) {
                this._currentMatch = currentMatch;
                changeEvent.currentMatch = true;
                somethingChanged = true;
            }
        }
        if (somethingChanged) this._onFindReplaceStateChange.fire(changeEvent);
    }
    change(newState, moveCursor, updateHistory = true) {
        var _a1;
        let changeEvent = {
            moveCursor: moveCursor,
            updateHistory: updateHistory,
            searchString: false,
            replaceString: false,
            isRevealed: false,
            isReplaceRevealed: false,
            isRegex: false,
            wholeWord: false,
            matchCase: false,
            preserveCase: false,
            searchScope: false,
            matchesPosition: false,
            matchesCount: false,
            currentMatch: false,
            loop: false
        };
        let somethingChanged = false;
        const oldEffectiveIsRegex = this.isRegex;
        const oldEffectiveWholeWords = this.wholeWord;
        const oldEffectiveMatchCase = this.matchCase;
        const oldEffectivePreserveCase = this.preserveCase;
        if (typeof newState.searchString !== 'undefined') {
            if (this._searchString !== newState.searchString) {
                this._searchString = newState.searchString;
                changeEvent.searchString = true;
                somethingChanged = true;
            }
        }
        if (typeof newState.replaceString !== 'undefined') {
            if (this._replaceString !== newState.replaceString) {
                this._replaceString = newState.replaceString;
                changeEvent.replaceString = true;
                somethingChanged = true;
            }
        }
        if (typeof newState.isRevealed !== 'undefined') {
            if (this._isRevealed !== newState.isRevealed) {
                this._isRevealed = newState.isRevealed;
                changeEvent.isRevealed = true;
                somethingChanged = true;
            }
        }
        if (typeof newState.isReplaceRevealed !== 'undefined') {
            if (this._isReplaceRevealed !== newState.isReplaceRevealed) {
                this._isReplaceRevealed = newState.isReplaceRevealed;
                changeEvent.isReplaceRevealed = true;
                somethingChanged = true;
            }
        }
        if (typeof newState.isRegex !== 'undefined') this._isRegex = newState.isRegex;
        if (typeof newState.wholeWord !== 'undefined') this._wholeWord = newState.wholeWord;
        if (typeof newState.matchCase !== 'undefined') this._matchCase = newState.matchCase;
        if (typeof newState.preserveCase !== 'undefined') this._preserveCase = newState.preserveCase;
        if (typeof newState.searchScope !== 'undefined') {
            if (!((_a1 = newState.searchScope) === null || _a1 === void 0 ? void 0 : _a1.every((newSearchScope)=>{
                var _a;
                return (_a = this._searchScope) === null || _a === void 0 ? void 0 : _a.some((existingSearchScope)=>{
                    return !$1YFxJ.Range.equalsRange(existingSearchScope, newSearchScope);
                });
            }))) {
                this._searchScope = newState.searchScope;
                changeEvent.searchScope = true;
                somethingChanged = true;
            }
        }
        if (typeof newState.loop !== 'undefined') {
            if (this._loop !== newState.loop) {
                this._loop = newState.loop;
                changeEvent.loop = true;
                somethingChanged = true;
            }
        }
        // Overrides get set when they explicitly come in and get reset anytime something else changes
        this._isRegexOverride = typeof newState.isRegexOverride !== 'undefined' ? newState.isRegexOverride : 0 /* NotSet */ ;
        this._wholeWordOverride = typeof newState.wholeWordOverride !== 'undefined' ? newState.wholeWordOverride : 0 /* NotSet */ ;
        this._matchCaseOverride = typeof newState.matchCaseOverride !== 'undefined' ? newState.matchCaseOverride : 0 /* NotSet */ ;
        this._preserveCaseOverride = typeof newState.preserveCaseOverride !== 'undefined' ? newState.preserveCaseOverride : 0 /* NotSet */ ;
        if (oldEffectiveIsRegex !== this.isRegex) {
            somethingChanged = true;
            changeEvent.isRegex = true;
        }
        if (oldEffectiveWholeWords !== this.wholeWord) {
            somethingChanged = true;
            changeEvent.wholeWord = true;
        }
        if (oldEffectiveMatchCase !== this.matchCase) {
            somethingChanged = true;
            changeEvent.matchCase = true;
        }
        if (oldEffectivePreserveCase !== this.preserveCase) {
            somethingChanged = true;
            changeEvent.preserveCase = true;
        }
        if (somethingChanged) this._onFindReplaceStateChange.fire(changeEvent);
    }
    canNavigateBack() {
        return this.canNavigateInLoop() || this.matchesPosition !== 1;
    }
    canNavigateForward() {
        return this.canNavigateInLoop() || this.matchesPosition < this.matchesCount;
    }
    canNavigateInLoop() {
        return this._loop || this.matchesCount >= $a3a9155c09fe06f0$export$79640dbfb07f50a4;
    }
    constructor(){
        super();
        this._onFindReplaceStateChange = this._register(new $bkXdq.Emitter());
        this.onFindReplaceStateChange = this._onFindReplaceStateChange.event;
        this._searchString = '';
        this._replaceString = '';
        this._isRevealed = false;
        this._isReplaceRevealed = false;
        this._isRegex = false;
        this._isRegexOverride = 0 /* NotSet */ ;
        this._wholeWord = false;
        this._wholeWordOverride = 0 /* NotSet */ ;
        this._matchCase = false;
        this._matchCaseOverride = 0 /* NotSet */ ;
        this._preserveCase = false;
        this._preserveCaseOverride = 0 /* NotSet */ ;
        this._searchScope = null;
        this._matchesPosition = 0;
        this._matchesCount = 0;
        this._currentMatch = null;
        this._loop = true;
    }
}


var $b5d1b590b1aa2901$exports = {};

$parcel$export($b5d1b590b1aa2901$exports, "FindWidget", function () { return $b5d1b590b1aa2901$export$94cf213bcf83d48e; }, function (v) { return $b5d1b590b1aa2901$export$94cf213bcf83d48e = v; });

var $8xgjE = parcelRequire("8xgjE");

var $6eCoB = parcelRequire("6eCoB");


var $hQ1Ev = parcelRequire("hQ1Ev");

var $gKMUF = parcelRequire("gKMUF");

var $5piST = parcelRequire("5piST");

var $k4zqw = parcelRequire("k4zqw");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $7e5Mc = parcelRequire("7e5Mc");

var $i4xl7 = parcelRequire("i4xl7");


var $1YFxJ = parcelRequire("1YFxJ");


var $1WuVQ = parcelRequire("1WuVQ");
var $4c8dd17c64a8a993$exports = {};

$parcel$export($4c8dd17c64a8a993$exports, "ContextScopedFindInput", function () { return $4c8dd17c64a8a993$export$8b5d5813b2156e74; }, function (v) { return $4c8dd17c64a8a993$export$8b5d5813b2156e74 = v; });
$parcel$export($4c8dd17c64a8a993$exports, "ContextScopedReplaceInput", function () { return $4c8dd17c64a8a993$export$da3bae0145835d60; }, function (v) { return $4c8dd17c64a8a993$export$da3bae0145835d60 = v; });

var $8xgjE = parcelRequire("8xgjE");


var $it10R = parcelRequire("it10R");

var $gKMUF = parcelRequire("gKMUF");

var $bkXdq = parcelRequire("bkXdq");


var $1WuVQ = parcelRequire("1WuVQ");
const $82829020f059022c$var$NLS_DEFAULT_LABEL = $1WuVQ.localize('defaultLabel', "input");
class $82829020f059022c$export$5f83bd776c0a7f6f extends $gKMUF.Widget {
    enable() {
        this.domNode.classList.remove('disabled');
        this.inputBox.enable();
        this.regex.enable();
        this.wholeWords.enable();
        this.caseSensitive.enable();
    }
    disable() {
        this.domNode.classList.add('disabled');
        this.inputBox.disable();
        this.regex.disable();
        this.wholeWords.disable();
        this.caseSensitive.disable();
    }
    setFocusInputOnOptionClick(value) {
        this.fixFocusOnOptionClickEnabled = value;
    }
    setEnabled(enabled) {
        if (enabled) this.enable();
        else this.disable();
    }
    getValue() {
        return this.inputBox.value;
    }
    setValue(value) {
        if (this.inputBox.value !== value) this.inputBox.value = value;
    }
    style(styles) {
        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;
        this.inputActiveOptionForeground = styles.inputActiveOptionForeground;
        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;
        this.inputBackground = styles.inputBackground;
        this.inputForeground = styles.inputForeground;
        this.inputBorder = styles.inputBorder;
        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;
        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;
        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;
        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;
        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;
        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;
        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;
        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;
        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;
        this.applyStyles();
    }
    applyStyles() {
        if (this.domNode) {
            const checkBoxStyles = {
                inputActiveOptionBorder: this.inputActiveOptionBorder,
                inputActiveOptionForeground: this.inputActiveOptionForeground,
                inputActiveOptionBackground: this.inputActiveOptionBackground
            };
            this.regex.style(checkBoxStyles);
            this.wholeWords.style(checkBoxStyles);
            this.caseSensitive.style(checkBoxStyles);
            const inputBoxStyles = {
                inputBackground: this.inputBackground,
                inputForeground: this.inputForeground,
                inputBorder: this.inputBorder,
                inputValidationInfoBackground: this.inputValidationInfoBackground,
                inputValidationInfoForeground: this.inputValidationInfoForeground,
                inputValidationInfoBorder: this.inputValidationInfoBorder,
                inputValidationWarningBackground: this.inputValidationWarningBackground,
                inputValidationWarningForeground: this.inputValidationWarningForeground,
                inputValidationWarningBorder: this.inputValidationWarningBorder,
                inputValidationErrorBackground: this.inputValidationErrorBackground,
                inputValidationErrorForeground: this.inputValidationErrorForeground,
                inputValidationErrorBorder: this.inputValidationErrorBorder
            };
            this.inputBox.style(inputBoxStyles);
        }
    }
    select() {
        this.inputBox.select();
    }
    focus() {
        this.inputBox.focus();
    }
    getCaseSensitive() {
        return this.caseSensitive.checked;
    }
    setCaseSensitive(value) {
        this.caseSensitive.checked = value;
    }
    getWholeWords() {
        return this.wholeWords.checked;
    }
    setWholeWords(value) {
        this.wholeWords.checked = value;
    }
    getRegex() {
        return this.regex.checked;
    }
    setRegex(value) {
        this.regex.checked = value;
        this.validate();
    }
    focusOnCaseSensitive() {
        this.caseSensitive.focus();
    }
    highlightFindOptions() {
        this.domNode.classList.remove('highlight-' + this._lastHighlightFindOptions);
        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;
        this.domNode.classList.add('highlight-' + this._lastHighlightFindOptions);
    }
    validate() {
        this.inputBox.validate();
    }
    clearMessage() {
        this.inputBox.hideMessage();
    }
    constructor(parent, contextViewProvider, _showOptionButtons, options){
        super();
        this._showOptionButtons = _showOptionButtons;
        this.fixFocusOnOptionClickEnabled = true;
        this.imeSessionInProgress = false;
        this._onDidOptionChange = this._register(new $bkXdq.Emitter());
        this.onDidOptionChange = this._onDidOptionChange.event;
        this._onKeyDown = this._register(new $bkXdq.Emitter());
        this.onKeyDown = this._onKeyDown.event;
        this._onMouseDown = this._register(new $bkXdq.Emitter());
        this.onMouseDown = this._onMouseDown.event;
        this._onInput = this._register(new $bkXdq.Emitter());
        this._onKeyUp = this._register(new $bkXdq.Emitter());
        this._onCaseSensitiveKeyDown = this._register(new $bkXdq.Emitter());
        this.onCaseSensitiveKeyDown = this._onCaseSensitiveKeyDown.event;
        this._onRegexKeyDown = this._register(new $bkXdq.Emitter());
        this.onRegexKeyDown = this._onRegexKeyDown.event;
        this._lastHighlightFindOptions = 0;
        this.contextViewProvider = contextViewProvider;
        this.placeholder = options.placeholder || '';
        this.validation = options.validation;
        this.label = options.label || $82829020f059022c$var$NLS_DEFAULT_LABEL;
        this.inputActiveOptionBorder = options.inputActiveOptionBorder;
        this.inputActiveOptionForeground = options.inputActiveOptionForeground;
        this.inputActiveOptionBackground = options.inputActiveOptionBackground;
        this.inputBackground = options.inputBackground;
        this.inputForeground = options.inputForeground;
        this.inputBorder = options.inputBorder;
        this.inputValidationInfoBorder = options.inputValidationInfoBorder;
        this.inputValidationInfoBackground = options.inputValidationInfoBackground;
        this.inputValidationInfoForeground = options.inputValidationInfoForeground;
        this.inputValidationWarningBorder = options.inputValidationWarningBorder;
        this.inputValidationWarningBackground = options.inputValidationWarningBackground;
        this.inputValidationWarningForeground = options.inputValidationWarningForeground;
        this.inputValidationErrorBorder = options.inputValidationErrorBorder;
        this.inputValidationErrorBackground = options.inputValidationErrorBackground;
        this.inputValidationErrorForeground = options.inputValidationErrorForeground;
        const appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';
        const appendWholeWordsLabel = options.appendWholeWordsLabel || '';
        const appendRegexLabel = options.appendRegexLabel || '';
        const history = options.history || [];
        const flexibleHeight = !!options.flexibleHeight;
        const flexibleWidth = !!options.flexibleWidth;
        const flexibleMaxHeight = options.flexibleMaxHeight;
        this.domNode = document.createElement('div');
        this.domNode.classList.add('monaco-findInput');
        this.inputBox = this._register(new $it10R.HistoryInputBox(this.domNode, this.contextViewProvider, {
            placeholder: this.placeholder || '',
            ariaLabel: this.label || '',
            validationOptions: {
                validation: this.validation
            },
            inputBackground: this.inputBackground,
            inputForeground: this.inputForeground,
            inputBorder: this.inputBorder,
            inputValidationInfoBackground: this.inputValidationInfoBackground,
            inputValidationInfoForeground: this.inputValidationInfoForeground,
            inputValidationInfoBorder: this.inputValidationInfoBorder,
            inputValidationWarningBackground: this.inputValidationWarningBackground,
            inputValidationWarningForeground: this.inputValidationWarningForeground,
            inputValidationWarningBorder: this.inputValidationWarningBorder,
            inputValidationErrorBackground: this.inputValidationErrorBackground,
            inputValidationErrorForeground: this.inputValidationErrorForeground,
            inputValidationErrorBorder: this.inputValidationErrorBorder,
            history: history,
            showHistoryHint: options.showHistoryHint,
            flexibleHeight: flexibleHeight,
            flexibleWidth: flexibleWidth,
            flexibleMaxHeight: flexibleMaxHeight
        }));
        this.regex = this._register(new $43fe43bb88072571$export$4e97f692e737273e({
            appendTitle: appendRegexLabel,
            isChecked: false,
            inputActiveOptionBorder: this.inputActiveOptionBorder,
            inputActiveOptionForeground: this.inputActiveOptionForeground,
            inputActiveOptionBackground: this.inputActiveOptionBackground
        }));
        this._register(this.regex.onChange((viaKeyboard)=>{
            this._onDidOptionChange.fire(viaKeyboard);
            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) this.inputBox.focus();
            this.validate();
        }));
        this._register(this.regex.onKeyDown((e)=>{
            this._onRegexKeyDown.fire(e);
        }));
        this.wholeWords = this._register(new $43fe43bb88072571$export$ac12d23e9f4ae591({
            appendTitle: appendWholeWordsLabel,
            isChecked: false,
            inputActiveOptionBorder: this.inputActiveOptionBorder,
            inputActiveOptionForeground: this.inputActiveOptionForeground,
            inputActiveOptionBackground: this.inputActiveOptionBackground
        }));
        this._register(this.wholeWords.onChange((viaKeyboard)=>{
            this._onDidOptionChange.fire(viaKeyboard);
            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) this.inputBox.focus();
            this.validate();
        }));
        this.caseSensitive = this._register(new $43fe43bb88072571$export$35c8b2120be2442f({
            appendTitle: appendCaseSensitiveLabel,
            isChecked: false,
            inputActiveOptionBorder: this.inputActiveOptionBorder,
            inputActiveOptionForeground: this.inputActiveOptionForeground,
            inputActiveOptionBackground: this.inputActiveOptionBackground
        }));
        this._register(this.caseSensitive.onChange((viaKeyboard)=>{
            this._onDidOptionChange.fire(viaKeyboard);
            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) this.inputBox.focus();
            this.validate();
        }));
        this._register(this.caseSensitive.onKeyDown((e)=>{
            this._onCaseSensitiveKeyDown.fire(e);
        }));
        if (this._showOptionButtons) this.inputBox.paddingRight = this.caseSensitive.width() + this.wholeWords.width() + this.regex.width();
        // Arrow-Key support to navigate between options
        let indexes = [
            this.caseSensitive.domNode,
            this.wholeWords.domNode,
            this.regex.domNode
        ];
        this.onkeydown(this.domNode, (event)=>{
            if (event.equals(15 /* LeftArrow */ ) || event.equals(17 /* RightArrow */ ) || event.equals(9 /* Escape */ )) {
                let index = indexes.indexOf(document.activeElement);
                if (index >= 0) {
                    let newIndex = -1;
                    if (event.equals(17 /* RightArrow */ )) newIndex = (index + 1) % indexes.length;
                    else if (event.equals(15 /* LeftArrow */ )) {
                        if (index === 0) newIndex = indexes.length - 1;
                        else newIndex = index - 1;
                    }
                    if (event.equals(9 /* Escape */ )) {
                        indexes[index].blur();
                        this.inputBox.focus();
                    } else if (newIndex >= 0) indexes[newIndex].focus();
                    $8xgjE.EventHelper.stop(event, true);
                }
            }
        });
        let controls = document.createElement('div');
        controls.className = 'controls';
        controls.style.display = this._showOptionButtons ? 'block' : 'none';
        controls.appendChild(this.caseSensitive.domNode);
        controls.appendChild(this.wholeWords.domNode);
        controls.appendChild(this.regex.domNode);
        this.domNode.appendChild(controls);
        if (parent) parent.appendChild(this.domNode);
        this._register($8xgjE.addDisposableListener(this.inputBox.inputElement, 'compositionstart', (e)=>{
            this.imeSessionInProgress = true;
        }));
        this._register($8xgjE.addDisposableListener(this.inputBox.inputElement, 'compositionend', (e)=>{
            this.imeSessionInProgress = false;
            this._onInput.fire();
        }));
        this.onkeydown(this.inputBox.inputElement, (e)=>this._onKeyDown.fire(e)
        );
        this.onkeyup(this.inputBox.inputElement, (e)=>this._onKeyUp.fire(e)
        );
        this.oninput(this.inputBox.inputElement, (e)=>this._onInput.fire()
        );
        this.onmousedown(this.inputBox.inputElement, (e)=>this._onMouseDown.fire(e)
        );
    }
}



var $8xgjE = parcelRequire("8xgjE");


var $it10R = parcelRequire("it10R");

var $gKMUF = parcelRequire("gKMUF");

var $k4zqw = parcelRequire("k4zqw");

var $bkXdq = parcelRequire("bkXdq");


var $1WuVQ = parcelRequire("1WuVQ");
const $e7f4b0246ea94f3c$var$NLS_DEFAULT_LABEL = $1WuVQ.localize('defaultLabel', "input");
const $e7f4b0246ea94f3c$var$NLS_PRESERVE_CASE_LABEL = $1WuVQ.localize('label.preserveCaseCheckbox', "Preserve Case");
class $e7f4b0246ea94f3c$export$f90d5d340cad4785 extends $ce303a4331a587e6$export$48513f6b9f8ce62d {
    constructor(opts){
        super({
            // TODO: does this need its own icon?
            icon: $k4zqw.Codicon.preserveCase,
            title: $e7f4b0246ea94f3c$var$NLS_PRESERVE_CASE_LABEL + opts.appendTitle,
            isChecked: opts.isChecked,
            inputActiveOptionBorder: opts.inputActiveOptionBorder,
            inputActiveOptionForeground: opts.inputActiveOptionForeground,
            inputActiveOptionBackground: opts.inputActiveOptionBackground
        });
    }
}
class $e7f4b0246ea94f3c$export$3bdc90548a25210c extends $gKMUF.Widget {
    enable() {
        this.domNode.classList.remove('disabled');
        this.inputBox.enable();
        this.preserveCase.enable();
    }
    disable() {
        this.domNode.classList.add('disabled');
        this.inputBox.disable();
        this.preserveCase.disable();
    }
    setEnabled(enabled) {
        if (enabled) this.enable();
        else this.disable();
    }
    style(styles) {
        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;
        this.inputActiveOptionForeground = styles.inputActiveOptionForeground;
        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;
        this.inputBackground = styles.inputBackground;
        this.inputForeground = styles.inputForeground;
        this.inputBorder = styles.inputBorder;
        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;
        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;
        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;
        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;
        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;
        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;
        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;
        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;
        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;
        this.applyStyles();
    }
    applyStyles() {
        if (this.domNode) {
            const checkBoxStyles = {
                inputActiveOptionBorder: this.inputActiveOptionBorder,
                inputActiveOptionForeground: this.inputActiveOptionForeground,
                inputActiveOptionBackground: this.inputActiveOptionBackground
            };
            this.preserveCase.style(checkBoxStyles);
            const inputBoxStyles = {
                inputBackground: this.inputBackground,
                inputForeground: this.inputForeground,
                inputBorder: this.inputBorder,
                inputValidationInfoBackground: this.inputValidationInfoBackground,
                inputValidationInfoForeground: this.inputValidationInfoForeground,
                inputValidationInfoBorder: this.inputValidationInfoBorder,
                inputValidationWarningBackground: this.inputValidationWarningBackground,
                inputValidationWarningForeground: this.inputValidationWarningForeground,
                inputValidationWarningBorder: this.inputValidationWarningBorder,
                inputValidationErrorBackground: this.inputValidationErrorBackground,
                inputValidationErrorForeground: this.inputValidationErrorForeground,
                inputValidationErrorBorder: this.inputValidationErrorBorder
            };
            this.inputBox.style(inputBoxStyles);
        }
    }
    select() {
        this.inputBox.select();
    }
    focus() {
        this.inputBox.focus();
    }
    getPreserveCase() {
        return this.preserveCase.checked;
    }
    setPreserveCase(value) {
        this.preserveCase.checked = value;
    }
    focusOnPreserve() {
        this.preserveCase.focus();
    }
    validate() {
        if (this.inputBox) this.inputBox.validate();
    }
    set width(newWidth) {
        this.inputBox.paddingRight = this.cachedOptionsWidth;
        this.inputBox.width = newWidth;
        this.domNode.style.width = newWidth + 'px';
    }
    dispose() {
        super.dispose();
    }
    constructor(parent, contextViewProvider, _showOptionButtons, options){
        super();
        this._showOptionButtons = _showOptionButtons;
        this.fixFocusOnOptionClickEnabled = true;
        this.cachedOptionsWidth = 0;
        this._onDidOptionChange = this._register(new $bkXdq.Emitter());
        this.onDidOptionChange = this._onDidOptionChange.event;
        this._onKeyDown = this._register(new $bkXdq.Emitter());
        this.onKeyDown = this._onKeyDown.event;
        this._onMouseDown = this._register(new $bkXdq.Emitter());
        this._onInput = this._register(new $bkXdq.Emitter());
        this._onKeyUp = this._register(new $bkXdq.Emitter());
        this._onPreserveCaseKeyDown = this._register(new $bkXdq.Emitter());
        this.onPreserveCaseKeyDown = this._onPreserveCaseKeyDown.event;
        this.contextViewProvider = contextViewProvider;
        this.placeholder = options.placeholder || '';
        this.validation = options.validation;
        this.label = options.label || $e7f4b0246ea94f3c$var$NLS_DEFAULT_LABEL;
        this.inputActiveOptionBorder = options.inputActiveOptionBorder;
        this.inputActiveOptionForeground = options.inputActiveOptionForeground;
        this.inputActiveOptionBackground = options.inputActiveOptionBackground;
        this.inputBackground = options.inputBackground;
        this.inputForeground = options.inputForeground;
        this.inputBorder = options.inputBorder;
        this.inputValidationInfoBorder = options.inputValidationInfoBorder;
        this.inputValidationInfoBackground = options.inputValidationInfoBackground;
        this.inputValidationInfoForeground = options.inputValidationInfoForeground;
        this.inputValidationWarningBorder = options.inputValidationWarningBorder;
        this.inputValidationWarningBackground = options.inputValidationWarningBackground;
        this.inputValidationWarningForeground = options.inputValidationWarningForeground;
        this.inputValidationErrorBorder = options.inputValidationErrorBorder;
        this.inputValidationErrorBackground = options.inputValidationErrorBackground;
        this.inputValidationErrorForeground = options.inputValidationErrorForeground;
        const appendPreserveCaseLabel = options.appendPreserveCaseLabel || '';
        const history = options.history || [];
        const flexibleHeight = !!options.flexibleHeight;
        const flexibleWidth = !!options.flexibleWidth;
        const flexibleMaxHeight = options.flexibleMaxHeight;
        this.domNode = document.createElement('div');
        this.domNode.classList.add('monaco-findInput');
        this.inputBox = this._register(new $it10R.HistoryInputBox(this.domNode, this.contextViewProvider, {
            ariaLabel: this.label || '',
            placeholder: this.placeholder || '',
            validationOptions: {
                validation: this.validation
            },
            inputBackground: this.inputBackground,
            inputForeground: this.inputForeground,
            inputBorder: this.inputBorder,
            inputValidationInfoBackground: this.inputValidationInfoBackground,
            inputValidationInfoForeground: this.inputValidationInfoForeground,
            inputValidationInfoBorder: this.inputValidationInfoBorder,
            inputValidationWarningBackground: this.inputValidationWarningBackground,
            inputValidationWarningForeground: this.inputValidationWarningForeground,
            inputValidationWarningBorder: this.inputValidationWarningBorder,
            inputValidationErrorBackground: this.inputValidationErrorBackground,
            inputValidationErrorForeground: this.inputValidationErrorForeground,
            inputValidationErrorBorder: this.inputValidationErrorBorder,
            history: history,
            showHistoryHint: options.showHistoryHint,
            flexibleHeight: flexibleHeight,
            flexibleWidth: flexibleWidth,
            flexibleMaxHeight: flexibleMaxHeight
        }));
        this.preserveCase = this._register(new $e7f4b0246ea94f3c$export$f90d5d340cad4785({
            appendTitle: appendPreserveCaseLabel,
            isChecked: false,
            inputActiveOptionBorder: this.inputActiveOptionBorder,
            inputActiveOptionForeground: this.inputActiveOptionForeground,
            inputActiveOptionBackground: this.inputActiveOptionBackground
        }));
        this._register(this.preserveCase.onChange((viaKeyboard)=>{
            this._onDidOptionChange.fire(viaKeyboard);
            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) this.inputBox.focus();
            this.validate();
        }));
        this._register(this.preserveCase.onKeyDown((e)=>{
            this._onPreserveCaseKeyDown.fire(e);
        }));
        if (this._showOptionButtons) this.cachedOptionsWidth = this.preserveCase.width();
        else this.cachedOptionsWidth = 0;
        // Arrow-Key support to navigate between options
        let indexes = [
            this.preserveCase.domNode
        ];
        this.onkeydown(this.domNode, (event)=>{
            if (event.equals(15 /* LeftArrow */ ) || event.equals(17 /* RightArrow */ ) || event.equals(9 /* Escape */ )) {
                let index = indexes.indexOf(document.activeElement);
                if (index >= 0) {
                    let newIndex = -1;
                    if (event.equals(17 /* RightArrow */ )) newIndex = (index + 1) % indexes.length;
                    else if (event.equals(15 /* LeftArrow */ )) {
                        if (index === 0) newIndex = indexes.length - 1;
                        else newIndex = index - 1;
                    }
                    if (event.equals(9 /* Escape */ )) {
                        indexes[index].blur();
                        this.inputBox.focus();
                    } else if (newIndex >= 0) indexes[newIndex].focus();
                    $8xgjE.EventHelper.stop(event, true);
                }
            }
        });
        let controls = document.createElement('div');
        controls.className = 'controls';
        controls.style.display = this._showOptionButtons ? 'block' : 'none';
        controls.appendChild(this.preserveCase.domNode);
        this.domNode.appendChild(controls);
        if (parent) parent.appendChild(this.domNode);
        this.onkeydown(this.inputBox.inputElement, (e)=>this._onKeyDown.fire(e)
        );
        this.onkeyup(this.inputBox.inputElement, (e)=>this._onKeyUp.fire(e)
        );
        this.oninput(this.inputBox.inputElement, (e)=>this._onInput.fire()
        );
        this.onmousedown(this.inputBox.inputElement, (e)=>this._onMouseDown.fire(e)
        );
    }
}



var $h4kGX = parcelRequire("h4kGX");

var $6ObvH = parcelRequire("6ObvH");

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $4c8dd17c64a8a993$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $4c8dd17c64a8a993$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $4c8dd17c64a8a993$export$c267ff7f08858c20 = 'historyNavigationWidget';
const $4c8dd17c64a8a993$var$HistoryNavigationForwardsEnablementContext = 'historyNavigationForwardsEnabled';
const $4c8dd17c64a8a993$var$HistoryNavigationBackwardsEnablementContext = 'historyNavigationBackwardsEnabled';
function $4c8dd17c64a8a993$var$bindContextScopedWidget(contextKeyService, widget, contextKey) {
    new $h4kGX.RawContextKey(contextKey, widget).bindTo(contextKeyService);
}
function $4c8dd17c64a8a993$var$createWidgetScopedContextKeyService(contextKeyService, widget) {
    return contextKeyService.createScoped(widget.target);
}
function $4c8dd17c64a8a993$var$getContextScopedWidget(contextKeyService, contextKey) {
    return contextKeyService.getContext(document.activeElement).getValue(contextKey);
}
function $4c8dd17c64a8a993$export$9e7f879f78a6e9b2(contextKeyService, widget) {
    const scopedContextKeyService = $4c8dd17c64a8a993$var$createWidgetScopedContextKeyService(contextKeyService, widget);
    $4c8dd17c64a8a993$var$bindContextScopedWidget(scopedContextKeyService, widget, $4c8dd17c64a8a993$export$c267ff7f08858c20);
    const historyNavigationForwardsEnablement = new $h4kGX.RawContextKey($4c8dd17c64a8a993$var$HistoryNavigationForwardsEnablementContext, true).bindTo(scopedContextKeyService);
    const historyNavigationBackwardsEnablement = new $h4kGX.RawContextKey($4c8dd17c64a8a993$var$HistoryNavigationBackwardsEnablementContext, true).bindTo(scopedContextKeyService);
    return {
        scopedContextKeyService: scopedContextKeyService,
        historyNavigationForwardsEnablement: historyNavigationForwardsEnablement,
        historyNavigationBackwardsEnablement: historyNavigationBackwardsEnablement
    };
}
let $4c8dd17c64a8a993$export$8b5d5813b2156e74 = class $4c8dd17c64a8a993$export$8b5d5813b2156e74 extends $82829020f059022c$export$5f83bd776c0a7f6f {
    constructor(container, contextViewProvider, options, contextKeyService, showFindOptions = false){
        super(container, contextViewProvider, showFindOptions, options);
        this._register($4c8dd17c64a8a993$export$9e7f879f78a6e9b2(contextKeyService, {
            target: this.inputBox.element,
            historyNavigator: this.inputBox
        }).scopedContextKeyService);
    }
};
$4c8dd17c64a8a993$export$8b5d5813b2156e74 = $4c8dd17c64a8a993$var$__decorate([
    $4c8dd17c64a8a993$var$__param(3, $h4kGX.IContextKeyService)
], $4c8dd17c64a8a993$export$8b5d5813b2156e74);
let $4c8dd17c64a8a993$export$da3bae0145835d60 = class $4c8dd17c64a8a993$export$da3bae0145835d60 extends $e7f4b0246ea94f3c$export$3bdc90548a25210c {
    constructor(container, contextViewProvider, options, contextKeyService, showReplaceOptions = false){
        super(container, contextViewProvider, showReplaceOptions, options);
        this._register($4c8dd17c64a8a993$export$9e7f879f78a6e9b2(contextKeyService, {
            target: this.inputBox.element,
            historyNavigator: this.inputBox
        }).scopedContextKeyService);
    }
};
$4c8dd17c64a8a993$export$da3bae0145835d60 = $4c8dd17c64a8a993$var$__decorate([
    $4c8dd17c64a8a993$var$__param(3, $h4kGX.IContextKeyService)
], $4c8dd17c64a8a993$export$da3bae0145835d60);
$6ObvH.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'history.showPrevious',
    weight: 200 /* WorkbenchContrib */ ,
    when: $h4kGX.ContextKeyExpr.and($h4kGX.ContextKeyExpr.has($4c8dd17c64a8a993$export$c267ff7f08858c20), $h4kGX.ContextKeyExpr.equals($4c8dd17c64a8a993$var$HistoryNavigationBackwardsEnablementContext, true), $abd2fa2c46cec408$exports.Context.Visible.isEqualTo(false)),
    primary: 16 /* UpArrow */ ,
    secondary: [
        528 /* UpArrow */ 
    ],
    handler: (accessor)=>{
        const widget = $4c8dd17c64a8a993$var$getContextScopedWidget(accessor.get($h4kGX.IContextKeyService), $4c8dd17c64a8a993$export$c267ff7f08858c20);
        if (widget) {
            const historyInputBox = widget.historyNavigator;
            historyInputBox.showPreviousValue();
        }
    }
});
$6ObvH.KeybindingsRegistry.registerCommandAndKeybindingRule({
    id: 'history.showNext',
    weight: 200 /* WorkbenchContrib */ ,
    when: $h4kGX.ContextKeyExpr.and($h4kGX.ContextKeyExpr.has($4c8dd17c64a8a993$export$c267ff7f08858c20), $h4kGX.ContextKeyExpr.equals($4c8dd17c64a8a993$var$HistoryNavigationForwardsEnablementContext, true), $abd2fa2c46cec408$exports.Context.Visible.isEqualTo(false)),
    primary: 18 /* DownArrow */ ,
    secondary: [
        530 /* DownArrow */ 
    ],
    handler: (accessor)=>{
        const widget = $4c8dd17c64a8a993$var$getContextScopedWidget(accessor.get($h4kGX.IContextKeyService), $4c8dd17c64a8a993$export$c267ff7f08858c20);
        if (widget) {
            const historyInputBox = widget.historyNavigator;
            historyInputBox.showNextValue();
        }
    }
});


function $9e1323a6f0b3fe0f$export$94614604caa08aab(keybindingService) {
    var _a, _b;
    return ((_a = keybindingService.lookupKeybinding('history.showPrevious')) === null || _a === void 0 ? void 0 : _a.getElectronAccelerator()) === 'Up' && ((_b = keybindingService.lookupKeybinding('history.showNext')) === null || _b === void 0 ? void 0 : _b.getElectronAccelerator()) === 'Down';
}



var $kL4Ig = parcelRequire("kL4Ig");

var $citn9 = parcelRequire("citn9");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $b5d1b590b1aa2901$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $b5d1b590b1aa2901$var$findSelectionIcon = $citn9.registerIcon('find-selection', $k4zqw.Codicon.selection, $1WuVQ.localize('findSelectionIcon', 'Icon for \'Find in Selection\' in the editor find widget.'));
const $b5d1b590b1aa2901$var$findCollapsedIcon = $citn9.registerIcon('find-collapsed', $k4zqw.Codicon.chevronRight, $1WuVQ.localize('findCollapsedIcon', 'Icon to indicate that the editor find widget is collapsed.'));
const $b5d1b590b1aa2901$var$findExpandedIcon = $citn9.registerIcon('find-expanded', $k4zqw.Codicon.chevronDown, $1WuVQ.localize('findExpandedIcon', 'Icon to indicate that the editor find widget is expanded.'));
const $b5d1b590b1aa2901$export$83ee554109a27042 = $citn9.registerIcon('find-replace', $k4zqw.Codicon.replace, $1WuVQ.localize('findReplaceIcon', 'Icon for \'Replace\' in the editor find widget.'));
const $b5d1b590b1aa2901$export$9c63c939bdf63145 = $citn9.registerIcon('find-replace-all', $k4zqw.Codicon.replaceAll, $1WuVQ.localize('findReplaceAllIcon', 'Icon for \'Replace All\' in the editor find widget.'));
const $b5d1b590b1aa2901$export$cd8ded1ad8462604 = $citn9.registerIcon('find-previous-match', $k4zqw.Codicon.arrowUp, $1WuVQ.localize('findPreviousMatchIcon', 'Icon for \'Find Previous\' in the editor find widget.'));
const $b5d1b590b1aa2901$export$3b49e6223142e6cb = $citn9.registerIcon('find-next-match', $k4zqw.Codicon.arrowDown, $1WuVQ.localize('findNextMatchIcon', 'Icon for \'Find Next\' in the editor find widget.'));
const $b5d1b590b1aa2901$var$NLS_FIND_INPUT_LABEL = $1WuVQ.localize('label.find', "Find");
const $b5d1b590b1aa2901$var$NLS_FIND_INPUT_PLACEHOLDER = $1WuVQ.localize('placeholder.find', "Find");
const $b5d1b590b1aa2901$var$NLS_PREVIOUS_MATCH_BTN_LABEL = $1WuVQ.localize('label.previousMatchButton', "Previous Match");
const $b5d1b590b1aa2901$var$NLS_NEXT_MATCH_BTN_LABEL = $1WuVQ.localize('label.nextMatchButton', "Next Match");
const $b5d1b590b1aa2901$var$NLS_TOGGLE_SELECTION_FIND_TITLE = $1WuVQ.localize('label.toggleSelectionFind', "Find in Selection");
const $b5d1b590b1aa2901$var$NLS_CLOSE_BTN_LABEL = $1WuVQ.localize('label.closeButton', "Close");
const $b5d1b590b1aa2901$var$NLS_REPLACE_INPUT_LABEL = $1WuVQ.localize('label.replace', "Replace");
const $b5d1b590b1aa2901$var$NLS_REPLACE_INPUT_PLACEHOLDER = $1WuVQ.localize('placeholder.replace', "Replace");
const $b5d1b590b1aa2901$var$NLS_REPLACE_BTN_LABEL = $1WuVQ.localize('label.replaceButton', "Replace");
const $b5d1b590b1aa2901$var$NLS_REPLACE_ALL_BTN_LABEL = $1WuVQ.localize('label.replaceAllButton', "Replace All");
const $b5d1b590b1aa2901$var$NLS_TOGGLE_REPLACE_MODE_BTN_LABEL = $1WuVQ.localize('label.toggleReplaceButton', "Toggle Replace");
const $b5d1b590b1aa2901$var$NLS_MATCHES_COUNT_LIMIT_TITLE = $1WuVQ.localize('title.matchesCountLimit', "Only the first {0} results are highlighted, but all find operations work on the entire text.", $a3a9155c09fe06f0$export$79640dbfb07f50a4);
const $b5d1b590b1aa2901$export$db048e36c0077c43 = $1WuVQ.localize('label.matchesLocation', "{0} of {1}");
const $b5d1b590b1aa2901$export$5e23834a190f34c5 = $1WuVQ.localize('label.noResults', "No results");
const $b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH = 419;
const $b5d1b590b1aa2901$var$PART_WIDTH = 275;
const $b5d1b590b1aa2901$var$FIND_INPUT_AREA_WIDTH = $b5d1b590b1aa2901$var$PART_WIDTH - 54;
let $b5d1b590b1aa2901$var$MAX_MATCHES_COUNT_WIDTH = 69;
// let FIND_ALL_CONTROLS_WIDTH = 17/** Find Input margin-left */ + (MAX_MATCHES_COUNT_WIDTH + 3 + 1) /** Match Results */ + 23 /** Button */ * 4 + 2/** sash */;
const $b5d1b590b1aa2901$var$FIND_INPUT_AREA_HEIGHT = 33; // The height of Find Widget when Replace Input is not visible.
const $b5d1b590b1aa2901$var$ctrlEnterReplaceAllWarningPromptedKey = 'ctrlEnterReplaceAll.windows.donotask';
const $b5d1b590b1aa2901$var$ctrlKeyMod = $7e5Mc.isMacintosh ? 256 /* WinCtrl */  : 2048 /* CtrlCmd */ ;
class $b5d1b590b1aa2901$export$70830c157adafe3e {
    constructor(afterLineNumber){
        this.afterLineNumber = afterLineNumber;
        this.heightInPx = $b5d1b590b1aa2901$var$FIND_INPUT_AREA_HEIGHT;
        this.suppressMouseDown = false;
        this.domNode = document.createElement('div');
        this.domNode.className = 'dock-find-viewzone';
    }
}
function $b5d1b590b1aa2901$var$stopPropagationForMultiLineUpwards(event, value, textarea) {
    const isMultiline = !!value.match(/\n/);
    if (textarea && isMultiline && textarea.selectionStart > 0) {
        event.stopPropagation();
        return;
    }
}
function $b5d1b590b1aa2901$var$stopPropagationForMultiLineDownwards(event, value, textarea) {
    const isMultiline = !!value.match(/\n/);
    if (textarea && isMultiline && textarea.selectionEnd < textarea.value.length) {
        event.stopPropagation();
        return;
    }
}
class $b5d1b590b1aa2901$export$94cf213bcf83d48e extends $gKMUF.Widget {
    // ----- IOverlayWidget API
    getId() {
        return $b5d1b590b1aa2901$export$94cf213bcf83d48e.ID;
    }
    getDomNode() {
        return this._domNode;
    }
    getPosition() {
        if (this._isVisible) return {
            preference: 0 /* TOP_RIGHT_CORNER */ 
        };
        return null;
    }
    // ----- React to state changes
    _onStateChanged(e) {
        if (e.searchString) {
            try {
                this._ignoreChangeEvent = true;
                this._findInput.setValue(this._state.searchString);
            } finally{
                this._ignoreChangeEvent = false;
            }
            this._updateButtons();
        }
        if (e.replaceString) this._replaceInput.inputBox.value = this._state.replaceString;
        if (e.isRevealed) {
            if (this._state.isRevealed) this._reveal();
            else this._hide(true);
        }
        if (e.isReplaceRevealed) {
            if (this._state.isReplaceRevealed) {
                if (!this._codeEditor.getOption(80 /* readOnly */ ) && !this._isReplaceVisible) {
                    this._isReplaceVisible = true;
                    this._replaceInput.width = $8xgjE.getTotalWidth(this._findInput.domNode);
                    this._updateButtons();
                    this._replaceInput.inputBox.layout();
                }
            } else if (this._isReplaceVisible) {
                this._isReplaceVisible = false;
                this._updateButtons();
            }
        }
        if ((e.isRevealed || e.isReplaceRevealed) && (this._state.isRevealed || this._state.isReplaceRevealed)) {
            if (this._tryUpdateHeight()) this._showViewZone();
        }
        if (e.isRegex) this._findInput.setRegex(this._state.isRegex);
        if (e.wholeWord) this._findInput.setWholeWords(this._state.wholeWord);
        if (e.matchCase) this._findInput.setCaseSensitive(this._state.matchCase);
        if (e.preserveCase) this._replaceInput.setPreserveCase(this._state.preserveCase);
        if (e.searchScope) {
            if (this._state.searchScope) this._toggleSelectionFind.checked = true;
            else this._toggleSelectionFind.checked = false;
            this._updateToggleSelectionFindButton();
        }
        if (e.searchString || e.matchesCount || e.matchesPosition) {
            let showRedOutline = this._state.searchString.length > 0 && this._state.matchesCount === 0;
            this._domNode.classList.toggle('no-results', showRedOutline);
            this._updateMatchesCount();
            this._updateButtons();
        }
        if (e.searchString || e.currentMatch) this._layoutViewZone();
        if (e.updateHistory) this._delayedUpdateHistory();
        if (e.loop) this._updateButtons();
    }
    _delayedUpdateHistory() {
        this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(undefined, $3FsT3.onUnexpectedError);
    }
    _updateHistory() {
        if (this._state.searchString) this._findInput.inputBox.addToHistory();
        if (this._state.replaceString) this._replaceInput.inputBox.addToHistory();
    }
    _updateMatchesCount() {
        this._matchesCount.style.minWidth = $b5d1b590b1aa2901$var$MAX_MATCHES_COUNT_WIDTH + 'px';
        if (this._state.matchesCount >= $a3a9155c09fe06f0$export$79640dbfb07f50a4) this._matchesCount.title = $b5d1b590b1aa2901$var$NLS_MATCHES_COUNT_LIMIT_TITLE;
        else this._matchesCount.title = '';
        // remove previous content
        if (this._matchesCount.firstChild) this._matchesCount.removeChild(this._matchesCount.firstChild);
        let label;
        if (this._state.matchesCount > 0) {
            let matchesCount = String(this._state.matchesCount);
            if (this._state.matchesCount >= $a3a9155c09fe06f0$export$79640dbfb07f50a4) matchesCount += '+';
            let matchesPosition = String(this._state.matchesPosition);
            if (matchesPosition === '0') matchesPosition = '?';
            label = $i4xl7.format($b5d1b590b1aa2901$export$db048e36c0077c43, matchesPosition, matchesCount);
        } else label = $b5d1b590b1aa2901$export$5e23834a190f34c5;
        this._matchesCount.appendChild(document.createTextNode(label));
        $6eCoB.alert(this._getAriaLabel(label, this._state.currentMatch, this._state.searchString));
        $b5d1b590b1aa2901$var$MAX_MATCHES_COUNT_WIDTH = Math.max($b5d1b590b1aa2901$var$MAX_MATCHES_COUNT_WIDTH, this._matchesCount.clientWidth);
    }
    // ----- actions
    _getAriaLabel(label, currentMatch, searchString) {
        if (label === $b5d1b590b1aa2901$export$5e23834a190f34c5) return searchString === '' ? $1WuVQ.localize('ariaSearchNoResultEmpty', "{0} found", label) : $1WuVQ.localize('ariaSearchNoResult', "{0} found for '{1}'", label, searchString);
        if (currentMatch) {
            const ariaLabel = $1WuVQ.localize('ariaSearchNoResultWithLineNum', "{0} found for '{1}', at {2}", label, searchString, currentMatch.startLineNumber + ':' + currentMatch.startColumn);
            const model = this._codeEditor.getModel();
            if (model && currentMatch.startLineNumber <= model.getLineCount() && currentMatch.startLineNumber >= 1) {
                const lineContent = model.getLineContent(currentMatch.startLineNumber);
                return `${lineContent}, ${ariaLabel}`;
            }
            return ariaLabel;
        }
        return $1WuVQ.localize('ariaSearchNoResultWithLineNumNoCurrentMatch', "{0} found for '{1}'", label, searchString);
    }
    /**
     * If 'selection find' is ON we should not disable the button (its function is to cancel 'selection find').
     * If 'selection find' is OFF we enable the button only if there is a selection.
     */ _updateToggleSelectionFindButton() {
        let selection = this._codeEditor.getSelection();
        let isSelection = selection ? selection.startLineNumber !== selection.endLineNumber || selection.startColumn !== selection.endColumn : false;
        let isChecked = this._toggleSelectionFind.checked;
        if (this._isVisible && (isChecked || isSelection)) this._toggleSelectionFind.enable();
        else this._toggleSelectionFind.disable();
    }
    _updateButtons() {
        this._findInput.setEnabled(this._isVisible);
        this._replaceInput.setEnabled(this._isVisible && this._isReplaceVisible);
        this._updateToggleSelectionFindButton();
        this._closeBtn.setEnabled(this._isVisible);
        let findInputIsNonEmpty = this._state.searchString.length > 0;
        let matchesCount = this._state.matchesCount ? true : false;
        this._prevBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount && this._state.canNavigateBack());
        this._nextBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount && this._state.canNavigateForward());
        this._replaceBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);
        this._replaceAllBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);
        this._domNode.classList.toggle('replaceToggled', this._isReplaceVisible);
        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);
        let canReplace = !this._codeEditor.getOption(80 /* readOnly */ );
        this._toggleReplaceBtn.setEnabled(this._isVisible && canReplace);
    }
    _reveal() {
        this._revealTimeouts.forEach((e)=>{
            clearTimeout(e);
        });
        this._revealTimeouts = [];
        if (!this._isVisible) {
            this._isVisible = true;
            const selection = this._codeEditor.getSelection();
            switch(this._codeEditor.getOption(35 /* find */ ).autoFindInSelection){
                case 'always':
                    this._toggleSelectionFind.checked = true;
                    break;
                case 'never':
                    this._toggleSelectionFind.checked = false;
                    break;
                case 'multiline':
                    const isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;
                    this._toggleSelectionFind.checked = isSelectionMultipleLine;
                    break;
                default:
                    break;
            }
            this._tryUpdateWidgetWidth();
            this._updateButtons();
            this._revealTimeouts.push(setTimeout(()=>{
                this._domNode.classList.add('visible');
                this._domNode.setAttribute('aria-hidden', 'false');
            }, 0));
            // validate query again as it's being dismissed when we hide the find widget.
            this._revealTimeouts.push(setTimeout(()=>{
                this._findInput.validate();
            }, 200));
            this._codeEditor.layoutOverlayWidget(this);
            let adjustEditorScrollTop = true;
            if (this._codeEditor.getOption(35 /* find */ ).seedSearchStringFromSelection && selection) {
                const domNode = this._codeEditor.getDomNode();
                if (domNode) {
                    const editorCoords = $8xgjE.getDomNodePagePosition(domNode);
                    const startCoords = this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition());
                    const startLeft = editorCoords.left + (startCoords ? startCoords.left : 0);
                    const startTop = startCoords ? startCoords.top : 0;
                    if (this._viewZone && startTop < this._viewZone.heightInPx) {
                        if (selection.endLineNumber > selection.startLineNumber) adjustEditorScrollTop = false;
                        const leftOfFindWidget = $8xgjE.getTopLeftOffset(this._domNode).left;
                        if (startLeft > leftOfFindWidget) adjustEditorScrollTop = false;
                        const endCoords = this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition());
                        const endLeft = editorCoords.left + (endCoords ? endCoords.left : 0);
                        if (endLeft > leftOfFindWidget) adjustEditorScrollTop = false;
                    }
                }
            }
            this._showViewZone(adjustEditorScrollTop);
        }
    }
    _hide(focusTheEditor) {
        this._revealTimeouts.forEach((e)=>{
            clearTimeout(e);
        });
        this._revealTimeouts = [];
        if (this._isVisible) {
            this._isVisible = false;
            this._updateButtons();
            this._domNode.classList.remove('visible');
            this._domNode.setAttribute('aria-hidden', 'true');
            this._findInput.clearMessage();
            if (focusTheEditor) this._codeEditor.focus();
            this._codeEditor.layoutOverlayWidget(this);
            this._removeViewZone();
        }
    }
    _layoutViewZone(targetScrollTop) {
        const addExtraSpaceOnTop = this._codeEditor.getOption(35 /* find */ ).addExtraSpaceOnTop;
        if (!addExtraSpaceOnTop) {
            this._removeViewZone();
            return;
        }
        if (!this._isVisible) return;
        const viewZone = this._viewZone;
        if (this._viewZoneId !== undefined || !viewZone) return;
        this._codeEditor.changeViewZones((accessor)=>{
            viewZone.heightInPx = this._getHeight();
            this._viewZoneId = accessor.addZone(viewZone);
            // scroll top adjust to make sure the editor doesn't scroll when adding viewzone at the beginning.
            this._codeEditor.setScrollTop(targetScrollTop || this._codeEditor.getScrollTop() + viewZone.heightInPx);
        });
    }
    _showViewZone(adjustScroll = true) {
        if (!this._isVisible) return;
        const addExtraSpaceOnTop = this._codeEditor.getOption(35 /* find */ ).addExtraSpaceOnTop;
        if (!addExtraSpaceOnTop) return;
        if (this._viewZone === undefined) this._viewZone = new $b5d1b590b1aa2901$export$70830c157adafe3e(0);
        const viewZone = this._viewZone;
        this._codeEditor.changeViewZones((accessor)=>{
            if (this._viewZoneId !== undefined) {
                // the view zone already exists, we need to update the height
                const newHeight = this._getHeight();
                if (newHeight === viewZone.heightInPx) return;
                let scrollAdjustment = newHeight - viewZone.heightInPx;
                viewZone.heightInPx = newHeight;
                accessor.layoutZone(this._viewZoneId);
                if (adjustScroll) this._codeEditor.setScrollTop(this._codeEditor.getScrollTop() + scrollAdjustment);
                return;
            } else {
                let scrollAdjustment = this._getHeight();
                // if the editor has top padding, factor that into the zone height
                scrollAdjustment -= this._codeEditor.getOption(74 /* padding */ ).top;
                if (scrollAdjustment <= 0) return;
                viewZone.heightInPx = scrollAdjustment;
                this._viewZoneId = accessor.addZone(viewZone);
                if (adjustScroll) this._codeEditor.setScrollTop(this._codeEditor.getScrollTop() + scrollAdjustment);
            }
        });
    }
    _removeViewZone() {
        this._codeEditor.changeViewZones((accessor)=>{
            if (this._viewZoneId !== undefined) {
                accessor.removeZone(this._viewZoneId);
                this._viewZoneId = undefined;
                if (this._viewZone) {
                    this._codeEditor.setScrollTop(this._codeEditor.getScrollTop() - this._viewZone.heightInPx);
                    this._viewZone = undefined;
                }
            }
        });
    }
    _applyTheme(theme) {
        let inputStyles = {
            inputActiveOptionBorder: theme.getColor($kL4Ig.inputActiveOptionBorder),
            inputActiveOptionBackground: theme.getColor($kL4Ig.inputActiveOptionBackground),
            inputActiveOptionForeground: theme.getColor($kL4Ig.inputActiveOptionForeground),
            inputBackground: theme.getColor($kL4Ig.inputBackground),
            inputForeground: theme.getColor($kL4Ig.inputForeground),
            inputBorder: theme.getColor($kL4Ig.inputBorder),
            inputValidationInfoBackground: theme.getColor($kL4Ig.inputValidationInfoBackground),
            inputValidationInfoForeground: theme.getColor($kL4Ig.inputValidationInfoForeground),
            inputValidationInfoBorder: theme.getColor($kL4Ig.inputValidationInfoBorder),
            inputValidationWarningBackground: theme.getColor($kL4Ig.inputValidationWarningBackground),
            inputValidationWarningForeground: theme.getColor($kL4Ig.inputValidationWarningForeground),
            inputValidationWarningBorder: theme.getColor($kL4Ig.inputValidationWarningBorder),
            inputValidationErrorBackground: theme.getColor($kL4Ig.inputValidationErrorBackground),
            inputValidationErrorForeground: theme.getColor($kL4Ig.inputValidationErrorForeground),
            inputValidationErrorBorder: theme.getColor($kL4Ig.inputValidationErrorBorder)
        };
        this._findInput.style(inputStyles);
        this._replaceInput.style(inputStyles);
        this._toggleSelectionFind.style(inputStyles);
    }
    _tryUpdateWidgetWidth() {
        if (!this._isVisible) return;
        if (!$8xgjE.isInDOM(this._domNode)) // the widget is not in the DOM
        return;
        const layoutInfo = this._codeEditor.getLayoutInfo();
        const editorContentWidth = layoutInfo.contentWidth;
        if (editorContentWidth <= 0) {
            // for example, diff view original editor
            this._domNode.classList.add('hiddenEditor');
            return;
        } else if (this._domNode.classList.contains('hiddenEditor')) this._domNode.classList.remove('hiddenEditor');
        const editorWidth = layoutInfo.width;
        const minimapWidth = layoutInfo.minimap.minimapWidth;
        let collapsedFindWidget = false;
        let reducedFindWidget = false;
        let narrowFindWidget = false;
        if (this._resized) {
            let widgetWidth = $8xgjE.getTotalWidth(this._domNode);
            if (widgetWidth > $b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH) {
                // as the widget is resized by users, we may need to change the max width of the widget as the editor width changes.
                this._domNode.style.maxWidth = `${editorWidth - 28 - minimapWidth - 15}px`;
                this._replaceInput.width = $8xgjE.getTotalWidth(this._findInput.domNode);
                return;
            }
        }
        if ($b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth >= editorWidth) reducedFindWidget = true;
        if ($b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - $b5d1b590b1aa2901$var$MAX_MATCHES_COUNT_WIDTH >= editorWidth) narrowFindWidget = true;
        if ($b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - $b5d1b590b1aa2901$var$MAX_MATCHES_COUNT_WIDTH >= editorWidth + 50) collapsedFindWidget = true;
        this._domNode.classList.toggle('collapsed-find-widget', collapsedFindWidget);
        this._domNode.classList.toggle('narrow-find-widget', narrowFindWidget);
        this._domNode.classList.toggle('reduced-find-widget', reducedFindWidget);
        if (!narrowFindWidget && !collapsedFindWidget) // the minimal left offset of findwidget is 15px.
        this._domNode.style.maxWidth = `${editorWidth - 28 - minimapWidth - 15}px`;
        if (this._resized) {
            this._findInput.inputBox.layout();
            let findInputWidth = this._findInput.inputBox.element.clientWidth;
            if (findInputWidth > 0) this._replaceInput.width = findInputWidth;
        } else if (this._isReplaceVisible) this._replaceInput.width = $8xgjE.getTotalWidth(this._findInput.domNode);
    }
    _getHeight() {
        let totalheight = 0;
        // find input margin top
        totalheight += 4;
        // find input height
        totalheight += this._findInput.inputBox.height + 2 /** input box border */ ;
        if (this._isReplaceVisible) {
            // replace input margin
            totalheight += 4;
            totalheight += this._replaceInput.inputBox.height + 2 /** input box border */ ;
        }
        // margin bottom
        totalheight += 4;
        return totalheight;
    }
    _tryUpdateHeight() {
        const totalHeight = this._getHeight();
        if (this._cachedHeight !== null && this._cachedHeight === totalHeight) return false;
        this._cachedHeight = totalHeight;
        this._domNode.style.height = `${totalHeight}px`;
        return true;
    }
    // ----- Public
    focusFindInput() {
        this._findInput.select();
        // Edge browser requires focus() in addition to select()
        this._findInput.focus();
    }
    focusReplaceInput() {
        this._replaceInput.select();
        // Edge browser requires focus() in addition to select()
        this._replaceInput.focus();
    }
    highlightFindOptions() {
        this._findInput.highlightFindOptions();
    }
    _updateSearchScope() {
        if (!this._codeEditor.hasModel()) return;
        if (this._toggleSelectionFind.checked) {
            let selections = this._codeEditor.getSelections();
            selections.map((selection)=>{
                if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) selection = selection.setEndPosition(selection.endLineNumber - 1, this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber - 1));
                const currentMatch = this._state.currentMatch;
                if (selection.startLineNumber !== selection.endLineNumber) {
                    if (!$1YFxJ.Range.equalsRange(selection, currentMatch)) return selection;
                }
                return null;
            }).filter((element)=>!!element
            );
            if (selections.length) this._state.change({
                searchScope: selections
            }, true);
        }
    }
    _onFindInputMouseDown(e) {
        // on linux, middle key does pasting.
        if (e.middleButton) e.stopPropagation();
    }
    _onFindInputKeyDown(e) {
        if (e.equals($b5d1b590b1aa2901$var$ctrlKeyMod | 3 /* Enter */ )) {
            if (this._keybindingService.dispatchEvent(e, e.target)) {
                e.preventDefault();
                return;
            } else {
                this._findInput.inputBox.insertAtCursor('\n');
                e.preventDefault();
                return;
            }
        }
        if (e.equals(2 /* Tab */ )) {
            if (this._isReplaceVisible) this._replaceInput.focus();
            else this._findInput.focusOnCaseSensitive();
            e.preventDefault();
            return;
        }
        if (e.equals(2066 /* DownArrow */ )) {
            this._codeEditor.focus();
            e.preventDefault();
            return;
        }
        if (e.equals(16 /* UpArrow */ )) return $b5d1b590b1aa2901$var$stopPropagationForMultiLineUpwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));
        if (e.equals(18 /* DownArrow */ )) return $b5d1b590b1aa2901$var$stopPropagationForMultiLineDownwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));
    }
    _onReplaceInputKeyDown(e) {
        if (e.equals($b5d1b590b1aa2901$var$ctrlKeyMod | 3 /* Enter */ )) {
            if (this._keybindingService.dispatchEvent(e, e.target)) {
                e.preventDefault();
                return;
            } else {
                if ($7e5Mc.isWindows && $7e5Mc.isNative && !this._ctrlEnterReplaceAllWarningPrompted) {
                    // this is the first time when users press Ctrl + Enter to replace all
                    this._notificationService.info($1WuVQ.localize('ctrlEnter.keybindingChanged', 'Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.'));
                    this._ctrlEnterReplaceAllWarningPrompted = true;
                    this._storageService.store($b5d1b590b1aa2901$var$ctrlEnterReplaceAllWarningPromptedKey, true, 0 /* GLOBAL */ , 0 /* USER */ );
                }
                this._replaceInput.inputBox.insertAtCursor('\n');
                e.preventDefault();
                return;
            }
        }
        if (e.equals(2 /* Tab */ )) {
            this._findInput.focusOnCaseSensitive();
            e.preventDefault();
            return;
        }
        if (e.equals(1026 /* Tab */ )) {
            this._findInput.focus();
            e.preventDefault();
            return;
        }
        if (e.equals(2066 /* DownArrow */ )) {
            this._codeEditor.focus();
            e.preventDefault();
            return;
        }
        if (e.equals(16 /* UpArrow */ )) return $b5d1b590b1aa2901$var$stopPropagationForMultiLineUpwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));
        if (e.equals(18 /* DownArrow */ )) return $b5d1b590b1aa2901$var$stopPropagationForMultiLineDownwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));
    }
    // ----- sash
    getVerticalSashLeft(_sash) {
        return 0;
    }
    // ----- initialization
    _keybindingLabelFor(actionId) {
        let kb = this._keybindingService.lookupKeybinding(actionId);
        if (!kb) return '';
        return ` (${kb.getLabel()})`;
    }
    _buildDomNode() {
        const flexibleHeight = true;
        const flexibleWidth = true;
        // Find input
        this._findInput = this._register(new $4c8dd17c64a8a993$exports.ContextScopedFindInput(null, this._contextViewProvider, {
            width: $b5d1b590b1aa2901$var$FIND_INPUT_AREA_WIDTH,
            label: $b5d1b590b1aa2901$var$NLS_FIND_INPUT_LABEL,
            placeholder: $b5d1b590b1aa2901$var$NLS_FIND_INPUT_PLACEHOLDER,
            appendCaseSensitiveLabel: this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ToggleCaseSensitiveCommand),
            appendWholeWordsLabel: this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ToggleWholeWordCommand),
            appendRegexLabel: this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ToggleRegexCommand),
            validation: (value)=>{
                if (value.length === 0 || !this._findInput.getRegex()) return null;
                try {
                    // use `g` and `u` which are also used by the TextModel search
                    new RegExp(value, 'gu');
                    return null;
                } catch (e) {
                    return {
                        content: e.message
                    };
                }
            },
            flexibleHeight: flexibleHeight,
            flexibleWidth: flexibleWidth,
            flexibleMaxHeight: 118,
            showHistoryHint: ()=>$9e1323a6f0b3fe0f$export$94614604caa08aab(this._keybindingService)
        }, this._contextKeyService, true));
        this._findInput.setRegex(!!this._state.isRegex);
        this._findInput.setCaseSensitive(!!this._state.matchCase);
        this._findInput.setWholeWords(!!this._state.wholeWord);
        this._register(this._findInput.onKeyDown((e)=>this._onFindInputKeyDown(e)
        ));
        this._register(this._findInput.inputBox.onDidChange(()=>{
            if (this._ignoreChangeEvent) return;
            this._state.change({
                searchString: this._findInput.getValue()
            }, true);
        }));
        this._register(this._findInput.onDidOptionChange(()=>{
            this._state.change({
                isRegex: this._findInput.getRegex(),
                wholeWord: this._findInput.getWholeWords(),
                matchCase: this._findInput.getCaseSensitive()
            }, true);
        }));
        this._register(this._findInput.onCaseSensitiveKeyDown((e)=>{
            if (e.equals(1026 /* Tab */ )) {
                if (this._isReplaceVisible) {
                    this._replaceInput.focus();
                    e.preventDefault();
                }
            }
        }));
        this._register(this._findInput.onRegexKeyDown((e)=>{
            if (e.equals(2 /* Tab */ )) {
                if (this._isReplaceVisible) {
                    this._replaceInput.focusOnPreserve();
                    e.preventDefault();
                }
            }
        }));
        this._register(this._findInput.inputBox.onDidHeightChange((e)=>{
            if (this._tryUpdateHeight()) this._showViewZone();
        }));
        if ($7e5Mc.isLinux) this._register(this._findInput.onMouseDown((e)=>this._onFindInputMouseDown(e)
        ));
        this._matchesCount = document.createElement('div');
        this._matchesCount.className = 'matchesCount';
        this._updateMatchesCount();
        // Previous button
        this._prevBtn = this._register(new $b5d1b590b1aa2901$export$627052cf4bde93a4({
            label: $b5d1b590b1aa2901$var$NLS_PREVIOUS_MATCH_BTN_LABEL + this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.PreviousMatchFindAction),
            icon: $b5d1b590b1aa2901$export$cd8ded1ad8462604,
            onTrigger: ()=>{
                this._codeEditor.getAction($a3a9155c09fe06f0$export$a4fc1be778636938.PreviousMatchFindAction).run().then(undefined, $3FsT3.onUnexpectedError);
            }
        }));
        // Next button
        this._nextBtn = this._register(new $b5d1b590b1aa2901$export$627052cf4bde93a4({
            label: $b5d1b590b1aa2901$var$NLS_NEXT_MATCH_BTN_LABEL + this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.NextMatchFindAction),
            icon: $b5d1b590b1aa2901$export$3b49e6223142e6cb,
            onTrigger: ()=>{
                this._codeEditor.getAction($a3a9155c09fe06f0$export$a4fc1be778636938.NextMatchFindAction).run().then(undefined, $3FsT3.onUnexpectedError);
            }
        }));
        let findPart = document.createElement('div');
        findPart.className = 'find-part';
        findPart.appendChild(this._findInput.domNode);
        const actionsContainer = document.createElement('div');
        actionsContainer.className = 'find-actions';
        findPart.appendChild(actionsContainer);
        actionsContainer.appendChild(this._matchesCount);
        actionsContainer.appendChild(this._prevBtn.domNode);
        actionsContainer.appendChild(this._nextBtn.domNode);
        // Toggle selection button
        this._toggleSelectionFind = this._register(new $ce303a4331a587e6$export$48513f6b9f8ce62d({
            icon: $b5d1b590b1aa2901$var$findSelectionIcon,
            title: $b5d1b590b1aa2901$var$NLS_TOGGLE_SELECTION_FIND_TITLE + this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ToggleSearchScopeCommand),
            isChecked: false
        }));
        this._register(this._toggleSelectionFind.onChange(()=>{
            if (this._toggleSelectionFind.checked) {
                if (this._codeEditor.hasModel()) {
                    let selections = this._codeEditor.getSelections();
                    selections.map((selection)=>{
                        if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) selection = selection.setEndPosition(selection.endLineNumber - 1, this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber - 1));
                        if (!selection.isEmpty()) return selection;
                        return null;
                    }).filter((element)=>!!element
                    );
                    if (selections.length) this._state.change({
                        searchScope: selections
                    }, true);
                }
            } else this._state.change({
                searchScope: null
            }, true);
        }));
        actionsContainer.appendChild(this._toggleSelectionFind.domNode);
        // Close button
        this._closeBtn = this._register(new $b5d1b590b1aa2901$export$627052cf4bde93a4({
            label: $b5d1b590b1aa2901$var$NLS_CLOSE_BTN_LABEL + this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.CloseFindWidgetCommand),
            icon: $citn9.widgetClose,
            onTrigger: ()=>{
                this._state.change({
                    isRevealed: false,
                    searchScope: null
                }, false);
            },
            onKeyDown: (e)=>{
                if (e.equals(2 /* Tab */ )) {
                    if (this._isReplaceVisible) {
                        if (this._replaceBtn.isEnabled()) this._replaceBtn.focus();
                        else this._codeEditor.focus();
                        e.preventDefault();
                    }
                }
            }
        }));
        actionsContainer.appendChild(this._closeBtn.domNode);
        // Replace input
        this._replaceInput = this._register(new $4c8dd17c64a8a993$exports.ContextScopedReplaceInput(null, undefined, {
            label: $b5d1b590b1aa2901$var$NLS_REPLACE_INPUT_LABEL,
            placeholder: $b5d1b590b1aa2901$var$NLS_REPLACE_INPUT_PLACEHOLDER,
            appendPreserveCaseLabel: this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.TogglePreserveCaseCommand),
            history: [],
            flexibleHeight: flexibleHeight,
            flexibleWidth: flexibleWidth,
            flexibleMaxHeight: 118,
            showHistoryHint: ()=>$9e1323a6f0b3fe0f$export$94614604caa08aab(this._keybindingService)
        }, this._contextKeyService, true));
        this._replaceInput.setPreserveCase(!!this._state.preserveCase);
        this._register(this._replaceInput.onKeyDown((e)=>this._onReplaceInputKeyDown(e)
        ));
        this._register(this._replaceInput.inputBox.onDidChange(()=>{
            this._state.change({
                replaceString: this._replaceInput.inputBox.value
            }, false);
        }));
        this._register(this._replaceInput.inputBox.onDidHeightChange((e)=>{
            if (this._isReplaceVisible && this._tryUpdateHeight()) this._showViewZone();
        }));
        this._register(this._replaceInput.onDidOptionChange(()=>{
            this._state.change({
                preserveCase: this._replaceInput.getPreserveCase()
            }, true);
        }));
        this._register(this._replaceInput.onPreserveCaseKeyDown((e)=>{
            if (e.equals(2 /* Tab */ )) {
                if (this._prevBtn.isEnabled()) this._prevBtn.focus();
                else if (this._nextBtn.isEnabled()) this._nextBtn.focus();
                else if (this._toggleSelectionFind.enabled) this._toggleSelectionFind.focus();
                else if (this._closeBtn.isEnabled()) this._closeBtn.focus();
                e.preventDefault();
            }
        }));
        // Replace one button
        this._replaceBtn = this._register(new $b5d1b590b1aa2901$export$627052cf4bde93a4({
            label: $b5d1b590b1aa2901$var$NLS_REPLACE_BTN_LABEL + this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ReplaceOneAction),
            icon: $b5d1b590b1aa2901$export$83ee554109a27042,
            onTrigger: ()=>{
                this._controller.replace();
            },
            onKeyDown: (e)=>{
                if (e.equals(1026 /* Tab */ )) {
                    this._closeBtn.focus();
                    e.preventDefault();
                }
            }
        }));
        // Replace all button
        this._replaceAllBtn = this._register(new $b5d1b590b1aa2901$export$627052cf4bde93a4({
            label: $b5d1b590b1aa2901$var$NLS_REPLACE_ALL_BTN_LABEL + this._keybindingLabelFor($a3a9155c09fe06f0$export$a4fc1be778636938.ReplaceAllAction),
            icon: $b5d1b590b1aa2901$export$9c63c939bdf63145,
            onTrigger: ()=>{
                this._controller.replaceAll();
            }
        }));
        let replacePart = document.createElement('div');
        replacePart.className = 'replace-part';
        replacePart.appendChild(this._replaceInput.domNode);
        const replaceActionsContainer = document.createElement('div');
        replaceActionsContainer.className = 'replace-actions';
        replacePart.appendChild(replaceActionsContainer);
        replaceActionsContainer.appendChild(this._replaceBtn.domNode);
        replaceActionsContainer.appendChild(this._replaceAllBtn.domNode);
        // Toggle replace button
        this._toggleReplaceBtn = this._register(new $b5d1b590b1aa2901$export$627052cf4bde93a4({
            label: $b5d1b590b1aa2901$var$NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,
            className: 'codicon toggle left',
            onTrigger: ()=>{
                this._state.change({
                    isReplaceRevealed: !this._isReplaceVisible
                }, false);
                if (this._isReplaceVisible) {
                    this._replaceInput.width = $8xgjE.getTotalWidth(this._findInput.domNode);
                    this._replaceInput.inputBox.layout();
                }
                this._showViewZone();
            }
        }));
        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);
        // Widget
        this._domNode = document.createElement('div');
        this._domNode.className = 'editor-widget find-widget';
        this._domNode.setAttribute('aria-hidden', 'true');
        // We need to set this explicitly, otherwise on IE11, the width inheritence of flex doesn't work.
        this._domNode.style.width = `${$b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH}px`;
        this._domNode.appendChild(this._toggleReplaceBtn.domNode);
        this._domNode.appendChild(findPart);
        this._domNode.appendChild(replacePart);
        this._resizeSash = new $hQ1Ev.Sash(this._domNode, this, {
            orientation: 0 /* VERTICAL */ ,
            size: 2
        });
        this._resized = false;
        let originalWidth = $b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH;
        this._register(this._resizeSash.onDidStart(()=>{
            originalWidth = $8xgjE.getTotalWidth(this._domNode);
        }));
        this._register(this._resizeSash.onDidChange((evt)=>{
            this._resized = true;
            let width = originalWidth + evt.startX - evt.currentX;
            if (width < $b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH) // narrow down the find widget should be handled by CSS.
            return;
            const maxWidth = parseFloat($8xgjE.getComputedStyle(this._domNode).maxWidth) || 0;
            if (width > maxWidth) return;
            this._domNode.style.width = `${width}px`;
            if (this._isReplaceVisible) this._replaceInput.width = $8xgjE.getTotalWidth(this._findInput.domNode);
            this._findInput.inputBox.layout();
            this._tryUpdateHeight();
        }));
        this._register(this._resizeSash.onDidReset(()=>{
            // users double click on the sash
            const currentWidth = $8xgjE.getTotalWidth(this._domNode);
            if (currentWidth < $b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH) // The editor is narrow and the width of the find widget is controlled fully by CSS.
            return;
            let width = $b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH;
            if (!this._resized || currentWidth === $b5d1b590b1aa2901$var$FIND_WIDGET_INITIAL_WIDTH) {
                // 1. never resized before, double click should maximizes it
                // 2. users resized it already but its width is the same as default
                const layoutInfo = this._codeEditor.getLayoutInfo();
                width = layoutInfo.width - 28 - layoutInfo.minimap.minimapWidth - 15;
                this._resized = true;
            }
            this._domNode.style.width = `${width}px`;
            if (this._isReplaceVisible) this._replaceInput.width = $8xgjE.getTotalWidth(this._findInput.domNode);
            this._findInput.inputBox.layout();
        }));
    }
    updateAccessibilitySupport() {
        const value = this._codeEditor.getOption(2 /* accessibilitySupport */ );
        this._findInput.setFocusInputOnOptionClick(value !== 2 /* Enabled */ );
    }
    constructor(codeEditor, controller, state, contextViewProvider, keybindingService, contextKeyService, themeService, storageService, notificationService){
        super();
        this._cachedHeight = null;
        this._revealTimeouts = [];
        this._codeEditor = codeEditor;
        this._controller = controller;
        this._state = state;
        this._contextViewProvider = contextViewProvider;
        this._keybindingService = keybindingService;
        this._contextKeyService = contextKeyService;
        this._storageService = storageService;
        this._notificationService = notificationService;
        this._ctrlEnterReplaceAllWarningPrompted = !!storageService.getBoolean($b5d1b590b1aa2901$var$ctrlEnterReplaceAllWarningPromptedKey, 0 /* GLOBAL */ );
        this._isVisible = false;
        this._isReplaceVisible = false;
        this._ignoreChangeEvent = false;
        this._updateHistoryDelayer = new $5piST.Delayer(500);
        this._register($6W1JA.toDisposable(()=>this._updateHistoryDelayer.cancel()
        ));
        this._register(this._state.onFindReplaceStateChange((e)=>this._onStateChanged(e)
        ));
        this._buildDomNode();
        this._updateButtons();
        this._tryUpdateWidgetWidth();
        this._findInput.inputBox.layout();
        this._register(this._codeEditor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(80 /* readOnly */ )) {
                if (this._codeEditor.getOption(80 /* readOnly */ )) // Hide replace part if editor becomes read only
                this._state.change({
                    isReplaceRevealed: false
                }, false);
                this._updateButtons();
            }
            if (e.hasChanged(130 /* layoutInfo */ )) this._tryUpdateWidgetWidth();
            if (e.hasChanged(2 /* accessibilitySupport */ )) this.updateAccessibilitySupport();
            if (e.hasChanged(35 /* find */ )) {
                const addExtraSpaceOnTop = this._codeEditor.getOption(35 /* find */ ).addExtraSpaceOnTop;
                if (addExtraSpaceOnTop && !this._viewZone) {
                    this._viewZone = new $b5d1b590b1aa2901$export$70830c157adafe3e(0);
                    this._showViewZone();
                }
                if (!addExtraSpaceOnTop && this._viewZone) this._removeViewZone();
            }
        }));
        this.updateAccessibilitySupport();
        this._register(this._codeEditor.onDidChangeCursorSelection(()=>{
            if (this._isVisible) this._updateToggleSelectionFindButton();
        }));
        this._register(this._codeEditor.onDidFocusEditorWidget(()=>$b5d1b590b1aa2901$var$__awaiter(this, void 0, void 0, function*() {
                if (this._isVisible) {
                    let globalBufferTerm = yield this._controller.getGlobalBufferTerm();
                    if (globalBufferTerm && globalBufferTerm !== this._state.searchString) {
                        this._state.change({
                            searchString: globalBufferTerm
                        }, false);
                        this._findInput.select();
                    }
                }
            })
        ));
        this._findInputFocused = $a3a9155c09fe06f0$export$1bcc3ed82148a8b9.bindTo(contextKeyService);
        this._findFocusTracker = this._register($8xgjE.trackFocus(this._findInput.inputBox.inputElement));
        this._register(this._findFocusTracker.onDidFocus(()=>{
            this._findInputFocused.set(true);
            this._updateSearchScope();
        }));
        this._register(this._findFocusTracker.onDidBlur(()=>{
            this._findInputFocused.set(false);
        }));
        this._replaceInputFocused = $a3a9155c09fe06f0$export$1b9f123cc9b71d78.bindTo(contextKeyService);
        this._replaceFocusTracker = this._register($8xgjE.trackFocus(this._replaceInput.inputBox.inputElement));
        this._register(this._replaceFocusTracker.onDidFocus(()=>{
            this._replaceInputFocused.set(true);
            this._updateSearchScope();
        }));
        this._register(this._replaceFocusTracker.onDidBlur(()=>{
            this._replaceInputFocused.set(false);
        }));
        this._codeEditor.addOverlayWidget(this);
        if (this._codeEditor.getOption(35 /* find */ ).addExtraSpaceOnTop) this._viewZone = new $b5d1b590b1aa2901$export$70830c157adafe3e(0); // Put it before the first line then users can scroll beyond the first line.
        this._applyTheme(themeService.getColorTheme());
        this._register(themeService.onDidColorThemeChange(this._applyTheme.bind(this)));
        this._register(this._codeEditor.onDidChangeModel(()=>{
            if (!this._isVisible) return;
            this._viewZoneId = undefined;
        }));
        this._register(this._codeEditor.onDidScrollChange((e)=>{
            if (e.scrollTopChanged) {
                this._layoutViewZone();
                return;
            }
            // for other scroll changes, layout the viewzone in next tick to avoid ruining current rendering.
            setTimeout(()=>{
                this._layoutViewZone();
            }, 0);
        }));
    }
}
$b5d1b590b1aa2901$export$94cf213bcf83d48e.ID = 'editor.contrib.findWidget';
class $b5d1b590b1aa2901$export$627052cf4bde93a4 extends $gKMUF.Widget {
    get domNode() {
        return this._domNode;
    }
    isEnabled() {
        return this._domNode.tabIndex >= 0;
    }
    focus() {
        this._domNode.focus();
    }
    setEnabled(enabled) {
        this._domNode.classList.toggle('disabled', !enabled);
        this._domNode.setAttribute('aria-disabled', String(!enabled));
        this._domNode.tabIndex = enabled ? 0 : -1;
    }
    setExpanded(expanded) {
        this._domNode.setAttribute('aria-expanded', String(!!expanded));
        if (expanded) {
            this._domNode.classList.remove(...$5Wwop.ThemeIcon.asClassNameArray($b5d1b590b1aa2901$var$findCollapsedIcon));
            this._domNode.classList.add(...$5Wwop.ThemeIcon.asClassNameArray($b5d1b590b1aa2901$var$findExpandedIcon));
        } else {
            this._domNode.classList.remove(...$5Wwop.ThemeIcon.asClassNameArray($b5d1b590b1aa2901$var$findExpandedIcon));
            this._domNode.classList.add(...$5Wwop.ThemeIcon.asClassNameArray($b5d1b590b1aa2901$var$findCollapsedIcon));
        }
    }
    constructor(opts){
        super();
        this._opts = opts;
        let className = 'button';
        if (this._opts.className) className = className + ' ' + this._opts.className;
        if (this._opts.icon) className = className + ' ' + $5Wwop.ThemeIcon.asClassName(this._opts.icon);
        this._domNode = document.createElement('div');
        this._domNode.title = this._opts.label;
        this._domNode.tabIndex = 0;
        this._domNode.className = className;
        this._domNode.setAttribute('role', 'button');
        this._domNode.setAttribute('aria-label', this._opts.label);
        this.onclick(this._domNode, (e)=>{
            this._opts.onTrigger();
            e.preventDefault();
        });
        this.onkeydown(this._domNode, (e)=>{
            if (e.equals(10 /* Space */ ) || e.equals(3 /* Enter */ )) {
                this._opts.onTrigger();
                e.preventDefault();
                return;
            }
            if (this._opts.onKeyDown) this._opts.onKeyDown(e);
        });
    }
}
// theming
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const addBackgroundColorRule = (selector, color)=>{
        if (color) collector.addRule(`.monaco-editor ${selector} { background-color: ${color}; }`);
    };
    addBackgroundColorRule('.findMatch', theme.getColor($kL4Ig.editorFindMatchHighlight));
    addBackgroundColorRule('.currentFindMatch', theme.getColor($kL4Ig.editorFindMatch));
    addBackgroundColorRule('.findScope', theme.getColor($kL4Ig.editorFindRangeHighlight));
    const widgetBackground = theme.getColor($kL4Ig.editorWidgetBackground);
    addBackgroundColorRule('.find-widget', widgetBackground);
    const widgetShadowColor = theme.getColor($kL4Ig.widgetShadow);
    if (widgetShadowColor) collector.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${widgetShadowColor}; }`);
    const findMatchHighlightBorder = theme.getColor($kL4Ig.editorFindMatchHighlightBorder);
    if (findMatchHighlightBorder) collector.addRule(`.monaco-editor .findMatch { border: 1px ${theme.type === 'hc' ? 'dotted' : 'solid'} ${findMatchHighlightBorder}; box-sizing: border-box; }`);
    const findMatchBorder = theme.getColor($kL4Ig.editorFindMatchBorder);
    if (findMatchBorder) collector.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${findMatchBorder}; padding: 1px; box-sizing: border-box; }`);
    const findRangeHighlightBorder = theme.getColor($kL4Ig.editorFindRangeHighlightBorder);
    if (findRangeHighlightBorder) collector.addRule(`.monaco-editor .findScope { border: 1px ${theme.type === 'hc' ? 'dashed' : 'solid'} ${findRangeHighlightBorder}; }`);
    const hcBorder = theme.getColor($kL4Ig.contrastBorder);
    if (hcBorder) collector.addRule(`.monaco-editor .find-widget { border: 1px solid ${hcBorder}; }`);
    const foreground = theme.getColor($kL4Ig.editorWidgetForeground);
    if (foreground) collector.addRule(`.monaco-editor .find-widget { color: ${foreground}; }`);
    const error = theme.getColor($kL4Ig.errorForeground);
    if (error) collector.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${error}; }`);
    const resizeBorderBackground = theme.getColor($kL4Ig.editorWidgetResizeBorder);
    if (resizeBorderBackground) collector.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${resizeBorderBackground}; }`);
    else {
        const border = theme.getColor($kL4Ig.editorWidgetBorder);
        if (border) collector.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${border}; }`);
    }
    // Action bars
    const toolbarHoverBackgroundColor = theme.getColor($kL4Ig.toolbarHoverBackground);
    if (toolbarHoverBackgroundColor) collector.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${toolbarHoverBackgroundColor} !important;
		}
	`);
    // This rule is used to override the outline color for synthetic-focus find input.
    const focusOutline = theme.getColor($kL4Ig.focusBorder);
    if (focusOutline) collector.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${focusOutline}; }`);
});



var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $4ZL8G = parcelRequire("4ZL8G");

var $h4kGX = parcelRequire("h4kGX");

var $grLnf = parcelRequire("grLnf");

var $i2aE6 = parcelRequire("i2aE6");

var $7MTz8 = parcelRequire("7MTz8");

var $4toHF = parcelRequire("4toHF");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $d0d3d74e57b5f086$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $d0d3d74e57b5f086$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $d0d3d74e57b5f086$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $d0d3d74e57b5f086$var$SEARCH_STRING_MAX_LENGTH = 524288;
function $d0d3d74e57b5f086$export$422517c0cd4e3d9f(editor, seedSearchStringFromSelection = 'single', seedSearchStringFromNonEmptySelection = false) {
    if (!editor.hasModel()) return null;
    const selection = editor.getSelection();
    // if selection spans multiple lines, default search string to empty
    if (seedSearchStringFromSelection === 'single' && selection.startLineNumber === selection.endLineNumber || seedSearchStringFromSelection === 'multiple') {
        if (selection.isEmpty()) {
            const wordAtPosition = editor.getConfiguredWordAtPosition(selection.getStartPosition());
            if (wordAtPosition && false === seedSearchStringFromNonEmptySelection) return wordAtPosition.word;
        } else {
            if (editor.getModel().getValueLengthInRange(selection) < $d0d3d74e57b5f086$var$SEARCH_STRING_MAX_LENGTH) return editor.getModel().getValueInRange(selection);
        }
    }
    return null;
}
let $d0d3d74e57b5f086$export$3190f9a23ad62166 = class $d0d3d74e57b5f086$export$3190f9a23ad62166 extends $6W1JA.Disposable {
    get editor() {
        return this._editor;
    }
    static get(editor) {
        return editor.getContribution($d0d3d74e57b5f086$export$3190f9a23ad62166.ID);
    }
    dispose() {
        this.disposeModel();
        super.dispose();
    }
    disposeModel() {
        if (this._model) {
            this._model.dispose();
            this._model = null;
        }
    }
    _onStateChanged(e) {
        this.saveQueryState(e);
        if (e.isRevealed) {
            if (this._state.isRevealed) this._findWidgetVisible.set(true);
            else {
                this._findWidgetVisible.reset();
                this.disposeModel();
            }
        }
        if (e.searchString) this.setGlobalBufferTerm(this._state.searchString);
    }
    saveQueryState(e) {
        if (e.isRegex) this._storageService.store('editor.isRegex', this._state.actualIsRegex, 1 /* WORKSPACE */ , 0 /* USER */ );
        if (e.wholeWord) this._storageService.store('editor.wholeWord', this._state.actualWholeWord, 1 /* WORKSPACE */ , 0 /* USER */ );
        if (e.matchCase) this._storageService.store('editor.matchCase', this._state.actualMatchCase, 1 /* WORKSPACE */ , 0 /* USER */ );
        if (e.preserveCase) this._storageService.store('editor.preserveCase', this._state.actualPreserveCase, 1 /* WORKSPACE */ , 0 /* USER */ );
    }
    loadQueryState() {
        this._state.change({
            matchCase: this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */ , this._state.matchCase),
            wholeWord: this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */ , this._state.wholeWord),
            isRegex: this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */ , this._state.isRegex),
            preserveCase: this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */ , this._state.preserveCase)
        }, false);
    }
    isFindInputFocused() {
        return !!$a3a9155c09fe06f0$export$1bcc3ed82148a8b9.getValue(this._contextKeyService);
    }
    getState() {
        return this._state;
    }
    closeFindWidget() {
        this._state.change({
            isRevealed: false,
            searchScope: null
        }, false);
        this._editor.focus();
    }
    toggleCaseSensitive() {
        this._state.change({
            matchCase: !this._state.matchCase
        }, false);
        if (!this._state.isRevealed) this.highlightFindOptions();
    }
    toggleWholeWords() {
        this._state.change({
            wholeWord: !this._state.wholeWord
        }, false);
        if (!this._state.isRevealed) this.highlightFindOptions();
    }
    toggleRegex() {
        this._state.change({
            isRegex: !this._state.isRegex
        }, false);
        if (!this._state.isRevealed) this.highlightFindOptions();
    }
    togglePreserveCase() {
        this._state.change({
            preserveCase: !this._state.preserveCase
        }, false);
        if (!this._state.isRevealed) this.highlightFindOptions();
    }
    toggleSearchScope() {
        if (this._state.searchScope) this._state.change({
            searchScope: null
        }, true);
        else if (this._editor.hasModel()) {
            let selections = this._editor.getSelections();
            selections.map((selection)=>{
                if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) selection = selection.setEndPosition(selection.endLineNumber - 1, this._editor.getModel().getLineMaxColumn(selection.endLineNumber - 1));
                if (!selection.isEmpty()) return selection;
                return null;
            }).filter((element)=>!!element
            );
            if (selections.length) this._state.change({
                searchScope: selections
            }, true);
        }
    }
    setSearchString(searchString) {
        if (this._state.isRegex) searchString = $i4xl7.escapeRegExpCharacters(searchString);
        this._state.change({
            searchString: searchString
        }, false);
    }
    highlightFindOptions(ignoreWhenVisible = false) {
    // overwritten in subclass
    }
    _start(opts, newState) {
        return $d0d3d74e57b5f086$var$__awaiter(this, void 0, void 0, function*() {
            this.disposeModel();
            if (!this._editor.hasModel()) // cannot do anything with an editor that doesn't have a model...
            return;
            let stateChanges = Object.assign(Object.assign({}, newState), {
                isRevealed: true
            });
            if (opts.seedSearchStringFromSelection === 'single') {
                let selectionSearchString = $d0d3d74e57b5f086$export$422517c0cd4e3d9f(this._editor, opts.seedSearchStringFromSelection, opts.seedSearchStringFromNonEmptySelection);
                if (selectionSearchString) {
                    if (this._state.isRegex) stateChanges.searchString = $i4xl7.escapeRegExpCharacters(selectionSearchString);
                    else stateChanges.searchString = selectionSearchString;
                }
            } else if (opts.seedSearchStringFromSelection === 'multiple' && !opts.updateSearchScope) {
                let selectionSearchString = $d0d3d74e57b5f086$export$422517c0cd4e3d9f(this._editor, opts.seedSearchStringFromSelection);
                if (selectionSearchString) stateChanges.searchString = selectionSearchString;
            }
            if (!stateChanges.searchString && opts.seedSearchStringFromGlobalClipboard) {
                let selectionSearchString = yield this.getGlobalBufferTerm();
                if (!this._editor.hasModel()) // the editor has lost its model in the meantime
                return;
                if (selectionSearchString) stateChanges.searchString = selectionSearchString;
            }
            // Overwrite isReplaceRevealed
            if (opts.forceRevealReplace || stateChanges.isReplaceRevealed) stateChanges.isReplaceRevealed = true;
            else if (!this._findWidgetVisible.get()) stateChanges.isReplaceRevealed = false;
            if (opts.updateSearchScope) {
                let currentSelections = this._editor.getSelections();
                if (currentSelections.some((selection)=>!selection.isEmpty()
                )) stateChanges.searchScope = currentSelections;
            }
            stateChanges.loop = opts.loop;
            this._state.change(stateChanges, false);
            if (!this._model) this._model = new $a3a9155c09fe06f0$export$2aaa4f42000d804d(this._editor, this._state);
        });
    }
    start(opts, newState) {
        return this._start(opts, newState);
    }
    moveToNextMatch() {
        if (this._model) {
            this._model.moveToNextMatch();
            return true;
        }
        return false;
    }
    moveToPrevMatch() {
        if (this._model) {
            this._model.moveToPrevMatch();
            return true;
        }
        return false;
    }
    replace() {
        if (this._model) {
            this._model.replace();
            return true;
        }
        return false;
    }
    replaceAll() {
        if (this._model) {
            this._model.replaceAll();
            return true;
        }
        return false;
    }
    selectAllMatches() {
        if (this._model) {
            this._model.selectAllMatches();
            this._editor.focus();
            return true;
        }
        return false;
    }
    getGlobalBufferTerm() {
        return $d0d3d74e57b5f086$var$__awaiter(this, void 0, void 0, function*() {
            if (this._editor.getOption(35 /* find */ ).globalFindClipboard && this._editor.hasModel() && !this._editor.getModel().isTooLargeForSyncing()) return this._clipboardService.readFindText();
            return '';
        });
    }
    setGlobalBufferTerm(text) {
        if (this._editor.getOption(35 /* find */ ).globalFindClipboard && this._editor.hasModel() && !this._editor.getModel().isTooLargeForSyncing()) // intentionally not awaited
        this._clipboardService.writeFindText(text);
    }
    constructor(editor, contextKeyService, storageService, clipboardService){
        super();
        this._editor = editor;
        this._findWidgetVisible = $a3a9155c09fe06f0$export$bc27e4192c4ca2b8.bindTo(contextKeyService);
        this._contextKeyService = contextKeyService;
        this._storageService = storageService;
        this._clipboardService = clipboardService;
        this._updateHistoryDelayer = new $5piST.Delayer(500);
        this._state = this._register(new $087aa3d8bd7f007a$export$134b1d8b9bc10076());
        this.loadQueryState();
        this._register(this._state.onFindReplaceStateChange((e)=>this._onStateChanged(e)
        ));
        this._model = null;
        this._register(this._editor.onDidChangeModel(()=>{
            let shouldRestartFind = this._editor.getModel() && this._state.isRevealed;
            this.disposeModel();
            this._state.change({
                searchScope: null,
                matchCase: this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */ , false),
                wholeWord: this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */ , false),
                isRegex: this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */ , false),
                preserveCase: this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */ , false)
            }, false);
            if (shouldRestartFind) this._start({
                forceRevealReplace: false,
                seedSearchStringFromSelection: 'none',
                seedSearchStringFromNonEmptySelection: false,
                seedSearchStringFromGlobalClipboard: false,
                shouldFocus: 0 /* NoFocusChange */ ,
                shouldAnimate: false,
                updateSearchScope: false,
                loop: this._editor.getOption(35 /* find */ ).loop
            });
        }));
    }
};
$d0d3d74e57b5f086$export$3190f9a23ad62166.ID = 'editor.contrib.findController';
$d0d3d74e57b5f086$export$3190f9a23ad62166 = $d0d3d74e57b5f086$var$__decorate([
    $d0d3d74e57b5f086$var$__param(1, $h4kGX.IContextKeyService),
    $d0d3d74e57b5f086$var$__param(2, $4toHF.IStorageService),
    $d0d3d74e57b5f086$var$__param(3, $4ZL8G.IClipboardService)
], $d0d3d74e57b5f086$export$3190f9a23ad62166);
let $d0d3d74e57b5f086$export$dbc27728234951c5 = class $d0d3d74e57b5f086$export$dbc27728234951c5 extends $d0d3d74e57b5f086$export$3190f9a23ad62166 {
    _start(opts, newState) {
        const _super = Object.create(null, {
            _start: {
                get: ()=>super._start
            }
        });
        return $d0d3d74e57b5f086$var$__awaiter(this, void 0, void 0, function*() {
            if (!this._widget) this._createFindWidget();
            const selection = this._editor.getSelection();
            let updateSearchScope = false;
            switch(this._editor.getOption(35 /* find */ ).autoFindInSelection){
                case 'always':
                    updateSearchScope = true;
                    break;
                case 'never':
                    updateSearchScope = false;
                    break;
                case 'multiline':
                    const isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;
                    updateSearchScope = isSelectionMultipleLine;
                    break;
                default:
                    break;
            }
            opts.updateSearchScope = opts.updateSearchScope || updateSearchScope;
            yield _super._start.call(this, opts, newState);
            if (this._widget) {
                if (opts.shouldFocus === 2 /* FocusReplaceInput */ ) this._widget.focusReplaceInput();
                else if (opts.shouldFocus === 1 /* FocusFindInput */ ) this._widget.focusFindInput();
            }
        });
    }
    highlightFindOptions(ignoreWhenVisible = false) {
        if (!this._widget) this._createFindWidget();
        if (this._state.isRevealed && !ignoreWhenVisible) this._widget.highlightFindOptions();
        else this._findOptionsWidget.highlightFindOptions();
    }
    _createFindWidget() {
        this._widget = this._register(new $b5d1b590b1aa2901$exports.FindWidget(this._editor, this, this._state, this._contextViewService, this._keybindingService, this._contextKeyService, this._themeService, this._storageService, this._notificationService));
        this._findOptionsWidget = this._register(new $7c61bb4874c7eea6$export$2ff720b27319038e(this._editor, this._state, this._keybindingService, this._themeService));
    }
    constructor(editor, _contextViewService, _contextKeyService, _keybindingService, _themeService, _notificationService, _storageService, clipboardService){
        super(editor, _contextKeyService, _storageService, clipboardService);
        this._contextViewService = _contextViewService;
        this._keybindingService = _keybindingService;
        this._themeService = _themeService;
        this._notificationService = _notificationService;
        this._widget = null;
        this._findOptionsWidget = null;
    }
};
$d0d3d74e57b5f086$export$dbc27728234951c5 = $d0d3d74e57b5f086$var$__decorate([
    $d0d3d74e57b5f086$var$__param(1, $grLnf.IContextViewService),
    $d0d3d74e57b5f086$var$__param(2, $h4kGX.IContextKeyService),
    $d0d3d74e57b5f086$var$__param(3, $i2aE6.IKeybindingService),
    $d0d3d74e57b5f086$var$__param(4, $5Wwop.IThemeService),
    $d0d3d74e57b5f086$var$__param(5, $7MTz8.INotificationService),
    $d0d3d74e57b5f086$var$__param(6, $4toHF.IStorageService),
    $d0d3d74e57b5f086$var$__param(7, $4ZL8G.IClipboardService)
], $d0d3d74e57b5f086$export$dbc27728234951c5);
const $d0d3d74e57b5f086$export$ad7d9d55cc8c7ec4 = $g9Zlr.registerMultiEditorAction(new $g9Zlr.MultiEditorAction({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.StartFindAction,
    label: $1WuVQ.localize('startFindAction', "Find"),
    alias: 'Find',
    precondition: $h4kGX.ContextKeyExpr.or($7oeKV.EditorContextKeys.focus, $h4kGX.ContextKeyExpr.has('editorIsOpen')),
    kbOpts: {
        kbExpr: null,
        primary: 2084 /* KeyF */ ,
        weight: 100 /* EditorContrib */ 
    },
    menuOpts: {
        menuId: $iCLhR.MenuId.MenubarEditMenu,
        group: '3_find',
        title: $1WuVQ.localize({
            key: 'miFind',
            comment: [
                '&& denotes a mnemonic'
            ]
        }, "&&Find"),
        order: 1
    }
}));
$d0d3d74e57b5f086$export$ad7d9d55cc8c7ec4.addImplementation(0, (accessor, editor, args)=>{
    const controller = $d0d3d74e57b5f086$export$3190f9a23ad62166.get(editor);
    if (!controller) return false;
    return controller.start({
        forceRevealReplace: false,
        seedSearchStringFromSelection: editor.getOption(35 /* find */ ).seedSearchStringFromSelection !== 'never' ? 'single' : 'none',
        seedSearchStringFromNonEmptySelection: editor.getOption(35 /* find */ ).seedSearchStringFromSelection === 'selection',
        seedSearchStringFromGlobalClipboard: editor.getOption(35 /* find */ ).globalFindClipboard,
        shouldFocus: 1 /* FocusFindInput */ ,
        shouldAnimate: true,
        updateSearchScope: false,
        loop: editor.getOption(35 /* find */ ).loop
    });
});
const $d0d3d74e57b5f086$var$findArgDescription = {
    description: 'Open a new In-Editor Find Widget.',
    args: [
        {
            name: 'Open a new In-Editor Find Widget args',
            schema: {
                properties: {
                    searchString: {
                        type: 'string'
                    },
                    replaceString: {
                        type: 'string'
                    },
                    regex: {
                        type: 'boolean'
                    },
                    regexOverride: {
                        type: 'number',
                        description: $1WuVQ.localize('actions.find.isRegexOverride', 'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')
                    },
                    wholeWord: {
                        type: 'boolean'
                    },
                    wholeWordOverride: {
                        type: 'number',
                        description: $1WuVQ.localize('actions.find.wholeWordOverride', 'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')
                    },
                    matchCase: {
                        type: 'boolean'
                    },
                    matchCaseOverride: {
                        type: 'number',
                        description: $1WuVQ.localize('actions.find.matchCaseOverride', 'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')
                    },
                    preserveCase: {
                        type: 'boolean'
                    },
                    preserveCaseOverride: {
                        type: 'number',
                        description: $1WuVQ.localize('actions.find.preserveCaseOverride', 'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')
                    },
                    findInSelection: {
                        type: 'boolean'
                    }
                }
            }
        }
    ]
};
class $d0d3d74e57b5f086$export$50897d92f96d7044 extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        return $d0d3d74e57b5f086$var$__awaiter(this, void 0, void 0, function*() {
            let controller = $d0d3d74e57b5f086$export$3190f9a23ad62166.get(editor);
            if (controller) {
                const newState = args ? {
                    searchString: args.searchString,
                    replaceString: args.replaceString,
                    isReplaceRevealed: args.replaceString !== undefined,
                    isRegex: args.isRegex,
                    // isRegexOverride: args.regexOverride,
                    wholeWord: args.matchWholeWord,
                    // wholeWordOverride: args.wholeWordOverride,
                    matchCase: args.isCaseSensitive,
                    // matchCaseOverride: args.matchCaseOverride,
                    preserveCase: args.preserveCase
                } : {};
                yield controller.start({
                    forceRevealReplace: false,
                    seedSearchStringFromSelection: controller.getState().searchString.length === 0 && editor.getOption(35 /* find */ ).seedSearchStringFromSelection !== 'never' ? 'single' : 'none',
                    seedSearchStringFromNonEmptySelection: editor.getOption(35 /* find */ ).seedSearchStringFromSelection === 'selection',
                    seedSearchStringFromGlobalClipboard: true,
                    shouldFocus: 1 /* FocusFindInput */ ,
                    shouldAnimate: true,
                    updateSearchScope: (args === null || args === void 0 ? void 0 : args.findInSelection) || false,
                    loop: editor.getOption(35 /* find */ ).loop
                }, newState);
                controller.setGlobalBufferTerm(controller.getState().searchString);
            }
        });
    }
    constructor(){
        super({
            id: $a3a9155c09fe06f0$export$a4fc1be778636938.StartFindWithArgs,
            label: $1WuVQ.localize('startFindWithArgsAction', "Find With Arguments"),
            alias: 'Find With Arguments',
            precondition: undefined,
            kbOpts: {
                kbExpr: null,
                primary: 0,
                weight: 100 /* EditorContrib */ 
            },
            description: $d0d3d74e57b5f086$var$findArgDescription
        });
    }
}
class $d0d3d74e57b5f086$export$10b87301fa70db4b extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $d0d3d74e57b5f086$var$__awaiter(this, void 0, void 0, function*() {
            let controller = $d0d3d74e57b5f086$export$3190f9a23ad62166.get(editor);
            if (controller) {
                yield controller.start({
                    forceRevealReplace: false,
                    seedSearchStringFromSelection: 'multiple',
                    seedSearchStringFromNonEmptySelection: false,
                    seedSearchStringFromGlobalClipboard: false,
                    shouldFocus: 0 /* NoFocusChange */ ,
                    shouldAnimate: true,
                    updateSearchScope: false,
                    loop: editor.getOption(35 /* find */ ).loop
                });
                controller.setGlobalBufferTerm(controller.getState().searchString);
            }
        });
    }
    constructor(){
        super({
            id: $a3a9155c09fe06f0$export$a4fc1be778636938.StartFindWithSelection,
            label: $1WuVQ.localize('startFindWithSelectionAction', "Find With Selection"),
            alias: 'Find With Selection',
            precondition: undefined,
            kbOpts: {
                kbExpr: null,
                primary: 0,
                mac: {
                    primary: 2083 /* KeyE */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $d0d3d74e57b5f086$export$c8e1d3a731dd2486 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $d0d3d74e57b5f086$var$__awaiter(this, void 0, void 0, function*() {
            let controller = $d0d3d74e57b5f086$export$3190f9a23ad62166.get(editor);
            if (controller && !this._run(controller)) {
                yield controller.start({
                    forceRevealReplace: false,
                    seedSearchStringFromSelection: controller.getState().searchString.length === 0 && editor.getOption(35 /* find */ ).seedSearchStringFromSelection !== 'never' ? 'single' : 'none',
                    seedSearchStringFromNonEmptySelection: editor.getOption(35 /* find */ ).seedSearchStringFromSelection === 'selection',
                    seedSearchStringFromGlobalClipboard: true,
                    shouldFocus: 0 /* NoFocusChange */ ,
                    shouldAnimate: true,
                    updateSearchScope: false,
                    loop: editor.getOption(35 /* find */ ).loop
                });
                this._run(controller);
            }
        });
    }
}
class $d0d3d74e57b5f086$export$bb259a3f5c713849 extends $d0d3d74e57b5f086$export$c8e1d3a731dd2486 {
    _run(controller) {
        const result = controller.moveToNextMatch();
        if (result) {
            controller.editor.pushUndoStop();
            return true;
        }
        return false;
    }
    constructor(){
        super({
            id: $a3a9155c09fe06f0$export$a4fc1be778636938.NextMatchFindAction,
            label: $1WuVQ.localize('findNextMatchAction', "Find Next"),
            alias: 'Find Next',
            precondition: undefined,
            kbOpts: [
                {
                    kbExpr: $7oeKV.EditorContextKeys.focus,
                    primary: 61 /* F3 */ ,
                    mac: {
                        primary: 2085 /* KeyG */ ,
                        secondary: [
                            61 /* F3 */ 
                        ]
                    },
                    weight: 100 /* EditorContrib */ 
                },
                {
                    kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.focus, $a3a9155c09fe06f0$export$1bcc3ed82148a8b9),
                    primary: 3 /* Enter */ ,
                    weight: 100 /* EditorContrib */ 
                }
            ]
        });
    }
}
class $d0d3d74e57b5f086$export$8a68aa4082c051b6 extends $d0d3d74e57b5f086$export$c8e1d3a731dd2486 {
    _run(controller) {
        return controller.moveToPrevMatch();
    }
    constructor(){
        super({
            id: $a3a9155c09fe06f0$export$a4fc1be778636938.PreviousMatchFindAction,
            label: $1WuVQ.localize('findPreviousMatchAction', "Find Previous"),
            alias: 'Find Previous',
            precondition: undefined,
            kbOpts: [
                {
                    kbExpr: $7oeKV.EditorContextKeys.focus,
                    primary: 1085 /* F3 */ ,
                    mac: {
                        primary: 3109 /* KeyG */ ,
                        secondary: [
                            1085 /* F3 */ 
                        ]
                    },
                    weight: 100 /* EditorContrib */ 
                },
                {
                    kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.focus, $a3a9155c09fe06f0$export$1bcc3ed82148a8b9),
                    primary: 1027 /* Enter */ ,
                    weight: 100 /* EditorContrib */ 
                }
            ]
        });
    }
}
class $d0d3d74e57b5f086$export$f33491a7c7af78c3 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $d0d3d74e57b5f086$var$__awaiter(this, void 0, void 0, function*() {
            let controller = $d0d3d74e57b5f086$export$3190f9a23ad62166.get(editor);
            if (!controller) return;
            const seedSearchStringFromNonEmptySelection = editor.getOption(35 /* find */ ).seedSearchStringFromSelection === 'selection';
            let selectionSearchString = null;
            if (editor.getOption(35 /* find */ ).seedSearchStringFromSelection !== 'never') selectionSearchString = $d0d3d74e57b5f086$export$422517c0cd4e3d9f(editor, 'single', seedSearchStringFromNonEmptySelection);
            if (selectionSearchString) controller.setSearchString(selectionSearchString);
            if (!this._run(controller)) {
                yield controller.start({
                    forceRevealReplace: false,
                    seedSearchStringFromSelection: editor.getOption(35 /* find */ ).seedSearchStringFromSelection !== 'never' ? 'single' : 'none',
                    seedSearchStringFromNonEmptySelection: seedSearchStringFromNonEmptySelection,
                    seedSearchStringFromGlobalClipboard: false,
                    shouldFocus: 0 /* NoFocusChange */ ,
                    shouldAnimate: true,
                    updateSearchScope: false,
                    loop: editor.getOption(35 /* find */ ).loop
                });
                this._run(controller);
            }
        });
    }
}
class $d0d3d74e57b5f086$export$8d1cf515c2a7b450 extends $d0d3d74e57b5f086$export$f33491a7c7af78c3 {
    _run(controller) {
        return controller.moveToNextMatch();
    }
    constructor(){
        super({
            id: $a3a9155c09fe06f0$export$a4fc1be778636938.NextSelectionMatchFindAction,
            label: $1WuVQ.localize('nextSelectionMatchFindAction', "Find Next Selection"),
            alias: 'Find Next Selection',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 2109 /* F3 */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $d0d3d74e57b5f086$export$d9df193ecc80bb53 extends $d0d3d74e57b5f086$export$f33491a7c7af78c3 {
    _run(controller) {
        return controller.moveToPrevMatch();
    }
    constructor(){
        super({
            id: $a3a9155c09fe06f0$export$a4fc1be778636938.PreviousSelectionMatchFindAction,
            label: $1WuVQ.localize('previousSelectionMatchFindAction', "Find Previous Selection"),
            alias: 'Find Previous Selection',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 3133 /* F3 */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
const $d0d3d74e57b5f086$export$134326ec389b328d = $g9Zlr.registerMultiEditorAction(new $g9Zlr.MultiEditorAction({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.StartFindReplaceAction,
    label: $1WuVQ.localize('startReplace', "Replace"),
    alias: 'Replace',
    precondition: $h4kGX.ContextKeyExpr.or($7oeKV.EditorContextKeys.focus, $h4kGX.ContextKeyExpr.has('editorIsOpen')),
    kbOpts: {
        kbExpr: null,
        primary: 2086 /* KeyH */ ,
        mac: {
            primary: 2596 /* KeyF */ 
        },
        weight: 100 /* EditorContrib */ 
    },
    menuOpts: {
        menuId: $iCLhR.MenuId.MenubarEditMenu,
        group: '3_find',
        title: $1WuVQ.localize({
            key: 'miReplace',
            comment: [
                '&& denotes a mnemonic'
            ]
        }, "&&Replace"),
        order: 2
    }
}));
$d0d3d74e57b5f086$export$134326ec389b328d.addImplementation(0, (accessor, editor, args)=>{
    if (!editor.hasModel() || editor.getOption(80 /* readOnly */ )) return false;
    const controller = $d0d3d74e57b5f086$export$3190f9a23ad62166.get(editor);
    if (!controller) return false;
    const currentSelection = editor.getSelection();
    const findInputFocused = controller.isFindInputFocused();
    // we only seed search string from selection when the current selection is single line and not empty,
    // + the find input is not focused
    const seedSearchStringFromSelection = !currentSelection.isEmpty() && currentSelection.startLineNumber === currentSelection.endLineNumber && editor.getOption(35 /* find */ ).seedSearchStringFromSelection !== 'never' && !findInputFocused;
    /*
    * if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input is still empty, so we should focus the Find Input instead of Replace Input.

    * findInputFocused true -> seedSearchStringFromSelection false, FocusReplaceInput
    * findInputFocused false, seedSearchStringFromSelection true FocusReplaceInput
    * findInputFocused false seedSearchStringFromSelection false FocusFindInput
    */ const shouldFocus = findInputFocused || seedSearchStringFromSelection ? 2 /* FocusReplaceInput */  : 1 /* FocusFindInput */ ;
    return controller.start({
        forceRevealReplace: true,
        seedSearchStringFromSelection: seedSearchStringFromSelection ? 'single' : 'none',
        seedSearchStringFromNonEmptySelection: editor.getOption(35 /* find */ ).seedSearchStringFromSelection === 'selection',
        seedSearchStringFromGlobalClipboard: editor.getOption(35 /* find */ ).seedSearchStringFromSelection !== 'never',
        shouldFocus: shouldFocus,
        shouldAnimate: true,
        updateSearchScope: false,
        loop: editor.getOption(35 /* find */ ).loop
    });
});
$g9Zlr.registerEditorContribution($d0d3d74e57b5f086$export$3190f9a23ad62166.ID, $d0d3d74e57b5f086$export$dbc27728234951c5);
$g9Zlr.registerEditorAction($d0d3d74e57b5f086$export$50897d92f96d7044);
$g9Zlr.registerEditorAction($d0d3d74e57b5f086$export$10b87301fa70db4b);
$g9Zlr.registerEditorAction($d0d3d74e57b5f086$export$bb259a3f5c713849);
$g9Zlr.registerEditorAction($d0d3d74e57b5f086$export$8a68aa4082c051b6);
$g9Zlr.registerEditorAction($d0d3d74e57b5f086$export$8d1cf515c2a7b450);
$g9Zlr.registerEditorAction($d0d3d74e57b5f086$export$d9df193ecc80bb53);
const $d0d3d74e57b5f086$var$FindCommand = $g9Zlr.EditorCommand.bindToContribution($d0d3d74e57b5f086$export$3190f9a23ad62166.get);
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.CloseFindWidgetCommand,
    precondition: $a3a9155c09fe06f0$export$bc27e4192c4ca2b8,
    handler: (x)=>x.closeFindWidget()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.focus, $h4kGX.ContextKeyExpr.not('isComposing')),
        primary: 9 /* Escape */ ,
        secondary: [
            1033 /* Escape */ 
        ]
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.ToggleCaseSensitiveCommand,
    precondition: undefined,
    handler: (x)=>x.toggleCaseSensitive()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: $a3a9155c09fe06f0$export$2fe068521df792d6.primary,
        mac: $a3a9155c09fe06f0$export$2fe068521df792d6.mac,
        win: $a3a9155c09fe06f0$export$2fe068521df792d6.win,
        linux: $a3a9155c09fe06f0$export$2fe068521df792d6.linux
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.ToggleWholeWordCommand,
    precondition: undefined,
    handler: (x)=>x.toggleWholeWords()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: $a3a9155c09fe06f0$export$cc2b8eb9ab15ca30.primary,
        mac: $a3a9155c09fe06f0$export$cc2b8eb9ab15ca30.mac,
        win: $a3a9155c09fe06f0$export$cc2b8eb9ab15ca30.win,
        linux: $a3a9155c09fe06f0$export$cc2b8eb9ab15ca30.linux
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.ToggleRegexCommand,
    precondition: undefined,
    handler: (x)=>x.toggleRegex()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: $a3a9155c09fe06f0$export$7c479f7cdbb6d55e.primary,
        mac: $a3a9155c09fe06f0$export$7c479f7cdbb6d55e.mac,
        win: $a3a9155c09fe06f0$export$7c479f7cdbb6d55e.win,
        linux: $a3a9155c09fe06f0$export$7c479f7cdbb6d55e.linux
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.ToggleSearchScopeCommand,
    precondition: undefined,
    handler: (x)=>x.toggleSearchScope()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: $a3a9155c09fe06f0$export$a02b1f674b6f16d3.primary,
        mac: $a3a9155c09fe06f0$export$a02b1f674b6f16d3.mac,
        win: $a3a9155c09fe06f0$export$a02b1f674b6f16d3.win,
        linux: $a3a9155c09fe06f0$export$a02b1f674b6f16d3.linux
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.TogglePreserveCaseCommand,
    precondition: undefined,
    handler: (x)=>x.togglePreserveCase()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: $a3a9155c09fe06f0$export$68ae9fdc5844d61a.primary,
        mac: $a3a9155c09fe06f0$export$68ae9fdc5844d61a.mac,
        win: $a3a9155c09fe06f0$export$68ae9fdc5844d61a.win,
        linux: $a3a9155c09fe06f0$export$68ae9fdc5844d61a.linux
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.ReplaceOneAction,
    precondition: $a3a9155c09fe06f0$export$bc27e4192c4ca2b8,
    handler: (x)=>x.replace()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 3094 /* Digit1 */ 
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.ReplaceOneAction,
    precondition: $a3a9155c09fe06f0$export$bc27e4192c4ca2b8,
    handler: (x)=>x.replace()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.focus, $a3a9155c09fe06f0$export$1b9f123cc9b71d78),
        primary: 3 /* Enter */ 
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.ReplaceAllAction,
    precondition: $a3a9155c09fe06f0$export$bc27e4192c4ca2b8,
    handler: (x)=>x.replaceAll()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 2563 /* Enter */ 
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.ReplaceAllAction,
    precondition: $a3a9155c09fe06f0$export$bc27e4192c4ca2b8,
    handler: (x)=>x.replaceAll()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.focus, $a3a9155c09fe06f0$export$1b9f123cc9b71d78),
        primary: undefined,
        mac: {
            primary: 2051 /* Enter */ 
        }
    }
}));
$g9Zlr.registerEditorCommand(new $d0d3d74e57b5f086$var$FindCommand({
    id: $a3a9155c09fe06f0$export$a4fc1be778636938.SelectAllMatchesAction,
    precondition: $a3a9155c09fe06f0$export$bc27e4192c4ca2b8,
    handler: (x)=>x.selectAllMatches()
    ,
    kbOpts: {
        weight: 105,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 515 /* Enter */ 
    }
}));


var $e9ce8f64be2d6024$exports = {};

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $ecpYn = parcelRequire("ecpYn");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $erLC3 = parcelRequire("erLC3");


var $78AWm = parcelRequire("78AWm");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $goPht = parcelRequire("goPht");

var $ahykL = parcelRequire("ahykL");

var $bkXdq = parcelRequire("bkXdq");
const $add46a49bd9d3389$export$4dac98cf97cec411 = 0xFFFF;
const $add46a49bd9d3389$export$ccaa8b63109dc601 = 0xFFFFFF;
const $add46a49bd9d3389$var$MASK_INDENT = 0xFF000000;
class $add46a49bd9d3389$export$79a27591b52924cb {
    ensureParentIndices() {
        if (!this._parentsComputed) {
            this._parentsComputed = true;
            let parentIndexes = [];
            let isInsideLast = (startLineNumber, endLineNumber)=>{
                let index = parentIndexes[parentIndexes.length - 1];
                return this.getStartLineNumber(index) <= startLineNumber && this.getEndLineNumber(index) >= endLineNumber;
            };
            for(let i = 0, len = this._startIndexes.length; i < len; i++){
                let startLineNumber = this._startIndexes[i];
                let endLineNumber = this._endIndexes[i];
                if (startLineNumber > $add46a49bd9d3389$export$ccaa8b63109dc601 || endLineNumber > $add46a49bd9d3389$export$ccaa8b63109dc601) throw new Error('startLineNumber or endLineNumber must not exceed ' + $add46a49bd9d3389$export$ccaa8b63109dc601);
                while(parentIndexes.length > 0 && !isInsideLast(startLineNumber, endLineNumber))parentIndexes.pop();
                let parentIndex = parentIndexes.length > 0 ? parentIndexes[parentIndexes.length - 1] : -1;
                parentIndexes.push(i);
                this._startIndexes[i] = startLineNumber + ((parentIndex & 0xFF) << 24);
                this._endIndexes[i] = endLineNumber + ((parentIndex & 0xFF00) << 16);
            }
        }
    }
    get length() {
        return this._startIndexes.length;
    }
    getStartLineNumber(index) {
        return this._startIndexes[index] & $add46a49bd9d3389$export$ccaa8b63109dc601;
    }
    getEndLineNumber(index) {
        return this._endIndexes[index] & $add46a49bd9d3389$export$ccaa8b63109dc601;
    }
    getType(index) {
        return this._types ? this._types[index] : undefined;
    }
    hasTypes() {
        return !!this._types;
    }
    isCollapsed(index) {
        let arrayIndex = index / 32 | 0;
        let bit = index % 32;
        return (this._collapseStates[arrayIndex] & 1 << bit) !== 0;
    }
    setCollapsed(index, newState) {
        let arrayIndex = index / 32 | 0;
        let bit = index % 32;
        let value = this._collapseStates[arrayIndex];
        if (newState) this._collapseStates[arrayIndex] = value | 1 << bit;
        else this._collapseStates[arrayIndex] = value & ~(1 << bit);
    }
    setCollapsedAllOfType(type, newState) {
        let hasChanged = false;
        if (this._types) {
            for(let i = 0; i < this._types.length; i++)if (this._types[i] === type) {
                this.setCollapsed(i, newState);
                hasChanged = true;
            }
        }
        return hasChanged;
    }
    toRegion(index) {
        return new $add46a49bd9d3389$export$6b90bd4afbaa93a9(this, index);
    }
    getParentIndex(index) {
        this.ensureParentIndices();
        let parent = ((this._startIndexes[index] & $add46a49bd9d3389$var$MASK_INDENT) >>> 24) + ((this._endIndexes[index] & $add46a49bd9d3389$var$MASK_INDENT) >>> 16);
        if (parent === $add46a49bd9d3389$export$4dac98cf97cec411) return -1;
        return parent;
    }
    contains(index, line) {
        return this.getStartLineNumber(index) <= line && this.getEndLineNumber(index) >= line;
    }
    findIndex(line) {
        let low = 0, high = this._startIndexes.length;
        if (high === 0) return -1; // no children
        while(low < high){
            let mid = Math.floor((low + high) / 2);
            if (line < this.getStartLineNumber(mid)) high = mid;
            else low = mid + 1;
        }
        return low - 1;
    }
    findRange(line) {
        let index = this.findIndex(line);
        if (index >= 0) {
            let endLineNumber = this.getEndLineNumber(index);
            if (endLineNumber >= line) return index;
            index = this.getParentIndex(index);
            while(index !== -1){
                if (this.contains(index, line)) return index;
                index = this.getParentIndex(index);
            }
        }
        return -1;
    }
    toString() {
        let res = [];
        for(let i = 0; i < this.length; i++)res[i] = `[${this.isCollapsed(i) ? '+' : '-'}] ${this.getStartLineNumber(i)}/${this.getEndLineNumber(i)}`;
        return res.join(', ');
    }
    constructor(startIndexes, endIndexes, types){
        if (startIndexes.length !== endIndexes.length || startIndexes.length > $add46a49bd9d3389$export$4dac98cf97cec411) throw new Error('invalid startIndexes or endIndexes size');
        this._startIndexes = startIndexes;
        this._endIndexes = endIndexes;
        this._collapseStates = new Uint32Array(Math.ceil(startIndexes.length / 32));
        this._types = types;
        this._parentsComputed = false;
    }
}
class $add46a49bd9d3389$export$6b90bd4afbaa93a9 {
    get startLineNumber() {
        return this.ranges.getStartLineNumber(this.index);
    }
    get endLineNumber() {
        return this.ranges.getEndLineNumber(this.index);
    }
    get regionIndex() {
        return this.index;
    }
    get parentIndex() {
        return this.ranges.getParentIndex(this.index);
    }
    get isCollapsed() {
        return this.ranges.isCollapsed(this.index);
    }
    containedBy(range) {
        return range.startLineNumber <= this.startLineNumber && range.endLineNumber >= this.endLineNumber;
    }
    containsLine(lineNumber) {
        return this.startLineNumber <= lineNumber && lineNumber <= this.endLineNumber;
    }
    constructor(ranges, index){
        this.ranges = ranges;
        this.index = index;
    }
}


class $59dac1f573999907$export$342aae847b5a9075 {
    get regions() {
        return this._regions;
    }
    get textModel() {
        return this._textModel;
    }
    get isInitialized() {
        return this._isInitialized;
    }
    toggleCollapseState(toggledRegions) {
        if (!toggledRegions.length) return;
        toggledRegions = toggledRegions.sort((r1, r2)=>r1.regionIndex - r2.regionIndex
        );
        const processed = {};
        this._decorationProvider.changeDecorations((accessor)=>{
            let k = 0; // index from [0 ... this.regions.length]
            let dirtyRegionEndLine = -1; // end of the range where decorations need to be updated
            let lastHiddenLine = -1; // the end of the last hidden lines
            const updateDecorationsUntil = (index)=>{
                while(k < index){
                    const endLineNumber = this._regions.getEndLineNumber(k);
                    const isCollapsed = this._regions.isCollapsed(k);
                    if (endLineNumber <= dirtyRegionEndLine) accessor.changeDecorationOptions(this._editorDecorationIds[k], this._decorationProvider.getDecorationOption(isCollapsed, endLineNumber <= lastHiddenLine));
                    if (isCollapsed && endLineNumber > lastHiddenLine) lastHiddenLine = endLineNumber;
                    k++;
                }
            };
            for (let region of toggledRegions){
                let index = region.regionIndex;
                let editorDecorationId = this._editorDecorationIds[index];
                if (editorDecorationId && !processed[editorDecorationId]) {
                    processed[editorDecorationId] = true;
                    updateDecorationsUntil(index); // update all decorations up to current index using the old dirtyRegionEndLine
                    let newCollapseState = !this._regions.isCollapsed(index);
                    this._regions.setCollapsed(index, newCollapseState);
                    dirtyRegionEndLine = Math.max(dirtyRegionEndLine, this._regions.getEndLineNumber(index));
                }
            }
            updateDecorationsUntil(this._regions.length);
        });
        this._updateEventEmitter.fire({
            model: this,
            collapseStateChanged: toggledRegions
        });
    }
    update(newRegions, blockedLineNumers = []) {
        let newEditorDecorations = [];
        let isBlocked = (startLineNumber, endLineNumber)=>{
            for (let blockedLineNumber of blockedLineNumers){
                if (startLineNumber < blockedLineNumber && blockedLineNumber <= endLineNumber) return true;
            }
            return false;
        };
        let lastHiddenLine = -1;
        let initRange = (index, isCollapsed)=>{
            const startLineNumber = newRegions.getStartLineNumber(index);
            const endLineNumber = newRegions.getEndLineNumber(index);
            if (!isCollapsed) isCollapsed = newRegions.isCollapsed(index);
            if (isCollapsed && isBlocked(startLineNumber, endLineNumber)) isCollapsed = false;
            newRegions.setCollapsed(index, isCollapsed);
            const maxColumn = this._textModel.getLineMaxColumn(startLineNumber);
            const decorationRange = {
                startLineNumber: startLineNumber,
                startColumn: Math.max(maxColumn - 1, 1),
                endLineNumber: startLineNumber,
                endColumn: maxColumn
            };
            newEditorDecorations.push({
                range: decorationRange,
                options: this._decorationProvider.getDecorationOption(isCollapsed, endLineNumber <= lastHiddenLine)
            });
            if (isCollapsed && endLineNumber > lastHiddenLine) lastHiddenLine = endLineNumber;
        };
        let i = 0;
        let nextCollapsed = ()=>{
            while(i < this._regions.length){
                let isCollapsed = this._regions.isCollapsed(i);
                i++;
                if (isCollapsed) return i - 1;
            }
            return -1;
        };
        let k = 0;
        let collapsedIndex = nextCollapsed();
        while(collapsedIndex !== -1 && k < newRegions.length){
            // get the latest range
            let decRange = this._textModel.getDecorationRange(this._editorDecorationIds[collapsedIndex]);
            if (decRange) {
                let collapsedStartLineNumber = decRange.startLineNumber;
                if (decRange.startColumn === Math.max(decRange.endColumn - 1, 1) && this._textModel.getLineMaxColumn(collapsedStartLineNumber) === decRange.endColumn) while(k < newRegions.length){
                    let startLineNumber = newRegions.getStartLineNumber(k);
                    if (collapsedStartLineNumber >= startLineNumber) {
                        initRange(k, collapsedStartLineNumber === startLineNumber);
                        k++;
                    } else break;
                }
            }
            collapsedIndex = nextCollapsed();
        }
        while(k < newRegions.length){
            initRange(k, false);
            k++;
        }
        this._editorDecorationIds = this._decorationProvider.deltaDecorations(this._editorDecorationIds, newEditorDecorations);
        this._regions = newRegions;
        this._isInitialized = true;
        this._updateEventEmitter.fire({
            model: this
        });
    }
    /**
     * Collapse state memento, for persistence only
     */ getMemento() {
        let collapsedRanges = [];
        for(let i = 0; i < this._regions.length; i++)if (this._regions.isCollapsed(i)) {
            let range = this._textModel.getDecorationRange(this._editorDecorationIds[i]);
            if (range) {
                let startLineNumber = range.startLineNumber;
                let endLineNumber = range.endLineNumber + this._regions.getEndLineNumber(i) - this._regions.getStartLineNumber(i);
                collapsedRanges.push({
                    startLineNumber: startLineNumber,
                    endLineNumber: endLineNumber
                });
            }
        }
        if (collapsedRanges.length > 0) return collapsedRanges;
        return undefined;
    }
    /**
     * Apply persisted state, for persistence only
     */ applyMemento(state) {
        if (!Array.isArray(state)) return;
        let toToogle = [];
        for (let range of state){
            let region = this.getRegionAtLine(range.startLineNumber);
            if (region && !region.isCollapsed) toToogle.push(region);
        }
        this.toggleCollapseState(toToogle);
    }
    dispose() {
        this._decorationProvider.deltaDecorations(this._editorDecorationIds, []);
    }
    getAllRegionsAtLine(lineNumber, filter) {
        let result = [];
        if (this._regions) {
            let index = this._regions.findRange(lineNumber);
            let level = 1;
            while(index >= 0){
                let current = this._regions.toRegion(index);
                if (!filter || filter(current, level)) result.push(current);
                level++;
                index = current.parentIndex;
            }
        }
        return result;
    }
    getRegionAtLine(lineNumber) {
        if (this._regions) {
            let index = this._regions.findRange(lineNumber);
            if (index >= 0) return this._regions.toRegion(index);
        }
        return null;
    }
    getRegionsInside(region, filter) {
        let result = [];
        let index = region ? region.regionIndex + 1 : 0;
        let endLineNumber = region ? region.endLineNumber : Number.MAX_VALUE;
        if (filter && filter.length === 2) {
            const levelStack = [];
            for(let i = index, len = this._regions.length; i < len; i++){
                let current = this._regions.toRegion(i);
                if (this._regions.getStartLineNumber(i) < endLineNumber) {
                    while(levelStack.length > 0 && !current.containedBy(levelStack[levelStack.length - 1]))levelStack.pop();
                    levelStack.push(current);
                    if (filter(current, levelStack.length)) result.push(current);
                } else break;
            }
        } else for(let i = index, len = this._regions.length; i < len; i++){
            let current = this._regions.toRegion(i);
            if (this._regions.getStartLineNumber(i) < endLineNumber) {
                if (!filter || filter(current)) result.push(current);
            } else break;
        }
        return result;
    }
    constructor(textModel, decorationProvider){
        this._updateEventEmitter = new $bkXdq.Emitter();
        this.onDidChange = this._updateEventEmitter.event;
        this._textModel = textModel;
        this._decorationProvider = decorationProvider;
        this._regions = new $add46a49bd9d3389$export$79a27591b52924cb(new Uint32Array(0), new Uint32Array(0));
        this._editorDecorationIds = [];
        this._isInitialized = false;
    }
}
function $59dac1f573999907$export$6008f8f734d0336a(foldingModel, levels, lineNumbers) {
    let toToggle = [];
    for (let lineNumber of lineNumbers){
        let region = foldingModel.getRegionAtLine(lineNumber);
        if (region) {
            const doCollapse = !region.isCollapsed;
            toToggle.push(region);
            if (levels > 1) {
                let regionsInside = foldingModel.getRegionsInside(region, (r, level)=>r.isCollapsed !== doCollapse && level < levels
                );
                toToggle.push(...regionsInside);
            }
        }
    }
    foldingModel.toggleCollapseState(toToggle);
}
function $59dac1f573999907$export$1ef41fe66cd8530(foldingModel, doCollapse, levels = Number.MAX_VALUE, lineNumbers) {
    let toToggle = [];
    if (lineNumbers && lineNumbers.length > 0) for (let lineNumber of lineNumbers){
        let region = foldingModel.getRegionAtLine(lineNumber);
        if (region) {
            if (region.isCollapsed !== doCollapse) toToggle.push(region);
            if (levels > 1) {
                let regionsInside = foldingModel.getRegionsInside(region, (r, level)=>r.isCollapsed !== doCollapse && level < levels
                );
                toToggle.push(...regionsInside);
            }
        }
    }
    else {
        let regionsInside = foldingModel.getRegionsInside(null, (r, level)=>r.isCollapsed !== doCollapse && level < levels
        );
        toToggle.push(...regionsInside);
    }
    foldingModel.toggleCollapseState(toToggle);
}
function $59dac1f573999907$export$50a013aaf999fe15(foldingModel, doCollapse, levels, lineNumbers) {
    let toToggle = [];
    for (let lineNumber of lineNumbers){
        let regions = foldingModel.getAllRegionsAtLine(lineNumber, (region, level)=>region.isCollapsed !== doCollapse && level <= levels
        );
        toToggle.push(...regions);
    }
    foldingModel.toggleCollapseState(toToggle);
}
function $59dac1f573999907$export$e1cae19974cbbf8b(foldingModel, doCollapse, lineNumbers) {
    let toToggle = [];
    for (let lineNumber of lineNumbers){
        let regions = foldingModel.getAllRegionsAtLine(lineNumber, (region)=>region.isCollapsed !== doCollapse
        );
        if (regions.length > 0) toToggle.push(regions[0]);
    }
    foldingModel.toggleCollapseState(toToggle);
}
function $59dac1f573999907$export$3f9d91c844738bc6(foldingModel, foldLevel, doCollapse, blockedLineNumbers) {
    let filter = (region, level)=>level === foldLevel && region.isCollapsed !== doCollapse && !blockedLineNumbers.some((line)=>region.containsLine(line)
        )
    ;
    let toToggle = foldingModel.getRegionsInside(null, filter);
    foldingModel.toggleCollapseState(toToggle);
}
function $59dac1f573999907$export$13292d9dd11d6b4f(foldingModel, doCollapse, blockedLineNumbers) {
    let filteredRegions = [];
    for (let lineNumber of blockedLineNumbers)filteredRegions.push(foldingModel.getAllRegionsAtLine(lineNumber, undefined)[0]);
    let filter = (region)=>filteredRegions.every((filteredRegion)=>!filteredRegion.containedBy(region) && !region.containedBy(filteredRegion)
        ) && region.isCollapsed !== doCollapse
    ;
    let toToggle = foldingModel.getRegionsInside(null, filter);
    foldingModel.toggleCollapseState(toToggle);
}
function $59dac1f573999907$export$acbcc757d0e877b(foldingModel, regExp, doCollapse) {
    let editorModel = foldingModel.textModel;
    let regions = foldingModel.regions;
    let toToggle = [];
    for(let i = regions.length - 1; i >= 0; i--)if (doCollapse !== regions.isCollapsed(i)) {
        let startLineNumber = regions.getStartLineNumber(i);
        if (regExp.test(editorModel.getLineContent(startLineNumber))) toToggle.push(regions.toRegion(i));
    }
    foldingModel.toggleCollapseState(toToggle);
}
function $59dac1f573999907$export$ce3950edac996729(foldingModel, type, doCollapse) {
    let regions = foldingModel.regions;
    let toToggle = [];
    for(let i = regions.length - 1; i >= 0; i--)if (doCollapse !== regions.isCollapsed(i) && type === regions.getType(i)) toToggle.push(regions.toRegion(i));
    foldingModel.toggleCollapseState(toToggle);
}
function $59dac1f573999907$export$19eab21a9895dbc4(lineNumber, foldingModel) {
    let startLineNumber = null;
    let foldingRegion = foldingModel.getRegionAtLine(lineNumber);
    if (foldingRegion !== null) {
        startLineNumber = foldingRegion.startLineNumber;
        // If current line is not the start of the current fold, go to top line of current fold. If not, go to parent fold
        if (lineNumber === startLineNumber) {
            let parentFoldingIdx = foldingRegion.parentIndex;
            if (parentFoldingIdx !== -1) startLineNumber = foldingModel.regions.getStartLineNumber(parentFoldingIdx);
            else startLineNumber = null;
        }
    }
    return startLineNumber;
}
function $59dac1f573999907$export$9e804e9f47adba4e(lineNumber, foldingModel) {
    let foldingRegion = foldingModel.getRegionAtLine(lineNumber);
    // If on the folding range start line, go to previous sibling.
    if (foldingRegion !== null && foldingRegion.startLineNumber === lineNumber) {
        // If current line is not the start of the current fold, go to top line of current fold. If not, go to previous fold.
        if (lineNumber !== foldingRegion.startLineNumber) return foldingRegion.startLineNumber;
        else {
            // Find min line number to stay within parent.
            let expectedParentIndex = foldingRegion.parentIndex;
            let minLineNumber = 0;
            if (expectedParentIndex !== -1) minLineNumber = foldingModel.regions.getStartLineNumber(foldingRegion.parentIndex);
            // Find fold at same level.
            while(foldingRegion !== null){
                if (foldingRegion.regionIndex > 0) {
                    foldingRegion = foldingModel.regions.toRegion(foldingRegion.regionIndex - 1);
                    // Keep at same level.
                    if (foldingRegion.startLineNumber <= minLineNumber) return null;
                    else if (foldingRegion.parentIndex === expectedParentIndex) return foldingRegion.startLineNumber;
                } else return null;
            }
        }
    } else // Go to last fold that's before the current line.
    if (foldingModel.regions.length > 0) {
        foldingRegion = foldingModel.regions.toRegion(foldingModel.regions.length - 1);
        while(foldingRegion !== null){
            // Found fold before current line.
            if (foldingRegion.startLineNumber < lineNumber) return foldingRegion.startLineNumber;
            if (foldingRegion.regionIndex > 0) foldingRegion = foldingModel.regions.toRegion(foldingRegion.regionIndex - 1);
            else foldingRegion = null;
        }
    }
    return null;
}
function $59dac1f573999907$export$3164a73fda220264(lineNumber, foldingModel) {
    let foldingRegion = foldingModel.getRegionAtLine(lineNumber);
    // If on the folding range start line, go to next sibling.
    if (foldingRegion !== null && foldingRegion.startLineNumber === lineNumber) {
        // Find max line number to stay within parent.
        let expectedParentIndex = foldingRegion.parentIndex;
        let maxLineNumber = 0;
        if (expectedParentIndex !== -1) maxLineNumber = foldingModel.regions.getEndLineNumber(foldingRegion.parentIndex);
        else if (foldingModel.regions.length === 0) return null;
        else maxLineNumber = foldingModel.regions.getEndLineNumber(foldingModel.regions.length - 1);
        // Find fold at same level.
        while(foldingRegion !== null){
            if (foldingRegion.regionIndex < foldingModel.regions.length) {
                foldingRegion = foldingModel.regions.toRegion(foldingRegion.regionIndex + 1);
                // Keep at same level.
                if (foldingRegion.startLineNumber >= maxLineNumber) return null;
                else if (foldingRegion.parentIndex === expectedParentIndex) return foldingRegion.startLineNumber;
            } else return null;
        }
    } else // Go to first fold that's after the current line.
    if (foldingModel.regions.length > 0) {
        foldingRegion = foldingModel.regions.toRegion(0);
        while(foldingRegion !== null){
            // Found fold after current line.
            if (foldingRegion.startLineNumber > lineNumber) return foldingRegion.startLineNumber;
            if (foldingRegion.regionIndex < foldingModel.regions.length) foldingRegion = foldingModel.regions.toRegion(foldingRegion.regionIndex + 1);
            else foldingRegion = null;
        }
    }
    return null;
}



var $duSG1 = parcelRequire("duSG1");

var $bkXdq = parcelRequire("bkXdq");

var $1YFxJ = parcelRequire("1YFxJ");

var $b4Z0z = parcelRequire("b4Z0z");
class $7d53ada59bd491ee$export$87e89ef1cf49f2d {
    get onDidChange() {
        return this._updateEventEmitter.event;
    }
    get hiddenRanges() {
        return this._hiddenRanges;
    }
    notifyChangeModelContent(e) {
        if (this._hiddenRanges.length && !this._hasLineChanges) this._hasLineChanges = e.changes.some((change)=>{
            return change.range.endLineNumber !== change.range.startLineNumber || $b4Z0z.countEOL(change.text)[0] !== 0;
        });
    }
    updateHiddenRanges() {
        let updateHiddenAreas = false;
        let newHiddenAreas = [];
        let i = 0; // index into hidden
        let k = 0;
        let lastCollapsedStart = Number.MAX_VALUE;
        let lastCollapsedEnd = -1;
        let ranges = this._foldingModel.regions;
        for(; i < ranges.length; i++){
            if (!ranges.isCollapsed(i)) continue;
            let startLineNumber = ranges.getStartLineNumber(i) + 1; // the first line is not hidden
            let endLineNumber = ranges.getEndLineNumber(i);
            if (lastCollapsedStart <= startLineNumber && endLineNumber <= lastCollapsedEnd) continue;
            if (!updateHiddenAreas && k < this._hiddenRanges.length && this._hiddenRanges[k].startLineNumber === startLineNumber && this._hiddenRanges[k].endLineNumber === endLineNumber) {
                // reuse the old ranges
                newHiddenAreas.push(this._hiddenRanges[k]);
                k++;
            } else {
                updateHiddenAreas = true;
                newHiddenAreas.push(new $1YFxJ.Range(startLineNumber, 1, endLineNumber, 1));
            }
            lastCollapsedStart = startLineNumber;
            lastCollapsedEnd = endLineNumber;
        }
        if (this._hasLineChanges || updateHiddenAreas || k < this._hiddenRanges.length) this.applyHiddenRanges(newHiddenAreas);
    }
    applyMemento(state) {
        if (!Array.isArray(state) || state.length === 0) return false;
        let hiddenRanges = [];
        for (let r of state){
            if (!r.startLineNumber || !r.endLineNumber) return false;
            hiddenRanges.push(new $1YFxJ.Range(r.startLineNumber + 1, 1, r.endLineNumber, 1));
        }
        this.applyHiddenRanges(hiddenRanges);
        return true;
    }
    /**
     * Collapse state memento, for persistence only, only used if folding model is not yet initialized
     */ getMemento() {
        return this._hiddenRanges.map((r)=>({
                startLineNumber: r.startLineNumber - 1,
                endLineNumber: r.endLineNumber
            })
        );
    }
    applyHiddenRanges(newHiddenAreas) {
        this._hiddenRanges = newHiddenAreas;
        this._hasLineChanges = false;
        this._updateEventEmitter.fire(newHiddenAreas);
    }
    hasRanges() {
        return this._hiddenRanges.length > 0;
    }
    isHidden(line) {
        return $7d53ada59bd491ee$var$findRange(this._hiddenRanges, line) !== null;
    }
    adjustSelections(selections) {
        let hasChanges = false;
        let editorModel = this._foldingModel.textModel;
        let lastRange = null;
        let adjustLine = (line)=>{
            if (!lastRange || !$7d53ada59bd491ee$var$isInside(line, lastRange)) lastRange = $7d53ada59bd491ee$var$findRange(this._hiddenRanges, line);
            if (lastRange) return lastRange.startLineNumber - 1;
            return null;
        };
        for(let i = 0, len = selections.length; i < len; i++){
            let selection = selections[i];
            let adjustedStartLine = adjustLine(selection.startLineNumber);
            if (adjustedStartLine) {
                selection = selection.setStartPosition(adjustedStartLine, editorModel.getLineMaxColumn(adjustedStartLine));
                hasChanges = true;
            }
            let adjustedEndLine = adjustLine(selection.endLineNumber);
            if (adjustedEndLine) {
                selection = selection.setEndPosition(adjustedEndLine, editorModel.getLineMaxColumn(adjustedEndLine));
                hasChanges = true;
            }
            selections[i] = selection;
        }
        return hasChanges;
    }
    dispose() {
        if (this.hiddenRanges.length > 0) {
            this._hiddenRanges = [];
            this._updateEventEmitter.fire(this._hiddenRanges);
        }
        if (this._foldingModelListener) {
            this._foldingModelListener.dispose();
            this._foldingModelListener = null;
        }
    }
    constructor(model){
        this._updateEventEmitter = new $bkXdq.Emitter();
        this._hasLineChanges = false;
        this._foldingModel = model;
        this._foldingModelListener = model.onDidChange((_)=>this.updateHiddenRanges()
        );
        this._hiddenRanges = [];
        if (model.regions.length) this.updateHiddenRanges();
    }
}
function $7d53ada59bd491ee$var$isInside(line, range) {
    return line >= range.startLineNumber && line <= range.endLineNumber;
}
function $7d53ada59bd491ee$var$findRange(ranges, line) {
    let i = $duSG1.findFirstInSorted(ranges, (r)=>line < r.startLineNumber
    ) - 1;
    if (i >= 0 && ranges[i].endLineNumber >= line) return ranges[i];
    return null;
}



var $72tIz = parcelRequire("72tIz");

var $ahykL = parcelRequire("ahykL");

const $3ab7fd3eecdb7b20$var$MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT = 5000;
const $3ab7fd3eecdb7b20$export$c733f741c9154923 = 'indent';
class $3ab7fd3eecdb7b20$export$c6761242dbde8f79 {
    dispose() {}
    compute(cancelationToken) {
        let foldingRules = $ahykL.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageId());
        let offSide = foldingRules && !!foldingRules.offSide;
        let markers = foldingRules && foldingRules.markers;
        return Promise.resolve($3ab7fd3eecdb7b20$export$a7fcbe01d14a5fd9(this.editorModel, offSide, markers));
    }
    constructor(editorModel){
        this.editorModel = editorModel;
        this.id = $3ab7fd3eecdb7b20$export$c733f741c9154923;
    }
}
class $3ab7fd3eecdb7b20$export$eb0bed8ad121fa0e {
    insertFirst(startLineNumber, endLineNumber, indent) {
        if (startLineNumber > $add46a49bd9d3389$export$ccaa8b63109dc601 || endLineNumber > $add46a49bd9d3389$export$ccaa8b63109dc601) return;
        let index = this._length;
        this._startIndexes[index] = startLineNumber;
        this._endIndexes[index] = endLineNumber;
        this._length++;
        if (indent < 1000) this._indentOccurrences[indent] = (this._indentOccurrences[indent] || 0) + 1;
    }
    toIndentRanges(model) {
        if (this._length <= this._foldingRangesLimit) {
            // reverse and create arrays of the exact length
            let startIndexes = new Uint32Array(this._length);
            let endIndexes = new Uint32Array(this._length);
            for(let i = this._length - 1, k = 0; i >= 0; i--, k++){
                startIndexes[k] = this._startIndexes[i];
                endIndexes[k] = this._endIndexes[i];
            }
            return new $add46a49bd9d3389$export$79a27591b52924cb(startIndexes, endIndexes);
        } else {
            let entries = 0;
            let maxIndent = this._indentOccurrences.length;
            for(let i = 0; i < this._indentOccurrences.length; i++){
                let n = this._indentOccurrences[i];
                if (n) {
                    if (n + entries > this._foldingRangesLimit) {
                        maxIndent = i;
                        break;
                    }
                    entries += n;
                }
            }
            const tabSize = model.getOptions().tabSize;
            // reverse and create arrays of the exact length
            let startIndexes = new Uint32Array(this._foldingRangesLimit);
            let endIndexes = new Uint32Array(this._foldingRangesLimit);
            for(let i1 = this._length - 1, k = 0; i1 >= 0; i1--){
                let startIndex = this._startIndexes[i1];
                let lineContent = model.getLineContent(startIndex);
                let indent = $72tIz.TextModel.computeIndentLevel(lineContent, tabSize);
                if (indent < maxIndent || indent === maxIndent && (entries++) < this._foldingRangesLimit) {
                    startIndexes[k] = startIndex;
                    endIndexes[k] = this._endIndexes[i1];
                    k++;
                }
            }
            return new $add46a49bd9d3389$export$79a27591b52924cb(startIndexes, endIndexes);
        }
    }
    constructor(foldingRangesLimit){
        this._startIndexes = [];
        this._endIndexes = [];
        this._indentOccurrences = [];
        this._length = 0;
        this._foldingRangesLimit = foldingRangesLimit;
    }
}
function $3ab7fd3eecdb7b20$export$a7fcbe01d14a5fd9(model, offSide, markers, foldingRangesLimit = $3ab7fd3eecdb7b20$var$MAX_FOLDING_REGIONS_FOR_INDENT_LIMIT) {
    const tabSize = model.getOptions().tabSize;
    let result = new $3ab7fd3eecdb7b20$export$eb0bed8ad121fa0e(foldingRangesLimit);
    let pattern = undefined;
    if (markers) pattern = new RegExp(`(${markers.start.source})|(?:${markers.end.source})`);
    let previousRegions = [];
    let line = model.getLineCount() + 1;
    previousRegions.push({
        indent: -1,
        endAbove: line,
        line: line
    }); // sentinel, to make sure there's at least one entry
    for(let line1 = model.getLineCount(); line1 > 0; line1--){
        let lineContent = model.getLineContent(line1);
        let indent = $72tIz.TextModel.computeIndentLevel(lineContent, tabSize);
        let previous = previousRegions[previousRegions.length - 1];
        if (indent === -1) {
            if (offSide) // for offSide languages, empty lines are associated to the previous block
            // note: the next block is already written to the results, so this only
            // impacts the end position of the block before
            previous.endAbove = line1;
            continue; // only whitespace
        }
        let m;
        if (pattern && (m = lineContent.match(pattern))) {
            // folding pattern match
            if (m[1]) {
                // discard all regions until the folding pattern
                let i = previousRegions.length - 1;
                while(i > 0 && previousRegions[i].indent !== -2)i--;
                if (i > 0) {
                    previousRegions.length = i + 1;
                    previous = previousRegions[i];
                    // new folding range from pattern, includes the end line
                    result.insertFirst(line1, previous.line, indent);
                    previous.line = line1;
                    previous.indent = indent;
                    previous.endAbove = line1;
                    continue;
                }
            } else {
                previousRegions.push({
                    indent: -2,
                    endAbove: line1,
                    line: line1
                });
                continue;
            }
        }
        if (previous.indent > indent) {
            // discard all regions with larger indent
            do {
                previousRegions.pop();
                previous = previousRegions[previousRegions.length - 1];
            }while (previous.indent > indent)
            // new folding range
            let endLineNumber = previous.endAbove - 1;
            if (endLineNumber - line1 >= 1) result.insertFirst(line1, endLineNumber, indent);
        }
        if (previous.indent === indent) previous.endAbove = line1;
        else // new region with a bigger indent
        previousRegions.push({
            indent: indent,
            endAbove: line1,
            line: line1
        });
    }
    return result.toIndentRanges(model);
}



var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

const $8f40eb994bbadea1$var$MAX_FOLDING_REGIONS = 5000;
const $8f40eb994bbadea1$var$foldingContext = {};
const $8f40eb994bbadea1$export$643d29553f216197 = 'syntax';
class $8f40eb994bbadea1$export$409cdd7e50053250 {
    compute(cancellationToken) {
        return $8f40eb994bbadea1$var$collectSyntaxRanges(this.providers, this.editorModel, cancellationToken).then((ranges)=>{
            if (ranges) {
                let res = $8f40eb994bbadea1$export$468fc32e82949676(ranges, this.limit);
                return res;
            }
            return null;
        });
    }
    dispose() {
        var _a;
        (_a = this.disposables) === null || _a === void 0 || _a.dispose();
    }
    constructor(editorModel, providers, handleFoldingRangesChange, limit = $8f40eb994bbadea1$var$MAX_FOLDING_REGIONS){
        this.editorModel = editorModel;
        this.providers = providers;
        this.limit = limit;
        this.id = $8f40eb994bbadea1$export$643d29553f216197;
        for (const provider of providers)if (typeof provider.onDidChange === 'function') {
            if (!this.disposables) this.disposables = new $6W1JA.DisposableStore();
            this.disposables.add(provider.onDidChange(handleFoldingRangesChange));
        }
    }
}
function $8f40eb994bbadea1$var$collectSyntaxRanges(providers, model, cancellationToken) {
    let rangeData = null;
    let promises = providers.map((provider, i)=>{
        return Promise.resolve(provider.provideFoldingRanges(model, $8f40eb994bbadea1$var$foldingContext, cancellationToken)).then((ranges)=>{
            if (cancellationToken.isCancellationRequested) return;
            if (Array.isArray(ranges)) {
                if (!Array.isArray(rangeData)) rangeData = [];
                let nLines = model.getLineCount();
                for (let r of ranges)if (r.start > 0 && r.end > r.start && r.end <= nLines) rangeData.push({
                    start: r.start,
                    end: r.end,
                    rank: i,
                    kind: r.kind
                });
            }
        }, $3FsT3.onUnexpectedExternalError);
    });
    return Promise.all(promises).then((_)=>{
        return rangeData;
    });
}
class $8f40eb994bbadea1$export$eb0bed8ad121fa0e {
    add(startLineNumber, endLineNumber, type, nestingLevel) {
        if (startLineNumber > $add46a49bd9d3389$export$ccaa8b63109dc601 || endLineNumber > $add46a49bd9d3389$export$ccaa8b63109dc601) return;
        let index = this._length;
        this._startIndexes[index] = startLineNumber;
        this._endIndexes[index] = endLineNumber;
        this._nestingLevels[index] = nestingLevel;
        this._types[index] = type;
        this._length++;
        if (nestingLevel < 30) this._nestingLevelCounts[nestingLevel] = (this._nestingLevelCounts[nestingLevel] || 0) + 1;
    }
    toIndentRanges() {
        if (this._length <= this._foldingRangesLimit) {
            let startIndexes = new Uint32Array(this._length);
            let endIndexes = new Uint32Array(this._length);
            for(let i = 0; i < this._length; i++){
                startIndexes[i] = this._startIndexes[i];
                endIndexes[i] = this._endIndexes[i];
            }
            return new $add46a49bd9d3389$export$79a27591b52924cb(startIndexes, endIndexes, this._types);
        } else {
            let entries = 0;
            let maxLevel = this._nestingLevelCounts.length;
            for(let i = 0; i < this._nestingLevelCounts.length; i++){
                let n = this._nestingLevelCounts[i];
                if (n) {
                    if (n + entries > this._foldingRangesLimit) {
                        maxLevel = i;
                        break;
                    }
                    entries += n;
                }
            }
            let startIndexes = new Uint32Array(this._foldingRangesLimit);
            let endIndexes = new Uint32Array(this._foldingRangesLimit);
            let types = [];
            for(let i1 = 0, k = 0; i1 < this._length; i1++){
                let level = this._nestingLevels[i1];
                if (level < maxLevel || level === maxLevel && (entries++) < this._foldingRangesLimit) {
                    startIndexes[k] = this._startIndexes[i1];
                    endIndexes[k] = this._endIndexes[i1];
                    types[k] = this._types[i1];
                    k++;
                }
            }
            return new $add46a49bd9d3389$export$79a27591b52924cb(startIndexes, endIndexes, types);
        }
    }
    constructor(foldingRangesLimit){
        this._startIndexes = [];
        this._endIndexes = [];
        this._nestingLevels = [];
        this._nestingLevelCounts = [];
        this._types = [];
        this._length = 0;
        this._foldingRangesLimit = foldingRangesLimit;
    }
}
function $8f40eb994bbadea1$export$468fc32e82949676(rangeData, limit) {
    let sorted = rangeData.sort((d1, d2)=>{
        let diff = d1.start - d2.start;
        if (diff === 0) diff = d1.rank - d2.rank;
        return diff;
    });
    let collector = new $8f40eb994bbadea1$export$eb0bed8ad121fa0e(limit);
    let top = undefined;
    let previous = [];
    for (let entry of sorted){
        if (!top) {
            top = entry;
            collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);
        } else if (entry.start > top.start) {
            if (entry.end <= top.end) {
                previous.push(top);
                top = entry;
                collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);
            } else {
                if (entry.start > top.end) {
                    do top = previous.pop();
                    while (top && entry.start > top.end)
                    if (top) previous.push(top);
                    top = entry;
                }
                collector.add(entry.start, entry.end, entry.kind && entry.kind.value, previous.length);
            }
        }
    }
    return collector.toIndentRanges();
}


const $676209748f199e69$export$d107d20bbf4762c = 'init';
class $676209748f199e69$export$3f2af55879f1f5cb {
    dispose() {
        if (this.decorationIds) {
            this.editorModel.deltaDecorations(this.decorationIds, []);
            this.decorationIds = undefined;
        }
        if (typeof this.timeout === 'number') {
            clearTimeout(this.timeout);
            this.timeout = undefined;
        }
    }
    compute(cancelationToken) {
        let foldingRangeData = [];
        if (this.decorationIds) for (let id of this.decorationIds){
            let range = this.editorModel.getDecorationRange(id);
            if (range) foldingRangeData.push({
                start: range.startLineNumber,
                end: range.endLineNumber,
                rank: 1
            });
        }
        return Promise.resolve($8f40eb994bbadea1$export$468fc32e82949676(foldingRangeData, Number.MAX_VALUE));
    }
    constructor(editorModel, initialRanges, onTimeout, timeoutTime){
        this.editorModel = editorModel;
        this.id = $676209748f199e69$export$d107d20bbf4762c;
        if (initialRanges.length) {
            let toDecorationRange = (range)=>{
                return {
                    range: {
                        startLineNumber: range.startLineNumber,
                        startColumn: 0,
                        endLineNumber: range.endLineNumber,
                        endColumn: editorModel.getLineLength(range.endLineNumber)
                    },
                    options: {
                        description: 'folding-initializing-range-provider',
                        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ 
                    }
                };
            };
            this.decorationIds = editorModel.deltaDecorations([], initialRanges.map(toDecorationRange));
            this.timeout = setTimeout(onTimeout, timeoutTime);
        }
    }
}



var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");

var $k4zqw = parcelRequire("k4zqw");

var $72tIz = parcelRequire("72tIz");

var $1WuVQ = parcelRequire("1WuVQ");

var $citn9 = parcelRequire("citn9");

var $5Wwop = parcelRequire("5Wwop");
const $3eed836b40d26c1c$export$885051cbe6b7e954 = $citn9.registerIcon('folding-expanded', $k4zqw.Codicon.chevronDown, $1WuVQ.localize('foldingExpandedIcon', 'Icon for expanded ranges in the editor glyph margin.'));
const $3eed836b40d26c1c$export$91aea75f1008558b = $citn9.registerIcon('folding-collapsed', $k4zqw.Codicon.chevronRight, $1WuVQ.localize('foldingCollapsedIcon', 'Icon for collapsed ranges in the editor glyph margin.'));
class $3eed836b40d26c1c$export$efeea4b4f3021f6b {
    getDecorationOption(isCollapsed, isHidden) {
        if (isHidden) return $3eed836b40d26c1c$export$efeea4b4f3021f6b.HIDDEN_RANGE_DECORATION;
        if (isCollapsed) return this.showFoldingHighlights ? $3eed836b40d26c1c$export$efeea4b4f3021f6b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION : $3eed836b40d26c1c$export$efeea4b4f3021f6b.COLLAPSED_VISUAL_DECORATION;
        else if (this.autoHideFoldingControls) return $3eed836b40d26c1c$export$efeea4b4f3021f6b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;
        else return $3eed836b40d26c1c$export$efeea4b4f3021f6b.EXPANDED_VISUAL_DECORATION;
    }
    deltaDecorations(oldDecorations, newDecorations) {
        return this.editor.deltaDecorations(oldDecorations, newDecorations);
    }
    changeDecorations(callback) {
        return this.editor.changeDecorations(callback);
    }
    constructor(editor){
        this.editor = editor;
        this.autoHideFoldingControls = true;
        this.showFoldingHighlights = true;
    }
}
$3eed836b40d26c1c$export$efeea4b4f3021f6b.COLLAPSED_VISUAL_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'folding-collapsed-visual-decoration',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    afterContentClassName: 'inline-folded',
    isWholeLine: true,
    firstLineDecorationClassName: $5Wwop.ThemeIcon.asClassName($3eed836b40d26c1c$export$91aea75f1008558b)
});
$3eed836b40d26c1c$export$efeea4b4f3021f6b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'folding-collapsed-highlighted-visual-decoration',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    afterContentClassName: 'inline-folded',
    className: 'folded-background',
    isWholeLine: true,
    firstLineDecorationClassName: $5Wwop.ThemeIcon.asClassName($3eed836b40d26c1c$export$91aea75f1008558b)
});
$3eed836b40d26c1c$export$efeea4b4f3021f6b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'folding-expanded-auto-hide-visual-decoration',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    isWholeLine: true,
    firstLineDecorationClassName: $5Wwop.ThemeIcon.asClassName($3eed836b40d26c1c$export$885051cbe6b7e954)
});
$3eed836b40d26c1c$export$efeea4b4f3021f6b.EXPANDED_VISUAL_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'folding-expanded-visual-decoration',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    isWholeLine: true,
    firstLineDecorationClassName: 'alwaysShowFoldIcons ' + $5Wwop.ThemeIcon.asClassName($3eed836b40d26c1c$export$885051cbe6b7e954)
});
$3eed836b40d26c1c$export$efeea4b4f3021f6b.HIDDEN_RANGE_DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'folding-hidden-range-decoration',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ 
});



/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $e9ce8f64be2d6024$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i1 = decorators.length - 1; i1 >= 0; i1--)if (d = decorators[i1]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $e9ce8f64be2d6024$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED = new $h4kGX.RawContextKey('foldingEnabled', false);
let $e9ce8f64be2d6024$export$5d4a7ec5ea2624d8 = class $e9ce8f64be2d6024$export$5d4a7ec5ea2624d8 extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution($e9ce8f64be2d6024$export$5d4a7ec5ea2624d8.ID);
    }
    /**
     * Store view state.
     */ saveViewState() {
        let model = this.editor.getModel();
        if (!model || !this._isEnabled || model.isTooLargeForTokenization()) return {};
        if (this.foldingModel) {
            let collapsedRegions = this.foldingModel.isInitialized ? this.foldingModel.getMemento() : this.hiddenRangeModel.getMemento();
            let provider = this.rangeProvider ? this.rangeProvider.id : undefined;
            return {
                collapsedRegions: collapsedRegions,
                lineCount: model.getLineCount(),
                provider: provider,
                foldedImports: this._currentModelHasFoldedImports
            };
        }
        return undefined;
    }
    /**
     * Restore view state.
     */ restoreViewState(state) {
        let model = this.editor.getModel();
        if (!model || !this._isEnabled || model.isTooLargeForTokenization() || !this.hiddenRangeModel) return;
        if (!state || state.lineCount !== model.getLineCount()) return;
        this._currentModelHasFoldedImports = !!state.foldedImports;
        if (!state.collapsedRegions) return;
        if (state.provider === $8f40eb994bbadea1$export$643d29553f216197 || state.provider === $676209748f199e69$export$d107d20bbf4762c) this.foldingStateMemento = state;
        const collapsedRegions = state.collapsedRegions;
        // set the hidden ranges right away, before waiting for the folding model.
        if (this.hiddenRangeModel.applyMemento(collapsedRegions)) {
            const foldingModel1 = this.getFoldingModel();
            if (foldingModel1) foldingModel1.then((foldingModel)=>{
                if (foldingModel) {
                    this._restoringViewState = true;
                    try {
                        foldingModel.applyMemento(collapsedRegions);
                    } finally{
                        this._restoringViewState = false;
                    }
                }
            }).then(undefined, $3FsT3.onUnexpectedError);
        }
    }
    onModelChanged() {
        this.localToDispose.clear();
        let model = this.editor.getModel();
        if (!this._isEnabled || !model || model.isTooLargeForTokenization()) // huge files get no view model, so they cannot support hidden areas
        return;
        this._currentModelHasFoldedImports = false;
        this.foldingModel = new $59dac1f573999907$export$342aae847b5a9075(model, this.foldingDecorationProvider);
        this.localToDispose.add(this.foldingModel);
        this.hiddenRangeModel = new $7d53ada59bd491ee$export$87e89ef1cf49f2d(this.foldingModel);
        this.localToDispose.add(this.hiddenRangeModel);
        this.localToDispose.add(this.hiddenRangeModel.onDidChange((hr)=>this.onHiddenRangesChanges(hr)
        ));
        this.updateScheduler = new $5piST.Delayer(200);
        this.cursorChangedScheduler = new $5piST.RunOnceScheduler(()=>this.revealCursor()
        , 200);
        this.localToDispose.add(this.cursorChangedScheduler);
        this.localToDispose.add($goPht.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged()
        ));
        this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged()
        )); // covers model language changes as well
        this.localToDispose.add(this.editor.onDidChangeModelContent((e)=>this.onDidChangeModelContent(e)
        ));
        this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged()
        ));
        this.localToDispose.add(this.editor.onMouseDown((e)=>this.onEditorMouseDown(e)
        ));
        this.localToDispose.add(this.editor.onMouseUp((e)=>this.onEditorMouseUp(e)
        ));
        this.localToDispose.add({
            dispose: ()=>{
                if (this.foldingRegionPromise) {
                    this.foldingRegionPromise.cancel();
                    this.foldingRegionPromise = null;
                }
                if (this.updateScheduler) this.updateScheduler.cancel();
                this.updateScheduler = null;
                this.foldingModel = null;
                this.foldingModelPromise = null;
                this.hiddenRangeModel = null;
                this.cursorChangedScheduler = null;
                this.foldingStateMemento = null;
                if (this.rangeProvider) this.rangeProvider.dispose();
                this.rangeProvider = null;
            }
        });
        this.triggerFoldingModelChanged();
    }
    onFoldingStrategyChanged() {
        if (this.rangeProvider) this.rangeProvider.dispose();
        this.rangeProvider = null;
        this.triggerFoldingModelChanged();
    }
    getRangeProvider(editorModel) {
        if (this.rangeProvider) return this.rangeProvider;
        this.rangeProvider = new $3ab7fd3eecdb7b20$export$c6761242dbde8f79(editorModel); // fallback
        if (this._useFoldingProviders && this.foldingModel) {
            let foldingProviders = $goPht.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);
            if (foldingProviders.length === 0 && this.foldingStateMemento && this.foldingStateMemento.collapsedRegions) {
                const rangeProvider = this.rangeProvider = new $676209748f199e69$export$3f2af55879f1f5cb(editorModel, this.foldingStateMemento.collapsedRegions, ()=>{
                    // if after 30 the InitializingRangeProvider is still not replaced, force a refresh
                    this.foldingStateMemento = null;
                    this.onFoldingStrategyChanged();
                }, 30000);
                return rangeProvider; // keep memento in case there are still no foldingProviders on the next request.
            } else if (foldingProviders.length > 0) this.rangeProvider = new $8f40eb994bbadea1$export$409cdd7e50053250(editorModel, foldingProviders, ()=>this.triggerFoldingModelChanged()
            );
        }
        this.foldingStateMemento = null;
        return this.rangeProvider;
    }
    getFoldingModel() {
        return this.foldingModelPromise;
    }
    onDidChangeModelContent(e) {
        var _a;
        (_a = this.hiddenRangeModel) === null || _a === void 0 || _a.notifyChangeModelContent(e);
        this.triggerFoldingModelChanged();
    }
    triggerFoldingModelChanged() {
        if (this.updateScheduler) {
            if (this.foldingRegionPromise) {
                this.foldingRegionPromise.cancel();
                this.foldingRegionPromise = null;
            }
            this.foldingModelPromise = this.updateScheduler.trigger(()=>{
                const foldingModel = this.foldingModel;
                if (!foldingModel) return null;
                const provider = this.getRangeProvider(foldingModel.textModel);
                let foldingRegionPromise = this.foldingRegionPromise = $5piST.createCancelablePromise((token)=>provider.compute(token)
                );
                return foldingRegionPromise.then((foldingRanges)=>{
                    if (foldingRanges && foldingRegionPromise === this.foldingRegionPromise) {
                        let scrollState;
                        if (this._foldingImportsByDefault && !this._currentModelHasFoldedImports) {
                            const hasChanges = foldingRanges.setCollapsedAllOfType($goPht.FoldingRangeKind.Imports.value, true);
                            if (hasChanges) {
                                scrollState = $78AWm.StableEditorScrollState.capture(this.editor);
                                this._currentModelHasFoldedImports = hasChanges;
                            }
                        }
                        // some cursors might have moved into hidden regions, make sure they are in expanded regions
                        let selections = this.editor.getSelections();
                        let selectionLineNumbers = selections ? selections.map((s)=>s.startLineNumber
                        ) : [];
                        foldingModel.update(foldingRanges, selectionLineNumbers);
                        if (scrollState) scrollState.restore(this.editor);
                    }
                    return foldingModel;
                });
            }).then(undefined, (err)=>{
                $3FsT3.onUnexpectedError(err);
                return null;
            });
        }
    }
    onHiddenRangesChanges(hiddenRanges) {
        if (this.hiddenRangeModel && hiddenRanges.length && !this._restoringViewState) {
            let selections = this.editor.getSelections();
            if (selections) {
                if (this.hiddenRangeModel.adjustSelections(selections)) this.editor.setSelections(selections);
            }
        }
        this.editor.setHiddenAreas(hiddenRanges);
    }
    onCursorPositionChanged() {
        if (this.hiddenRangeModel && this.hiddenRangeModel.hasRanges()) this.cursorChangedScheduler.schedule();
    }
    revealCursor() {
        const foldingModel3 = this.getFoldingModel();
        if (!foldingModel3) return;
        foldingModel3.then((foldingModel)=>{
            if (foldingModel) {
                let selections = this.editor.getSelections();
                if (selections && selections.length > 0) {
                    let toToggle = [];
                    for (let selection of selections){
                        let lineNumber = selection.selectionStartLineNumber;
                        if (this.hiddenRangeModel && this.hiddenRangeModel.isHidden(lineNumber)) toToggle.push(...foldingModel.getAllRegionsAtLine(lineNumber, (r)=>r.isCollapsed && lineNumber > r.startLineNumber
                        ));
                    }
                    if (toToggle.length) {
                        foldingModel.toggleCollapseState(toToggle);
                        this.reveal(selections[0].getPosition());
                    }
                }
            }
        }).then(undefined, $3FsT3.onUnexpectedError);
    }
    onEditorMouseDown(e) {
        this.mouseDownInfo = null;
        if (!this.hiddenRangeModel || !e.target || !e.target.range) return;
        if (!e.event.leftButton && !e.event.middleButton) return;
        const range = e.target.range;
        let iconClicked = false;
        switch(e.target.type){
            case 4 /* GUTTER_LINE_DECORATIONS */ :
                const data = e.target.detail;
                const offsetLeftInGutter = e.target.element.offsetLeft;
                const gutterOffsetX = data.offsetX - offsetLeftInGutter;
                // const gutterOffsetX = data.offsetX - data.glyphMarginWidth - data.lineNumbersWidth - data.glyphMarginLeft;
                // TODO@joao TODO@alex TODO@martin this is such that we don't collide with dirty diff
                if (gutterOffsetX < 5) return;
                iconClicked = true;
                break;
            case 7 /* CONTENT_EMPTY */ :
                if (this._unfoldOnClickAfterEndOfLine && this.hiddenRangeModel.hasRanges()) {
                    const data = e.target.detail;
                    if (!data.isAfterLines) break;
                }
                return;
            case 6 /* CONTENT_TEXT */ :
                if (this.hiddenRangeModel.hasRanges()) {
                    let model = this.editor.getModel();
                    if (model && range.startColumn === model.getLineMaxColumn(range.startLineNumber)) break;
                }
                return;
            default:
                return;
        }
        this.mouseDownInfo = {
            lineNumber: range.startLineNumber,
            iconClicked: iconClicked
        };
    }
    onEditorMouseUp(e) {
        const foldingModel4 = this.getFoldingModel();
        if (!foldingModel4 || !this.mouseDownInfo || !e.target) return;
        let lineNumber = this.mouseDownInfo.lineNumber;
        let iconClicked = this.mouseDownInfo.iconClicked;
        let range = e.target.range;
        if (!range || range.startLineNumber !== lineNumber) return;
        if (iconClicked) {
            if (e.target.type !== 4 /* GUTTER_LINE_DECORATIONS */ ) return;
        } else {
            let model = this.editor.getModel();
            if (!model || range.startColumn !== model.getLineMaxColumn(lineNumber)) return;
        }
        foldingModel4.then((foldingModel)=>{
            if (foldingModel) {
                let region = foldingModel.getRegionAtLine(lineNumber);
                if (region && region.startLineNumber === lineNumber) {
                    let isCollapsed = region.isCollapsed;
                    if (iconClicked || isCollapsed) {
                        let surrounding = e.event.altKey;
                        let toToggle = [];
                        if (surrounding) {
                            let filter = (otherRegion)=>!otherRegion.containedBy(region) && !region.containedBy(otherRegion)
                            ;
                            let toMaybeToggle = foldingModel.getRegionsInside(null, filter);
                            for (const r of toMaybeToggle)if (r.isCollapsed) toToggle.push(r);
                            // if any surrounding regions are folded, unfold those. Otherwise, fold all surrounding
                            if (toToggle.length === 0) toToggle = toMaybeToggle;
                        } else {
                            let recursive = e.event.middleButton || e.event.shiftKey;
                            if (recursive) {
                                for (const r of foldingModel.getRegionsInside(region))if (r.isCollapsed === isCollapsed) toToggle.push(r);
                            }
                            // when recursive, first only collapse all children. If all are already folded or there are no children, also fold parent.
                            if (isCollapsed || !recursive || toToggle.length === 0) toToggle.push(region);
                        }
                        foldingModel.toggleCollapseState(toToggle);
                        this.reveal({
                            lineNumber: lineNumber,
                            column: 1
                        });
                    }
                }
            }
        }).then(undefined, $3FsT3.onUnexpectedError);
    }
    reveal(position) {
        this.editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */ );
    }
    constructor(editor, contextKeyService){
        super();
        this.contextKeyService = contextKeyService;
        this.localToDispose = this._register(new $6W1JA.DisposableStore());
        this.editor = editor;
        const options1 = this.editor.getOptions();
        this._isEnabled = options1.get(37 /* folding */ );
        this._useFoldingProviders = options1.get(38 /* foldingStrategy */ ) !== 'indentation';
        this._unfoldOnClickAfterEndOfLine = options1.get(41 /* unfoldOnClickAfterEndOfLine */ );
        this._restoringViewState = false;
        this._currentModelHasFoldedImports = false;
        this._foldingImportsByDefault = options1.get(40 /* foldingImportsByDefault */ );
        this.foldingModel = null;
        this.hiddenRangeModel = null;
        this.rangeProvider = null;
        this.foldingRegionPromise = null;
        this.foldingStateMemento = null;
        this.foldingModelPromise = null;
        this.updateScheduler = null;
        this.cursorChangedScheduler = null;
        this.mouseDownInfo = null;
        this.foldingDecorationProvider = new $3eed836b40d26c1c$export$efeea4b4f3021f6b(editor);
        this.foldingDecorationProvider.autoHideFoldingControls = options1.get(98 /* showFoldingControls */ ) === 'mouseover';
        this.foldingDecorationProvider.showFoldingHighlights = options1.get(39 /* foldingHighlight */ );
        this.foldingEnabled = $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED.bindTo(this.contextKeyService);
        this.foldingEnabled.set(this._isEnabled);
        this._register(this.editor.onDidChangeModel(()=>this.onModelChanged()
        ));
        this._register(this.editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(37 /* folding */ )) {
                this._isEnabled = this.editor.getOptions().get(37 /* folding */ );
                this.foldingEnabled.set(this._isEnabled);
                this.onModelChanged();
            }
            if (e.hasChanged(98 /* showFoldingControls */ ) || e.hasChanged(39 /* foldingHighlight */ )) {
                const options = this.editor.getOptions();
                this.foldingDecorationProvider.autoHideFoldingControls = options.get(98 /* showFoldingControls */ ) === 'mouseover';
                this.foldingDecorationProvider.showFoldingHighlights = options.get(39 /* foldingHighlight */ );
                this.triggerFoldingModelChanged();
            }
            if (e.hasChanged(38 /* foldingStrategy */ )) {
                this._useFoldingProviders = this.editor.getOptions().get(38 /* foldingStrategy */ ) !== 'indentation';
                this.onFoldingStrategyChanged();
            }
            if (e.hasChanged(41 /* unfoldOnClickAfterEndOfLine */ )) this._unfoldOnClickAfterEndOfLine = this.editor.getOptions().get(41 /* unfoldOnClickAfterEndOfLine */ );
            if (e.hasChanged(40 /* foldingImportsByDefault */ )) this._foldingImportsByDefault = this.editor.getOptions().get(40 /* foldingImportsByDefault */ );
        }));
        this.onModelChanged();
    }
};
$e9ce8f64be2d6024$export$5d4a7ec5ea2624d8.ID = 'editor.contrib.folding';
$e9ce8f64be2d6024$export$5d4a7ec5ea2624d8 = $e9ce8f64be2d6024$var$__decorate([
    $e9ce8f64be2d6024$var$__param(1, $h4kGX.IContextKeyService)
], $e9ce8f64be2d6024$export$5d4a7ec5ea2624d8);
class $e9ce8f64be2d6024$var$FoldingAction extends $g9Zlr.EditorAction {
    runEditorCommand(accessor, editor, args) {
        let foldingController = $e9ce8f64be2d6024$export$5d4a7ec5ea2624d8.get(editor);
        if (!foldingController) return;
        let foldingModelPromise = foldingController.getFoldingModel();
        if (foldingModelPromise) {
            this.reportTelemetry(accessor, editor);
            return foldingModelPromise.then((foldingModel)=>{
                if (foldingModel) {
                    this.invoke(foldingController, foldingModel, editor, args);
                    const selection = editor.getSelection();
                    if (selection) foldingController.reveal(selection.getStartPosition());
                }
            });
        }
    }
    getSelectedLines(editor) {
        let selections = editor.getSelections();
        return selections ? selections.map((s)=>s.startLineNumber
        ) : [];
    }
    getLineNumbers(args, editor) {
        if (args && args.selectionLines) return args.selectionLines.map((l)=>l + 1
        ); // to 0-bases line numbers
        return this.getSelectedLines(editor);
    }
    run(_accessor, _editor) {}
}
function $e9ce8f64be2d6024$var$foldingArgumentsConstraint(args) {
    if (!$erLC3.isUndefined(args)) {
        if (!$erLC3.isObject(args)) return false;
        const foldingArgs = args;
        if (!$erLC3.isUndefined(foldingArgs.levels) && !$erLC3.isNumber(foldingArgs.levels)) return false;
        if (!$erLC3.isUndefined(foldingArgs.direction) && !$erLC3.isString(foldingArgs.direction)) return false;
        if (!$erLC3.isUndefined(foldingArgs.selectionLines) && (!$erLC3.isArray(foldingArgs.selectionLines) || !foldingArgs.selectionLines.every($erLC3.isNumber))) return false;
    }
    return true;
}
class $e9ce8f64be2d6024$var$UnfoldAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor, args) {
        let levels = args && args.levels || 1;
        let lineNumbers = this.getLineNumbers(args, editor);
        if (args && args.direction === 'up') $59dac1f573999907$export$50a013aaf999fe15(foldingModel, false, levels, lineNumbers);
        else $59dac1f573999907$export$1ef41fe66cd8530(foldingModel, false, levels, lineNumbers);
    }
    constructor(){
        super({
            id: 'editor.unfold',
            label: $1WuVQ.localize('unfoldAction.label', "Unfold"),
            alias: 'Unfold',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3161 /* BracketRight */ ,
                mac: {
                    primary: 2649 /* BracketRight */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            description: {
                description: 'Unfold the content in the editor',
                args: [
                    {
                        name: 'Unfold editor argument',
                        description: `Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,
                        constraint: $e9ce8f64be2d6024$var$foldingArgumentsConstraint,
                        schema: {
                            'type': 'object',
                            'properties': {
                                'levels': {
                                    'type': 'number',
                                    'default': 1
                                },
                                'direction': {
                                    'type': 'string',
                                    'enum': [
                                        'up',
                                        'down'
                                    ],
                                    'default': 'down'
                                },
                                'selectionLines': {
                                    'type': 'array',
                                    'items': {
                                        'type': 'number'
                                    }
                                }
                            }
                        }
                    }
                ]
            }
        });
    }
}
class $e9ce8f64be2d6024$var$UnFoldRecursivelyAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor, _args) {
        $59dac1f573999907$export$1ef41fe66cd8530(foldingModel, false, Number.MAX_VALUE, this.getSelectedLines(editor));
    }
    constructor(){
        super({
            id: 'editor.unfoldRecursively',
            label: $1WuVQ.localize('unFoldRecursivelyAction.label', "Unfold Recursively"),
            alias: 'Unfold Recursively',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2137 /* BracketRight */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$FoldAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor, args) {
        let lineNumbers = this.getLineNumbers(args, editor);
        const levels = args && args.levels;
        const direction = args && args.direction;
        if (typeof levels !== 'number' && typeof direction !== 'string') // fold the region at the location or if already collapsed, the first uncollapsed parent instead.
        $59dac1f573999907$export$e1cae19974cbbf8b(foldingModel, true, lineNumbers);
        else if (direction === 'up') $59dac1f573999907$export$50a013aaf999fe15(foldingModel, true, levels || 1, lineNumbers);
        else $59dac1f573999907$export$1ef41fe66cd8530(foldingModel, true, levels || 1, lineNumbers);
    }
    constructor(){
        super({
            id: 'editor.fold',
            label: $1WuVQ.localize('foldAction.label', "Fold"),
            alias: 'Fold',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3159 /* BracketLeft */ ,
                mac: {
                    primary: 2647 /* BracketLeft */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            description: {
                description: 'Fold the content in the editor',
                args: [
                    {
                        name: 'Fold editor argument',
                        description: `Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,
                        constraint: $e9ce8f64be2d6024$var$foldingArgumentsConstraint,
                        schema: {
                            'type': 'object',
                            'properties': {
                                'levels': {
                                    'type': 'number'
                                },
                                'direction': {
                                    'type': 'string',
                                    'enum': [
                                        'up',
                                        'down'
                                    ]
                                },
                                'selectionLines': {
                                    'type': 'array',
                                    'items': {
                                        'type': 'number'
                                    }
                                }
                            }
                        }
                    }
                ]
            }
        });
    }
}
class $e9ce8f64be2d6024$var$ToggleFoldAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        let selectedLines = this.getSelectedLines(editor);
        $59dac1f573999907$export$6008f8f734d0336a(foldingModel, 1, selectedLines);
    }
    constructor(){
        super({
            id: 'editor.toggleFold',
            label: $1WuVQ.localize('toggleFoldAction.label', "Toggle Fold"),
            alias: 'Toggle Fold',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2090 /* KeyL */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$FoldRecursivelyAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        let selectedLines = this.getSelectedLines(editor);
        $59dac1f573999907$export$1ef41fe66cd8530(foldingModel, true, Number.MAX_VALUE, selectedLines);
    }
    constructor(){
        super({
            id: 'editor.foldRecursively',
            label: $1WuVQ.localize('foldRecursivelyAction.label', "Fold Recursively"),
            alias: 'Fold Recursively',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2135 /* BracketLeft */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$FoldAllBlockCommentsAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        if (foldingModel.regions.hasTypes()) $59dac1f573999907$export$ce3950edac996729(foldingModel, $goPht.FoldingRangeKind.Comment.value, true);
        else {
            const editorModel = editor.getModel();
            if (!editorModel) return;
            const comments = $ahykL.LanguageConfigurationRegistry.getComments(editorModel.getLanguageId());
            if (comments && comments.blockCommentStartToken) {
                let regExp = new RegExp('^\\s*' + $i4xl7.escapeRegExpCharacters(comments.blockCommentStartToken));
                $59dac1f573999907$export$acbcc757d0e877b(foldingModel, regExp, true);
            }
        }
    }
    constructor(){
        super({
            id: 'editor.foldAllBlockComments',
            label: $1WuVQ.localize('foldAllBlockComments.label', "Fold All Block Comments"),
            alias: 'Fold All Block Comments',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2133 /* Slash */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$FoldAllRegionsAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        if (foldingModel.regions.hasTypes()) $59dac1f573999907$export$ce3950edac996729(foldingModel, $goPht.FoldingRangeKind.Region.value, true);
        else {
            const editorModel = editor.getModel();
            if (!editorModel) return;
            const foldingRules = $ahykL.LanguageConfigurationRegistry.getFoldingRules(editorModel.getLanguageId());
            if (foldingRules && foldingRules.markers && foldingRules.markers.start) {
                let regExp = new RegExp(foldingRules.markers.start);
                $59dac1f573999907$export$acbcc757d0e877b(foldingModel, regExp, true);
            }
        }
    }
    constructor(){
        super({
            id: 'editor.foldAllMarkerRegions',
            label: $1WuVQ.localize('foldAllMarkerRegions.label', "Fold All Regions"),
            alias: 'Fold All Regions',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2077 /* Digit8 */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$UnfoldAllRegionsAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        if (foldingModel.regions.hasTypes()) $59dac1f573999907$export$ce3950edac996729(foldingModel, $goPht.FoldingRangeKind.Region.value, false);
        else {
            const editorModel = editor.getModel();
            if (!editorModel) return;
            const foldingRules = $ahykL.LanguageConfigurationRegistry.getFoldingRules(editorModel.getLanguageId());
            if (foldingRules && foldingRules.markers && foldingRules.markers.start) {
                let regExp = new RegExp(foldingRules.markers.start);
                $59dac1f573999907$export$acbcc757d0e877b(foldingModel, regExp, false);
            }
        }
    }
    constructor(){
        super({
            id: 'editor.unfoldAllMarkerRegions',
            label: $1WuVQ.localize('unfoldAllMarkerRegions.label', "Unfold All Regions"),
            alias: 'Unfold All Regions',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2078 /* Digit9 */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$FoldAllRegionsExceptAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        let selectedLines = this.getSelectedLines(editor);
        $59dac1f573999907$export$13292d9dd11d6b4f(foldingModel, true, selectedLines);
    }
    constructor(){
        super({
            id: 'editor.foldAllExcept',
            label: $1WuVQ.localize('foldAllExcept.label', "Fold All Regions Except Selected"),
            alias: 'Fold All Regions Except Selected',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2131 /* Minus */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$UnfoldAllRegionsExceptAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        let selectedLines = this.getSelectedLines(editor);
        $59dac1f573999907$export$13292d9dd11d6b4f(foldingModel, false, selectedLines);
    }
    constructor(){
        super({
            id: 'editor.unfoldAllExcept',
            label: $1WuVQ.localize('unfoldAllExcept.label', "Unfold All Regions Except Selected"),
            alias: 'Unfold All Regions Except Selected',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2129 /* Equal */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$FoldAllAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, _editor) {
        $59dac1f573999907$export$1ef41fe66cd8530(foldingModel, true);
    }
    constructor(){
        super({
            id: 'editor.foldAll',
            label: $1WuVQ.localize('foldAllAction.label', "Fold All"),
            alias: 'Fold All',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2069 /* Digit0 */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$UnfoldAllAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, _editor) {
        $59dac1f573999907$export$1ef41fe66cd8530(foldingModel, false);
    }
    constructor(){
        super({
            id: 'editor.unfoldAll',
            label: $1WuVQ.localize('unfoldAllAction.label', "Unfold All"),
            alias: 'Unfold All',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2088 /* KeyJ */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9ce8f64be2d6024$var$FoldLevelAction extends $e9ce8f64be2d6024$var$FoldingAction {
    getFoldingLevel() {
        return parseInt(this.id.substr($e9ce8f64be2d6024$var$FoldLevelAction.ID_PREFIX.length));
    }
    invoke(_foldingController, foldingModel, editor) {
        $59dac1f573999907$export$3f9d91c844738bc6(foldingModel, this.getFoldingLevel(), true, this.getSelectedLines(editor));
    }
}
$e9ce8f64be2d6024$var$FoldLevelAction.ID_PREFIX = 'editor.foldLevel';
$e9ce8f64be2d6024$var$FoldLevelAction.ID = (level)=>$e9ce8f64be2d6024$var$FoldLevelAction.ID_PREFIX + level
;
/** Action to go to the parent fold of current line */ class $e9ce8f64be2d6024$var$GotoParentFoldAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        let selectedLines = this.getSelectedLines(editor);
        if (selectedLines.length > 0) {
            let startLineNumber = $59dac1f573999907$export$19eab21a9895dbc4(selectedLines[0], foldingModel);
            if (startLineNumber !== null) editor.setSelection({
                startLineNumber: startLineNumber,
                startColumn: 1,
                endLineNumber: startLineNumber,
                endColumn: 1
            });
        }
    }
    constructor(){
        super({
            id: 'editor.gotoParentFold',
            label: $1WuVQ.localize('gotoParentFold.label', "Go to Parent Fold"),
            alias: 'Go to Parent Fold',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
/** Action to go to the previous fold of current line */ class $e9ce8f64be2d6024$var$GotoPreviousFoldAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        let selectedLines = this.getSelectedLines(editor);
        if (selectedLines.length > 0) {
            let startLineNumber = $59dac1f573999907$export$9e804e9f47adba4e(selectedLines[0], foldingModel);
            if (startLineNumber !== null) editor.setSelection({
                startLineNumber: startLineNumber,
                startColumn: 1,
                endLineNumber: startLineNumber,
                endColumn: 1
            });
        }
    }
    constructor(){
        super({
            id: 'editor.gotoPreviousFold',
            label: $1WuVQ.localize('gotoPreviousFold.label', "Go to Previous Folding Range"),
            alias: 'Go to Previous Folding Range',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
/** Action to go to the next fold of current line */ class $e9ce8f64be2d6024$var$GotoNextFoldAction extends $e9ce8f64be2d6024$var$FoldingAction {
    invoke(_foldingController, foldingModel, editor) {
        let selectedLines = this.getSelectedLines(editor);
        if (selectedLines.length > 0) {
            let startLineNumber = $59dac1f573999907$export$3164a73fda220264(selectedLines[0], foldingModel);
            if (startLineNumber !== null) editor.setSelection({
                startLineNumber: startLineNumber,
                startColumn: 1,
                endLineNumber: startLineNumber,
                endColumn: 1
            });
        }
    }
    constructor(){
        super({
            id: 'editor.gotoNextFold',
            label: $1WuVQ.localize('gotoNextFold.label', "Go to Next Folding Range"),
            alias: 'Go to Next Folding Range',
            precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorContribution($e9ce8f64be2d6024$export$5d4a7ec5ea2624d8.ID, $e9ce8f64be2d6024$export$5d4a7ec5ea2624d8);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$UnfoldAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$UnFoldRecursivelyAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$FoldAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$FoldRecursivelyAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$FoldAllAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$UnfoldAllAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$FoldAllBlockCommentsAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$FoldAllRegionsAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$UnfoldAllRegionsAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$FoldAllRegionsExceptAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$UnfoldAllRegionsExceptAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$ToggleFoldAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$GotoParentFoldAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$GotoPreviousFoldAction);
$g9Zlr.registerEditorAction($e9ce8f64be2d6024$var$GotoNextFoldAction);
for(let i = 1; i <= 7; i++)$g9Zlr.registerInstantiatedEditorAction(new $e9ce8f64be2d6024$var$FoldLevelAction({
    id: $e9ce8f64be2d6024$var$FoldLevelAction.ID(i),
    label: $1WuVQ.localize('foldLevelAction.label', "Fold Level {0}", i),
    alias: `Fold Level ${i}`,
    precondition: $e9ce8f64be2d6024$var$CONTEXT_FOLDING_ENABLED,
    kbOpts: {
        kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
        primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2048 /* CtrlCmd */  | 21 /* Digit0 */  + i),
        weight: 100 /* EditorContrib */ 
    }
}));
const $e9ce8f64be2d6024$export$ed7a24ff104b487d = $kL4Ig.registerColor('editor.foldBackground', {
    light: $kL4Ig.transparent($kL4Ig.editorSelectionBackground, 0.3),
    dark: $kL4Ig.transparent($kL4Ig.editorSelectionBackground, 0.3),
    hc: null
}, $1WuVQ.localize('foldBackgroundBackground', "Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."), true);
const $e9ce8f64be2d6024$export$6151789bef279b02 = $kL4Ig.registerColor('editorGutter.foldingControlForeground', {
    dark: $kL4Ig.iconForeground,
    light: $kL4Ig.iconForeground,
    hc: $kL4Ig.iconForeground
}, $1WuVQ.localize('editorGutter.foldingControlForeground', 'Color of the folding control in the editor gutter.'));
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const foldBackground = theme.getColor($e9ce8f64be2d6024$export$ed7a24ff104b487d);
    if (foldBackground) collector.addRule(`.monaco-editor .folded-background { background-color: ${foldBackground}; }`);
    const editorFoldColor = theme.getColor($e9ce8f64be2d6024$export$6151789bef279b02);
    if (editorFoldColor) collector.addRule(`
		.monaco-editor .cldr${$5Wwop.ThemeIcon.asCSSSelector($3eed836b40d26c1c$export$885051cbe6b7e954)},
		.monaco-editor .cldr${$5Wwop.ThemeIcon.asCSSSelector($3eed836b40d26c1c$export$91aea75f1008558b)} {
			color: ${editorFoldColor} !important;
		}
		`);
});



var $g9Zlr = parcelRequire("g9Zlr");

var $4ebfL = parcelRequire("4ebfL");

var $1WuVQ = parcelRequire("1WuVQ");
class $20f241f0aa5a0ac6$var$EditorFontZoomIn extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        $4ebfL.EditorZoom.setZoomLevel($4ebfL.EditorZoom.getZoomLevel() + 1);
    }
    constructor(){
        super({
            id: 'editor.action.fontZoomIn',
            label: $1WuVQ.localize('EditorFontZoomIn.label', "Editor Font Zoom In"),
            alias: 'Editor Font Zoom In',
            precondition: undefined
        });
    }
}
class $20f241f0aa5a0ac6$var$EditorFontZoomOut extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        $4ebfL.EditorZoom.setZoomLevel($4ebfL.EditorZoom.getZoomLevel() - 1);
    }
    constructor(){
        super({
            id: 'editor.action.fontZoomOut',
            label: $1WuVQ.localize('EditorFontZoomOut.label', "Editor Font Zoom Out"),
            alias: 'Editor Font Zoom Out',
            precondition: undefined
        });
    }
}
class $20f241f0aa5a0ac6$var$EditorFontZoomReset extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        $4ebfL.EditorZoom.setZoomLevel(0);
    }
    constructor(){
        super({
            id: 'editor.action.fontZoomReset',
            label: $1WuVQ.localize('EditorFontZoomReset.label', "Editor Font Zoom Reset"),
            alias: 'Editor Font Zoom Reset',
            precondition: undefined
        });
    }
}
$g9Zlr.registerEditorAction($20f241f0aa5a0ac6$var$EditorFontZoomIn);
$g9Zlr.registerEditorAction($20f241f0aa5a0ac6$var$EditorFontZoomOut);
$g9Zlr.registerEditorAction($20f241f0aa5a0ac6$var$EditorFontZoomReset);


var $520017ab1ef66f53$exports = {};

var $duSG1 = parcelRequire("duSG1");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $ecpYn = parcelRequire("ecpYn");

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");

var $dCvSz = parcelRequire("dCvSz");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");

var $goPht = parcelRequire("goPht");

var $5GWmu = parcelRequire("5GWmu");

var $1uiWS = parcelRequire("1uiWS");

var $6FP16 = parcelRequire("6FP16");

var $1WuVQ = parcelRequire("1WuVQ");

var $c0VS7 = parcelRequire("c0VS7");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $5IX4y = parcelRequire("5IX4y");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $520017ab1ef66f53$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $520017ab1ef66f53$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $520017ab1ef66f53$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
let $520017ab1ef66f53$var$FormatOnType = class FormatOnType {
    dispose() {
        this._callOnDispose.dispose();
        this._callOnModel.dispose();
    }
    _update() {
        // clean up
        this._callOnModel.clear();
        // we are disabled
        if (!this._editor.getOption(48 /* formatOnType */ )) return;
        // no model
        if (!this._editor.hasModel()) return;
        const model = this._editor.getModel();
        // no support
        const [support] = $goPht.OnTypeFormattingEditProviderRegistry.ordered(model);
        if (!support || !support.autoFormatTriggerCharacters) return;
        // register typing listeners that will trigger the format
        let triggerChars = new $dCvSz.CharacterSet();
        for (let ch of support.autoFormatTriggerCharacters)triggerChars.add(ch.charCodeAt(0));
        this._callOnModel.add(this._editor.onDidType((text)=>{
            let lastCharCode = text.charCodeAt(text.length - 1);
            if (triggerChars.has(lastCharCode)) this._trigger(String.fromCharCode(lastCharCode));
        }));
    }
    _trigger(ch) {
        if (!this._editor.hasModel()) return;
        if (this._editor.getSelections().length > 1 || !this._editor.getSelection().isEmpty()) return;
        const model = this._editor.getModel();
        const position = this._editor.getPosition();
        let canceled = false;
        // install a listener that checks if edits happens before the
        // position on which we format right now. If so, we won't
        // apply the format edits
        const unbind = this._editor.onDidChangeModelContent((e)=>{
            if (e.isFlush) {
                // a model.setValue() was called
                // cancel only once
                canceled = true;
                unbind.dispose();
                return;
            }
            for(let i = 0, len = e.changes.length; i < len; i++){
                const change = e.changes[i];
                if (change.range.endLineNumber <= position.lineNumber) {
                    // cancel only once
                    canceled = true;
                    unbind.dispose();
                    return;
                }
            }
        });
        $1uiWS.getOnTypeFormattingEdits(this._workerService, model, position, ch, model.getFormattingOptions()).then((edits)=>{
            unbind.dispose();
            if (canceled) return;
            if ($duSG1.isNonEmptyArray(edits)) {
                $6FP16.FormattingEdit.execute(this._editor, edits, true);
                $1uiWS.alertFormattingEdits(edits);
            }
        }, (err)=>{
            unbind.dispose();
            throw err;
        });
    }
    constructor(editor, _workerService){
        this._workerService = _workerService;
        this._callOnDispose = new $6W1JA.DisposableStore();
        this._callOnModel = new $6W1JA.DisposableStore();
        this._editor = editor;
        this._callOnDispose.add(editor.onDidChangeConfiguration(()=>this._update()
        ));
        this._callOnDispose.add(editor.onDidChangeModel(()=>this._update()
        ));
        this._callOnDispose.add(editor.onDidChangeModelLanguage(()=>this._update()
        ));
        this._callOnDispose.add($goPht.OnTypeFormattingEditProviderRegistry.onDidChange(this._update, this));
    }
};
$520017ab1ef66f53$var$FormatOnType.ID = 'editor.contrib.autoFormat';
$520017ab1ef66f53$var$FormatOnType = $520017ab1ef66f53$var$__decorate([
    $520017ab1ef66f53$var$__param(1, $5GWmu.IEditorWorkerService)
], $520017ab1ef66f53$var$FormatOnType);
let $520017ab1ef66f53$var$FormatOnPaste = class FormatOnPaste {
    dispose() {
        this._callOnDispose.dispose();
        this._callOnModel.dispose();
    }
    _update() {
        // clean up
        this._callOnModel.clear();
        // we are disabled
        if (!this.editor.getOption(47 /* formatOnPaste */ )) return;
        // no model
        if (!this.editor.hasModel()) return;
        // no formatter
        if (!$goPht.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())) return;
        this._callOnModel.add(this.editor.onDidPaste(({ range: range  })=>this._trigger(range)
        ));
    }
    _trigger(range) {
        if (!this.editor.hasModel()) return;
        if (this.editor.getSelections().length > 1) return;
        this._instantiationService.invokeFunction($1uiWS.formatDocumentRangesWithSelectedProvider, this.editor, range, 2 /* Silent */ , $5IX4y.Progress.None, $1vhHo.CancellationToken.None).catch($3FsT3.onUnexpectedError);
    }
    constructor(editor, _instantiationService){
        this.editor = editor;
        this._instantiationService = _instantiationService;
        this._callOnDispose = new $6W1JA.DisposableStore();
        this._callOnModel = new $6W1JA.DisposableStore();
        this._callOnDispose.add(editor.onDidChangeConfiguration(()=>this._update()
        ));
        this._callOnDispose.add(editor.onDidChangeModel(()=>this._update()
        ));
        this._callOnDispose.add(editor.onDidChangeModelLanguage(()=>this._update()
        ));
        this._callOnDispose.add($goPht.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update, this));
    }
};
$520017ab1ef66f53$var$FormatOnPaste.ID = 'editor.contrib.formatOnPaste';
$520017ab1ef66f53$var$FormatOnPaste = $520017ab1ef66f53$var$__decorate([
    $520017ab1ef66f53$var$__param(1, $6Xx7t.IInstantiationService)
], $520017ab1ef66f53$var$FormatOnPaste);
class $520017ab1ef66f53$var$FormatDocumentAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $520017ab1ef66f53$var$__awaiter(this, void 0, void 0, function*() {
            if (editor.hasModel()) {
                const instaService = accessor.get($6Xx7t.IInstantiationService);
                const progressService = accessor.get($5IX4y.IEditorProgressService);
                yield progressService.showWhile(instaService.invokeFunction($1uiWS.formatDocumentWithSelectedProvider, editor, 1 /* Explicit */ , $5IX4y.Progress.None, $1vhHo.CancellationToken.None), 250);
            }
        });
    }
    constructor(){
        super({
            id: 'editor.action.formatDocument',
            label: $1WuVQ.localize('formatDocument.label', "Format Document"),
            alias: 'Format Document',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.notInCompositeEditor, $7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasDocumentFormattingProvider),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1572 /* KeyF */ ,
                linux: {
                    primary: 3111 /* KeyI */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: '1_modification',
                order: 1.3
            }
        });
    }
}
class $520017ab1ef66f53$var$FormatSelectionAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        return $520017ab1ef66f53$var$__awaiter(this, void 0, void 0, function*() {
            if (!editor.hasModel()) return;
            const instaService = accessor.get($6Xx7t.IInstantiationService);
            const model = editor.getModel();
            const ranges = editor.getSelections().map((range)=>{
                return range.isEmpty() ? new $1YFxJ.Range(range.startLineNumber, 1, range.startLineNumber, model.getLineMaxColumn(range.startLineNumber)) : range;
            });
            const progressService = accessor.get($5IX4y.IEditorProgressService);
            yield progressService.showWhile(instaService.invokeFunction($1uiWS.formatDocumentRangesWithSelectedProvider, editor, ranges, 1 /* Explicit */ , $5IX4y.Progress.None, $1vhHo.CancellationToken.None), 250);
        });
    }
    constructor(){
        super({
            id: 'editor.action.formatSelection',
            label: $1WuVQ.localize('formatSelection.label', "Format Selection"),
            alias: 'Format Selection',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasDocumentSelectionFormattingProvider),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2084 /* KeyF */ ),
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                when: $7oeKV.EditorContextKeys.hasNonEmptySelection,
                group: '1_modification',
                order: 1.31
            }
        });
    }
}
$g9Zlr.registerEditorContribution($520017ab1ef66f53$var$FormatOnType.ID, $520017ab1ef66f53$var$FormatOnType);
$g9Zlr.registerEditorContribution($520017ab1ef66f53$var$FormatOnPaste.ID, $520017ab1ef66f53$var$FormatOnPaste);
$g9Zlr.registerEditorAction($520017ab1ef66f53$var$FormatDocumentAction);
$g9Zlr.registerEditorAction($520017ab1ef66f53$var$FormatSelectionAction);
// this is the old format action that does both (format document OR format selection)
// and we keep it here such that existing keybinding configurations etc will still work
$c0VS7.CommandsRegistry.registerCommand('editor.action.format', (accessor)=>$520017ab1ef66f53$var$__awaiter(void 0, void 0, void 0, function*() {
        const editor = accessor.get($7lWR1.ICodeEditorService).getFocusedCodeEditor();
        if (!editor || !editor.hasModel()) return;
        const commandService = accessor.get($c0VS7.ICommandService);
        if (editor.getSelection().isEmpty()) yield commandService.executeCommand('editor.action.formatDocument');
        else yield commandService.executeCommand('editor.action.formatSelection');
    })
);


var $9ea751a9357d43b5$exports = {};

var $1vhHo = parcelRequire("1vhHo");

var $erLC3 = parcelRequire("erLC3");

var $bUZVY = parcelRequire("bUZVY");

var $75At3 = parcelRequire("75At3");

var $ftViW = parcelRequire("ftViW");

var $duSG1 = parcelRequire("duSG1");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $b4ddN = parcelRequire("b4ddN");

var $dNpei = parcelRequire("dNpei");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $9Vnse = parcelRequire("9Vnse");
class $d39451afab9e98b1$export$3d0d7bb22e2f1e43 {
    remove() {
        if (this.parent) this.parent.children.delete(this.id);
    }
    static findId(candidate, container) {
        // complex id-computation which contains the origin/extension,
        // the parent path, and some dedupe logic when names collide
        let candidateId;
        if (typeof candidate === 'string') candidateId = `${container.id}/${candidate}`;
        else {
            candidateId = `${container.id}/${candidate.name}`;
            if (container.children.get(candidateId) !== undefined) candidateId = `${container.id}/${candidate.name}_${candidate.range.startLineNumber}_${candidate.range.startColumn}`;
        }
        let id = candidateId;
        for(let i = 0; container.children.get(id) !== undefined; i++)id = `${candidateId}_${i}`;
        return id;
    }
    static empty(element) {
        return element.children.size === 0;
    }
}
class $d39451afab9e98b1$export$116fbcc3cc8d593 extends $d39451afab9e98b1$export$3d0d7bb22e2f1e43 {
    constructor(id, parent, symbol){
        super();
        this.id = id;
        this.parent = parent;
        this.symbol = symbol;
        this.children = new Map();
    }
}
class $d39451afab9e98b1$export$7979c5ef85019928 extends $d39451afab9e98b1$export$3d0d7bb22e2f1e43 {
    constructor(id, parent, label, order){
        super();
        this.id = id;
        this.parent = parent;
        this.label = label;
        this.order = order;
        this.children = new Map();
    }
}
class $d39451afab9e98b1$export$23911836525ed42c extends $d39451afab9e98b1$export$3d0d7bb22e2f1e43 {
    static create(textModel, token) {
        let key = this._keys.for(textModel, true);
        let data = $d39451afab9e98b1$export$23911836525ed42c._requests.get(key);
        if (!data) {
            let source = new $1vhHo.CancellationTokenSource();
            data = {
                promiseCnt: 0,
                source: source,
                promise: $d39451afab9e98b1$export$23911836525ed42c._create(textModel, source.token),
                model: undefined
            };
            $d39451afab9e98b1$export$23911836525ed42c._requests.set(key, data);
            // keep moving average of request durations
            const now = Date.now();
            data.promise.then(()=>{
                this._requestDurations.update(textModel, Date.now() - now);
            });
        }
        if (data.model) // resolved -> return data
        return Promise.resolve(data.model);
        // increase usage counter
        data.promiseCnt += 1;
        token.onCancellationRequested(()=>{
            // last -> cancel provider request, remove cached promise
            if (--data.promiseCnt === 0) {
                data.source.cancel();
                $d39451afab9e98b1$export$23911836525ed42c._requests.delete(key);
            }
        });
        return new Promise((resolve, reject)=>{
            data.promise.then((model)=>{
                data.model = model;
                resolve(model);
            }, (err)=>{
                $d39451afab9e98b1$export$23911836525ed42c._requests.delete(key);
                reject(err);
            });
        });
    }
    static _create(textModel, token) {
        const cts = new $1vhHo.CancellationTokenSource(token);
        const result1 = new $d39451afab9e98b1$export$23911836525ed42c(textModel.uri);
        const provider1 = $goPht.DocumentSymbolProviderRegistry.ordered(textModel);
        const promises = provider1.map((provider, index)=>{
            var _a;
            let id = $d39451afab9e98b1$export$3d0d7bb22e2f1e43.findId(`provider_${index}`, result1);
            let group1 = new $d39451afab9e98b1$export$7979c5ef85019928(id, result1, (_a = provider.displayName) !== null && _a !== void 0 ? _a : 'Unknown Outline Provider', index);
            return Promise.resolve(provider.provideDocumentSymbols(textModel, cts.token)).then((result)=>{
                for (const info of result || [])$d39451afab9e98b1$export$23911836525ed42c._makeOutlineElement(info, group1);
                return group1;
            }, (err)=>{
                $3FsT3.onUnexpectedExternalError(err);
                return group1;
            }).then((group)=>{
                if (!$d39451afab9e98b1$export$3d0d7bb22e2f1e43.empty(group)) result1._groups.set(id, group);
                else group.remove();
            });
        });
        const listener = $goPht.DocumentSymbolProviderRegistry.onDidChange(()=>{
            const newProvider = $goPht.DocumentSymbolProviderRegistry.ordered(textModel);
            if (!$duSG1.equals(newProvider, provider1)) cts.cancel();
        });
        return Promise.all(promises).then(()=>{
            if (cts.token.isCancellationRequested && !token.isCancellationRequested) return $d39451afab9e98b1$export$23911836525ed42c._create(textModel, token);
            else return result1._compact();
        }).finally(()=>{
            listener.dispose();
        });
    }
    static _makeOutlineElement(info, container) {
        let id = $d39451afab9e98b1$export$3d0d7bb22e2f1e43.findId(info, container);
        let res = new $d39451afab9e98b1$export$116fbcc3cc8d593(id, container, info);
        if (info.children) for (const childInfo of info.children)$d39451afab9e98b1$export$23911836525ed42c._makeOutlineElement(childInfo, res);
        container.children.set(res.id, res);
    }
    _compact() {
        let count = 0;
        for (const [key, group] of this._groups)if (group.children.size === 0) this._groups.delete(key);
        else count += 1;
        if (count !== 1) //
        this.children = this._groups;
        else {
            // adopt all elements of the first group
            let group = $b4ddN.Iterable.first(this._groups.values());
            for (let [, child] of group.children){
                child.parent = this;
                this.children.set(child.id, child);
            }
        }
        return this;
    }
    getTopLevelSymbols() {
        const roots = [];
        for (const child1 of this.children.values())if (child1 instanceof $d39451afab9e98b1$export$116fbcc3cc8d593) roots.push(child1.symbol);
        else roots.push(...$b4ddN.Iterable.map(child1.children.values(), (child)=>child.symbol
        ));
        return roots.sort((a, b)=>$1YFxJ.Range.compareRangesUsingStarts(a.range, b.range)
        );
    }
    asListOfDocumentSymbols() {
        const roots = this.getTopLevelSymbols();
        const bucket = [];
        $d39451afab9e98b1$export$23911836525ed42c._flattenDocumentSymbols(bucket, roots, '');
        return bucket.sort((a, b)=>$1YFxJ.Range.compareRangesUsingStarts(a.range, b.range)
        );
    }
    static _flattenDocumentSymbols(bucket, entries, overrideContainerLabel) {
        for (const entry of entries){
            bucket.push({
                kind: entry.kind,
                tags: entry.tags,
                name: entry.name,
                detail: entry.detail,
                containerName: entry.containerName || overrideContainerLabel,
                range: entry.range,
                selectionRange: entry.selectionRange,
                children: undefined
            });
            // Recurse over children
            if (entry.children) $d39451afab9e98b1$export$23911836525ed42c._flattenDocumentSymbols(bucket, entry.children, entry.name);
        }
    }
    constructor(uri){
        super();
        this.uri = uri;
        this.id = 'root';
        this.parent = undefined;
        this._groups = new Map();
        this.children = new Map();
        this.id = 'root';
        this.parent = undefined;
    }
}
$d39451afab9e98b1$export$23911836525ed42c._requestDurations = new $9Vnse.LanguageFeatureRequestDelays($goPht.DocumentSymbolProviderRegistry, 350);
$d39451afab9e98b1$export$23911836525ed42c._requests = new $dNpei.LRUCache(9, 0.75);
$d39451afab9e98b1$export$23911836525ed42c._keys = new class {
    for(textModel, version) {
        return `${textModel.id}/${version ? textModel.getVersionId() : ''}/${this._hash($goPht.DocumentSymbolProviderRegistry.all(textModel))}`;
    }
    _hash(providers) {
        let result = '';
        for (const provider of providers){
            let n = this._data.get(provider);
            if (typeof n === 'undefined') {
                n = this._counter++;
                this._data.set(provider, n);
            }
            result += n;
        }
        return result;
    }
    constructor(){
        this._counter = 1;
        this._data = new WeakMap();
    }
};



var $c0VS7 = parcelRequire("c0VS7");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $9ea751a9357d43b5$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
function $9ea751a9357d43b5$export$3f84b717c20d8445(document, flat, token) {
    return $9ea751a9357d43b5$var$__awaiter(this, void 0, void 0, function*() {
        const model = yield $d39451afab9e98b1$export$23911836525ed42c.create(document, token);
        return flat ? model.asListOfDocumentSymbols() : model.getTopLevelSymbols();
    });
}
$c0VS7.CommandsRegistry.registerCommand('_executeDocumentSymbolProvider', function(accessor, ...args) {
    return $9ea751a9357d43b5$var$__awaiter(this, void 0, void 0, function*() {
        const [resource] = args;
        $erLC3.assertType($bUZVY.URI.isUri(resource));
        const model = accessor.get($75At3.IModelService).getModel(resource);
        if (model) return $9ea751a9357d43b5$export$3f84b717c20d8445(model, false, $1vhHo.CancellationToken.None);
        const reference = yield accessor.get($ftViW.ITextModelService).createModelReference(resource);
        try {
            return yield $9ea751a9357d43b5$export$3f84b717c20d8445(reference.object.textEditorModel, false, $1vhHo.CancellationToken.None);
        } finally{
            reference.dispose();
        }
    });
});








var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $g9Zlr = parcelRequire("g9Zlr");

var $2gJaM = parcelRequire("2gJaM");

var $EQImd = parcelRequire("EQImd");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");

var $72tIz = parcelRequire("72tIz");

var $ahykL = parcelRequire("ahykL");

var $75At3 = parcelRequire("75At3");
function $b302c65ec20257bf$export$e83f2438bfbc9f9b(str, tabSize) {
    let spacesCnt = 0;
    for(let i = 0; i < str.length; i++)if (str.charAt(i) === '\t') spacesCnt += tabSize;
    else spacesCnt++;
    return spacesCnt;
}
function $b302c65ec20257bf$export$f2011d4fc9157d6f(spacesCnt, tabSize, insertSpaces) {
    spacesCnt = spacesCnt < 0 ? 0 : spacesCnt;
    let result = '';
    if (!insertSpaces) {
        let tabsCnt = Math.floor(spacesCnt / tabSize);
        spacesCnt = spacesCnt % tabSize;
        for(let i = 0; i < tabsCnt; i++)result += '\t';
    }
    for(let i = 0; i < spacesCnt; i++)result += ' ';
    return result;
}



var $1WuVQ = parcelRequire("1WuVQ");

var $1GAzQ = parcelRequire("1GAzQ");
function $02466a888fe18125$export$b3e439d1bd7f9479(model, startLineNumber, endLineNumber, inheritedIndent) {
    if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) // Model is empty
    return [];
    const indentationRules = $ahykL.LanguageConfigurationRegistry.getIndentationRules(model.getLanguageId());
    if (!indentationRules) return [];
    endLineNumber = Math.min(endLineNumber, model.getLineCount());
    // Skip `unIndentedLinePattern` lines
    while(startLineNumber <= endLineNumber){
        if (!indentationRules.unIndentedLinePattern) break;
        let text = model.getLineContent(startLineNumber);
        if (!indentationRules.unIndentedLinePattern.test(text)) break;
        startLineNumber++;
    }
    if (startLineNumber > endLineNumber - 1) return [];
    const { tabSize: tabSize , indentSize: indentSize , insertSpaces: insertSpaces  } = model.getOptions();
    const shiftIndent = (indentation, count)=>{
        count = count || 1;
        return $2gJaM.ShiftCommand.shiftIndent(indentation, indentation.length + count, tabSize, indentSize, insertSpaces);
    };
    const unshiftIndent = (indentation, count)=>{
        count = count || 1;
        return $2gJaM.ShiftCommand.unshiftIndent(indentation, indentation.length + count, tabSize, indentSize, insertSpaces);
    };
    let indentEdits = [];
    // indentation being passed to lines below
    let globalIndent;
    // Calculate indentation for the first line
    // If there is no passed-in indentation, we use the indentation of the first line as base.
    let currentLineText = model.getLineContent(startLineNumber);
    let adjustedLineContent = currentLineText;
    if (inheritedIndent !== undefined && inheritedIndent !== null) {
        globalIndent = inheritedIndent;
        let oldIndentation = $i4xl7.getLeadingWhitespace(currentLineText);
        adjustedLineContent = globalIndent + currentLineText.substring(oldIndentation.length);
        if (indentationRules.decreaseIndentPattern && indentationRules.decreaseIndentPattern.test(adjustedLineContent)) {
            globalIndent = unshiftIndent(globalIndent);
            adjustedLineContent = globalIndent + currentLineText.substring(oldIndentation.length);
        }
        if (currentLineText !== adjustedLineContent) indentEdits.push($EQImd.EditOperation.replaceMove(new $jS6at.Selection(startLineNumber, 1, startLineNumber, oldIndentation.length + 1), $72tIz.TextModel.normalizeIndentation(globalIndent, indentSize, insertSpaces)));
    } else globalIndent = $i4xl7.getLeadingWhitespace(currentLineText);
    // idealIndentForNextLine doesn't equal globalIndent when there is a line matching `indentNextLinePattern`.
    let idealIndentForNextLine = globalIndent;
    if (indentationRules.increaseIndentPattern && indentationRules.increaseIndentPattern.test(adjustedLineContent)) {
        idealIndentForNextLine = shiftIndent(idealIndentForNextLine);
        globalIndent = shiftIndent(globalIndent);
    } else if (indentationRules.indentNextLinePattern && indentationRules.indentNextLinePattern.test(adjustedLineContent)) idealIndentForNextLine = shiftIndent(idealIndentForNextLine);
    startLineNumber++;
    // Calculate indentation adjustment for all following lines
    for(let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++){
        let text = model.getLineContent(lineNumber);
        let oldIndentation = $i4xl7.getLeadingWhitespace(text);
        let adjustedLineContent = idealIndentForNextLine + text.substring(oldIndentation.length);
        if (indentationRules.decreaseIndentPattern && indentationRules.decreaseIndentPattern.test(adjustedLineContent)) {
            idealIndentForNextLine = unshiftIndent(idealIndentForNextLine);
            globalIndent = unshiftIndent(globalIndent);
        }
        if (oldIndentation !== idealIndentForNextLine) indentEdits.push($EQImd.EditOperation.replaceMove(new $jS6at.Selection(lineNumber, 1, lineNumber, oldIndentation.length + 1), $72tIz.TextModel.normalizeIndentation(idealIndentForNextLine, indentSize, insertSpaces)));
        // calculate idealIndentForNextLine
        if (indentationRules.unIndentedLinePattern && indentationRules.unIndentedLinePattern.test(text)) continue;
        else if (indentationRules.increaseIndentPattern && indentationRules.increaseIndentPattern.test(adjustedLineContent)) {
            globalIndent = shiftIndent(globalIndent);
            idealIndentForNextLine = globalIndent;
        } else if (indentationRules.indentNextLinePattern && indentationRules.indentNextLinePattern.test(adjustedLineContent)) idealIndentForNextLine = shiftIndent(idealIndentForNextLine);
        else idealIndentForNextLine = globalIndent;
    }
    return indentEdits;
}
class $02466a888fe18125$export$23df39ff30c2cbb4 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let model = editor.getModel();
        if (!model) return;
        let modelOpts = model.getOptions();
        let selection = editor.getSelection();
        if (!selection) return;
        const command = new $02466a888fe18125$export$3085c18d982e32ff(selection, modelOpts.tabSize);
        editor.pushUndoStop();
        editor.executeCommands(this.id, [
            command
        ]);
        editor.pushUndoStop();
        model.updateOptions({
            insertSpaces: true
        });
    }
    constructor(){
        super({
            id: $02466a888fe18125$export$23df39ff30c2cbb4.ID,
            label: $1WuVQ.localize('indentationToSpaces', "Convert Indentation to Spaces"),
            alias: 'Convert Indentation to Spaces',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
$02466a888fe18125$export$23df39ff30c2cbb4.ID = 'editor.action.indentationToSpaces';
class $02466a888fe18125$export$2bccca385c69c5fb extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let model = editor.getModel();
        if (!model) return;
        let modelOpts = model.getOptions();
        let selection = editor.getSelection();
        if (!selection) return;
        const command = new $02466a888fe18125$export$2a6e9e59679d870(selection, modelOpts.tabSize);
        editor.pushUndoStop();
        editor.executeCommands(this.id, [
            command
        ]);
        editor.pushUndoStop();
        model.updateOptions({
            insertSpaces: false
        });
    }
    constructor(){
        super({
            id: $02466a888fe18125$export$2bccca385c69c5fb.ID,
            label: $1WuVQ.localize('indentationToTabs', "Convert Indentation to Tabs"),
            alias: 'Convert Indentation to Tabs',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
$02466a888fe18125$export$2bccca385c69c5fb.ID = 'editor.action.indentationToTabs';
class $02466a888fe18125$export$80abaa81d6d4fae0 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const quickInputService = accessor.get($1GAzQ.IQuickInputService);
        const modelService = accessor.get($75At3.IModelService);
        let model = editor.getModel();
        if (!model) return;
        const creationOpts = modelService.getCreationOptions(model.getLanguageId(), model.uri, model.isForSimpleWidget);
        const picks = [
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8
        ].map((n)=>({
                id: n.toString(),
                label: n.toString(),
                // add description for tabSize value set in the configuration
                description: n === creationOpts.tabSize ? $1WuVQ.localize('configuredTabSize', "Configured Tab Size") : undefined
            })
        );
        // auto focus the tabSize set for the current editor
        const autoFocusIndex = Math.min(model.getOptions().tabSize - 1, 7);
        setTimeout(()=>{
            quickInputService.pick(picks, {
                placeHolder: $1WuVQ.localize({
                    key: 'selectTabWidth',
                    comment: [
                        'Tab corresponds to the tab key'
                    ]
                }, "Select Tab Size for Current File"),
                activeItem: picks[autoFocusIndex]
            }).then((pick)=>{
                if (pick) {
                    if (model && !model.isDisposed()) model.updateOptions({
                        tabSize: parseInt(pick.label, 10),
                        insertSpaces: this.insertSpaces
                    });
                }
            });
        }, 50 /* quick input is sensitive to being opened so soon after another */ );
    }
    constructor(insertSpaces, opts){
        super(opts);
        this.insertSpaces = insertSpaces;
    }
}
class $02466a888fe18125$export$838aef8de6435fda extends $02466a888fe18125$export$80abaa81d6d4fae0 {
    constructor(){
        super(false, {
            id: $02466a888fe18125$export$838aef8de6435fda.ID,
            label: $1WuVQ.localize('indentUsingTabs', "Indent Using Tabs"),
            alias: 'Indent Using Tabs',
            precondition: undefined
        });
    }
}
$02466a888fe18125$export$838aef8de6435fda.ID = 'editor.action.indentUsingTabs';
class $02466a888fe18125$export$63083e2212f94950 extends $02466a888fe18125$export$80abaa81d6d4fae0 {
    constructor(){
        super(true, {
            id: $02466a888fe18125$export$63083e2212f94950.ID,
            label: $1WuVQ.localize('indentUsingSpaces', "Indent Using Spaces"),
            alias: 'Indent Using Spaces',
            precondition: undefined
        });
    }
}
$02466a888fe18125$export$63083e2212f94950.ID = 'editor.action.indentUsingSpaces';
class $02466a888fe18125$export$2352183caa01d2b1 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const modelService = accessor.get($75At3.IModelService);
        let model = editor.getModel();
        if (!model) return;
        const creationOpts = modelService.getCreationOptions(model.getLanguageId(), model.uri, model.isForSimpleWidget);
        model.detectIndentation(creationOpts.insertSpaces, creationOpts.tabSize);
    }
    constructor(){
        super({
            id: $02466a888fe18125$export$2352183caa01d2b1.ID,
            label: $1WuVQ.localize('detectIndentation', "Detect Indentation from Content"),
            alias: 'Detect Indentation from Content',
            precondition: undefined
        });
    }
}
$02466a888fe18125$export$2352183caa01d2b1.ID = 'editor.action.detectIndentation';
class $02466a888fe18125$export$c4e59949ff243a9f extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let model = editor.getModel();
        if (!model) return;
        let edits = $02466a888fe18125$export$b3e439d1bd7f9479(model, 1, model.getLineCount());
        if (edits.length > 0) {
            editor.pushUndoStop();
            editor.executeEdits(this.id, edits);
            editor.pushUndoStop();
        }
    }
    constructor(){
        super({
            id: 'editor.action.reindentlines',
            label: $1WuVQ.localize('editor.reindentlines', "Reindent Lines"),
            alias: 'Reindent Lines',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $02466a888fe18125$export$3ebdbd7c48e4ea25 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let model = editor.getModel();
        if (!model) return;
        let selections = editor.getSelections();
        if (selections === null) return;
        let edits = [];
        for (let selection of selections){
            let startLineNumber = selection.startLineNumber;
            let endLineNumber = selection.endLineNumber;
            if (startLineNumber !== endLineNumber && selection.endColumn === 1) endLineNumber--;
            if (startLineNumber === 1) {
                if (startLineNumber === endLineNumber) continue;
            } else startLineNumber--;
            let editOperations = $02466a888fe18125$export$b3e439d1bd7f9479(model, startLineNumber, endLineNumber);
            edits.push(...editOperations);
        }
        if (edits.length > 0) {
            editor.pushUndoStop();
            editor.executeEdits(this.id, edits);
            editor.pushUndoStop();
        }
    }
    constructor(){
        super({
            id: 'editor.action.reindentselectedlines',
            label: $1WuVQ.localize('editor.reindentselectedlines', "Reindent Selected Lines"),
            alias: 'Reindent Selected Lines',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $02466a888fe18125$export$64afcb2e2db7c353 {
    getEditOperations(model, builder) {
        for (let edit of this._edits)builder.addEditOperation($1YFxJ.Range.lift(edit.range), edit.text);
        let selectionIsSet = false;
        if (Array.isArray(this._edits) && this._edits.length === 1 && this._initialSelection.isEmpty()) {
            if (this._edits[0].range.startColumn === this._initialSelection.endColumn && this._edits[0].range.startLineNumber === this._initialSelection.endLineNumber) {
                selectionIsSet = true;
                this._selectionId = builder.trackSelection(this._initialSelection, true);
            } else if (this._edits[0].range.endColumn === this._initialSelection.startColumn && this._edits[0].range.endLineNumber === this._initialSelection.startLineNumber) {
                selectionIsSet = true;
                this._selectionId = builder.trackSelection(this._initialSelection, false);
            }
        }
        if (!selectionIsSet) this._selectionId = builder.trackSelection(this._initialSelection);
    }
    computeCursorState(model, helper) {
        return helper.getTrackedSelection(this._selectionId);
    }
    constructor(edits, initialSelection){
        this._initialSelection = initialSelection;
        this._edits = [];
        this._selectionId = null;
        for (let edit of edits)if (edit.range && typeof edit.text === 'string') this._edits.push(edit);
    }
}
class $02466a888fe18125$export$6fc01df139454e78 {
    update() {
        // clean up
        this.callOnModel.clear();
        // we are disabled
        if (this.editor.getOption(9 /* autoIndent */ ) < 4 /* Full */  || this.editor.getOption(47 /* formatOnPaste */ )) return;
        // no model
        if (!this.editor.hasModel()) return;
        this.callOnModel.add(this.editor.onDidPaste(({ range: range  })=>{
            this.trigger(range);
        }));
    }
    trigger(range) {
        let selections = this.editor.getSelections();
        if (selections === null || selections.length > 1) return;
        const model = this.editor.getModel();
        if (!model) return;
        if (!model.isCheapToTokenize(range.getStartPosition().lineNumber)) return;
        const autoIndent = this.editor.getOption(9 /* autoIndent */ );
        const { tabSize: tabSize , indentSize: indentSize , insertSpaces: insertSpaces  } = model.getOptions();
        let textEdits = [];
        let indentConverter = {
            shiftIndent: (indentation)=>{
                return $2gJaM.ShiftCommand.shiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);
            },
            unshiftIndent: (indentation)=>{
                return $2gJaM.ShiftCommand.unshiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);
            }
        };
        let startLineNumber = range.startLineNumber;
        while(startLineNumber <= range.endLineNumber){
            if (this.shouldIgnoreLine(model, startLineNumber)) {
                startLineNumber++;
                continue;
            }
            break;
        }
        if (startLineNumber > range.endLineNumber) return;
        let firstLineText = model.getLineContent(startLineNumber);
        if (!/\S/.test(firstLineText.substring(0, range.startColumn - 1))) {
            const indentOfFirstLine = $ahykL.LanguageConfigurationRegistry.getGoodIndentForLine(autoIndent, model, model.getLanguageId(), startLineNumber, indentConverter);
            if (indentOfFirstLine !== null) {
                let oldIndentation = $i4xl7.getLeadingWhitespace(firstLineText);
                let newSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(indentOfFirstLine, tabSize);
                let oldSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(oldIndentation, tabSize);
                if (newSpaceCnt !== oldSpaceCnt) {
                    let newIndent = $b302c65ec20257bf$export$f2011d4fc9157d6f(newSpaceCnt, tabSize, insertSpaces);
                    textEdits.push({
                        range: new $1YFxJ.Range(startLineNumber, 1, startLineNumber, oldIndentation.length + 1),
                        text: newIndent
                    });
                    firstLineText = newIndent + firstLineText.substr(oldIndentation.length);
                } else {
                    let indentMetadata = $ahykL.LanguageConfigurationRegistry.getIndentMetadata(model, startLineNumber);
                    if (indentMetadata === 0 || indentMetadata === 8 /* UNINDENT_MASK */ ) // we paste content into a line where only contains whitespaces
                    // after pasting, the indentation of the first line is already correct
                    // the first line doesn't match any indentation rule
                    // then no-op.
                    return;
                }
            }
        }
        const firstLineNumber = startLineNumber;
        // ignore empty or ignored lines
        while(startLineNumber < range.endLineNumber){
            if (!/\S/.test(model.getLineContent(startLineNumber + 1))) {
                startLineNumber++;
                continue;
            }
            break;
        }
        if (startLineNumber !== range.endLineNumber) {
            let virtualModel = {
                getLineTokens: (lineNumber)=>{
                    return model.getLineTokens(lineNumber);
                },
                getLanguageId: ()=>{
                    return model.getLanguageId();
                },
                getLanguageIdAtPosition: (lineNumber, column)=>{
                    return model.getLanguageIdAtPosition(lineNumber, column);
                },
                getLineContent: (lineNumber)=>{
                    if (lineNumber === firstLineNumber) return firstLineText;
                    else return model.getLineContent(lineNumber);
                }
            };
            let indentOfSecondLine = $ahykL.LanguageConfigurationRegistry.getGoodIndentForLine(autoIndent, virtualModel, model.getLanguageId(), startLineNumber + 1, indentConverter);
            if (indentOfSecondLine !== null) {
                let newSpaceCntOfSecondLine = $b302c65ec20257bf$export$e83f2438bfbc9f9b(indentOfSecondLine, tabSize);
                let oldSpaceCntOfSecondLine = $b302c65ec20257bf$export$e83f2438bfbc9f9b($i4xl7.getLeadingWhitespace(model.getLineContent(startLineNumber + 1)), tabSize);
                if (newSpaceCntOfSecondLine !== oldSpaceCntOfSecondLine) {
                    let spaceCntOffset = newSpaceCntOfSecondLine - oldSpaceCntOfSecondLine;
                    for(let i = startLineNumber + 1; i <= range.endLineNumber; i++){
                        let lineContent = model.getLineContent(i);
                        let originalIndent = $i4xl7.getLeadingWhitespace(lineContent);
                        let originalSpacesCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(originalIndent, tabSize);
                        let newSpacesCnt = originalSpacesCnt + spaceCntOffset;
                        let newIndent = $b302c65ec20257bf$export$f2011d4fc9157d6f(newSpacesCnt, tabSize, insertSpaces);
                        if (newIndent !== originalIndent) textEdits.push({
                            range: new $1YFxJ.Range(i, 1, i, originalIndent.length + 1),
                            text: newIndent
                        });
                    }
                }
            }
        }
        if (textEdits.length > 0) {
            this.editor.pushUndoStop();
            let cmd = new $02466a888fe18125$export$64afcb2e2db7c353(textEdits, this.editor.getSelection());
            this.editor.executeCommand('autoIndentOnPaste', cmd);
            this.editor.pushUndoStop();
        }
    }
    shouldIgnoreLine(model, lineNumber) {
        model.forceTokenization(lineNumber);
        let nonWhitespaceColumn = model.getLineFirstNonWhitespaceColumn(lineNumber);
        if (nonWhitespaceColumn === 0) return true;
        let tokens = model.getLineTokens(lineNumber);
        if (tokens.getCount() > 0) {
            let firstNonWhitespaceTokenIndex = tokens.findTokenIndexAtOffset(nonWhitespaceColumn);
            if (firstNonWhitespaceTokenIndex >= 0 && tokens.getStandardTokenType(firstNonWhitespaceTokenIndex) === 1 /* Comment */ ) return true;
        }
        return false;
    }
    dispose() {
        this.callOnDispose.dispose();
        this.callOnModel.dispose();
    }
    constructor(editor){
        this.callOnDispose = new $6W1JA.DisposableStore();
        this.callOnModel = new $6W1JA.DisposableStore();
        this.editor = editor;
        this.callOnDispose.add(editor.onDidChangeConfiguration(()=>this.update()
        ));
        this.callOnDispose.add(editor.onDidChangeModel(()=>this.update()
        ));
        this.callOnDispose.add(editor.onDidChangeModelLanguage(()=>this.update()
        ));
    }
}
$02466a888fe18125$export$6fc01df139454e78.ID = 'editor.contrib.autoIndentOnPaste';
function $02466a888fe18125$var$getIndentationEditOperations(model, builder, tabSize, tabsToSpaces) {
    if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) // Model is empty
    return;
    let spaces = '';
    for(let i = 0; i < tabSize; i++)spaces += ' ';
    let spacesRegExp = new RegExp(spaces, 'gi');
    for(let lineNumber = 1, lineCount = model.getLineCount(); lineNumber <= lineCount; lineNumber++){
        let lastIndentationColumn = model.getLineFirstNonWhitespaceColumn(lineNumber);
        if (lastIndentationColumn === 0) lastIndentationColumn = model.getLineMaxColumn(lineNumber);
        if (lastIndentationColumn === 1) continue;
        const originalIndentationRange = new $1YFxJ.Range(lineNumber, 1, lineNumber, lastIndentationColumn);
        const originalIndentation = model.getValueInRange(originalIndentationRange);
        const newIndentation = tabsToSpaces ? originalIndentation.replace(/\t/ig, spaces) : originalIndentation.replace(spacesRegExp, '\t');
        builder.addEditOperation(originalIndentationRange, newIndentation);
    }
}
class $02466a888fe18125$export$3085c18d982e32ff {
    getEditOperations(model, builder) {
        this.selectionId = builder.trackSelection(this.selection);
        $02466a888fe18125$var$getIndentationEditOperations(model, builder, this.tabSize, true);
    }
    computeCursorState(model, helper) {
        return helper.getTrackedSelection(this.selectionId);
    }
    constructor(selection, tabSize){
        this.selection = selection;
        this.tabSize = tabSize;
        this.selectionId = null;
    }
}
class $02466a888fe18125$export$2a6e9e59679d870 {
    getEditOperations(model, builder) {
        this.selectionId = builder.trackSelection(this.selection);
        $02466a888fe18125$var$getIndentationEditOperations(model, builder, this.tabSize, false);
    }
    computeCursorState(model, helper) {
        return helper.getTrackedSelection(this.selectionId);
    }
    constructor(selection, tabSize){
        this.selection = selection;
        this.tabSize = tabSize;
        this.selectionId = null;
    }
}
$g9Zlr.registerEditorContribution($02466a888fe18125$export$6fc01df139454e78.ID, $02466a888fe18125$export$6fc01df139454e78);
$g9Zlr.registerEditorAction($02466a888fe18125$export$23df39ff30c2cbb4);
$g9Zlr.registerEditorAction($02466a888fe18125$export$2bccca385c69c5fb);
$g9Zlr.registerEditorAction($02466a888fe18125$export$838aef8de6435fda);
$g9Zlr.registerEditorAction($02466a888fe18125$export$63083e2212f94950);
$g9Zlr.registerEditorAction($02466a888fe18125$export$2352183caa01d2b1);
$g9Zlr.registerEditorAction($02466a888fe18125$export$c4e59949ff243a9f);
$g9Zlr.registerEditorAction($02466a888fe18125$export$3ebdbd7c48e4ea25);


var $f0c5024b789e2aef$exports = {};

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $dNpei = parcelRequire("dNpei");

var $erLC3 = parcelRequire("erLC3");

var $bUZVY = parcelRequire("bUZVY");

var $dF1Cj = parcelRequire("dF1Cj");

var $g9Zlr = parcelRequire("g9Zlr");

var $iB8dk = parcelRequire("iB8dk");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $9Vnse = parcelRequire("9Vnse");

var $ftViW = parcelRequire("ftViW");

var $c0VS7 = parcelRequire("c0VS7");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $f0c5024b789e2aef$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $f0c5024b789e2aef$var$MAX_DECORATORS = 1500;
class $f0c5024b789e2aef$var$RequestMap {
    push(model, provider) {
        const value = this._data.get(model.uri);
        if (value === undefined) this._data.set(model.uri, new Set([
            provider
        ]));
        else value.add(provider);
    }
    pop(model, provider) {
        const value = this._data.get(model.uri);
        if (value) {
            value.delete(provider);
            if (value.size === 0) this._data.delete(model.uri);
        }
    }
    has(model, provider) {
        var _a;
        return Boolean((_a = this._data.get(model.uri)) === null || _a === void 0 ? void 0 : _a.has(provider));
    }
    constructor(){
        this._data = new $dNpei.ResourceMap();
    }
}
function $f0c5024b789e2aef$export$50bf42d7deea549c(model, ranges, requests, token) {
    return $f0c5024b789e2aef$var$__awaiter(this, void 0, void 0, function*() {
        const all = [];
        const providers = $goPht.InlayHintsProviderRegistry.ordered(model).reverse();
        const promises = providers.map((provider)=>ranges.map((range)=>$f0c5024b789e2aef$var$__awaiter(this, void 0, void 0, function*() {
                    try {
                        requests.push(model, provider);
                        const result = yield provider.provideInlayHints(model, range, token);
                        if (result === null || result === void 0 ? void 0 : result.length) all.push(result.filter((hint)=>range.containsPosition(hint.position)
                        ));
                    } catch (err) {
                        $3FsT3.onUnexpectedExternalError(err);
                    } finally{
                        requests.pop(model, provider);
                    }
                })
            )
        );
        yield Promise.all(promises.flat());
        return all.flat().sort((a, b)=>$fqrfT.Position.compare(a.position, b.position)
        );
    });
}
class $f0c5024b789e2aef$var$InlayHintsCache {
    get(model) {
        const key = $f0c5024b789e2aef$var$InlayHintsCache._key(model);
        return this._entries.get(key);
    }
    set(model, value) {
        const key = $f0c5024b789e2aef$var$InlayHintsCache._key(model);
        this._entries.set(key, value);
    }
    static _key(model) {
        return `${model.uri.toString()}/${model.getVersionId()}`;
    }
    constructor(){
        this._entries = new $dNpei.LRUCache(50);
    }
}
class $f0c5024b789e2aef$export$c42ac128db3942ca {
    dispose() {
        this._sessionDisposables.dispose();
        this._removeAllDecorations();
        this._disposables.dispose();
    }
    _update() {
        this._sessionDisposables.clear();
        this._removeAllDecorations();
        if (!this._editor.getOption(126 /* inlayHints */ ).enabled) return;
        const model = this._editor.getModel();
        if (!model || !$goPht.InlayHintsProviderRegistry.has(model)) return;
        // iff possible, quickly update from cache
        const cached = this._cache.get(model);
        if (cached) this._updateHintsDecorators([
            model.getFullModelRange()
        ], cached);
        const requests = new $f0c5024b789e2aef$var$RequestMap();
        const scheduler = new $5piST.RunOnceScheduler(()=>$f0c5024b789e2aef$var$__awaiter(this, void 0, void 0, function*() {
                const t1 = Date.now();
                const cts = new $1vhHo.CancellationTokenSource();
                this._sessionDisposables.add($6W1JA.toDisposable(()=>cts.dispose(true)
                ));
                const ranges = this._getHintsRanges();
                const result = yield $f0c5024b789e2aef$export$50bf42d7deea549c(model, ranges, requests, cts.token);
                scheduler.delay = this._getInlayHintsDelays.update(model, Date.now() - t1);
                if (cts.token.isCancellationRequested) return;
                this._updateHintsDecorators(ranges, result);
                this._cache.set(model, Array.from(this._decorationsMetadata.values()).map((obj)=>obj.hint
                ));
            })
        , this._getInlayHintsDelays.get(model));
        this._sessionDisposables.add(scheduler);
        // update inline hints when content or scroll position changes
        this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>scheduler.schedule()
        ));
        this._sessionDisposables.add(this._editor.onDidScrollChange(()=>scheduler.schedule()
        ));
        scheduler.schedule();
        // update inline hints when any any provider fires an event
        const providerListener = new $6W1JA.DisposableStore();
        this._sessionDisposables.add(providerListener);
        for (const provider of $goPht.InlayHintsProviderRegistry.all(model))if (typeof provider.onDidChangeInlayHints === 'function') providerListener.add(provider.onDidChangeInlayHints(()=>{
            if (!requests.has(model, provider)) scheduler.schedule();
        }));
    }
    _getHintsRanges() {
        const extra = 30;
        const model = this._editor.getModel();
        const visibleRanges = this._editor.getVisibleRangesPlusViewportAboveBelow();
        const result = [];
        for (const range of visibleRanges.sort($1YFxJ.Range.compareRangesUsingStarts)){
            const extendedRange = model.validateRange(new $1YFxJ.Range(range.startLineNumber - extra, range.startColumn, range.endLineNumber + extra, range.endColumn));
            if (result.length === 0 || !$1YFxJ.Range.areIntersectingOrTouching(result[result.length - 1], extendedRange)) result.push(extendedRange);
            else result[result.length - 1] = $1YFxJ.Range.plusRange(result[result.length - 1], extendedRange);
        }
        return result;
    }
    _updateHintsDecorators(ranges, hints) {
        const { fontSize: fontSize , fontFamily: fontFamily  } = this._getLayoutInfo();
        const model = this._editor.getModel();
        const newDecorationsData = [];
        const fontFamilyVar = '--code-editorInlayHintsFontFamily';
        this._editor.getContainerDomNode().style.setProperty(fontFamilyVar, fontFamily);
        for (const hint of hints){
            const { text: text , position: position , whitespaceBefore: whitespaceBefore , whitespaceAfter: whitespaceAfter  } = hint;
            const marginBefore = whitespaceBefore ? fontSize / 3 | 0 : 0;
            const marginAfter = whitespaceAfter ? fontSize / 3 | 0 : 0;
            let backgroundColor;
            let color;
            if (hint.kind === $goPht.InlayHintKind.Parameter) {
                backgroundColor = $5Wwop.themeColorFromId($kL4Ig.editorInlayHintParameterBackground);
                color = $5Wwop.themeColorFromId($kL4Ig.editorInlayHintParameterForeground);
            } else if (hint.kind === $goPht.InlayHintKind.Type) {
                backgroundColor = $5Wwop.themeColorFromId($kL4Ig.editorInlayHintTypeBackground);
                color = $5Wwop.themeColorFromId($kL4Ig.editorInlayHintTypeForeground);
            } else {
                backgroundColor = $5Wwop.themeColorFromId($kL4Ig.editorInlayHintBackground);
                color = $5Wwop.themeColorFromId($kL4Ig.editorInlayHintForeground);
            }
            const classNameRef = this._ruleFactory.createClassNameRef({
                fontSize: `${fontSize}px`,
                margin: `0px ${marginAfter}px 0px ${marginBefore}px`,
                fontFamily: `var(${fontFamilyVar}), ${$iB8dk.EDITOR_FONT_DEFAULTS.fontFamily}`,
                padding: `1px ${Math.max(1, fontSize / 4) | 0}px`,
                borderRadius: `${fontSize / 4 | 0}px`,
                verticalAlign: 'middle',
                backgroundColor: backgroundColor,
                color: color
            });
            let direction = 'before';
            let range = $1YFxJ.Range.fromPositions(position);
            let word = model.getWordAtPosition(position);
            let usesWordRange = false;
            if (word) {
                if (word.endColumn === position.column) {
                    direction = 'after';
                    usesWordRange = true;
                    range = $f0c5024b789e2aef$var$wordToRange(word, position.lineNumber);
                } else if (word.startColumn === position.column) {
                    usesWordRange = true;
                    range = $f0c5024b789e2aef$var$wordToRange(word, position.lineNumber);
                }
            }
            newDecorationsData.push({
                decoration: {
                    range: range,
                    options: {
                        [direction]: {
                            content: $f0c5024b789e2aef$var$fixSpace(text),
                            inlineClassNameAffectsLetterSpacing: true,
                            inlineClassName: classNameRef.className
                        },
                        description: 'InlayHint',
                        showIfCollapsed: !usesWordRange,
                        stickiness: 0 /* AlwaysGrowsWhenTypingAtEdges */ 
                    }
                },
                classNameRef: classNameRef
            });
            if (newDecorationsData.length > $f0c5024b789e2aef$var$MAX_DECORATORS) break;
        }
        // collect all decoration ids that are affected by the ranges
        // and only update those decorations
        const decorationIdsToReplace = [];
        for (const range of ranges)for (const { id: id  } of model.getDecorationsInRange(range, this._decorationOwnerId, true)){
            const metadata = this._decorationsMetadata.get(id);
            if (metadata) {
                decorationIdsToReplace.push(id);
                metadata.classNameRef.dispose();
                this._decorationsMetadata.delete(id);
            }
        }
        const newDecorationIds = model.deltaDecorations(decorationIdsToReplace, newDecorationsData.map((d)=>d.decoration
        ), this._decorationOwnerId);
        for(let i = 0; i < newDecorationIds.length; i++)this._decorationsMetadata.set(newDecorationIds[i], {
            hint: hints[i],
            classNameRef: newDecorationsData[i].classNameRef
        });
    }
    _getLayoutInfo() {
        const options = this._editor.getOption(126 /* inlayHints */ );
        const editorFontSize = this._editor.getOption(45 /* fontSize */ );
        let fontSize = options.fontSize;
        if (!fontSize || fontSize < 5 || fontSize > editorFontSize) fontSize = editorFontSize * .9 | 0;
        const fontFamily = options.fontFamily || this._editor.getOption(42 /* fontFamily */ );
        return {
            fontSize: fontSize,
            fontFamily: fontFamily
        };
    }
    _removeAllDecorations() {
        this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()), []);
        for (let obj of this._decorationsMetadata.values())obj.classNameRef.dispose();
        this._decorationsMetadata.clear();
    }
    constructor(_editor){
        this._editor = _editor;
        this._decorationOwnerId = ++$f0c5024b789e2aef$export$c42ac128db3942ca._decorationOwnerIdPool;
        this._disposables = new $6W1JA.DisposableStore();
        this._sessionDisposables = new $6W1JA.DisposableStore();
        this._getInlayHintsDelays = new $9Vnse.LanguageFeatureRequestDelays($goPht.InlayHintsProviderRegistry, 25, 500);
        this._cache = new $f0c5024b789e2aef$var$InlayHintsCache();
        this._decorationsMetadata = new Map();
        this._ruleFactory = new $dF1Cj.DynamicCssRules(this._editor);
        this._disposables.add($goPht.InlayHintsProviderRegistry.onDidChange(()=>this._update()
        ));
        this._disposables.add(_editor.onDidChangeModel(()=>this._update()
        ));
        this._disposables.add(_editor.onDidChangeModelLanguage(()=>this._update()
        ));
        this._disposables.add(_editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(126 /* inlayHints */ )) this._update();
        }));
        this._update();
    }
}
$f0c5024b789e2aef$export$c42ac128db3942ca.ID = 'editor.contrib.InlayHints';
$f0c5024b789e2aef$export$c42ac128db3942ca._decorationOwnerIdPool = 0;
function $f0c5024b789e2aef$var$wordToRange(word, lineNumber) {
    return new $1YFxJ.Range(lineNumber, word.startColumn, lineNumber, word.endColumn);
}
// Prevents the view from potentially visible whitespace
function $f0c5024b789e2aef$var$fixSpace(str) {
    const noBreakWhitespace = '\xa0';
    return str.replace(/[ \t]/g, noBreakWhitespace);
}
$g9Zlr.registerEditorContribution($f0c5024b789e2aef$export$c42ac128db3942ca.ID, $f0c5024b789e2aef$export$c42ac128db3942ca);
$c0VS7.CommandsRegistry.registerCommand('_executeInlayHintProvider', (accessor, ...args)=>$f0c5024b789e2aef$var$__awaiter(void 0, void 0, void 0, function*() {
        const [uri, range] = args;
        $erLC3.assertType($bUZVY.URI.isUri(uri));
        $erLC3.assertType($1YFxJ.Range.isIRange(range));
        const ref = yield accessor.get($ftViW.ITextModelService).createModelReference(uri);
        try {
            const data = yield $f0c5024b789e2aef$export$50bf42d7deea549c(ref.object.textEditorModel, [
                $1YFxJ.Range.lift(range)
            ], new $f0c5024b789e2aef$var$RequestMap(), $1vhHo.CancellationToken.None);
            return data;
        } finally{
            ref.dispose();
        }
    })
);


var $d6b7d6328c46f096$exports = {};

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $78AWm = parcelRequire("78AWm");

var $g9Zlr = parcelRequire("g9Zlr");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");

var $72tIz = parcelRequire("72tIz");

var $5GWmu = parcelRequire("5GWmu");

var $kYyDx = parcelRequire("kYyDx");

var $1WuVQ = parcelRequire("1WuVQ");

var $5Wwop = parcelRequire("5Wwop");

var $jS6at = parcelRequire("jS6at");
class $c22bb5fa8ac241d3$export$9bc9910c55aab12 {
    getEditOperations(model, builder) {
        builder.addTrackedEditOperation(this._editRange, this._text);
    }
    computeCursorState(model, helper) {
        const inverseEditOperations = helper.getInverseEditOperations();
        const srcRange = inverseEditOperations[0].range;
        if (!this._originalSelection.isEmpty()) // Preserve selection and extends to typed text
        return new $jS6at.Selection(srcRange.endLineNumber, srcRange.endColumn - this._text.length, srcRange.endLineNumber, srcRange.endColumn);
        return new $jS6at.Selection(srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn), srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn));
    }
    constructor(editRange, originalSelection, text){
        this._editRange = editRange;
        this._originalSelection = originalSelection;
        this._text = text;
    }
}


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $d6b7d6328c46f096$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $d6b7d6328c46f096$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $d6b7d6328c46f096$var$InPlaceReplaceController = class InPlaceReplaceController {
    static get(editor) {
        return editor.getContribution(InPlaceReplaceController.ID);
    }
    dispose() {}
    run(source, up) {
        // cancel any pending request
        if (this.currentRequest) this.currentRequest.cancel();
        const editorSelection = this.editor.getSelection();
        const model = this.editor.getModel();
        if (!model || !editorSelection) return undefined;
        let selection = editorSelection;
        if (selection.startLineNumber !== selection.endLineNumber) // Can't accept multiline selection
        return undefined;
        const state = new $78AWm.EditorState(this.editor, 5 /* Position */ );
        const modelURI = model.uri;
        if (!this.editorWorkerService.canNavigateValueSet(modelURI)) return Promise.resolve(undefined);
        this.currentRequest = $5piST.createCancelablePromise((token)=>this.editorWorkerService.navigateValueSet(modelURI, selection, up)
        );
        return this.currentRequest.then((result)=>{
            if (!result || !result.range || !result.value) // No proper result
            return;
            if (!state.validate(this.editor)) // state has changed
            return;
            // Selection
            let editRange = $1YFxJ.Range.lift(result.range);
            let highlightRange = result.range;
            let diff = result.value.length - (selection.endColumn - selection.startColumn);
            // highlight
            highlightRange = {
                startLineNumber: highlightRange.startLineNumber,
                startColumn: highlightRange.startColumn,
                endLineNumber: highlightRange.endLineNumber,
                endColumn: highlightRange.startColumn + result.value.length
            };
            if (diff > 1) selection = new $jS6at.Selection(selection.startLineNumber, selection.startColumn, selection.endLineNumber, selection.endColumn + diff - 1);
            // Insert new text
            const command = new $c22bb5fa8ac241d3$export$9bc9910c55aab12(editRange, selection, result.value);
            this.editor.pushUndoStop();
            this.editor.executeCommand(source, command);
            this.editor.pushUndoStop();
            // add decoration
            this.decorationIds = this.editor.deltaDecorations(this.decorationIds, [
                {
                    range: highlightRange,
                    options: InPlaceReplaceController.DECORATION
                }
            ]);
            // remove decoration after delay
            if (this.decorationRemover) this.decorationRemover.cancel();
            this.decorationRemover = $5piST.timeout(350);
            this.decorationRemover.then(()=>this.decorationIds = this.editor.deltaDecorations(this.decorationIds, [])
            ).catch($3FsT3.onUnexpectedError);
        }).catch($3FsT3.onUnexpectedError);
    }
    constructor(editor, editorWorkerService){
        this.decorationIds = [];
        this.editor = editor;
        this.editorWorkerService = editorWorkerService;
    }
};
$d6b7d6328c46f096$var$InPlaceReplaceController.ID = 'editor.contrib.inPlaceReplaceController';
$d6b7d6328c46f096$var$InPlaceReplaceController.DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'in-place-replace',
    className: 'valueSetReplacement'
});
$d6b7d6328c46f096$var$InPlaceReplaceController = $d6b7d6328c46f096$var$__decorate([
    $d6b7d6328c46f096$var$__param(1, $5GWmu.IEditorWorkerService)
], $d6b7d6328c46f096$var$InPlaceReplaceController);
class $d6b7d6328c46f096$var$InPlaceReplaceUp extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const controller = $d6b7d6328c46f096$var$InPlaceReplaceController.get(editor);
        if (!controller) return Promise.resolve(undefined);
        return controller.run(this.id, true);
    }
    constructor(){
        super({
            id: 'editor.action.inPlaceReplace.up',
            label: $1WuVQ.localize('InPlaceReplaceAction.previous.label', "Replace with Previous Value"),
            alias: 'Replace with Previous Value',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3154 /* Comma */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $d6b7d6328c46f096$var$InPlaceReplaceDown extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const controller = $d6b7d6328c46f096$var$InPlaceReplaceController.get(editor);
        if (!controller) return Promise.resolve(undefined);
        return controller.run(this.id, false);
    }
    constructor(){
        super({
            id: 'editor.action.inPlaceReplace.down',
            label: $1WuVQ.localize('InPlaceReplaceAction.next.label', "Replace with Next Value"),
            alias: 'Replace with Next Value',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3156 /* Period */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorContribution($d6b7d6328c46f096$var$InPlaceReplaceController.ID, $d6b7d6328c46f096$var$InPlaceReplaceController);
$g9Zlr.registerEditorAction($d6b7d6328c46f096$var$InPlaceReplaceUp);
$g9Zlr.registerEditorAction($d6b7d6328c46f096$var$InPlaceReplaceDown);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const border = theme.getColor($kYyDx.editorBracketMatchBorder);
    if (border) collector.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${border}; }`);
});



var $g9Zlr = parcelRequire("g9Zlr");

var $kPD7f = parcelRequire("kPD7f");

var $7oeKV = parcelRequire("7oeKV");

var $1WuVQ = parcelRequire("1WuVQ");
class $e92b732c2802469c$export$b138959c3fb78d73 extends $g9Zlr.EditorAction {
    run(_accessor, editor, args) {
        args = args || {};
        if (!editor.hasModel()) return;
        const viewModel = editor._getViewModel();
        viewModel.model.pushStackElement();
        viewModel.setCursorStates(args.source, 3 /* Explicit */ , $kPD7f.CursorMoveCommands.expandLineSelection(viewModel, viewModel.getCursorStates()));
        viewModel.revealPrimaryCursor(args.source, true);
    }
    constructor(){
        super({
            id: 'expandLineSelection',
            label: $1WuVQ.localize('expandLineSelection', "Expand Line Selection"),
            alias: 'Expand Line Selection',
            precondition: undefined,
            kbOpts: {
                weight: 0 /* EditorCore */ ,
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 2090 /* KeyL */ 
            }
        });
    }
}
$g9Zlr.registerEditorAction($e92b732c2802469c$export$b138959c3fb78d73);



var $ecpYn = parcelRequire("ecpYn");

var $4m5ki = parcelRequire("4m5ki");

var $g9Zlr = parcelRequire("g9Zlr");

var $eSuzf = parcelRequire("eSuzf");

var $i4xl7 = parcelRequire("i4xl7");

var $EQImd = parcelRequire("EQImd");

var $1YFxJ = parcelRequire("1YFxJ");
class $e73639cabedddb68$export$d5a264e582fa038c {
    getEditOperations(model, builder) {
        let ops = $e73639cabedddb68$export$a5e50b06a093aab9(model, this._cursors);
        for(let i = 0, len = ops.length; i < len; i++){
            let op = ops[i];
            builder.addEditOperation(op.range, op.text);
        }
        this._selectionId = builder.trackSelection(this._selection);
    }
    computeCursorState(model, helper) {
        return helper.getTrackedSelection(this._selectionId);
    }
    constructor(selection, cursors){
        this._selection = selection;
        this._cursors = cursors;
        this._selectionId = null;
    }
}
function $e73639cabedddb68$export$a5e50b06a093aab9(model, cursors) {
    // Sort cursors ascending
    cursors.sort((a, b)=>{
        if (a.lineNumber === b.lineNumber) return a.column - b.column;
        return a.lineNumber - b.lineNumber;
    });
    // Reduce multiple cursors on the same line and only keep the last one on the line
    for(let i = cursors.length - 2; i >= 0; i--)if (cursors[i].lineNumber === cursors[i + 1].lineNumber) // Remove cursor at `i`
    cursors.splice(i, 1);
    let r = [];
    let rLen = 0;
    let cursorIndex = 0;
    let cursorLen = cursors.length;
    for(let lineNumber = 1, lineCount = model.getLineCount(); lineNumber <= lineCount; lineNumber++){
        let lineContent = model.getLineContent(lineNumber);
        let maxLineColumn = lineContent.length + 1;
        let minEditColumn = 0;
        if (cursorIndex < cursorLen && cursors[cursorIndex].lineNumber === lineNumber) {
            minEditColumn = cursors[cursorIndex].column;
            cursorIndex++;
            if (minEditColumn === maxLineColumn) continue;
        }
        if (lineContent.length === 0) continue;
        let lastNonWhitespaceIndex = $i4xl7.lastNonWhitespaceIndex(lineContent);
        let fromColumn = 0;
        if (lastNonWhitespaceIndex === -1) // Entire line is whitespace
        fromColumn = 1;
        else if (lastNonWhitespaceIndex !== lineContent.length - 1) // There is trailing whitespace
        fromColumn = lastNonWhitespaceIndex + 2;
        else continue;
        fromColumn = Math.max(minEditColumn, fromColumn);
        r[rLen++] = $EQImd.EditOperation.delete(new $1YFxJ.Range(lineNumber, fromColumn, lineNumber, maxLineColumn));
    }
    return r;
}



var $kgLHY = parcelRequire("kgLHY");

var $EQImd = parcelRequire("EQImd");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");
class $c417a335ba672a93$export$b709865215a86879 {
    getEditOperations(model, builder) {
        let s = this._selection;
        this._startLineNumberDelta = 0;
        this._endLineNumberDelta = 0;
        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {
            this._endLineNumberDelta = 1;
            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));
        }
        let sourceLines = [];
        for(let i = s.startLineNumber; i <= s.endLineNumber; i++)sourceLines.push(model.getLineContent(i));
        const sourceText = sourceLines.join('\n');
        if (sourceText === '') // Duplicating empty line
        {
            if (this._isCopyingDown) {
                this._startLineNumberDelta++;
                this._endLineNumberDelta++;
            }
        }
        if (this._noop) builder.addEditOperation(new $1YFxJ.Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber + 1, 1), s.endLineNumber === model.getLineCount() ? '' : '\n');
        else if (!this._isCopyingDown) builder.addEditOperation(new $1YFxJ.Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), '\n' + sourceText);
        else builder.addEditOperation(new $1YFxJ.Range(s.startLineNumber, 1, s.startLineNumber, 1), sourceText + '\n');
        this._selectionId = builder.trackSelection(s);
        this._selectionDirection = this._selection.getDirection();
    }
    computeCursorState(model, helper) {
        let result = helper.getTrackedSelection(this._selectionId);
        if (this._startLineNumberDelta !== 0 || this._endLineNumberDelta !== 0) {
            let startLineNumber = result.startLineNumber;
            let startColumn = result.startColumn;
            let endLineNumber = result.endLineNumber;
            let endColumn = result.endColumn;
            if (this._startLineNumberDelta !== 0) {
                startLineNumber = startLineNumber + this._startLineNumberDelta;
                startColumn = 1;
            }
            if (this._endLineNumberDelta !== 0) {
                endLineNumber = endLineNumber + this._endLineNumberDelta;
                endColumn = 1;
            }
            result = $jS6at.Selection.createWithDirection(startLineNumber, startColumn, endLineNumber, endColumn, this._selectionDirection);
        }
        return result;
    }
    constructor(selection, isCopyingDown, noop){
        this._selection = selection;
        this._isCopyingDown = isCopyingDown;
        this._noop = noop || false;
        this._selectionDirection = 0 /* LTR */ ;
        this._selectionId = null;
        this._startLineNumberDelta = 0;
        this._endLineNumberDelta = 0;
    }
}



var $i4xl7 = parcelRequire("i4xl7");

var $2gJaM = parcelRequire("2gJaM");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $5v6jA = parcelRequire("5v6jA");

var $ahykL = parcelRequire("ahykL");

class $5d34e8e0c83015a3$export$14a8ecb8bc929c31 {
    getEditOperations(model, builder) {
        let modelLineCount = model.getLineCount();
        if (this._isMovingDown && this._selection.endLineNumber === modelLineCount) {
            this._selectionId = builder.trackSelection(this._selection);
            return;
        }
        if (!this._isMovingDown && this._selection.startLineNumber === 1) {
            this._selectionId = builder.trackSelection(this._selection);
            return;
        }
        this._moveEndPositionDown = false;
        let s = this._selection;
        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {
            this._moveEndPositionDown = true;
            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));
        }
        const { tabSize: tabSize , indentSize: indentSize , insertSpaces: insertSpaces  } = model.getOptions();
        let indentConverter = this.buildIndentConverter(tabSize, indentSize, insertSpaces);
        let virtualModel = {
            getLineTokens: (lineNumber)=>{
                return model.getLineTokens(lineNumber);
            },
            getLanguageId: ()=>{
                return model.getLanguageId();
            },
            getLanguageIdAtPosition: (lineNumber, column)=>{
                return model.getLanguageIdAtPosition(lineNumber, column);
            },
            getLineContent: null
        };
        if (s.startLineNumber === s.endLineNumber && model.getLineMaxColumn(s.startLineNumber) === 1) {
            // Current line is empty
            let lineNumber = s.startLineNumber;
            let otherLineNumber = this._isMovingDown ? lineNumber + 1 : lineNumber - 1;
            if (model.getLineMaxColumn(otherLineNumber) === 1) // Other line number is empty too, so no editing is needed
            // Add a no-op to force running by the model
            builder.addEditOperation(new $1YFxJ.Range(1, 1, 1, 1), null);
            else {
                // Type content from other line number on line number
                builder.addEditOperation(new $1YFxJ.Range(lineNumber, 1, lineNumber, 1), model.getLineContent(otherLineNumber));
                // Remove content from other line number
                builder.addEditOperation(new $1YFxJ.Range(otherLineNumber, 1, otherLineNumber, model.getLineMaxColumn(otherLineNumber)), null);
            }
            // Track selection at the other line number
            s = new $jS6at.Selection(otherLineNumber, 1, otherLineNumber, 1);
        } else {
            let movingLineNumber;
            let movingLineText;
            if (this._isMovingDown) {
                movingLineNumber = s.endLineNumber + 1;
                movingLineText = model.getLineContent(movingLineNumber);
                // Delete line that needs to be moved
                builder.addEditOperation(new $1YFxJ.Range(movingLineNumber - 1, model.getLineMaxColumn(movingLineNumber - 1), movingLineNumber, model.getLineMaxColumn(movingLineNumber)), null);
                let insertingText = movingLineText;
                if (this.shouldAutoIndent(model, s)) {
                    let movingLineMatchResult = this.matchEnterRule(model, indentConverter, tabSize, movingLineNumber, s.startLineNumber - 1);
                    // if s.startLineNumber - 1 matches onEnter rule, we still honor that.
                    if (movingLineMatchResult !== null) {
                        let oldIndentation = $i4xl7.getLeadingWhitespace(model.getLineContent(movingLineNumber));
                        let newSpaceCnt = movingLineMatchResult + $b302c65ec20257bf$export$e83f2438bfbc9f9b(oldIndentation, tabSize);
                        let newIndentation = $b302c65ec20257bf$export$f2011d4fc9157d6f(newSpaceCnt, tabSize, insertSpaces);
                        insertingText = newIndentation + this.trimLeft(movingLineText);
                    } else {
                        // no enter rule matches, let's check indentatin rules then.
                        virtualModel.getLineContent = (lineNumber)=>{
                            if (lineNumber === s.startLineNumber) return model.getLineContent(movingLineNumber);
                            else return model.getLineContent(lineNumber);
                        };
                        let indentOfMovingLine = $ahykL.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(movingLineNumber, 1), s.startLineNumber, indentConverter);
                        if (indentOfMovingLine !== null) {
                            let oldIndentation = $i4xl7.getLeadingWhitespace(model.getLineContent(movingLineNumber));
                            let newSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(indentOfMovingLine, tabSize);
                            let oldSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(oldIndentation, tabSize);
                            if (newSpaceCnt !== oldSpaceCnt) {
                                let newIndentation = $b302c65ec20257bf$export$f2011d4fc9157d6f(newSpaceCnt, tabSize, insertSpaces);
                                insertingText = newIndentation + this.trimLeft(movingLineText);
                            }
                        }
                    }
                    // add edit operations for moving line first to make sure it's executed after we make indentation change
                    // to s.startLineNumber
                    builder.addEditOperation(new $1YFxJ.Range(s.startLineNumber, 1, s.startLineNumber, 1), insertingText + '\n');
                    let ret = this.matchEnterRuleMovingDown(model, indentConverter, tabSize, s.startLineNumber, movingLineNumber, insertingText);
                    // check if the line being moved before matches onEnter rules, if so let's adjust the indentation by onEnter rules.
                    if (ret !== null) {
                        if (ret !== 0) this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, ret);
                    } else {
                        // it doesn't match onEnter rules, let's check indentation rules then.
                        virtualModel.getLineContent = (lineNumber)=>{
                            if (lineNumber === s.startLineNumber) return insertingText;
                            else if (lineNumber >= s.startLineNumber + 1 && lineNumber <= s.endLineNumber + 1) return model.getLineContent(lineNumber - 1);
                            else return model.getLineContent(lineNumber);
                        };
                        let newIndentatOfMovingBlock = $ahykL.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(movingLineNumber, 1), s.startLineNumber + 1, indentConverter);
                        if (newIndentatOfMovingBlock !== null) {
                            const oldIndentation = $i4xl7.getLeadingWhitespace(model.getLineContent(s.startLineNumber));
                            const newSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(newIndentatOfMovingBlock, tabSize);
                            const oldSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(oldIndentation, tabSize);
                            if (newSpaceCnt !== oldSpaceCnt) {
                                const spaceCntOffset = newSpaceCnt - oldSpaceCnt;
                                this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, spaceCntOffset);
                            }
                        }
                    }
                } else // Insert line that needs to be moved before
                builder.addEditOperation(new $1YFxJ.Range(s.startLineNumber, 1, s.startLineNumber, 1), insertingText + '\n');
            } else {
                movingLineNumber = s.startLineNumber - 1;
                movingLineText = model.getLineContent(movingLineNumber);
                // Delete line that needs to be moved
                builder.addEditOperation(new $1YFxJ.Range(movingLineNumber, 1, movingLineNumber + 1, 1), null);
                // Insert line that needs to be moved after
                builder.addEditOperation(new $1YFxJ.Range(s.endLineNumber, model.getLineMaxColumn(s.endLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), '\n' + movingLineText);
                if (this.shouldAutoIndent(model, s)) {
                    virtualModel.getLineContent = (lineNumber)=>{
                        if (lineNumber === movingLineNumber) return model.getLineContent(s.startLineNumber);
                        else return model.getLineContent(lineNumber);
                    };
                    let ret = this.matchEnterRule(model, indentConverter, tabSize, s.startLineNumber, s.startLineNumber - 2);
                    // check if s.startLineNumber - 2 matches onEnter rules, if so adjust the moving block by onEnter rules.
                    if (ret !== null) {
                        if (ret !== 0) this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, ret);
                    } else {
                        // it doesn't match any onEnter rule, let's check indentation rules then.
                        let indentOfFirstLine = $ahykL.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent, virtualModel, model.getLanguageIdAtPosition(s.startLineNumber, 1), movingLineNumber, indentConverter);
                        if (indentOfFirstLine !== null) {
                            // adjust the indentation of the moving block
                            let oldIndent = $i4xl7.getLeadingWhitespace(model.getLineContent(s.startLineNumber));
                            let newSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(indentOfFirstLine, tabSize);
                            let oldSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(oldIndent, tabSize);
                            if (newSpaceCnt !== oldSpaceCnt) {
                                let spaceCntOffset = newSpaceCnt - oldSpaceCnt;
                                this.getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, spaceCntOffset);
                            }
                        }
                    }
                }
            }
        }
        this._selectionId = builder.trackSelection(s);
    }
    buildIndentConverter(tabSize, indentSize, insertSpaces) {
        return {
            shiftIndent: (indentation)=>{
                return $2gJaM.ShiftCommand.shiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);
            },
            unshiftIndent: (indentation)=>{
                return $2gJaM.ShiftCommand.unshiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);
            }
        };
    }
    parseEnterResult(model, indentConverter, tabSize, line, enter) {
        if (enter) {
            let enterPrefix = enter.indentation;
            if (enter.indentAction === $5v6jA.IndentAction.None) enterPrefix = enter.indentation + enter.appendText;
            else if (enter.indentAction === $5v6jA.IndentAction.Indent) enterPrefix = enter.indentation + enter.appendText;
            else if (enter.indentAction === $5v6jA.IndentAction.IndentOutdent) enterPrefix = enter.indentation;
            else if (enter.indentAction === $5v6jA.IndentAction.Outdent) enterPrefix = indentConverter.unshiftIndent(enter.indentation) + enter.appendText;
            let movingLineText = model.getLineContent(line);
            if (this.trimLeft(movingLineText).indexOf(this.trimLeft(enterPrefix)) >= 0) {
                let oldIndentation = $i4xl7.getLeadingWhitespace(model.getLineContent(line));
                let newIndentation = $i4xl7.getLeadingWhitespace(enterPrefix);
                let indentMetadataOfMovelingLine = $ahykL.LanguageConfigurationRegistry.getIndentMetadata(model, line);
                if (indentMetadataOfMovelingLine !== null && indentMetadataOfMovelingLine & 2 /* DECREASE_MASK */ ) newIndentation = indentConverter.unshiftIndent(newIndentation);
                let newSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(newIndentation, tabSize);
                let oldSpaceCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(oldIndentation, tabSize);
                return newSpaceCnt - oldSpaceCnt;
            }
        }
        return null;
    }
    /**
     *
     * @param model
     * @param indentConverter
     * @param tabSize
     * @param line the line moving down
     * @param futureAboveLineNumber the line which will be at the `line` position
     * @param futureAboveLineText
     */ matchEnterRuleMovingDown(model, indentConverter, tabSize, line, futureAboveLineNumber, futureAboveLineText) {
        if ($i4xl7.lastNonWhitespaceIndex(futureAboveLineText) >= 0) {
            // break
            let maxColumn = model.getLineMaxColumn(futureAboveLineNumber);
            let enter = $ahykL.LanguageConfigurationRegistry.getEnterAction(this._autoIndent, model, new $1YFxJ.Range(futureAboveLineNumber, maxColumn, futureAboveLineNumber, maxColumn));
            return this.parseEnterResult(model, indentConverter, tabSize, line, enter);
        } else {
            // go upwards, starting from `line - 1`
            let validPrecedingLine = line - 1;
            while(validPrecedingLine >= 1){
                let lineContent = model.getLineContent(validPrecedingLine);
                let nonWhitespaceIdx = $i4xl7.lastNonWhitespaceIndex(lineContent);
                if (nonWhitespaceIdx >= 0) break;
                validPrecedingLine--;
            }
            if (validPrecedingLine < 1 || line > model.getLineCount()) return null;
            let maxColumn = model.getLineMaxColumn(validPrecedingLine);
            let enter = $ahykL.LanguageConfigurationRegistry.getEnterAction(this._autoIndent, model, new $1YFxJ.Range(validPrecedingLine, maxColumn, validPrecedingLine, maxColumn));
            return this.parseEnterResult(model, indentConverter, tabSize, line, enter);
        }
    }
    matchEnterRule(model, indentConverter, tabSize, line, oneLineAbove, previousLineText) {
        let validPrecedingLine = oneLineAbove;
        while(validPrecedingLine >= 1){
            // ship empty lines as empty lines just inherit indentation
            let lineContent;
            if (validPrecedingLine === oneLineAbove && previousLineText !== undefined) lineContent = previousLineText;
            else lineContent = model.getLineContent(validPrecedingLine);
            let nonWhitespaceIdx = $i4xl7.lastNonWhitespaceIndex(lineContent);
            if (nonWhitespaceIdx >= 0) break;
            validPrecedingLine--;
        }
        if (validPrecedingLine < 1 || line > model.getLineCount()) return null;
        let maxColumn = model.getLineMaxColumn(validPrecedingLine);
        let enter = $ahykL.LanguageConfigurationRegistry.getEnterAction(this._autoIndent, model, new $1YFxJ.Range(validPrecedingLine, maxColumn, validPrecedingLine, maxColumn));
        return this.parseEnterResult(model, indentConverter, tabSize, line, enter);
    }
    trimLeft(str) {
        return str.replace(/^\s+/, '');
    }
    shouldAutoIndent(model, selection) {
        if (this._autoIndent < 4 /* Full */ ) return false;
        // if it's not easy to tokenize, we stop auto indent.
        if (!model.isCheapToTokenize(selection.startLineNumber)) return false;
        let languageAtSelectionStart = model.getLanguageIdAtPosition(selection.startLineNumber, 1);
        let languageAtSelectionEnd = model.getLanguageIdAtPosition(selection.endLineNumber, 1);
        if (languageAtSelectionStart !== languageAtSelectionEnd) return false;
        if ($ahykL.LanguageConfigurationRegistry.getIndentRulesSupport(languageAtSelectionStart) === null) return false;
        return true;
    }
    getIndentEditsOfMovingBlock(model, builder, s, tabSize, insertSpaces, offset) {
        for(let i = s.startLineNumber; i <= s.endLineNumber; i++){
            let lineContent = model.getLineContent(i);
            let originalIndent = $i4xl7.getLeadingWhitespace(lineContent);
            let originalSpacesCnt = $b302c65ec20257bf$export$e83f2438bfbc9f9b(originalIndent, tabSize);
            let newSpacesCnt = originalSpacesCnt + offset;
            let newIndent = $b302c65ec20257bf$export$f2011d4fc9157d6f(newSpacesCnt, tabSize, insertSpaces);
            if (newIndent !== originalIndent) {
                builder.addEditOperation(new $1YFxJ.Range(i, 1, i, originalIndent.length + 1), newIndent);
                if (i === s.endLineNumber && s.endColumn <= originalIndent.length + 1 && newIndent === '') // as users select part of the original indent white spaces
                // when we adjust the indentation of endLine, we should adjust the cursor position as well.
                this._moveEndLineSelectionShrink = true;
            }
        }
    }
    computeCursorState(model, helper) {
        let result = helper.getTrackedSelection(this._selectionId);
        if (this._moveEndPositionDown) result = result.setEndPosition(result.endLineNumber + 1, 1);
        if (this._moveEndLineSelectionShrink && result.startLineNumber < result.endLineNumber) result = result.setEndPosition(result.endLineNumber, 2);
        return result;
    }
    constructor(selection, isMovingDown, autoIndent){
        this._selection = selection;
        this._isMovingDown = isMovingDown;
        this._autoIndent = autoIndent;
        this._selectionId = null;
        this._moveEndLineSelectionShrink = false;
    }
}



var $EQImd = parcelRequire("EQImd");

var $1YFxJ = parcelRequire("1YFxJ");
class $7229ed28416c043f$export$ba55b4b15d1da26c {
    static getCollator() {
        if (!$7229ed28416c043f$export$ba55b4b15d1da26c._COLLATOR) $7229ed28416c043f$export$ba55b4b15d1da26c._COLLATOR = new Intl.Collator();
        return $7229ed28416c043f$export$ba55b4b15d1da26c._COLLATOR;
    }
    getEditOperations(model, builder) {
        let op = $7229ed28416c043f$var$sortLines(model, this.selection, this.descending);
        if (op) builder.addEditOperation(op.range, op.text);
        this.selectionId = builder.trackSelection(this.selection);
    }
    computeCursorState(model, helper) {
        return helper.getTrackedSelection(this.selectionId);
    }
    static canRun(model, selection, descending) {
        if (model === null) return false;
        let data = $7229ed28416c043f$var$getSortData(model, selection, descending);
        if (!data) return false;
        for(let i = 0, len = data.before.length; i < len; i++){
            if (data.before[i] !== data.after[i]) return true;
        }
        return false;
    }
    constructor(selection, descending){
        this.selection = selection;
        this.descending = descending;
        this.selectionId = null;
    }
}
$7229ed28416c043f$export$ba55b4b15d1da26c._COLLATOR = null;
function $7229ed28416c043f$var$getSortData(model, selection, descending) {
    let startLineNumber = selection.startLineNumber;
    let endLineNumber = selection.endLineNumber;
    if (selection.endColumn === 1) endLineNumber--;
    // Nothing to sort if user didn't select anything.
    if (startLineNumber >= endLineNumber) return null;
    let linesToSort = [];
    // Get the contents of the selection to be sorted.
    for(let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++)linesToSort.push(model.getLineContent(lineNumber));
    let sorted = linesToSort.slice(0);
    sorted.sort($7229ed28416c043f$export$ba55b4b15d1da26c.getCollator().compare);
    // If descending, reverse the order.
    if (descending === true) sorted = sorted.reverse();
    return {
        startLineNumber: startLineNumber,
        endLineNumber: endLineNumber,
        before: linesToSort,
        after: sorted
    };
}
/**
 * Generate commands for sorting lines on a model.
 */ function $7229ed28416c043f$var$sortLines(model, selection, descending) {
    let data = $7229ed28416c043f$var$getSortData(model, selection, descending);
    if (!data) return null;
    return $EQImd.EditOperation.replace(new $1YFxJ.Range(data.startLineNumber, 1, data.endLineNumber, model.getLineMaxColumn(data.endLineNumber)), data.after.join('\n'));
}



var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");
// copy lines
class $887c57a50937c0b6$var$AbstractCopyLinesAction extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        if (!editor.hasModel()) return;
        const selections = editor.getSelections().map((selection, index)=>({
                selection: selection,
                index: index,
                ignore: false
            })
        );
        selections.sort((a, b)=>$1YFxJ.Range.compareRangesUsingStarts(a.selection, b.selection)
        );
        // Remove selections that would result in copying the same line
        let prev = selections[0];
        for(let i = 1; i < selections.length; i++){
            const curr = selections[i];
            if (prev.selection.endLineNumber === curr.selection.startLineNumber) {
                // these two selections would copy the same line
                if (prev.index < curr.index) // prev wins
                curr.ignore = true;
                else {
                    // curr wins
                    prev.ignore = true;
                    prev = curr;
                }
            }
        }
        const commands = [];
        for (const selection1 of selections)commands.push(new $c417a335ba672a93$export$b709865215a86879(selection1.selection, this.down, selection1.ignore));
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(down, opts){
        super(opts);
        this.down = down;
    }
}
class $887c57a50937c0b6$var$CopyLinesUpAction extends $887c57a50937c0b6$var$AbstractCopyLinesAction {
    constructor(){
        super(false, {
            id: 'editor.action.copyLinesUpAction',
            label: $1WuVQ.localize('lines.copyUp', "Copy Line Up"),
            alias: 'Copy Line Up',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1552 /* UpArrow */ ,
                linux: {
                    primary: 3600 /* UpArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '2_line',
                title: $1WuVQ.localize({
                    key: 'miCopyLinesUp',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "&&Copy Line Up"),
                order: 1
            }
        });
    }
}
class $887c57a50937c0b6$var$CopyLinesDownAction extends $887c57a50937c0b6$var$AbstractCopyLinesAction {
    constructor(){
        super(true, {
            id: 'editor.action.copyLinesDownAction',
            label: $1WuVQ.localize('lines.copyDown', "Copy Line Down"),
            alias: 'Copy Line Down',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1554 /* DownArrow */ ,
                linux: {
                    primary: 3602 /* DownArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '2_line',
                title: $1WuVQ.localize({
                    key: 'miCopyLinesDown',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Co&&py Line Down"),
                order: 2
            }
        });
    }
}
class $887c57a50937c0b6$export$3cbca8715f2928a3 extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        if (!editor.hasModel()) return;
        const commands = [];
        const selections = editor.getSelections();
        const model = editor.getModel();
        for (const selection of selections)if (selection.isEmpty()) commands.push(new $c417a335ba672a93$export$b709865215a86879(selection, true));
        else {
            const insertSelection = new $jS6at.Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn);
            commands.push(new $eSuzf.ReplaceCommandThatSelectsText(insertSelection, model.getValueInRange(selection)));
        }
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(){
        super({
            id: 'editor.action.duplicateSelection',
            label: $1WuVQ.localize('duplicateSelection', "Duplicate Selection"),
            alias: 'Duplicate Selection',
            precondition: $7oeKV.EditorContextKeys.writable,
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '2_line',
                title: $1WuVQ.localize({
                    key: 'miDuplicateSelection',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "&&Duplicate Selection"),
                order: 5
            }
        });
    }
}
// move lines
class $887c57a50937c0b6$var$AbstractMoveLinesAction extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        let commands = [];
        let selections = editor.getSelections() || [];
        const autoIndent = editor.getOption(9 /* autoIndent */ );
        for (const selection of selections)commands.push(new $5d34e8e0c83015a3$export$14a8ecb8bc929c31(selection, this.down, autoIndent));
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(down, opts){
        super(opts);
        this.down = down;
    }
}
class $887c57a50937c0b6$var$MoveLinesUpAction extends $887c57a50937c0b6$var$AbstractMoveLinesAction {
    constructor(){
        super(false, {
            id: 'editor.action.moveLinesUpAction',
            label: $1WuVQ.localize('lines.moveUp', "Move Line Up"),
            alias: 'Move Line Up',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 528 /* UpArrow */ ,
                linux: {
                    primary: 528 /* UpArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '2_line',
                title: $1WuVQ.localize({
                    key: 'miMoveLinesUp',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Mo&&ve Line Up"),
                order: 3
            }
        });
    }
}
class $887c57a50937c0b6$var$MoveLinesDownAction extends $887c57a50937c0b6$var$AbstractMoveLinesAction {
    constructor(){
        super(true, {
            id: 'editor.action.moveLinesDownAction',
            label: $1WuVQ.localize('lines.moveDown', "Move Line Down"),
            alias: 'Move Line Down',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 530 /* DownArrow */ ,
                linux: {
                    primary: 530 /* DownArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '2_line',
                title: $1WuVQ.localize({
                    key: 'miMoveLinesDown',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Move &&Line Down"),
                order: 4
            }
        });
    }
}
class $887c57a50937c0b6$export$e314e63e71893b5f extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        const selections = editor.getSelections() || [];
        for (const selection of selections){
            if (!$7229ed28416c043f$export$ba55b4b15d1da26c.canRun(editor.getModel(), selection, this.descending)) return;
        }
        let commands = [];
        for(let i = 0, len = selections.length; i < len; i++)commands[i] = new $7229ed28416c043f$export$ba55b4b15d1da26c(selections[i], this.descending);
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(descending, opts){
        super(opts);
        this.descending = descending;
    }
}
class $887c57a50937c0b6$export$ca6d6f27cd0b1546 extends $887c57a50937c0b6$export$e314e63e71893b5f {
    constructor(){
        super(false, {
            id: 'editor.action.sortLinesAscending',
            label: $1WuVQ.localize('lines.sortAscending', "Sort Lines Ascending"),
            alias: 'Sort Lines Ascending',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $887c57a50937c0b6$export$f51f7f4d11319ba2 extends $887c57a50937c0b6$export$e314e63e71893b5f {
    constructor(){
        super(true, {
            id: 'editor.action.sortLinesDescending',
            label: $1WuVQ.localize('lines.sortDescending', "Sort Lines Descending"),
            alias: 'Sort Lines Descending',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $887c57a50937c0b6$export$16d0def50a9fdfd0 extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        if (!editor.hasModel()) return;
        let model = editor.getModel();
        if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) return;
        let edits = [];
        let endCursorState = [];
        let linesDeleted = 0;
        for (let selection of editor.getSelections()){
            let uniqueLines = new Set();
            let lines = [];
            for(let i = selection.startLineNumber; i <= selection.endLineNumber; i++){
                let line = model.getLineContent(i);
                if (uniqueLines.has(line)) continue;
                lines.push(line);
                uniqueLines.add(line);
            }
            let selectionToReplace = new $jS6at.Selection(selection.startLineNumber, 1, selection.endLineNumber, model.getLineMaxColumn(selection.endLineNumber));
            let adjustedSelectionStart = selection.startLineNumber - linesDeleted;
            let finalSelection = new $jS6at.Selection(adjustedSelectionStart, 1, adjustedSelectionStart + lines.length - 1, lines[lines.length - 1].length);
            edits.push($EQImd.EditOperation.replace(selectionToReplace, lines.join('\n')));
            endCursorState.push(finalSelection);
            linesDeleted += selection.endLineNumber - selection.startLineNumber + 1 - lines.length;
        }
        editor.pushUndoStop();
        editor.executeEdits(this.id, edits, endCursorState);
        editor.pushUndoStop();
    }
    constructor(){
        super({
            id: 'editor.action.removeDuplicateLines',
            label: $1WuVQ.localize('lines.deleteDuplicates', "Delete Duplicate Lines"),
            alias: 'Delete Duplicate Lines',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $887c57a50937c0b6$export$7c2a5fb1bcba21da extends $g9Zlr.EditorAction {
    run(_accessor, editor, args) {
        let cursors = [];
        if (args.reason === 'auto-save') // See https://github.com/editorconfig/editorconfig-vscode/issues/47
        // It is very convenient for the editor config extension to invoke this action.
        // So, if we get a reason:'auto-save' passed in, let's preserve cursor positions.
        cursors = (editor.getSelections() || []).map((s)=>new $fqrfT.Position(s.positionLineNumber, s.positionColumn)
        );
        let selection = editor.getSelection();
        if (selection === null) return;
        let command = new $e73639cabedddb68$export$d5a264e582fa038c(selection, cursors);
        editor.pushUndoStop();
        editor.executeCommands(this.id, [
            command
        ]);
        editor.pushUndoStop();
    }
    constructor(){
        super({
            id: $887c57a50937c0b6$export$7c2a5fb1bcba21da.ID,
            label: $1WuVQ.localize('lines.trimTrailingWhitespace', "Trim Trailing Whitespace"),
            alias: 'Trim Trailing Whitespace',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2102 /* KeyX */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$887c57a50937c0b6$export$7c2a5fb1bcba21da.ID = 'editor.action.trimTrailingWhitespace';
class $887c57a50937c0b6$export$a325764c76fc5489 extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        if (!editor.hasModel()) return;
        let ops = this._getLinesToRemove(editor);
        let model = editor.getModel();
        if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) // Model is empty
        return;
        let linesDeleted = 0;
        let edits = [];
        let cursorState = [];
        for(let i = 0, len = ops.length; i < len; i++){
            const op = ops[i];
            let startLineNumber = op.startLineNumber;
            let endLineNumber = op.endLineNumber;
            let startColumn = 1;
            let endColumn = model.getLineMaxColumn(endLineNumber);
            if (endLineNumber < model.getLineCount()) {
                endLineNumber += 1;
                endColumn = 1;
            } else if (startLineNumber > 1) {
                startLineNumber -= 1;
                startColumn = model.getLineMaxColumn(startLineNumber);
            }
            edits.push($EQImd.EditOperation.replace(new $jS6at.Selection(startLineNumber, startColumn, endLineNumber, endColumn), ''));
            cursorState.push(new $jS6at.Selection(startLineNumber - linesDeleted, op.positionColumn, startLineNumber - linesDeleted, op.positionColumn));
            linesDeleted += op.endLineNumber - op.startLineNumber + 1;
        }
        editor.pushUndoStop();
        editor.executeEdits(this.id, edits, cursorState);
        editor.pushUndoStop();
    }
    _getLinesToRemove(editor) {
        // Construct delete operations
        let operations = editor.getSelections().map((s)=>{
            let endLineNumber = s.endLineNumber;
            if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) endLineNumber -= 1;
            return {
                startLineNumber: s.startLineNumber,
                selectionStartColumn: s.selectionStartColumn,
                endLineNumber: endLineNumber,
                positionColumn: s.positionColumn
            };
        });
        // Sort delete operations
        operations.sort((a, b)=>{
            if (a.startLineNumber === b.startLineNumber) return a.endLineNumber - b.endLineNumber;
            return a.startLineNumber - b.startLineNumber;
        });
        // Merge delete operations which are adjacent or overlapping
        let mergedOperations = [];
        let previousOperation = operations[0];
        for(let i = 1; i < operations.length; i++)if (previousOperation.endLineNumber + 1 >= operations[i].startLineNumber) // Merge current operations into the previous one
        previousOperation.endLineNumber = operations[i].endLineNumber;
        else {
            // Push previous operation
            mergedOperations.push(previousOperation);
            previousOperation = operations[i];
        }
        // Push the last operation
        mergedOperations.push(previousOperation);
        return mergedOperations;
    }
    constructor(){
        super({
            id: 'editor.action.deleteLines',
            label: $1WuVQ.localize('lines.delete', "Delete Line"),
            alias: 'Delete Line',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 3113 /* KeyK */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $887c57a50937c0b6$export$b16686fff98be8f7 extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        const viewModel = editor._getViewModel();
        if (!viewModel) return;
        editor.pushUndoStop();
        editor.executeCommands(this.id, $kgLHY.TypeOperations.indent(viewModel.cursorConfig, editor.getModel(), editor.getSelections()));
        editor.pushUndoStop();
    }
    constructor(){
        super({
            id: 'editor.action.indentLines',
            label: $1WuVQ.localize('lines.indent', "Indent Line"),
            alias: 'Indent Line',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2137 /* BracketRight */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $887c57a50937c0b6$var$OutdentLinesAction extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        $4m5ki.CoreEditingCommands.Outdent.runEditorCommand(_accessor, editor, null);
    }
    constructor(){
        super({
            id: 'editor.action.outdentLines',
            label: $1WuVQ.localize('lines.outdent', "Outdent Line"),
            alias: 'Outdent Line',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2135 /* BracketLeft */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $887c57a50937c0b6$export$db5751c0accc4bcc extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        const viewModel = editor._getViewModel();
        if (!viewModel) return;
        editor.pushUndoStop();
        editor.executeCommands(this.id, $kgLHY.TypeOperations.lineInsertBefore(viewModel.cursorConfig, editor.getModel(), editor.getSelections()));
    }
    constructor(){
        super({
            id: 'editor.action.insertLineBefore',
            label: $1WuVQ.localize('lines.insertBefore', "Insert Line Above"),
            alias: 'Insert Line Above',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3075 /* Enter */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $887c57a50937c0b6$export$2dd5d09a007eecf5 extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        const viewModel = editor._getViewModel();
        if (!viewModel) return;
        editor.pushUndoStop();
        editor.executeCommands(this.id, $kgLHY.TypeOperations.lineInsertAfter(viewModel.cursorConfig, editor.getModel(), editor.getSelections()));
    }
    constructor(){
        super({
            id: 'editor.action.insertLineAfter',
            label: $1WuVQ.localize('lines.insertAfter', "Insert Line Below"),
            alias: 'Insert Line Below',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2051 /* Enter */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $887c57a50937c0b6$export$7fdcece70613530e extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        if (!editor.hasModel()) return;
        const primaryCursor = editor.getSelection();
        let rangesToDelete = this._getRangesToDelete(editor);
        // merge overlapping selections
        let effectiveRanges = [];
        for(let i = 0, count = rangesToDelete.length - 1; i < count; i++){
            let range = rangesToDelete[i];
            let nextRange = rangesToDelete[i + 1];
            if ($1YFxJ.Range.intersectRanges(range, nextRange) === null) effectiveRanges.push(range);
            else rangesToDelete[i + 1] = $1YFxJ.Range.plusRange(range, nextRange);
        }
        effectiveRanges.push(rangesToDelete[rangesToDelete.length - 1]);
        let endCursorState = this._getEndCursorState(primaryCursor, effectiveRanges);
        let edits = effectiveRanges.map((range)=>{
            return $EQImd.EditOperation.replace(range, '');
        });
        editor.pushUndoStop();
        editor.executeEdits(this.id, edits, endCursorState);
        editor.pushUndoStop();
    }
}
class $887c57a50937c0b6$export$9a3834b09b6983ed extends $887c57a50937c0b6$export$7fdcece70613530e {
    _getEndCursorState(primaryCursor, rangesToDelete) {
        let endPrimaryCursor = null;
        let endCursorState = [];
        let deletedLines = 0;
        rangesToDelete.forEach((range)=>{
            let endCursor;
            if (range.endColumn === 1 && deletedLines > 0) {
                let newStartLine = range.startLineNumber - deletedLines;
                endCursor = new $jS6at.Selection(newStartLine, range.startColumn, newStartLine, range.startColumn);
            } else endCursor = new $jS6at.Selection(range.startLineNumber, range.startColumn, range.startLineNumber, range.startColumn);
            deletedLines += range.endLineNumber - range.startLineNumber;
            if (range.intersectRanges(primaryCursor)) endPrimaryCursor = endCursor;
            else endCursorState.push(endCursor);
        });
        if (endPrimaryCursor) endCursorState.unshift(endPrimaryCursor);
        return endCursorState;
    }
    _getRangesToDelete(editor) {
        let selections = editor.getSelections();
        if (selections === null) return [];
        let rangesToDelete = selections;
        let model = editor.getModel();
        if (model === null) return [];
        rangesToDelete.sort($1YFxJ.Range.compareRangesUsingStarts);
        rangesToDelete = rangesToDelete.map((selection)=>{
            if (selection.isEmpty()) {
                if (selection.startColumn === 1) {
                    let deleteFromLine = Math.max(1, selection.startLineNumber - 1);
                    let deleteFromColumn = selection.startLineNumber === 1 ? 1 : model.getLineContent(deleteFromLine).length + 1;
                    return new $1YFxJ.Range(deleteFromLine, deleteFromColumn, selection.startLineNumber, 1);
                } else return new $1YFxJ.Range(selection.startLineNumber, 1, selection.startLineNumber, selection.startColumn);
            } else return new $1YFxJ.Range(selection.startLineNumber, 1, selection.endLineNumber, selection.endColumn);
        });
        return rangesToDelete;
    }
    constructor(){
        super({
            id: 'deleteAllLeft',
            label: $1WuVQ.localize('lines.deleteAllLeft', "Delete All Left"),
            alias: 'Delete All Left',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 2049 /* Backspace */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $887c57a50937c0b6$export$698902706bc70cc6 extends $887c57a50937c0b6$export$7fdcece70613530e {
    _getEndCursorState(primaryCursor, rangesToDelete) {
        let endPrimaryCursor = null;
        let endCursorState = [];
        for(let i = 0, len = rangesToDelete.length, offset = 0; i < len; i++){
            let range = rangesToDelete[i];
            let endCursor = new $jS6at.Selection(range.startLineNumber - offset, range.startColumn, range.startLineNumber - offset, range.startColumn);
            if (range.intersectRanges(primaryCursor)) endPrimaryCursor = endCursor;
            else endCursorState.push(endCursor);
        }
        if (endPrimaryCursor) endCursorState.unshift(endPrimaryCursor);
        return endCursorState;
    }
    _getRangesToDelete(editor) {
        let model = editor.getModel();
        if (model === null) return [];
        let selections = editor.getSelections();
        if (selections === null) return [];
        let rangesToDelete = selections.map((sel)=>{
            if (sel.isEmpty()) {
                const maxColumn = model.getLineMaxColumn(sel.startLineNumber);
                if (sel.startColumn === maxColumn) return new $1YFxJ.Range(sel.startLineNumber, sel.startColumn, sel.startLineNumber + 1, 1);
                else return new $1YFxJ.Range(sel.startLineNumber, sel.startColumn, sel.startLineNumber, maxColumn);
            }
            return sel;
        });
        rangesToDelete.sort($1YFxJ.Range.compareRangesUsingStarts);
        return rangesToDelete;
    }
    constructor(){
        super({
            id: 'deleteAllRight',
            label: $1WuVQ.localize('lines.deleteAllRight', "Delete All Right"),
            alias: 'Delete All Right',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 297 /* KeyK */ ,
                    secondary: [
                        2068 /* Delete */ 
                    ]
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $887c57a50937c0b6$export$dd737e2c91d24d1a extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        let selections = editor.getSelections();
        if (selections === null) return;
        let primaryCursor = editor.getSelection();
        if (primaryCursor === null) return;
        selections.sort($1YFxJ.Range.compareRangesUsingStarts);
        let reducedSelections = [];
        let lastSelection = selections.reduce((previousValue, currentValue)=>{
            if (previousValue.isEmpty()) {
                if (previousValue.endLineNumber === currentValue.startLineNumber) {
                    if (primaryCursor.equalsSelection(previousValue)) primaryCursor = currentValue;
                    return currentValue;
                }
                if (currentValue.startLineNumber > previousValue.endLineNumber + 1) {
                    reducedSelections.push(previousValue);
                    return currentValue;
                } else return new $jS6at.Selection(previousValue.startLineNumber, previousValue.startColumn, currentValue.endLineNumber, currentValue.endColumn);
            } else {
                if (currentValue.startLineNumber > previousValue.endLineNumber) {
                    reducedSelections.push(previousValue);
                    return currentValue;
                } else return new $jS6at.Selection(previousValue.startLineNumber, previousValue.startColumn, currentValue.endLineNumber, currentValue.endColumn);
            }
        });
        reducedSelections.push(lastSelection);
        let model = editor.getModel();
        if (model === null) return;
        let edits = [];
        let endCursorState = [];
        let endPrimaryCursor = primaryCursor;
        let lineOffset = 0;
        for(let i = 0, len = reducedSelections.length; i < len; i++){
            let selection = reducedSelections[i];
            let startLineNumber = selection.startLineNumber;
            let startColumn = 1;
            let columnDeltaOffset = 0;
            let endLineNumber, endColumn;
            let selectionEndPositionOffset = model.getLineContent(selection.endLineNumber).length - selection.endColumn;
            if (selection.isEmpty() || selection.startLineNumber === selection.endLineNumber) {
                let position = selection.getStartPosition();
                if (position.lineNumber < model.getLineCount()) {
                    endLineNumber = startLineNumber + 1;
                    endColumn = model.getLineMaxColumn(endLineNumber);
                } else {
                    endLineNumber = position.lineNumber;
                    endColumn = model.getLineMaxColumn(position.lineNumber);
                }
            } else {
                endLineNumber = selection.endLineNumber;
                endColumn = model.getLineMaxColumn(endLineNumber);
            }
            let trimmedLinesContent = model.getLineContent(startLineNumber);
            for(let i1 = startLineNumber + 1; i1 <= endLineNumber; i1++){
                let lineText = model.getLineContent(i1);
                let firstNonWhitespaceIdx = model.getLineFirstNonWhitespaceColumn(i1);
                if (firstNonWhitespaceIdx >= 1) {
                    let insertSpace = true;
                    if (trimmedLinesContent === '') insertSpace = false;
                    if (insertSpace && (trimmedLinesContent.charAt(trimmedLinesContent.length - 1) === ' ' || trimmedLinesContent.charAt(trimmedLinesContent.length - 1) === '\t')) {
                        insertSpace = false;
                        trimmedLinesContent = trimmedLinesContent.replace(/[\s\uFEFF\xA0]+$/g, ' ');
                    }
                    let lineTextWithoutIndent = lineText.substr(firstNonWhitespaceIdx - 1);
                    trimmedLinesContent += (insertSpace ? ' ' : '') + lineTextWithoutIndent;
                    if (insertSpace) columnDeltaOffset = lineTextWithoutIndent.length + 1;
                    else columnDeltaOffset = lineTextWithoutIndent.length;
                } else columnDeltaOffset = 0;
            }
            let deleteSelection = new $1YFxJ.Range(startLineNumber, startColumn, endLineNumber, endColumn);
            if (!deleteSelection.isEmpty()) {
                let resultSelection;
                if (selection.isEmpty()) {
                    edits.push($EQImd.EditOperation.replace(deleteSelection, trimmedLinesContent));
                    resultSelection = new $jS6at.Selection(deleteSelection.startLineNumber - lineOffset, trimmedLinesContent.length - columnDeltaOffset + 1, startLineNumber - lineOffset, trimmedLinesContent.length - columnDeltaOffset + 1);
                } else if (selection.startLineNumber === selection.endLineNumber) {
                    edits.push($EQImd.EditOperation.replace(deleteSelection, trimmedLinesContent));
                    resultSelection = new $jS6at.Selection(selection.startLineNumber - lineOffset, selection.startColumn, selection.endLineNumber - lineOffset, selection.endColumn);
                } else {
                    edits.push($EQImd.EditOperation.replace(deleteSelection, trimmedLinesContent));
                    resultSelection = new $jS6at.Selection(selection.startLineNumber - lineOffset, selection.startColumn, selection.startLineNumber - lineOffset, trimmedLinesContent.length - selectionEndPositionOffset);
                }
                if ($1YFxJ.Range.intersectRanges(deleteSelection, primaryCursor) !== null) endPrimaryCursor = resultSelection;
                else endCursorState.push(resultSelection);
            }
            lineOffset += deleteSelection.endLineNumber - deleteSelection.startLineNumber;
        }
        endCursorState.unshift(endPrimaryCursor);
        editor.pushUndoStop();
        editor.executeEdits(this.id, edits, endCursorState);
        editor.pushUndoStop();
    }
    constructor(){
        super({
            id: 'editor.action.joinLines',
            label: $1WuVQ.localize('lines.joinLines', "Join Lines"),
            alias: 'Join Lines',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 0,
                mac: {
                    primary: 296 /* KeyJ */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $887c57a50937c0b6$export$30796fb0d031fb22 extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        let selections = editor.getSelections();
        if (selections === null) return;
        let model = editor.getModel();
        if (model === null) return;
        let commands = [];
        for(let i = 0, len = selections.length; i < len; i++){
            let selection = selections[i];
            if (!selection.isEmpty()) continue;
            let cursor = selection.getStartPosition();
            let maxColumn = model.getLineMaxColumn(cursor.lineNumber);
            if (cursor.column >= maxColumn) {
                if (cursor.lineNumber === model.getLineCount()) continue;
                // The cursor is at the end of current line and current line is not empty
                // then we transpose the character before the cursor and the line break if there is any following line.
                let deleteSelection = new $1YFxJ.Range(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber + 1, 1);
                let chars = model.getValueInRange(deleteSelection).split('').reverse().join('');
                commands.push(new $eSuzf.ReplaceCommand(new $jS6at.Selection(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber + 1, 1), chars));
            } else {
                let deleteSelection = new $1YFxJ.Range(cursor.lineNumber, Math.max(1, cursor.column - 1), cursor.lineNumber, cursor.column + 1);
                let chars = model.getValueInRange(deleteSelection).split('').reverse().join('');
                commands.push(new $eSuzf.ReplaceCommandThatPreservesSelection(deleteSelection, chars, new $jS6at.Selection(cursor.lineNumber, cursor.column + 1, cursor.lineNumber, cursor.column + 1)));
            }
        }
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(){
        super({
            id: 'editor.action.transpose',
            label: $1WuVQ.localize('editor.transpose', "Transpose characters around the cursor"),
            alias: 'Transpose characters around the cursor',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $887c57a50937c0b6$export$4aaeafa0e9d33d8d extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        const selections = editor.getSelections();
        if (selections === null) return;
        const model = editor.getModel();
        if (model === null) return;
        const wordSeparators = editor.getOption(116 /* wordSeparators */ );
        const textEdits = [];
        for (const selection of selections)if (selection.isEmpty()) {
            const cursor = selection.getStartPosition();
            const word = editor.getConfiguredWordAtPosition(cursor);
            if (!word) continue;
            const wordRange = new $1YFxJ.Range(cursor.lineNumber, word.startColumn, cursor.lineNumber, word.endColumn);
            const text = model.getValueInRange(wordRange);
            textEdits.push($EQImd.EditOperation.replace(wordRange, this._modifyText(text, wordSeparators)));
        } else {
            const text = model.getValueInRange(selection);
            textEdits.push($EQImd.EditOperation.replace(selection, this._modifyText(text, wordSeparators)));
        }
        editor.pushUndoStop();
        editor.executeEdits(this.id, textEdits);
        editor.pushUndoStop();
    }
}
class $887c57a50937c0b6$export$952432f59b47d01d extends $887c57a50937c0b6$export$4aaeafa0e9d33d8d {
    _modifyText(text, wordSeparators) {
        return text.toLocaleUpperCase();
    }
    constructor(){
        super({
            id: 'editor.action.transformToUppercase',
            label: $1WuVQ.localize('editor.transformToUppercase', "Transform to Uppercase"),
            alias: 'Transform to Uppercase',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $887c57a50937c0b6$export$f2f207fda3be448e extends $887c57a50937c0b6$export$4aaeafa0e9d33d8d {
    _modifyText(text, wordSeparators) {
        return text.toLocaleLowerCase();
    }
    constructor(){
        super({
            id: 'editor.action.transformToLowercase',
            label: $1WuVQ.localize('editor.transformToLowercase', "Transform to Lowercase"),
            alias: 'Transform to Lowercase',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $887c57a50937c0b6$var$BackwardsCompatibleRegExp {
    get() {
        if (!this._evaluated) {
            this._evaluated = true;
            try {
                this._actual = new RegExp(this._pattern, this._flags);
            } catch (err) {
            // this browser does not support this regular expression
            }
        }
        return this._actual;
    }
    isSupported() {
        return this.get() !== null;
    }
    constructor(_pattern, _flags){
        this._pattern = _pattern;
        this._flags = _flags;
        this._actual = null;
        this._evaluated = false;
    }
}
class $887c57a50937c0b6$export$9e3e216230e0d173 extends $887c57a50937c0b6$export$4aaeafa0e9d33d8d {
    _modifyText(text, wordSeparators) {
        const titleBoundary = $887c57a50937c0b6$export$9e3e216230e0d173.titleBoundary.get();
        if (!titleBoundary) // cannot support this
        return text;
        return text.toLocaleLowerCase().replace(titleBoundary, (b)=>b.toLocaleUpperCase()
        );
    }
    constructor(){
        super({
            id: 'editor.action.transformToTitlecase',
            label: $1WuVQ.localize('editor.transformToTitlecase', "Transform to Title Case"),
            alias: 'Transform to Title Case',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
$887c57a50937c0b6$export$9e3e216230e0d173.titleBoundary = new $887c57a50937c0b6$var$BackwardsCompatibleRegExp('(^|[^\\p{L}\\p{N}\']|((^|\\P{L})\'))\\p{L}', 'gmu');
class $887c57a50937c0b6$export$120f47daedc39d47 extends $887c57a50937c0b6$export$4aaeafa0e9d33d8d {
    _modifyText(text, wordSeparators) {
        const caseBoundary = $887c57a50937c0b6$export$120f47daedc39d47.caseBoundary.get();
        const singleLetters = $887c57a50937c0b6$export$120f47daedc39d47.singleLetters.get();
        if (!caseBoundary || !singleLetters) // cannot support this
        return text;
        return text.replace(caseBoundary, '$1_$2').replace(singleLetters, '$1_$2$3').toLocaleLowerCase();
    }
    constructor(){
        super({
            id: 'editor.action.transformToSnakecase',
            label: $1WuVQ.localize('editor.transformToSnakecase', "Transform to Snake Case"),
            alias: 'Transform to Snake Case',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
$887c57a50937c0b6$export$120f47daedc39d47.caseBoundary = new $887c57a50937c0b6$var$BackwardsCompatibleRegExp('(\\p{Ll})(\\p{Lu})', 'gmu');
$887c57a50937c0b6$export$120f47daedc39d47.singleLetters = new $887c57a50937c0b6$var$BackwardsCompatibleRegExp('(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})', 'gmu');
$g9Zlr.registerEditorAction($887c57a50937c0b6$var$CopyLinesUpAction);
$g9Zlr.registerEditorAction($887c57a50937c0b6$var$CopyLinesDownAction);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$3cbca8715f2928a3);
$g9Zlr.registerEditorAction($887c57a50937c0b6$var$MoveLinesUpAction);
$g9Zlr.registerEditorAction($887c57a50937c0b6$var$MoveLinesDownAction);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$ca6d6f27cd0b1546);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$f51f7f4d11319ba2);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$16d0def50a9fdfd0);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$7c2a5fb1bcba21da);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$a325764c76fc5489);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$b16686fff98be8f7);
$g9Zlr.registerEditorAction($887c57a50937c0b6$var$OutdentLinesAction);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$db5751c0accc4bcc);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$2dd5d09a007eecf5);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$9a3834b09b6983ed);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$698902706bc70cc6);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$dd737e2c91d24d1a);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$30796fb0d031fb22);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$952432f59b47d01d);
$g9Zlr.registerEditorAction($887c57a50937c0b6$export$f2f207fda3be448e);
if ($887c57a50937c0b6$export$120f47daedc39d47.caseBoundary.isSupported() && $887c57a50937c0b6$export$120f47daedc39d47.singleLetters.isSupported()) $g9Zlr.registerEditorAction($887c57a50937c0b6$export$120f47daedc39d47);
if ($887c57a50937c0b6$export$9e3e216230e0d173.titleBoundary.isSupported()) $g9Zlr.registerEditorAction($887c57a50937c0b6$export$9e3e216230e0d173);


var $47c62ca17024d8df$exports = {};

var $duSG1 = parcelRequire("duSG1");

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $8OIA7 = parcelRequire("8OIA7");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $bUZVY = parcelRequire("bUZVY");

var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");

var $72tIz = parcelRequire("72tIz");

var $goPht = parcelRequire("goPht");

var $ahykL = parcelRequire("ahykL");

var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $47c62ca17024d8df$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $47c62ca17024d8df$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $47c62ca17024d8df$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $47c62ca17024d8df$export$d3411856fe5ceb08 = new $h4kGX.RawContextKey('LinkedEditingInputVisible', false);
const $47c62ca17024d8df$var$DECORATION_CLASS_NAME = 'linked-editing-decoration';
let $47c62ca17024d8df$export$6a78bc49d64aa850 = class $47c62ca17024d8df$export$6a78bc49d64aa850 extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution($47c62ca17024d8df$export$6a78bc49d64aa850.ID);
    }
    reinitialize(forceRefresh) {
        const model = this._editor.getModel();
        const isEnabled = model !== null && (this._editor.getOption(61 /* linkedEditing */ ) || this._editor.getOption(81 /* renameOnType */ )) && $goPht.LinkedEditingRangeProviderRegistry.has(model);
        if (isEnabled === this._enabled && !forceRefresh) return;
        this._enabled = isEnabled;
        this.clearRanges();
        this._localToDispose.clear();
        if (!isEnabled || model === null) return;
        this._languageWordPattern = $ahykL.LanguageConfigurationRegistry.getWordDefinition(model.getLanguageId());
        this._localToDispose.add(model.onDidChangeLanguageConfiguration(()=>{
            this._languageWordPattern = $ahykL.LanguageConfigurationRegistry.getWordDefinition(model.getLanguageId());
        }));
        const rangeUpdateScheduler = new $5piST.Delayer(this._debounceDuration);
        const triggerRangeUpdate = ()=>{
            this._rangeUpdateTriggerPromise = rangeUpdateScheduler.trigger(()=>this.updateRanges()
            , this._debounceDuration);
        };
        const rangeSyncScheduler = new $5piST.Delayer(0);
        const triggerRangeSync = (decorations)=>{
            this._rangeSyncTriggerPromise = rangeSyncScheduler.trigger(()=>this._syncRanges(decorations)
            );
        };
        this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{
            triggerRangeUpdate();
        }));
        this._localToDispose.add(this._editor.onDidChangeModelContent((e)=>{
            if (!this._ignoreChangeEvent) {
                if (this._currentDecorations.length > 0) {
                    const referenceRange = model.getDecorationRange(this._currentDecorations[0]);
                    if (referenceRange && e.changes.every((c)=>referenceRange.intersectRanges(c.range)
                    )) {
                        triggerRangeSync(this._currentDecorations);
                        return;
                    }
                }
            }
            triggerRangeUpdate();
        }));
        this._localToDispose.add({
            dispose: ()=>{
                rangeUpdateScheduler.cancel();
                rangeSyncScheduler.cancel();
            }
        });
        this.updateRanges();
    }
    _syncRanges(decorations) {
        // dalayed invocation, make sure we're still on
        if (!this._editor.hasModel() || decorations !== this._currentDecorations || decorations.length === 0) // nothing to do
        return;
        const model = this._editor.getModel();
        const referenceRange = model.getDecorationRange(decorations[0]);
        if (!referenceRange || referenceRange.startLineNumber !== referenceRange.endLineNumber) return this.clearRanges();
        const referenceValue = model.getValueInRange(referenceRange);
        if (this._currentWordPattern) {
            const match = referenceValue.match(this._currentWordPattern);
            const matchLength = match ? match[0].length : 0;
            if (matchLength !== referenceValue.length) return this.clearRanges();
        }
        let edits = [];
        for(let i = 1, len = decorations.length; i < len; i++){
            const mirrorRange = model.getDecorationRange(decorations[i]);
            if (!mirrorRange) continue;
            if (mirrorRange.startLineNumber !== mirrorRange.endLineNumber) edits.push({
                range: mirrorRange,
                text: referenceValue
            });
            else {
                let oldValue = model.getValueInRange(mirrorRange);
                let newValue = referenceValue;
                let rangeStartColumn = mirrorRange.startColumn;
                let rangeEndColumn = mirrorRange.endColumn;
                const commonPrefixLength = $i4xl7.commonPrefixLength(oldValue, newValue);
                rangeStartColumn += commonPrefixLength;
                oldValue = oldValue.substr(commonPrefixLength);
                newValue = newValue.substr(commonPrefixLength);
                const commonSuffixLength = $i4xl7.commonSuffixLength(oldValue, newValue);
                rangeEndColumn -= commonSuffixLength;
                oldValue = oldValue.substr(0, oldValue.length - commonSuffixLength);
                newValue = newValue.substr(0, newValue.length - commonSuffixLength);
                if (rangeStartColumn !== rangeEndColumn || newValue.length !== 0) edits.push({
                    range: new $1YFxJ.Range(mirrorRange.startLineNumber, rangeStartColumn, mirrorRange.endLineNumber, rangeEndColumn),
                    text: newValue
                });
            }
        }
        if (edits.length === 0) return;
        try {
            this._editor.popUndoStop();
            this._ignoreChangeEvent = true;
            const prevEditOperationType = this._editor._getViewModel().getPrevEditOperationType();
            this._editor.executeEdits('linkedEditing', edits);
            this._editor._getViewModel().setPrevEditOperationType(prevEditOperationType);
        } finally{
            this._ignoreChangeEvent = false;
        }
    }
    dispose() {
        this.clearRanges();
        super.dispose();
    }
    clearRanges() {
        this._visibleContextKey.set(false);
        this._currentDecorations = this._editor.deltaDecorations(this._currentDecorations, []);
        if (this._currentRequest) {
            this._currentRequest.cancel();
            this._currentRequest = null;
            this._currentRequestPosition = null;
        }
    }
    updateRanges(force = false) {
        return $47c62ca17024d8df$var$__awaiter(this, void 0, void 0, function*() {
            if (!this._editor.hasModel()) {
                this.clearRanges();
                return;
            }
            const position = this._editor.getPosition();
            if (!this._enabled && !force || this._editor.getSelections().length > 1) {
                // disabled or multicursor
                this.clearRanges();
                return;
            }
            const model = this._editor.getModel();
            const modelVersionId = model.getVersionId();
            if (this._currentRequestPosition && this._currentRequestModelVersion === modelVersionId) {
                if (position.equals(this._currentRequestPosition)) return; // same position
                if (this._currentDecorations && this._currentDecorations.length > 0) {
                    const range = model.getDecorationRange(this._currentDecorations[0]);
                    if (range && range.containsPosition(position)) return; // just moving inside the existing primary range
                }
            }
            this._currentRequestPosition = position;
            this._currentRequestModelVersion = modelVersionId;
            const request = $5piST.createCancelablePromise((token)=>$47c62ca17024d8df$var$__awaiter(this, void 0, void 0, function*() {
                    try {
                        const response = yield $47c62ca17024d8df$var$getLinkedEditingRanges(model, position, token);
                        if (request !== this._currentRequest) return;
                        this._currentRequest = null;
                        if (modelVersionId !== model.getVersionId()) return;
                        let ranges = [];
                        if (response === null || response === void 0 ? void 0 : response.ranges) ranges = response.ranges;
                        this._currentWordPattern = (response === null || response === void 0 ? void 0 : response.wordPattern) || this._languageWordPattern;
                        let foundReferenceRange = false;
                        for(let i = 0, len = ranges.length; i < len; i++)if ($1YFxJ.Range.containsPosition(ranges[i], position)) {
                            foundReferenceRange = true;
                            if (i !== 0) {
                                const referenceRange = ranges[i];
                                ranges.splice(i, 1);
                                ranges.unshift(referenceRange);
                            }
                            break;
                        }
                        if (!foundReferenceRange) {
                            // Cannot do linked editing if the ranges are not where the cursor is...
                            this.clearRanges();
                            return;
                        }
                        const decorations = ranges.map((range)=>({
                                range: range,
                                options: $47c62ca17024d8df$export$6a78bc49d64aa850.DECORATION
                            })
                        );
                        this._visibleContextKey.set(true);
                        this._currentDecorations = this._editor.deltaDecorations(this._currentDecorations, decorations);
                    } catch (err) {
                        if (!$3FsT3.isPromiseCanceledError(err)) $3FsT3.onUnexpectedError(err);
                        if (this._currentRequest === request || !this._currentRequest) // stop if we are still the latest request
                        this.clearRanges();
                    }
                })
            );
            this._currentRequest = request;
            return request;
        });
    }
    constructor(editor, contextKeyService){
        super();
        this._debounceDuration = 200;
        this._localToDispose = this._register(new $6W1JA.DisposableStore());
        this._editor = editor;
        this._enabled = false;
        this._visibleContextKey = $47c62ca17024d8df$export$d3411856fe5ceb08.bindTo(contextKeyService);
        this._currentDecorations = [];
        this._languageWordPattern = null;
        this._currentWordPattern = null;
        this._ignoreChangeEvent = false;
        this._localToDispose = this._register(new $6W1JA.DisposableStore());
        this._rangeUpdateTriggerPromise = null;
        this._rangeSyncTriggerPromise = null;
        this._currentRequest = null;
        this._currentRequestPosition = null;
        this._currentRequestModelVersion = null;
        this._register(this._editor.onDidChangeModel(()=>this.reinitialize(true)
        ));
        this._register(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(61 /* linkedEditing */ ) || e.hasChanged(81 /* renameOnType */ )) this.reinitialize(false);
        }));
        this._register($goPht.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(false)
        ));
        this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(true)
        ));
        this.reinitialize(true);
    }
};
$47c62ca17024d8df$export$6a78bc49d64aa850.ID = 'editor.contrib.linkedEditing';
$47c62ca17024d8df$export$6a78bc49d64aa850.DECORATION = $72tIz.ModelDecorationOptions.register({
    description: 'linked-editing',
    stickiness: 0 /* AlwaysGrowsWhenTypingAtEdges */ ,
    className: $47c62ca17024d8df$var$DECORATION_CLASS_NAME
});
$47c62ca17024d8df$export$6a78bc49d64aa850 = $47c62ca17024d8df$var$__decorate([
    $47c62ca17024d8df$var$__param(1, $h4kGX.IContextKeyService)
], $47c62ca17024d8df$export$6a78bc49d64aa850);
class $47c62ca17024d8df$export$3ac885947f0e79d7 extends $g9Zlr.EditorAction {
    runCommand(accessor1, args) {
        const editorService = accessor1.get($7lWR1.ICodeEditorService);
        const [uri, pos] = Array.isArray(args) && args || [
            undefined,
            undefined
        ];
        if ($bUZVY.URI.isUri(uri) && $fqrfT.Position.isIPosition(pos)) return editorService.openCodeEditor({
            resource: uri
        }, editorService.getActiveCodeEditor()).then((editor)=>{
            if (!editor) return;
            editor.setPosition(pos);
            editor.invokeWithinContext((accessor)=>{
                this.reportTelemetry(accessor, editor);
                return this.run(accessor, editor);
            });
        }, $3FsT3.onUnexpectedError);
        return super.runCommand(accessor1, args);
    }
    run(_accessor, editor) {
        const controller = $47c62ca17024d8df$export$6a78bc49d64aa850.get(editor);
        if (controller) return Promise.resolve(controller.updateRanges(true));
        return Promise.resolve();
    }
    constructor(){
        super({
            id: 'editor.action.linkedEditing',
            label: $1WuVQ.localize('linkedEditing.label', "Start Linked Editing"),
            alias: 'Start Linked Editing',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasRenameProvider),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3132 /* F2 */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
const $47c62ca17024d8df$var$LinkedEditingCommand = $g9Zlr.EditorCommand.bindToContribution($47c62ca17024d8df$export$6a78bc49d64aa850.get);
$g9Zlr.registerEditorCommand(new $47c62ca17024d8df$var$LinkedEditingCommand({
    id: 'cancelLinkedEditingInput',
    precondition: $47c62ca17024d8df$export$d3411856fe5ceb08,
    handler: (x)=>x.clearRanges()
    ,
    kbOpts: {
        kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
        weight: 199,
        primary: 9 /* Escape */ ,
        secondary: [
            1033 /* Escape */ 
        ]
    }
}));
function $47c62ca17024d8df$var$getLinkedEditingRanges(model, position, token) {
    const orderedByScore = $goPht.LinkedEditingRangeProviderRegistry.ordered(model);
    // in order of score ask the linked editing range provider
    // until someone response with a good result
    // (good = not null)
    return $5piST.first(orderedByScore.map((provider)=>()=>$47c62ca17024d8df$var$__awaiter(this, void 0, void 0, function*() {
                try {
                    return yield provider.provideLinkedEditingRanges(model, position, token);
                } catch (e) {
                    $3FsT3.onUnexpectedExternalError(e);
                    return undefined;
                }
            })
    ), (result)=>!!result && $duSG1.isNonEmptyArray(result === null || result === void 0 ? void 0 : result.ranges)
    );
}
const $47c62ca17024d8df$export$f1351e4f55b397f4 = $kL4Ig.registerColor('editor.linkedEditingBackground', {
    dark: $8OIA7.Color.fromHex('#f00').transparent(0.3),
    light: $8OIA7.Color.fromHex('#f00').transparent(0.3),
    hc: $8OIA7.Color.fromHex('#f00').transparent(0.3)
}, $1WuVQ.localize('editorLinkedEditingBackground', 'Background color when the editor auto renames on type.'));
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const editorLinkedEditingBackgroundColor = theme.getColor($47c62ca17024d8df$export$f1351e4f55b397f4);
    if (editorLinkedEditingBackgroundColor) collector.addRule(`.monaco-editor .${$47c62ca17024d8df$var$DECORATION_CLASS_NAME} { background: ${editorLinkedEditingBackgroundColor}; border-left-color: ${editorLinkedEditingBackgroundColor}; }`);
});
$g9Zlr.registerModelAndPositionCommand('_executeLinkedEditingProvider', (model, position)=>$47c62ca17024d8df$var$getLinkedEditingRanges(model, position, $1vhHo.CancellationToken.None)
);
$g9Zlr.registerEditorContribution($47c62ca17024d8df$export$6a78bc49d64aa850.ID, $47c62ca17024d8df$export$6a78bc49d64aa850);
$g9Zlr.registerEditorAction($47c62ca17024d8df$export$3ac885947f0e79d7);


var $5860a6adaa8da63b$exports = {};

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $eeQ9E = parcelRequire("eeQ9E");

var $6W1JA = parcelRequire("6W1JA");

var $fA94G = parcelRequire("fA94G");

var $7e5Mc = parcelRequire("7e5Mc");

var $lvxAj = parcelRequire("lvxAj");

var $bUZVY = parcelRequire("bUZVY");


var $g9Zlr = parcelRequire("g9Zlr");

var $72tIz = parcelRequire("72tIz");

var $goPht = parcelRequire("goPht");

var $f4fcb51937a0fb4f$exports = {};

$parcel$export($f4fcb51937a0fb4f$exports, "getLinks", function () { return $f4fcb51937a0fb4f$export$8054dcb2b42da45c; }, function (v) { return $f4fcb51937a0fb4f$export$8054dcb2b42da45c = v; });

var $duSG1 = parcelRequire("duSG1");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $erLC3 = parcelRequire("erLC3");

var $bUZVY = parcelRequire("bUZVY");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");

var $75At3 = parcelRequire("75At3");

var $c0VS7 = parcelRequire("c0VS7");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $f4fcb51937a0fb4f$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $f4fcb51937a0fb4f$export$a6c7ac8248d6e38a {
    toJSON() {
        return {
            range: this.range,
            url: this.url,
            tooltip: this.tooltip
        };
    }
    get range() {
        return this._link.range;
    }
    get url() {
        return this._link.url;
    }
    get tooltip() {
        return this._link.tooltip;
    }
    resolve(token) {
        return $f4fcb51937a0fb4f$var$__awaiter(this, void 0, void 0, function*() {
            if (this._link.url) return this._link.url;
            if (typeof this._provider.resolveLink === 'function') return Promise.resolve(this._provider.resolveLink(this._link, token)).then((value)=>{
                this._link = value || this._link;
                if (this._link.url) // recurse
                return this.resolve(token);
                return Promise.reject(new Error('missing'));
            });
            return Promise.reject(new Error('missing'));
        });
    }
    constructor(link, provider){
        this._link = link;
        this._provider = provider;
    }
}
class $f4fcb51937a0fb4f$export$adce7cd866adc18b {
    dispose() {
        this._disposables.dispose();
        this.links.length = 0;
    }
    static _union(oldLinks, newLinks) {
        // reunite oldLinks with newLinks and remove duplicates
        let result = [];
        let oldIndex;
        let oldLen;
        let newIndex;
        let newLen;
        for(oldIndex = 0, newIndex = 0, oldLen = oldLinks.length, newLen = newLinks.length; oldIndex < oldLen && newIndex < newLen;){
            const oldLink = oldLinks[oldIndex];
            const newLink = newLinks[newIndex];
            if ($1YFxJ.Range.areIntersectingOrTouching(oldLink.range, newLink.range)) {
                // Remove the oldLink
                oldIndex++;
                continue;
            }
            const comparisonResult = $1YFxJ.Range.compareRangesUsingStarts(oldLink.range, newLink.range);
            if (comparisonResult < 0) {
                // oldLink is before
                result.push(oldLink);
                oldIndex++;
            } else {
                // newLink is before
                result.push(newLink);
                newIndex++;
            }
        }
        for(; oldIndex < oldLen; oldIndex++)result.push(oldLinks[oldIndex]);
        for(; newIndex < newLen; newIndex++)result.push(newLinks[newIndex]);
        return result;
    }
    constructor(tuples){
        this._disposables = new $6W1JA.DisposableStore();
        let links = [];
        for (const [list, provider] of tuples){
            // merge all links
            const newLinks = list.links.map((link)=>new $f4fcb51937a0fb4f$export$a6c7ac8248d6e38a(link, provider)
            );
            links = $f4fcb51937a0fb4f$export$adce7cd866adc18b._union(links, newLinks);
            // register disposables
            if ($6W1JA.isDisposable(list)) this._disposables.add(list);
        }
        this.links = links;
    }
}
function $f4fcb51937a0fb4f$export$8054dcb2b42da45c(model, token) {
    const lists = [];
    // ask all providers for links in parallel
    const promises = $goPht.LinkProviderRegistry.ordered(model).reverse().map((provider, i)=>{
        return Promise.resolve(provider.provideLinks(model, token)).then((result)=>{
            if (result) lists[i] = [
                result,
                provider
            ];
        }, $3FsT3.onUnexpectedExternalError);
    });
    return Promise.all(promises).then(()=>{
        const result = new $f4fcb51937a0fb4f$export$adce7cd866adc18b($duSG1.coalesce(lists));
        if (!token.isCancellationRequested) return result;
        result.dispose();
        return new $f4fcb51937a0fb4f$export$adce7cd866adc18b([]);
    });
}
$c0VS7.CommandsRegistry.registerCommand('_executeLinkProvider', (accessor, ...args)=>$f4fcb51937a0fb4f$var$__awaiter(void 0, void 0, void 0, function*() {
        let [uri, resolveCount] = args;
        $erLC3.assertType(uri instanceof $bUZVY.URI);
        if (typeof resolveCount !== 'number') resolveCount = 0;
        const model = accessor.get($75At3.IModelService).getModel(uri);
        if (!model) return [];
        const list = yield $f4fcb51937a0fb4f$export$8054dcb2b42da45c(model, $1vhHo.CancellationToken.None);
        if (!list) return [];
        // resolve links
        for(let i = 0; i < Math.min(resolveCount, list.links.length); i++)yield list.links[i].resolve($1vhHo.CancellationToken.None);
        const result = list.links.slice(0);
        list.dispose();
        return result;
    })
);



var $1WuVQ = parcelRequire("1WuVQ");

var $7MTz8 = parcelRequire("7MTz8");

var $3jCpu = parcelRequire("3jCpu");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $5860a6adaa8da63b$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $5860a6adaa8da63b$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $5860a6adaa8da63b$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
function $5860a6adaa8da63b$var$getHoverMessage(link, useMetaKey) {
    const executeCmd = link.url && /^command:/i.test(link.url.toString());
    const label = link.tooltip ? link.tooltip : executeCmd ? $1WuVQ.localize('links.navigate.executeCmd', 'Execute command') : $1WuVQ.localize('links.navigate.follow', 'Follow link');
    const kb = useMetaKey ? $7e5Mc.isMacintosh ? $1WuVQ.localize('links.navigate.kb.meta.mac', "cmd + click") : $1WuVQ.localize('links.navigate.kb.meta', "ctrl + click") : $7e5Mc.isMacintosh ? $1WuVQ.localize('links.navigate.kb.alt.mac', "option + click") : $1WuVQ.localize('links.navigate.kb.alt', "alt + click");
    if (link.url) {
        let nativeLabel = '';
        if (/^command:/i.test(link.url.toString())) {
            // Don't show complete command arguments in the native tooltip
            const match = link.url.toString().match(/^command:([^?#]+)/);
            if (match) {
                const commandId = match[1];
                const nativeLabelText = $1WuVQ.localize('tooltip.explanation', "Execute command {0}", commandId);
                nativeLabel = ` "${nativeLabelText}"`;
            }
        }
        const hoverMessage = new $eeQ9E.MarkdownString('', true).appendMarkdown(`[${label}](${link.url.toString(true).replace(/ /g, '%20')}${nativeLabel}) (${kb})`);
        return hoverMessage;
    } else return new $eeQ9E.MarkdownString().appendText(`${label} (${kb})`);
}
const $5860a6adaa8da63b$var$decoration = {
    general: $72tIz.ModelDecorationOptions.register({
        description: 'detected-link',
        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
        collapseOnReplaceEdit: true,
        inlineClassName: 'detected-link'
    }),
    active: $72tIz.ModelDecorationOptions.register({
        description: 'detected-link-active',
        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
        collapseOnReplaceEdit: true,
        inlineClassName: 'detected-link-active'
    })
};
class $5860a6adaa8da63b$var$LinkOccurrence {
    static decoration(link, useMetaKey) {
        return {
            range: link.range,
            options: $5860a6adaa8da63b$var$LinkOccurrence._getOptions(link, useMetaKey, false)
        };
    }
    static _getOptions(link, useMetaKey, isActive) {
        const options = Object.assign({}, isActive ? $5860a6adaa8da63b$var$decoration.active : $5860a6adaa8da63b$var$decoration.general);
        options.hoverMessage = $5860a6adaa8da63b$var$getHoverMessage(link, useMetaKey);
        return options;
    }
    activate(changeAccessor, useMetaKey) {
        changeAccessor.changeDecorationOptions(this.decorationId, $5860a6adaa8da63b$var$LinkOccurrence._getOptions(this.link, useMetaKey, true));
    }
    deactivate(changeAccessor, useMetaKey) {
        changeAccessor.changeDecorationOptions(this.decorationId, $5860a6adaa8da63b$var$LinkOccurrence._getOptions(this.link, useMetaKey, false));
    }
    constructor(link, decorationId){
        this.link = link;
        this.decorationId = decorationId;
    }
}
let $5860a6adaa8da63b$export$e173163e3618783f = class $5860a6adaa8da63b$export$e173163e3618783f {
    static get(editor) {
        return editor.getContribution($5860a6adaa8da63b$export$e173163e3618783f.ID);
    }
    onModelChanged() {
        this.currentOccurrences = {};
        this.activeLinkDecorationId = null;
        this.stop();
        this.beginCompute();
    }
    onModelModeChanged() {
        this.stop();
        this.beginCompute();
    }
    onChange() {
        this.timeout.setIfNotSet(()=>this.beginCompute()
        , $5860a6adaa8da63b$export$e173163e3618783f.RECOMPUTE_TIME);
    }
    beginCompute() {
        return $5860a6adaa8da63b$var$__awaiter(this, void 0, void 0, function*() {
            if (!this.editor.hasModel() || !this.enabled) return;
            const model = this.editor.getModel();
            if (!$goPht.LinkProviderRegistry.has(model)) return;
            if (this.activeLinksList) {
                this.activeLinksList.dispose();
                this.activeLinksList = null;
            }
            this.computePromise = $5piST.createCancelablePromise((token)=>$f4fcb51937a0fb4f$exports.getLinks(model, token)
            );
            try {
                this.activeLinksList = yield this.computePromise;
                this.updateDecorations(this.activeLinksList.links);
            } catch (err) {
                $3FsT3.onUnexpectedError(err);
            } finally{
                this.computePromise = null;
            }
        });
    }
    updateDecorations(links) {
        const useMetaKey = this.editor.getOption(69 /* multiCursorModifier */ ) === 'altKey';
        let oldDecorations = [];
        let keys = Object.keys(this.currentOccurrences);
        for(let i = 0, len = keys.length; i < len; i++){
            let decorationId = keys[i];
            let occurance = this.currentOccurrences[decorationId];
            oldDecorations.push(occurance.decorationId);
        }
        let newDecorations = [];
        if (links) // Not sure why this is sometimes null
        for (const link of links)newDecorations.push($5860a6adaa8da63b$var$LinkOccurrence.decoration(link, useMetaKey));
        let decorations = this.editor.deltaDecorations(oldDecorations, newDecorations);
        this.currentOccurrences = {};
        this.activeLinkDecorationId = null;
        for(let i1 = 0, len1 = decorations.length; i1 < len1; i1++){
            let occurance = new $5860a6adaa8da63b$var$LinkOccurrence(links[i1], decorations[i1]);
            this.currentOccurrences[occurance.decorationId] = occurance;
        }
    }
    _onEditorMouseMove(mouseEvent, withKey) {
        const useMetaKey = this.editor.getOption(69 /* multiCursorModifier */ ) === 'altKey';
        if (this.isEnabled(mouseEvent, withKey)) {
            this.cleanUpActiveLinkDecoration(); // always remove previous link decoration as their can only be one
            const occurrence = this.getLinkOccurrence(mouseEvent.target.position);
            if (occurrence) this.editor.changeDecorations((changeAccessor)=>{
                occurrence.activate(changeAccessor, useMetaKey);
                this.activeLinkDecorationId = occurrence.decorationId;
            });
        } else this.cleanUpActiveLinkDecoration();
    }
    cleanUpActiveLinkDecoration() {
        const useMetaKey = this.editor.getOption(69 /* multiCursorModifier */ ) === 'altKey';
        if (this.activeLinkDecorationId) {
            const occurrence = this.currentOccurrences[this.activeLinkDecorationId];
            if (occurrence) this.editor.changeDecorations((changeAccessor)=>{
                occurrence.deactivate(changeAccessor, useMetaKey);
            });
            this.activeLinkDecorationId = null;
        }
    }
    onEditorMouseUp(mouseEvent) {
        if (!this.isEnabled(mouseEvent)) return;
        const occurrence = this.getLinkOccurrence(mouseEvent.target.position);
        if (!occurrence) return;
        this.openLinkOccurrence(occurrence, mouseEvent.hasSideBySideModifier, true);
    }
    openLinkOccurrence(occurrence, openToSide, fromUserGesture = false) {
        if (!this.openerService) return;
        const { link: link  } = occurrence;
        link.resolve($1vhHo.CancellationToken.None).then((uri)=>{
            // Support for relative file URIs of the shape file://./relativeFile.txt or file:///./relativeFile.txt
            if (typeof uri === 'string' && this.editor.hasModel()) {
                const modelUri = this.editor.getModel().uri;
                if (modelUri.scheme === $fA94G.Schemas.file && uri.startsWith(`${$fA94G.Schemas.file}:`)) {
                    const parsedUri = $bUZVY.URI.parse(uri);
                    if (parsedUri.scheme === $fA94G.Schemas.file) {
                        const fsPath = $lvxAj.originalFSPath(parsedUri);
                        let relativePath = null;
                        if (fsPath.startsWith('/./')) relativePath = `.${fsPath.substr(1)}`;
                        else if (fsPath.startsWith('//./')) relativePath = `.${fsPath.substr(2)}`;
                        if (relativePath) uri = $lvxAj.joinPath(modelUri, relativePath);
                    }
                }
            }
            return this.openerService.open(uri, {
                openToSide: openToSide,
                fromUserGesture: fromUserGesture,
                allowContributedOpeners: true,
                allowCommands: true
            });
        }, (err)=>{
            const messageOrError = err instanceof Error ? err.message : err;
            // different error cases
            if (messageOrError === 'invalid') this.notificationService.warn($1WuVQ.localize('invalid.url', 'Failed to open this link because it is not well-formed: {0}', link.url.toString()));
            else if (messageOrError === 'missing') this.notificationService.warn($1WuVQ.localize('missing.url', 'Failed to open this link because its target is missing.'));
            else $3FsT3.onUnexpectedError(err);
        });
    }
    getLinkOccurrence(position) {
        if (!this.editor.hasModel() || !position) return null;
        const decorations = this.editor.getModel().getDecorationsInRange({
            startLineNumber: position.lineNumber,
            startColumn: position.column,
            endLineNumber: position.lineNumber,
            endColumn: position.column
        }, 0, true);
        for (const decoration of decorations){
            const currentOccurrence = this.currentOccurrences[decoration.id];
            if (currentOccurrence) return currentOccurrence;
        }
        return null;
    }
    isEnabled(mouseEvent, withKey) {
        return Boolean(mouseEvent.target.type === 6 /* CONTENT_TEXT */  && (mouseEvent.hasTriggerModifier || withKey && withKey.keyCodeIsTriggerKey));
    }
    stop() {
        var _a;
        this.timeout.cancel();
        if (this.activeLinksList) {
            (_a = this.activeLinksList) === null || _a === void 0 || _a.dispose();
            this.activeLinksList = null;
        }
        if (this.computePromise) {
            this.computePromise.cancel();
            this.computePromise = null;
        }
    }
    dispose() {
        this.listenersToRemove.dispose();
        this.stop();
        this.timeout.dispose();
    }
    constructor(editor, openerService, notificationService){
        this.listenersToRemove = new $6W1JA.DisposableStore();
        this.editor = editor;
        this.openerService = openerService;
        this.notificationService = notificationService;
        let clickLinkGesture = new $b72495b84fdc3258$export$e5a83b5c609cb4bb(editor);
        this.listenersToRemove.add(clickLinkGesture);
        this.listenersToRemove.add(clickLinkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent, keyboardEvent])=>{
            this._onEditorMouseMove(mouseEvent, keyboardEvent);
        }));
        this.listenersToRemove.add(clickLinkGesture.onExecute((e)=>{
            this.onEditorMouseUp(e);
        }));
        this.listenersToRemove.add(clickLinkGesture.onCancel((e)=>{
            this.cleanUpActiveLinkDecoration();
        }));
        this.enabled = editor.getOption(62 /* links */ );
        this.listenersToRemove.add(editor.onDidChangeConfiguration((e)=>{
            const enabled = editor.getOption(62 /* links */ );
            if (this.enabled === enabled) // No change in our configuration option
            return;
            this.enabled = enabled;
            // Remove any links (for the getting disabled case)
            this.updateDecorations([]);
            // Stop any computation (for the getting disabled case)
            this.stop();
            // Start computing (for the getting enabled case)
            this.beginCompute();
        }));
        this.listenersToRemove.add(editor.onDidChangeModelContent((e)=>this.onChange()
        ));
        this.listenersToRemove.add(editor.onDidChangeModel((e)=>this.onModelChanged()
        ));
        this.listenersToRemove.add(editor.onDidChangeModelLanguage((e)=>this.onModelModeChanged()
        ));
        this.listenersToRemove.add($goPht.LinkProviderRegistry.onDidChange((e)=>this.onModelModeChanged()
        ));
        this.timeout = new $5piST.TimeoutTimer();
        this.computePromise = null;
        this.activeLinksList = null;
        this.currentOccurrences = {};
        this.activeLinkDecorationId = null;
        this.beginCompute();
    }
};
$5860a6adaa8da63b$export$e173163e3618783f.ID = 'editor.linkDetector';
$5860a6adaa8da63b$export$e173163e3618783f.RECOMPUTE_TIME = 1000; // ms
$5860a6adaa8da63b$export$e173163e3618783f = $5860a6adaa8da63b$var$__decorate([
    $5860a6adaa8da63b$var$__param(1, $3jCpu.IOpenerService),
    $5860a6adaa8da63b$var$__param(2, $7MTz8.INotificationService)
], $5860a6adaa8da63b$export$e173163e3618783f);
class $5860a6adaa8da63b$var$OpenLinkAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let linkDetector = $5860a6adaa8da63b$export$e173163e3618783f.get(editor);
        if (!linkDetector) return;
        if (!editor.hasModel()) return;
        let selections = editor.getSelections();
        for (let sel of selections){
            let link = linkDetector.getLinkOccurrence(sel.getEndPosition());
            if (link) linkDetector.openLinkOccurrence(link, false);
        }
    }
    constructor(){
        super({
            id: 'editor.action.openLink',
            label: $1WuVQ.localize('label', "Open Link"),
            alias: 'Open Link',
            precondition: undefined
        });
    }
}
$g9Zlr.registerEditorContribution($5860a6adaa8da63b$export$e173163e3618783f.ID, $5860a6adaa8da63b$export$e173163e3618783f);
$g9Zlr.registerEditorAction($5860a6adaa8da63b$var$OpenLinkAction);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const activeLinkForeground = theme.getColor($kL4Ig.editorActiveLinkForeground);
    if (activeLinkForeground) collector.addRule(`.monaco-editor .detected-link-active { color: ${activeLinkForeground} !important; }`);
});



var $6eCoB = parcelRequire("6eCoB");

var $5piST = parcelRequire("5piST");

var $ecpYn = parcelRequire("ecpYn");

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $kPD7f = parcelRequire("kPD7f");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");

var $96X4O = parcelRequire("96X4O");

var $72tIz = parcelRequire("72tIz");

var $goPht = parcelRequire("goPht");


var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $h4kGX = parcelRequire("h4kGX");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
function $ce17943a549c5ba1$var$announceCursorChange(previousCursorState, cursorState) {
    const cursorDiff = cursorState.filter((cs)=>!previousCursorState.find((pcs)=>pcs.equals(cs)
        )
    );
    if (cursorDiff.length >= 1) {
        const cursorPositions = cursorDiff.map((cs)=>`line ${cs.viewState.position.lineNumber} column ${cs.viewState.position.column}`
        ).join(', ');
        const msg = cursorDiff.length === 1 ? $1WuVQ.localize('cursorAdded', "Cursor added: {0}", cursorPositions) : $1WuVQ.localize('cursorsAdded', "Cursors added: {0}", cursorPositions);
        $6eCoB.status(msg);
    }
}
class $ce17943a549c5ba1$export$a2a103e44264bbeb extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        if (!editor.hasModel()) return;
        let useLogicalLine = true;
        if (args && args.logicalLine === false) useLogicalLine = false;
        const viewModel = editor._getViewModel();
        if (viewModel.cursorConfig.readOnly) return;
        viewModel.pushStackElement();
        const previousCursorState = viewModel.getCursorStates();
        viewModel.setCursorStates(args.source, 3 /* Explicit */ , $kPD7f.CursorMoveCommands.addCursorUp(viewModel, previousCursorState, useLogicalLine));
        viewModel.revealTopMostCursor(args.source);
        $ce17943a549c5ba1$var$announceCursorChange(previousCursorState, viewModel.getCursorStates());
    }
    constructor(){
        super({
            id: 'editor.action.insertCursorAbove',
            label: $1WuVQ.localize('mutlicursor.insertAbove', "Add Cursor Above"),
            alias: 'Add Cursor Above',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2576 /* UpArrow */ ,
                linux: {
                    primary: 1552 /* UpArrow */ ,
                    secondary: [
                        3088 /* UpArrow */ 
                    ]
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '3_multi',
                title: $1WuVQ.localize({
                    key: 'miInsertCursorAbove',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "&&Add Cursor Above"),
                order: 2
            }
        });
    }
}
class $ce17943a549c5ba1$export$a0aca99842abcc90 extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        if (!editor.hasModel()) return;
        let useLogicalLine = true;
        if (args && args.logicalLine === false) useLogicalLine = false;
        const viewModel = editor._getViewModel();
        if (viewModel.cursorConfig.readOnly) return;
        viewModel.pushStackElement();
        const previousCursorState = viewModel.getCursorStates();
        viewModel.setCursorStates(args.source, 3 /* Explicit */ , $kPD7f.CursorMoveCommands.addCursorDown(viewModel, previousCursorState, useLogicalLine));
        viewModel.revealBottomMostCursor(args.source);
        $ce17943a549c5ba1$var$announceCursorChange(previousCursorState, viewModel.getCursorStates());
    }
    constructor(){
        super({
            id: 'editor.action.insertCursorBelow',
            label: $1WuVQ.localize('mutlicursor.insertBelow', "Add Cursor Below"),
            alias: 'Add Cursor Below',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2578 /* DownArrow */ ,
                linux: {
                    primary: 1554 /* DownArrow */ ,
                    secondary: [
                        3090 /* DownArrow */ 
                    ]
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '3_multi',
                title: $1WuVQ.localize({
                    key: 'miInsertCursorBelow',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "A&&dd Cursor Below"),
                order: 3
            }
        });
    }
}
class $ce17943a549c5ba1$var$InsertCursorAtEndOfEachLineSelected extends $g9Zlr.EditorAction {
    getCursorsForSelection(selection, model, result) {
        if (selection.isEmpty()) return;
        for(let i = selection.startLineNumber; i < selection.endLineNumber; i++){
            let currentLineMaxColumn = model.getLineMaxColumn(i);
            result.push(new $jS6at.Selection(i, currentLineMaxColumn, i, currentLineMaxColumn));
        }
        if (selection.endColumn > 1) result.push(new $jS6at.Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn));
    }
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        const model = editor.getModel();
        const selections = editor.getSelections();
        const viewModel = editor._getViewModel();
        const previousCursorState = viewModel.getCursorStates();
        let newSelections = [];
        selections.forEach((sel)=>this.getCursorsForSelection(sel, model, newSelections)
        );
        if (newSelections.length > 0) editor.setSelections(newSelections);
        $ce17943a549c5ba1$var$announceCursorChange(previousCursorState, viewModel.getCursorStates());
    }
    constructor(){
        super({
            id: 'editor.action.insertCursorAtEndOfEachLineSelected',
            label: $1WuVQ.localize('mutlicursor.insertAtEndOfEachLineSelected', "Add Cursors to Line Ends"),
            alias: 'Add Cursors to Line Ends',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1575 /* KeyI */ ,
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '3_multi',
                title: $1WuVQ.localize({
                    key: 'miInsertCursorAtEndOfEachLineSelected',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Add C&&ursors to Line Ends"),
                order: 4
            }
        });
    }
}
class $ce17943a549c5ba1$var$InsertCursorAtEndOfLineSelected extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        const selections = editor.getSelections();
        const lineCount = editor.getModel().getLineCount();
        let newSelections = [];
        for(let i = selections[0].startLineNumber; i <= lineCount; i++)newSelections.push(new $jS6at.Selection(i, selections[0].startColumn, i, selections[0].endColumn));
        const viewModel = editor._getViewModel();
        const previousCursorState = viewModel.getCursorStates();
        if (newSelections.length > 0) editor.setSelections(newSelections);
        $ce17943a549c5ba1$var$announceCursorChange(previousCursorState, viewModel.getCursorStates());
    }
    constructor(){
        super({
            id: 'editor.action.addCursorsToBottom',
            label: $1WuVQ.localize('mutlicursor.addCursorsToBottom', "Add Cursors To Bottom"),
            alias: 'Add Cursors To Bottom',
            precondition: undefined
        });
    }
}
class $ce17943a549c5ba1$var$InsertCursorAtTopOfLineSelected extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        const selections = editor.getSelections();
        let newSelections = [];
        for(let i = selections[0].startLineNumber; i >= 1; i--)newSelections.push(new $jS6at.Selection(i, selections[0].startColumn, i, selections[0].endColumn));
        const viewModel = editor._getViewModel();
        const previousCursorState = viewModel.getCursorStates();
        if (newSelections.length > 0) editor.setSelections(newSelections);
        $ce17943a549c5ba1$var$announceCursorChange(previousCursorState, viewModel.getCursorStates());
    }
    constructor(){
        super({
            id: 'editor.action.addCursorsToTop',
            label: $1WuVQ.localize('mutlicursor.addCursorsToTop', "Add Cursors To Top"),
            alias: 'Add Cursors To Top',
            precondition: undefined
        });
    }
}
class $ce17943a549c5ba1$export$c53027d5280f35e5 {
    constructor(selections, revealRange, revealScrollType){
        this.selections = selections;
        this.revealRange = revealRange;
        this.revealScrollType = revealScrollType;
    }
}
class $ce17943a549c5ba1$export$3eae6fd7223f22ab {
    static create(editor, findController) {
        if (!editor.hasModel()) return null;
        const findState = findController.getState();
        // Find widget owns entirely what we search for if:
        //  - focus is not in the editor (i.e. it is in the find widget)
        //  - and the search widget is visible
        //  - and the search string is non-empty
        if (!editor.hasTextFocus() && findState.isRevealed && findState.searchString.length > 0) // Find widget owns what is searched for
        return new $ce17943a549c5ba1$export$3eae6fd7223f22ab(editor, findController, false, findState.searchString, findState.wholeWord, findState.matchCase, null);
        // Otherwise, the selection gives the search text, and the find widget gives the search settings
        // The exception is the find state disassociation case: when beginning with a single, collapsed selection
        let isDisconnectedFromFindController = false;
        let wholeWord;
        let matchCase;
        const selections = editor.getSelections();
        if (selections.length === 1 && selections[0].isEmpty()) {
            isDisconnectedFromFindController = true;
            wholeWord = true;
            matchCase = true;
        } else {
            wholeWord = findState.wholeWord;
            matchCase = findState.matchCase;
        }
        // Selection owns what is searched for
        const s = editor.getSelection();
        let searchText;
        let currentMatch = null;
        if (s.isEmpty()) {
            // selection is empty => expand to current word
            const word = editor.getConfiguredWordAtPosition(s.getStartPosition());
            if (!word) return null;
            searchText = word.word;
            currentMatch = new $jS6at.Selection(s.startLineNumber, word.startColumn, s.startLineNumber, word.endColumn);
        } else searchText = editor.getModel().getValueInRange(s).replace(/\r\n/g, '\n');
        return new $ce17943a549c5ba1$export$3eae6fd7223f22ab(editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch);
    }
    addSelectionToNextFindMatch() {
        if (!this._editor.hasModel()) return null;
        const nextMatch = this._getNextMatch();
        if (!nextMatch) return null;
        const allSelections = this._editor.getSelections();
        return new $ce17943a549c5ba1$export$c53027d5280f35e5(allSelections.concat(nextMatch), nextMatch, 0 /* Smooth */ );
    }
    moveSelectionToNextFindMatch() {
        if (!this._editor.hasModel()) return null;
        const nextMatch = this._getNextMatch();
        if (!nextMatch) return null;
        const allSelections = this._editor.getSelections();
        return new $ce17943a549c5ba1$export$c53027d5280f35e5(allSelections.slice(0, allSelections.length - 1).concat(nextMatch), nextMatch, 0 /* Smooth */ );
    }
    _getNextMatch() {
        if (!this._editor.hasModel()) return null;
        if (this.currentMatch) {
            const result = this.currentMatch;
            this.currentMatch = null;
            return result;
        }
        this.findController.highlightFindOptions();
        const allSelections = this._editor.getSelections();
        const lastAddedSelection = allSelections[allSelections.length - 1];
        const nextMatch = this._editor.getModel().findNextMatch(this.searchText, lastAddedSelection.getEndPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, false);
        if (!nextMatch) return null;
        return new $jS6at.Selection(nextMatch.range.startLineNumber, nextMatch.range.startColumn, nextMatch.range.endLineNumber, nextMatch.range.endColumn);
    }
    addSelectionToPreviousFindMatch() {
        if (!this._editor.hasModel()) return null;
        const previousMatch = this._getPreviousMatch();
        if (!previousMatch) return null;
        const allSelections = this._editor.getSelections();
        return new $ce17943a549c5ba1$export$c53027d5280f35e5(allSelections.concat(previousMatch), previousMatch, 0 /* Smooth */ );
    }
    moveSelectionToPreviousFindMatch() {
        if (!this._editor.hasModel()) return null;
        const previousMatch = this._getPreviousMatch();
        if (!previousMatch) return null;
        const allSelections = this._editor.getSelections();
        return new $ce17943a549c5ba1$export$c53027d5280f35e5(allSelections.slice(0, allSelections.length - 1).concat(previousMatch), previousMatch, 0 /* Smooth */ );
    }
    _getPreviousMatch() {
        if (!this._editor.hasModel()) return null;
        if (this.currentMatch) {
            const result = this.currentMatch;
            this.currentMatch = null;
            return result;
        }
        this.findController.highlightFindOptions();
        const allSelections = this._editor.getSelections();
        const lastAddedSelection = allSelections[allSelections.length - 1];
        const previousMatch = this._editor.getModel().findPreviousMatch(this.searchText, lastAddedSelection.getStartPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, false);
        if (!previousMatch) return null;
        return new $jS6at.Selection(previousMatch.range.startLineNumber, previousMatch.range.startColumn, previousMatch.range.endLineNumber, previousMatch.range.endColumn);
    }
    selectAll() {
        if (!this._editor.hasModel()) return [];
        this.findController.highlightFindOptions();
        return this._editor.getModel().findMatches(this.searchText, true, false, this.matchCase, this.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */ );
    }
    constructor(_editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch){
        this._editor = _editor;
        this.findController = findController;
        this.isDisconnectedFromFindController = isDisconnectedFromFindController;
        this.searchText = searchText;
        this.wholeWord = wholeWord;
        this.matchCase = matchCase;
        this.currentMatch = currentMatch;
    }
}
class $ce17943a549c5ba1$export$72ef690ee4064f04 extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution($ce17943a549c5ba1$export$72ef690ee4064f04.ID);
    }
    dispose() {
        this._endSession();
        super.dispose();
    }
    _beginSessionIfNeeded(findController) {
        if (!this._session) {
            // Create a new session
            const session = $ce17943a549c5ba1$export$3eae6fd7223f22ab.create(this._editor, findController);
            if (!session) return;
            this._session = session;
            const newState = {
                searchString: this._session.searchText
            };
            if (this._session.isDisconnectedFromFindController) {
                newState.wholeWordOverride = 1 /* True */ ;
                newState.matchCaseOverride = 1 /* True */ ;
                newState.isRegexOverride = 2 /* False */ ;
            }
            findController.getState().change(newState, false);
            this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e)=>{
                if (this._ignoreSelectionChange) return;
                this._endSession();
            }));
            this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{
                this._endSession();
            }));
            this._sessionDispose.add(findController.getState().onFindReplaceStateChange((e)=>{
                if (e.matchCase || e.wholeWord) this._endSession();
            }));
        }
    }
    _endSession() {
        this._sessionDispose.clear();
        if (this._session && this._session.isDisconnectedFromFindController) {
            const newState = {
                wholeWordOverride: 0 /* NotSet */ ,
                matchCaseOverride: 0 /* NotSet */ ,
                isRegexOverride: 0 /* NotSet */ 
            };
            this._session.findController.getState().change(newState, false);
        }
        this._session = null;
    }
    _setSelections(selections) {
        this._ignoreSelectionChange = true;
        this._editor.setSelections(selections);
        this._ignoreSelectionChange = false;
    }
    _expandEmptyToWord(model, selection) {
        if (!selection.isEmpty()) return selection;
        const word = this._editor.getConfiguredWordAtPosition(selection.getStartPosition());
        if (!word) return selection;
        return new $jS6at.Selection(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);
    }
    _applySessionResult(result) {
        if (!result) return;
        this._setSelections(result.selections);
        if (result.revealRange) this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange, result.revealScrollType);
    }
    getSession(findController) {
        return this._session;
    }
    addSelectionToNextFindMatch(findController) {
        if (!this._editor.hasModel()) return;
        if (!this._session) {
            // If there are multiple cursors, handle the case where they do not all select the same text.
            const allSelections = this._editor.getSelections();
            if (allSelections.length > 1) {
                const findState = findController.getState();
                const matchCase = findState.matchCase;
                const selectionsContainSameText = $ce17943a549c5ba1$var$modelRangesContainSameText(this._editor.getModel(), allSelections, matchCase);
                if (!selectionsContainSameText) {
                    const model = this._editor.getModel();
                    let resultingSelections = [];
                    for(let i = 0, len = allSelections.length; i < len; i++)resultingSelections[i] = this._expandEmptyToWord(model, allSelections[i]);
                    this._editor.setSelections(resultingSelections);
                    return;
                }
            }
        }
        this._beginSessionIfNeeded(findController);
        if (this._session) this._applySessionResult(this._session.addSelectionToNextFindMatch());
    }
    addSelectionToPreviousFindMatch(findController) {
        this._beginSessionIfNeeded(findController);
        if (this._session) this._applySessionResult(this._session.addSelectionToPreviousFindMatch());
    }
    moveSelectionToNextFindMatch(findController) {
        this._beginSessionIfNeeded(findController);
        if (this._session) this._applySessionResult(this._session.moveSelectionToNextFindMatch());
    }
    moveSelectionToPreviousFindMatch(findController) {
        this._beginSessionIfNeeded(findController);
        if (this._session) this._applySessionResult(this._session.moveSelectionToPreviousFindMatch());
    }
    selectAll(findController) {
        if (!this._editor.hasModel()) return;
        let matches = null;
        const findState = findController.getState();
        // Special case: find widget owns entirely what we search for if:
        // - focus is not in the editor (i.e. it is in the find widget)
        // - and the search widget is visible
        // - and the search string is non-empty
        // - and we're searching for a regex
        if (findState.isRevealed && findState.searchString.length > 0 && findState.isRegex) matches = this._editor.getModel().findMatches(findState.searchString, true, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(116 /* wordSeparators */ ) : null, false, 1073741824 /* MAX_SAFE_SMALL_INTEGER */ );
        else {
            this._beginSessionIfNeeded(findController);
            if (!this._session) return;
            matches = this._session.selectAll();
        }
        if (findState.searchScope) {
            const states = findState.searchScope;
            let inSelection = [];
            matches.forEach((match)=>{
                states.forEach((state)=>{
                    if (match.range.endLineNumber <= state.endLineNumber && match.range.startLineNumber >= state.startLineNumber) inSelection.push(match);
                });
            });
            matches = inSelection;
        }
        if (matches.length > 0) {
            const editorSelection = this._editor.getSelection();
            // Have the primary cursor remain the one where the action was invoked
            for(let i = 0, len = matches.length; i < len; i++){
                const match = matches[i];
                const intersection = match.range.intersectRanges(editorSelection);
                if (intersection) {
                    // bingo!
                    matches[i] = matches[0];
                    matches[0] = match;
                    break;
                }
            }
            this._setSelections(matches.map((m)=>new $jS6at.Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn)
            ));
        }
    }
    constructor(editor){
        super();
        this._sessionDispose = this._register(new $6W1JA.DisposableStore());
        this._editor = editor;
        this._ignoreSelectionChange = false;
        this._session = null;
    }
}
$ce17943a549c5ba1$export$72ef690ee4064f04.ID = 'editor.contrib.multiCursorController';
class $ce17943a549c5ba1$export$7117bb1c55f1db87 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const multiCursorController = $ce17943a549c5ba1$export$72ef690ee4064f04.get(editor);
        if (!multiCursorController) return;
        const findController = $d0d3d74e57b5f086$exports.CommonFindController.get(editor);
        if (!findController) return;
        const viewModel = editor._getViewModel();
        if (viewModel) {
            const previousCursorState = viewModel.getCursorStates();
            this._run(multiCursorController, findController);
            $ce17943a549c5ba1$var$announceCursorChange(previousCursorState, viewModel.getCursorStates());
        }
    }
}
class $ce17943a549c5ba1$export$8f076283f2167b25 extends $ce17943a549c5ba1$export$7117bb1c55f1db87 {
    _run(multiCursorController, findController) {
        multiCursorController.addSelectionToNextFindMatch(findController);
    }
    constructor(){
        super({
            id: 'editor.action.addSelectionToNextFindMatch',
            label: $1WuVQ.localize('addSelectionToNextFindMatch', "Add Selection To Next Find Match"),
            alias: 'Add Selection To Next Find Match',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 2082 /* KeyD */ ,
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '3_multi',
                title: $1WuVQ.localize({
                    key: 'miAddSelectionToNextFindMatch',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Add &&Next Occurrence"),
                order: 5
            }
        });
    }
}
class $ce17943a549c5ba1$export$18b95272d65addf8 extends $ce17943a549c5ba1$export$7117bb1c55f1db87 {
    _run(multiCursorController, findController) {
        multiCursorController.addSelectionToPreviousFindMatch(findController);
    }
    constructor(){
        super({
            id: 'editor.action.addSelectionToPreviousFindMatch',
            label: $1WuVQ.localize('addSelectionToPreviousFindMatch', "Add Selection To Previous Find Match"),
            alias: 'Add Selection To Previous Find Match',
            precondition: undefined,
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '3_multi',
                title: $1WuVQ.localize({
                    key: 'miAddSelectionToPreviousFindMatch',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Add P&&revious Occurrence"),
                order: 6
            }
        });
    }
}
class $ce17943a549c5ba1$export$411b7432b064bcf7 extends $ce17943a549c5ba1$export$7117bb1c55f1db87 {
    _run(multiCursorController, findController) {
        multiCursorController.moveSelectionToNextFindMatch(findController);
    }
    constructor(){
        super({
            id: 'editor.action.moveSelectionToNextFindMatch',
            label: $1WuVQ.localize('moveSelectionToNextFindMatch', "Move Last Selection To Next Find Match"),
            alias: 'Move Last Selection To Next Find Match',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: $ecpYn.KeyChord(2089 /* KeyK */ , 2082 /* KeyD */ ),
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $ce17943a549c5ba1$export$1fb22e5b0da21ac2 extends $ce17943a549c5ba1$export$7117bb1c55f1db87 {
    _run(multiCursorController, findController) {
        multiCursorController.moveSelectionToPreviousFindMatch(findController);
    }
    constructor(){
        super({
            id: 'editor.action.moveSelectionToPreviousFindMatch',
            label: $1WuVQ.localize('moveSelectionToPreviousFindMatch', "Move Last Selection To Previous Find Match"),
            alias: 'Move Last Selection To Previous Find Match',
            precondition: undefined
        });
    }
}
class $ce17943a549c5ba1$export$d06ce53b2982cd37 extends $ce17943a549c5ba1$export$7117bb1c55f1db87 {
    _run(multiCursorController, findController) {
        multiCursorController.selectAll(findController);
    }
    constructor(){
        super({
            id: 'editor.action.selectHighlights',
            label: $1WuVQ.localize('selectAllOccurrencesOfFindMatch', "Select All Occurrences of Find Match"),
            alias: 'Select All Occurrences of Find Match',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 3114 /* KeyL */ ,
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '3_multi',
                title: $1WuVQ.localize({
                    key: 'miSelectHighlights',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "Select All &&Occurrences"),
                order: 7
            }
        });
    }
}
class $ce17943a549c5ba1$export$22d364fb7d9f34a3 extends $ce17943a549c5ba1$export$7117bb1c55f1db87 {
    _run(multiCursorController, findController) {
        multiCursorController.selectAll(findController);
    }
    constructor(){
        super({
            id: 'editor.action.changeAll',
            label: $1WuVQ.localize('changeAll.label', "Change All Occurrences"),
            alias: 'Change All Occurrences',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.editorTextFocus),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 2108 /* F2 */ ,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: '1_modification',
                order: 1.2
            }
        });
    }
}
class $ce17943a549c5ba1$var$SelectionHighlighterState {
    findMatches() {
        if (this._cachedFindMatches === null) {
            this._cachedFindMatches = this._model.findMatches(this._searchText, true, false, this._matchCase, this._wordSeparators, false).map((m)=>m.range
            );
            this._cachedFindMatches.sort($1YFxJ.Range.compareRangesUsingStarts);
        }
        return this._cachedFindMatches;
    }
    constructor(_model, _searchText, _matchCase, _wordSeparators, prevState){
        this._model = _model;
        this._searchText = _searchText;
        this._matchCase = _matchCase;
        this._wordSeparators = _wordSeparators;
        this._modelVersionId = this._model.getVersionId();
        this._cachedFindMatches = null;
        if (prevState && this._model === prevState._model && this._searchText === prevState._searchText && this._matchCase === prevState._matchCase && this._wordSeparators === prevState._wordSeparators && this._modelVersionId === prevState._modelVersionId) this._cachedFindMatches = prevState._cachedFindMatches;
    }
}
class $ce17943a549c5ba1$export$e2d3f180605870d2 extends $6W1JA.Disposable {
    _update() {
        this._setState($ce17943a549c5ba1$export$e2d3f180605870d2._createState(this.state, this._isEnabled, this.editor));
    }
    static _createState(oldState, isEnabled, editor) {
        if (!isEnabled) return null;
        if (!editor.hasModel()) return null;
        const s = editor.getSelection();
        if (s.startLineNumber !== s.endLineNumber) // multiline forbidden for perf reasons
        return null;
        const multiCursorController = $ce17943a549c5ba1$export$72ef690ee4064f04.get(editor);
        if (!multiCursorController) return null;
        const findController = $d0d3d74e57b5f086$exports.CommonFindController.get(editor);
        if (!findController) return null;
        let r = multiCursorController.getSession(findController);
        if (!r) {
            const allSelections = editor.getSelections();
            if (allSelections.length > 1) {
                const findState = findController.getState();
                const matchCase = findState.matchCase;
                const selectionsContainSameText = $ce17943a549c5ba1$var$modelRangesContainSameText(editor.getModel(), allSelections, matchCase);
                if (!selectionsContainSameText) return null;
            }
            r = $ce17943a549c5ba1$export$3eae6fd7223f22ab.create(editor, findController);
        }
        if (!r) return null;
        if (r.currentMatch) // This is an empty selection
        // Do not interfere with semantic word highlighting in the no selection case
        return null;
        if (/^[ \t]+$/.test(r.searchText)) // whitespace only selection
        return null;
        if (r.searchText.length > 200) // very long selection
        return null;
        // TODO: better handling of this case
        const findState = findController.getState();
        const caseSensitive = findState.matchCase;
        // Return early if the find widget shows the exact same matches
        if (findState.isRevealed) {
            let findStateSearchString = findState.searchString;
            if (!caseSensitive) findStateSearchString = findStateSearchString.toLowerCase();
            let mySearchString = r.searchText;
            if (!caseSensitive) mySearchString = mySearchString.toLowerCase();
            if (findStateSearchString === mySearchString && r.matchCase === findState.matchCase && r.wholeWord === findState.wholeWord && !findState.isRegex) return null;
        }
        return new $ce17943a549c5ba1$var$SelectionHighlighterState(editor.getModel(), r.searchText, r.matchCase, r.wholeWord ? editor.getOption(116 /* wordSeparators */ ) : null, oldState);
    }
    _setState(newState) {
        this.state = newState;
        if (!this.state) {
            this.decorations = this.editor.deltaDecorations(this.decorations, []);
            return;
        }
        if (!this.editor.hasModel()) return;
        const model = this.editor.getModel();
        if (model.isTooLargeForTokenization()) // the file is too large, so searching word under cursor in the whole document would be blocking the UI.
        return;
        const allMatches = this.state.findMatches();
        const selections = this.editor.getSelections();
        selections.sort($1YFxJ.Range.compareRangesUsingStarts);
        // do not overlap with selection (issue #64 and #512)
        const matches = [];
        for(let i = 0, j = 0, len = allMatches.length, lenJ = selections.length; i < len;){
            const match = allMatches[i];
            if (j >= lenJ) {
                // finished all editor selections
                matches.push(match);
                i++;
            } else {
                const cmp = $1YFxJ.Range.compareRangesUsingStarts(match, selections[j]);
                if (cmp < 0) {
                    // match is before sel
                    if (selections[j].isEmpty() || !$1YFxJ.Range.areIntersecting(match, selections[j])) matches.push(match);
                    i++;
                } else if (cmp > 0) // sel is before match
                j++;
                else {
                    // sel is equal to match
                    i++;
                    j++;
                }
            }
        }
        const hasFindOccurrences = $goPht.DocumentHighlightProviderRegistry.has(model) && this.editor.getOption(71 /* occurrencesHighlight */ );
        const decorations = matches.map((r)=>{
            return {
                range: r,
                // Show in overviewRuler only if model has no semantic highlighting
                options: hasFindOccurrences ? $ce17943a549c5ba1$export$e2d3f180605870d2._SELECTION_HIGHLIGHT : $ce17943a549c5ba1$export$e2d3f180605870d2._SELECTION_HIGHLIGHT_OVERVIEW
            };
        });
        this.decorations = this.editor.deltaDecorations(this.decorations, decorations);
    }
    dispose() {
        this._setState(null);
        super.dispose();
    }
    constructor(editor){
        super();
        this.editor = editor;
        this._isEnabled = editor.getOption(96 /* selectionHighlight */ );
        this.decorations = [];
        this.updateSoon = this._register(new $5piST.RunOnceScheduler(()=>this._update()
        , 300));
        this.state = null;
        this._register(editor.onDidChangeConfiguration((e)=>{
            this._isEnabled = editor.getOption(96 /* selectionHighlight */ );
        }));
        this._register(editor.onDidChangeCursorSelection((e)=>{
            if (!this._isEnabled) // Early exit if nothing needs to be done!
            // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)
            return;
            if (e.selection.isEmpty()) {
                if (e.reason === 3 /* Explicit */ ) {
                    if (this.state) // no longer valid
                    this._setState(null);
                    this.updateSoon.schedule();
                } else this._setState(null);
            } else this._update();
        }));
        this._register(editor.onDidChangeModel((e)=>{
            this._setState(null);
        }));
        this._register(editor.onDidChangeModelContent((e)=>{
            if (this._isEnabled) this.updateSoon.schedule();
        }));
        this._register($d0d3d74e57b5f086$exports.CommonFindController.get(editor).getState().onFindReplaceStateChange((e)=>{
            this._update();
        }));
    }
}
$ce17943a549c5ba1$export$e2d3f180605870d2.ID = 'editor.contrib.selectionHighlighter';
$ce17943a549c5ba1$export$e2d3f180605870d2._SELECTION_HIGHLIGHT_OVERVIEW = $72tIz.ModelDecorationOptions.register({
    description: 'selection-highlight-overview',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'selectionHighlight',
    minimap: {
        color: $5Wwop.themeColorFromId($kL4Ig.minimapSelectionOccurrenceHighlight),
        position: $96X4O.MinimapPosition.Inline
    },
    overviewRuler: {
        color: $5Wwop.themeColorFromId($kL4Ig.overviewRulerSelectionHighlightForeground),
        position: $96X4O.OverviewRulerLane.Center
    }
});
$ce17943a549c5ba1$export$e2d3f180605870d2._SELECTION_HIGHLIGHT = $72tIz.ModelDecorationOptions.register({
    description: 'selection-highlight',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'selectionHighlight'
});
function $ce17943a549c5ba1$var$modelRangesContainSameText(model, ranges, matchCase) {
    const selectedText = $ce17943a549c5ba1$var$getValueInRange(model, ranges[0], !matchCase);
    for(let i = 1, len = ranges.length; i < len; i++){
        const range = ranges[i];
        if (range.isEmpty()) return false;
        const thisSelectedText = $ce17943a549c5ba1$var$getValueInRange(model, range, !matchCase);
        if (selectedText !== thisSelectedText) return false;
    }
    return true;
}
function $ce17943a549c5ba1$var$getValueInRange(model, range, toLowerCase) {
    const text = model.getValueInRange(range);
    return toLowerCase ? text.toLowerCase() : text;
}
$g9Zlr.registerEditorContribution($ce17943a549c5ba1$export$72ef690ee4064f04.ID, $ce17943a549c5ba1$export$72ef690ee4064f04);
$g9Zlr.registerEditorContribution($ce17943a549c5ba1$export$e2d3f180605870d2.ID, $ce17943a549c5ba1$export$e2d3f180605870d2);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$export$a2a103e44264bbeb);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$export$a0aca99842abcc90);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$var$InsertCursorAtEndOfEachLineSelected);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$export$8f076283f2167b25);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$export$18b95272d65addf8);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$export$411b7432b064bcf7);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$export$1fb22e5b0da21ac2);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$export$d06ce53b2982cd37);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$export$22d364fb7d9f34a3);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$var$InsertCursorAtEndOfLineSelected);
$g9Zlr.registerEditorAction($ce17943a549c5ba1$var$InsertCursorAtTopOfLineSelected);


var $cda2b88d36b553d1$exports = {};

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $goPht = parcelRequire("goPht");
var $fc1442ee4bdbfc3f$exports = {};

$parcel$export($fc1442ee4bdbfc3f$exports, "Context", function () { return $fc1442ee4bdbfc3f$export$841858b892ce1f4c; }, function (v) { return $fc1442ee4bdbfc3f$export$841858b892ce1f4c = v; });
$parcel$export($fc1442ee4bdbfc3f$exports, "provideSignatureHelp", function () { return $fc1442ee4bdbfc3f$export$49fb82b90cfa6803; }, function (v) { return $fc1442ee4bdbfc3f$export$49fb82b90cfa6803 = v; });

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $erLC3 = parcelRequire("erLC3");

var $bUZVY = parcelRequire("bUZVY");

var $fqrfT = parcelRequire("fqrfT");

var $goPht = parcelRequire("goPht");

var $ftViW = parcelRequire("ftViW");

var $c0VS7 = parcelRequire("c0VS7");

var $h4kGX = parcelRequire("h4kGX");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $fc1442ee4bdbfc3f$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $fc1442ee4bdbfc3f$export$841858b892ce1f4c = {
    Visible: new $h4kGX.RawContextKey('parameterHintsVisible', false),
    MultipleSignatures: new $h4kGX.RawContextKey('parameterHintsMultipleSignatures', false)
};
function $fc1442ee4bdbfc3f$export$49fb82b90cfa6803(model, position, context, token) {
    return $fc1442ee4bdbfc3f$var$__awaiter(this, void 0, void 0, function*() {
        const supports = $goPht.SignatureHelpProviderRegistry.ordered(model);
        for (const support of supports)try {
            const result = yield support.provideSignatureHelp(model, position, token, context);
            if (result) return result;
        } catch (err) {
            $3FsT3.onUnexpectedExternalError(err);
        }
        return undefined;
    });
}
$c0VS7.CommandsRegistry.registerCommand('_executeSignatureHelpProvider', (accessor, ...args)=>$fc1442ee4bdbfc3f$var$__awaiter(void 0, void 0, void 0, function*() {
        const [uri, position, triggerCharacter] = args;
        $erLC3.assertType($bUZVY.URI.isUri(uri));
        $erLC3.assertType($fqrfT.Position.isIPosition(position));
        $erLC3.assertType(typeof triggerCharacter === 'string' || !triggerCharacter);
        const ref = yield accessor.get($ftViW.ITextModelService).createModelReference(uri);
        try {
            const result = yield $fc1442ee4bdbfc3f$export$49fb82b90cfa6803(ref.object.textEditorModel, $fqrfT.Position.lift(position), {
                triggerKind: $goPht.SignatureHelpTriggerKind.Invoke,
                isRetrigger: false,
                triggerCharacter: triggerCharacter
            }, $1vhHo.CancellationToken.None);
            if (!result) return undefined;
            setTimeout(()=>result.dispose()
            , 0);
            return result.value;
        } finally{
            ref.dispose();
        }
    })
);



var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");
var $c6a79047db33f1f5$exports = {};

$parcel$export($c6a79047db33f1f5$exports, "ParameterHintsWidget", function () { return $c6a79047db33f1f5$export$fd583862071b2279; }, function (v) { return $c6a79047db33f1f5$export$fd583862071b2279 = v; });

var $8xgjE = parcelRequire("8xgjE");

var $6eCoB = parcelRequire("6eCoB");

var $lSwjB = parcelRequire("lSwjB");

var $k4zqw = parcelRequire("k4zqw");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $erLC3 = parcelRequire("erLC3");



var $jwAxq = parcelRequire("jwAxq");
var $6d17b119d5cc6635$exports = {};

$parcel$export($6d17b119d5cc6635$exports, "ParameterHintsModel", function () { return $6d17b119d5cc6635$export$7f27c6b5c579a14e; }, function (v) { return $6d17b119d5cc6635$export$7f27c6b5c579a14e = v; });

var $5piST = parcelRequire("5piST");

var $3FsT3 = parcelRequire("3FsT3");

var $bkXdq = parcelRequire("bkXdq");

var $6W1JA = parcelRequire("6W1JA");

var $dCvSz = parcelRequire("dCvSz");

var $goPht = parcelRequire("goPht");

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $6d17b119d5cc6635$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var $6d17b119d5cc6635$var$ParameterHintState;
(function(ParameterHintState) {
    ParameterHintState.Default = {
        type: 0 /* Default */ 
    };
    class Pending {
        constructor(request, previouslyActiveHints){
            this.request = request;
            this.previouslyActiveHints = previouslyActiveHints;
            this.type = 2 /* Pending */ ;
        }
    }
    ParameterHintState.Pending = Pending;
    class Active {
        constructor(hints){
            this.hints = hints;
            this.type = 1 /* Active */ ;
        }
    }
    ParameterHintState.Active = Active;
})($6d17b119d5cc6635$var$ParameterHintState || ($6d17b119d5cc6635$var$ParameterHintState = {}));
class $6d17b119d5cc6635$export$7f27c6b5c579a14e extends $6W1JA.Disposable {
    get state() {
        return this._state;
    }
    set state(value) {
        if (this._state.type === 2 /* Pending */ ) this._state.request.cancel();
        this._state = value;
    }
    cancel(silent = false) {
        this.state = $6d17b119d5cc6635$var$ParameterHintState.Default;
        this.throttledDelayer.cancel();
        if (!silent) this._onChangedHints.fire(undefined);
    }
    trigger(context, delay) {
        const model = this.editor.getModel();
        if (!model || !$goPht.SignatureHelpProviderRegistry.has(model)) return;
        const triggerId = ++this.triggerId;
        this._pendingTriggers.push(context);
        this.throttledDelayer.trigger(()=>{
            return this.doTrigger(triggerId);
        }, delay).catch($3FsT3.onUnexpectedError);
    }
    next() {
        if (this.state.type !== 1 /* Active */ ) return;
        const length = this.state.hints.signatures.length;
        const activeSignature = this.state.hints.activeSignature;
        const last = activeSignature % length === length - 1;
        const cycle = this.editor.getOption(75 /* parameterHints */ ).cycle;
        // If there is only one signature, or we're on last signature of list
        if ((length < 2 || last) && !cycle) {
            this.cancel();
            return;
        }
        this.updateActiveSignature(last && cycle ? 0 : activeSignature + 1);
    }
    previous() {
        if (this.state.type !== 1 /* Active */ ) return;
        const length = this.state.hints.signatures.length;
        const activeSignature = this.state.hints.activeSignature;
        const first = activeSignature === 0;
        const cycle = this.editor.getOption(75 /* parameterHints */ ).cycle;
        // If there is only one signature, or we're on first signature of list
        if ((length < 2 || first) && !cycle) {
            this.cancel();
            return;
        }
        this.updateActiveSignature(first && cycle ? length - 1 : activeSignature - 1);
    }
    updateActiveSignature(activeSignature) {
        if (this.state.type !== 1 /* Active */ ) return;
        this.state = new $6d17b119d5cc6635$var$ParameterHintState.Active(Object.assign(Object.assign({}, this.state.hints), {
            activeSignature: activeSignature
        }));
        this._onChangedHints.fire(this.state.hints);
    }
    doTrigger(triggerId) {
        return $6d17b119d5cc6635$var$__awaiter(this, void 0, void 0, function*() {
            const isRetrigger = this.state.type === 1 /* Active */  || this.state.type === 2 /* Pending */ ;
            const activeSignatureHelp = this.getLastActiveHints();
            this.cancel(true);
            if (this._pendingTriggers.length === 0) return false;
            const context = this._pendingTriggers.reduce($6d17b119d5cc6635$var$mergeTriggerContexts);
            this._pendingTriggers = [];
            const triggerContext = {
                triggerKind: context.triggerKind,
                triggerCharacter: context.triggerCharacter,
                isRetrigger: isRetrigger,
                activeSignatureHelp: activeSignatureHelp
            };
            if (!this.editor.hasModel()) return false;
            const model = this.editor.getModel();
            const position = this.editor.getPosition();
            this.state = new $6d17b119d5cc6635$var$ParameterHintState.Pending($5piST.createCancelablePromise((token)=>$fc1442ee4bdbfc3f$exports.provideSignatureHelp(model, position, triggerContext, token)
            ), activeSignatureHelp);
            try {
                const result = yield this.state.request;
                // Check that we are still resolving the correct signature help
                if (triggerId !== this.triggerId) {
                    result === null || result === void 0 || result.dispose();
                    return false;
                }
                if (!result || !result.value.signatures || result.value.signatures.length === 0) {
                    result === null || result === void 0 || result.dispose();
                    this._lastSignatureHelpResult.clear();
                    this.cancel();
                    return false;
                } else {
                    this.state = new $6d17b119d5cc6635$var$ParameterHintState.Active(result.value);
                    this._lastSignatureHelpResult.value = result;
                    this._onChangedHints.fire(this.state.hints);
                    return true;
                }
            } catch (error) {
                if (triggerId === this.triggerId) this.state = $6d17b119d5cc6635$var$ParameterHintState.Default;
                $3FsT3.onUnexpectedError(error);
                return false;
            }
        });
    }
    getLastActiveHints() {
        switch(this.state.type){
            case 1 /* Active */ :
                return this.state.hints;
            case 2 /* Pending */ :
                return this.state.previouslyActiveHints;
            default:
                return undefined;
        }
    }
    get isTriggered() {
        return this.state.type === 1 /* Active */  || this.state.type === 2 /* Pending */  || this.throttledDelayer.isTriggered();
    }
    onModelChanged() {
        this.cancel();
        // Update trigger characters
        this.triggerChars = new $dCvSz.CharacterSet();
        this.retriggerChars = new $dCvSz.CharacterSet();
        const model = this.editor.getModel();
        if (!model) return;
        for (const support of $goPht.SignatureHelpProviderRegistry.ordered(model)){
            for (const ch of support.signatureHelpTriggerCharacters || []){
                this.triggerChars.add(ch.charCodeAt(0));
                // All trigger characters are also considered retrigger characters
                this.retriggerChars.add(ch.charCodeAt(0));
            }
            for (const ch1 of support.signatureHelpRetriggerCharacters || [])this.retriggerChars.add(ch1.charCodeAt(0));
        }
    }
    onDidType(text) {
        if (!this.triggerOnType) return;
        const lastCharIndex = text.length - 1;
        const triggerCharCode = text.charCodeAt(lastCharIndex);
        if (this.triggerChars.has(triggerCharCode) || this.isTriggered && this.retriggerChars.has(triggerCharCode)) this.trigger({
            triggerKind: $goPht.SignatureHelpTriggerKind.TriggerCharacter,
            triggerCharacter: text.charAt(lastCharIndex)
        });
    }
    onCursorChange(e) {
        if (e.source === 'mouse') this.cancel();
        else if (this.isTriggered) this.trigger({
            triggerKind: $goPht.SignatureHelpTriggerKind.ContentChange
        });
    }
    onModelContentChange() {
        if (this.isTriggered) this.trigger({
            triggerKind: $goPht.SignatureHelpTriggerKind.ContentChange
        });
    }
    onEditorConfigurationChange() {
        this.triggerOnType = this.editor.getOption(75 /* parameterHints */ ).enabled;
        if (!this.triggerOnType) this.cancel();
    }
    dispose() {
        this.cancel(true);
        super.dispose();
    }
    constructor(editor, delay = $6d17b119d5cc6635$export$7f27c6b5c579a14e.DEFAULT_DELAY){
        super();
        this._onChangedHints = this._register(new $bkXdq.Emitter());
        this.onChangedHints = this._onChangedHints.event;
        this.triggerOnType = false;
        this._state = $6d17b119d5cc6635$var$ParameterHintState.Default;
        this._pendingTriggers = [];
        this._lastSignatureHelpResult = this._register(new $6W1JA.MutableDisposable());
        this.triggerChars = new $dCvSz.CharacterSet();
        this.retriggerChars = new $dCvSz.CharacterSet();
        this.triggerId = 0;
        this.editor = editor;
        this.throttledDelayer = new $5piST.Delayer(delay);
        this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel()
        ));
        this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange()
        ));
        this._register(this.editor.onDidChangeModel((e)=>this.onModelChanged()
        ));
        this._register(this.editor.onDidChangeModelLanguage((_)=>this.onModelChanged()
        ));
        this._register(this.editor.onDidChangeCursorSelection((e)=>this.onCursorChange(e)
        ));
        this._register(this.editor.onDidChangeModelContent((e)=>this.onModelContentChange()
        ));
        this._register($goPht.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged, this));
        this._register(this.editor.onDidType((text)=>this.onDidType(text)
        ));
        this.onEditorConfigurationChange();
        this.onModelChanged();
    }
}
$6d17b119d5cc6635$export$7f27c6b5c579a14e.DEFAULT_DELAY = 120; // ms
function $6d17b119d5cc6635$var$mergeTriggerContexts(previous, current) {
    switch(current.triggerKind){
        case $goPht.SignatureHelpTriggerKind.Invoke:
            // Invoke overrides previous triggers.
            return current;
        case $goPht.SignatureHelpTriggerKind.ContentChange:
            // Ignore content changes triggers
            return previous;
        case $goPht.SignatureHelpTriggerKind.TriggerCharacter:
        default:
            return current;
    }
}




var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $3jCpu = parcelRequire("3jCpu");

var $kL4Ig = parcelRequire("kL4Ig");

var $citn9 = parcelRequire("citn9");

var $3B1SL = parcelRequire("3B1SL");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $c6a79047db33f1f5$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $c6a79047db33f1f5$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $c6a79047db33f1f5$var$$ = $8xgjE.$;
const $c6a79047db33f1f5$var$parameterHintsNextIcon = $citn9.registerIcon('parameter-hints-next', $k4zqw.Codicon.chevronDown, $1WuVQ.localize('parameterHintsNextIcon', 'Icon for show next parameter hint.'));
const $c6a79047db33f1f5$var$parameterHintsPreviousIcon = $citn9.registerIcon('parameter-hints-previous', $k4zqw.Codicon.chevronUp, $1WuVQ.localize('parameterHintsPreviousIcon', 'Icon for show previous parameter hint.'));
let $c6a79047db33f1f5$export$fd583862071b2279 = class $c6a79047db33f1f5$export$fd583862071b2279 extends $6W1JA.Disposable {
    createParameterHintDOMNodes() {
        const element = $c6a79047db33f1f5$var$$('.editor-widget.parameter-hints-widget');
        const wrapper = $8xgjE.append(element, $c6a79047db33f1f5$var$$('.phwrapper'));
        wrapper.tabIndex = -1;
        const controls = $8xgjE.append(wrapper, $c6a79047db33f1f5$var$$('.controls'));
        const previous = $8xgjE.append(controls, $c6a79047db33f1f5$var$$('.button' + $5Wwop.ThemeIcon.asCSSSelector($c6a79047db33f1f5$var$parameterHintsPreviousIcon)));
        const overloads = $8xgjE.append(controls, $c6a79047db33f1f5$var$$('.overloads'));
        const next = $8xgjE.append(controls, $c6a79047db33f1f5$var$$('.button' + $5Wwop.ThemeIcon.asCSSSelector($c6a79047db33f1f5$var$parameterHintsNextIcon)));
        this._register($8xgjE.addDisposableListener(previous, 'click', (e)=>{
            $8xgjE.EventHelper.stop(e);
            this.previous();
        }));
        this._register($8xgjE.addDisposableListener(next, 'click', (e)=>{
            $8xgjE.EventHelper.stop(e);
            this.next();
        }));
        const body = $c6a79047db33f1f5$var$$('.body');
        const scrollbar = new $lSwjB.DomScrollableElement(body, {});
        this._register(scrollbar);
        wrapper.appendChild(scrollbar.getDomNode());
        const signature = $8xgjE.append(body, $c6a79047db33f1f5$var$$('.signature'));
        const docs = $8xgjE.append(body, $c6a79047db33f1f5$var$$('.docs'));
        element.style.userSelect = 'text';
        this.domNodes = {
            element: element,
            signature: signature,
            overloads: overloads,
            docs: docs,
            scrollbar: scrollbar
        };
        this.editor.addContentWidget(this);
        this.hide();
        this._register(this.editor.onDidChangeCursorSelection((e)=>{
            if (this.visible) this.editor.layoutContentWidget(this);
        }));
        const updateFont = ()=>{
            if (!this.domNodes) return;
            const fontInfo = this.editor.getOption(43 /* fontInfo */ );
            this.domNodes.element.style.fontSize = `${fontInfo.fontSize}px`;
            this.domNodes.element.style.lineHeight = `${fontInfo.lineHeight / fontInfo.fontSize}`;
        };
        updateFont();
        this._register($bkXdq.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e)=>e.hasChanged(43 /* fontInfo */ )
        ).on(updateFont, null));
        this._register(this.editor.onDidLayoutChange((e)=>this.updateMaxHeight()
        ));
        this.updateMaxHeight();
    }
    show() {
        if (this.visible) return;
        if (!this.domNodes) this.createParameterHintDOMNodes();
        this.keyVisible.set(true);
        this.visible = true;
        setTimeout(()=>{
            if (this.domNodes) this.domNodes.element.classList.add('visible');
        }, 100);
        this.editor.layoutContentWidget(this);
    }
    hide() {
        this.renderDisposeables.clear();
        if (!this.visible) return;
        this.keyVisible.reset();
        this.visible = false;
        this.announcedLabel = null;
        if (this.domNodes) this.domNodes.element.classList.remove('visible');
        this.editor.layoutContentWidget(this);
    }
    getPosition() {
        if (this.visible) return {
            position: this.editor.getPosition(),
            preference: [
                1 /* ABOVE */ ,
                2 /* BELOW */ 
            ]
        };
        return null;
    }
    render(hints) {
        var _a;
        this.renderDisposeables.clear();
        if (!this.domNodes) return;
        const multiple = hints.signatures.length > 1;
        this.domNodes.element.classList.toggle('multiple', multiple);
        this.keyMultipleSignatures.set(multiple);
        this.domNodes.signature.innerText = '';
        this.domNodes.docs.innerText = '';
        const signature = hints.signatures[hints.activeSignature];
        if (!signature) return;
        const code = $8xgjE.append(this.domNodes.signature, $c6a79047db33f1f5$var$$('.code'));
        const fontInfo = this.editor.getOption(43 /* fontInfo */ );
        code.style.fontSize = `${fontInfo.fontSize}px`;
        code.style.fontFamily = fontInfo.fontFamily;
        const hasParameters = signature.parameters.length > 0;
        const activeParameterIndex = (_a = signature.activeParameter) !== null && _a !== void 0 ? _a : hints.activeParameter;
        if (!hasParameters) {
            const label = $8xgjE.append(code, $c6a79047db33f1f5$var$$('span'));
            label.textContent = signature.label;
        } else this.renderParameters(code, signature, activeParameterIndex);
        const activeParameter = signature.parameters[activeParameterIndex];
        if (activeParameter === null || activeParameter === void 0 ? void 0 : activeParameter.documentation) {
            const documentation = $c6a79047db33f1f5$var$$('span.documentation');
            if (typeof activeParameter.documentation === 'string') documentation.textContent = activeParameter.documentation;
            else {
                const renderedContents = this.renderMarkdownDocs(activeParameter.documentation);
                documentation.appendChild(renderedContents.element);
            }
            $8xgjE.append(this.domNodes.docs, $c6a79047db33f1f5$var$$('p', {}, documentation));
        }
        if (signature.documentation === undefined) ;
        else if (typeof signature.documentation === 'string') $8xgjE.append(this.domNodes.docs, $c6a79047db33f1f5$var$$('p', {}, signature.documentation));
        else {
            const renderedContents = this.renderMarkdownDocs(signature.documentation);
            $8xgjE.append(this.domNodes.docs, renderedContents.element);
        }
        const hasDocs = this.hasDocs(signature, activeParameter);
        this.domNodes.signature.classList.toggle('has-docs', hasDocs);
        this.domNodes.docs.classList.toggle('empty', !hasDocs);
        this.domNodes.overloads.textContent = String(hints.activeSignature + 1).padStart(hints.signatures.length.toString().length, '0') + '/' + hints.signatures.length;
        if (activeParameter) {
            let labelToAnnounce = '';
            const param = signature.parameters[activeParameterIndex];
            if (Array.isArray(param.label)) labelToAnnounce = signature.label.substring(param.label[0], param.label[1]);
            else labelToAnnounce = param.label;
            if (param.documentation) labelToAnnounce += typeof param.documentation === 'string' ? `, ${param.documentation}` : `, ${param.documentation.value}`;
            if (signature.documentation) labelToAnnounce += typeof signature.documentation === 'string' ? `, ${signature.documentation}` : `, ${signature.documentation.value}`;
            // Select method gets called on every user type while parameter hints are visible.
            // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.
            if (this.announcedLabel !== labelToAnnounce) {
                $6eCoB.alert($1WuVQ.localize('hint', "{0}, hint", labelToAnnounce));
                this.announcedLabel = labelToAnnounce;
            }
        }
        this.editor.layoutContentWidget(this);
        this.domNodes.scrollbar.scanDomNode();
    }
    renderMarkdownDocs(markdown) {
        const renderedContents = this.renderDisposeables.add(this.markdownRenderer.render(markdown, {
            asyncRenderCallback: ()=>{
                var _a;
                (_a = this.domNodes) === null || _a === void 0 || _a.scrollbar.scanDomNode();
            }
        }));
        renderedContents.element.classList.add('markdown-docs');
        return renderedContents;
    }
    hasDocs(signature, activeParameter) {
        if (activeParameter && typeof activeParameter.documentation === 'string' && $erLC3.assertIsDefined(activeParameter.documentation).length > 0) return true;
        if (activeParameter && typeof activeParameter.documentation === 'object' && $erLC3.assertIsDefined(activeParameter.documentation).value.length > 0) return true;
        if (signature.documentation && typeof signature.documentation === 'string' && $erLC3.assertIsDefined(signature.documentation).length > 0) return true;
        if (signature.documentation && typeof signature.documentation === 'object' && $erLC3.assertIsDefined(signature.documentation.value).length > 0) return true;
        return false;
    }
    renderParameters(parent, signature, activeParameterIndex) {
        const [start, end] = this.getParameterLabelOffsets(signature, activeParameterIndex);
        const beforeSpan = document.createElement('span');
        beforeSpan.textContent = signature.label.substring(0, start);
        const paramSpan = document.createElement('span');
        paramSpan.textContent = signature.label.substring(start, end);
        paramSpan.className = 'parameter active';
        const afterSpan = document.createElement('span');
        afterSpan.textContent = signature.label.substring(end);
        $8xgjE.append(parent, beforeSpan, paramSpan, afterSpan);
    }
    getParameterLabelOffsets(signature, paramIdx) {
        const param = signature.parameters[paramIdx];
        if (!param) return [
            0,
            0
        ];
        else if (Array.isArray(param.label)) return param.label;
        else if (!param.label.length) return [
            0,
            0
        ];
        else {
            const regex = new RegExp(`(\\W|^)${$i4xl7.escapeRegExpCharacters(param.label)}(?=\\W|$)`, 'g');
            regex.test(signature.label);
            const idx = regex.lastIndex - param.label.length;
            return idx >= 0 ? [
                idx,
                regex.lastIndex
            ] : [
                0,
                0
            ];
        }
    }
    next() {
        this.editor.focus();
        this.model.next();
    }
    previous() {
        this.editor.focus();
        this.model.previous();
    }
    cancel() {
        this.model.cancel();
    }
    getDomNode() {
        if (!this.domNodes) this.createParameterHintDOMNodes();
        return this.domNodes.element;
    }
    getId() {
        return $c6a79047db33f1f5$export$fd583862071b2279.ID;
    }
    trigger(context) {
        this.model.trigger(context, 0);
    }
    updateMaxHeight() {
        if (!this.domNodes) return;
        const height = Math.max(this.editor.getLayoutInfo().height / 4, 250);
        const maxHeight = `${height}px`;
        this.domNodes.element.style.maxHeight = maxHeight;
        const wrapper = this.domNodes.element.getElementsByClassName('phwrapper');
        if (wrapper.length) wrapper[0].style.maxHeight = maxHeight;
    }
    constructor(editor, contextKeyService, openerService, modeService){
        super();
        this.editor = editor;
        this.renderDisposeables = this._register(new $6W1JA.DisposableStore());
        this.visible = false;
        this.announcedLabel = null;
        // Editor.IContentWidget.allowEditorOverflow
        this.allowEditorOverflow = true;
        this.markdownRenderer = this._register(new $4a80f1f73e880bad$exports.MarkdownRenderer({
            editor: editor
        }, modeService, openerService));
        this.model = this._register(new $6d17b119d5cc6635$exports.ParameterHintsModel(editor));
        this.keyVisible = $fc1442ee4bdbfc3f$exports.Context.Visible.bindTo(contextKeyService);
        this.keyMultipleSignatures = $fc1442ee4bdbfc3f$exports.Context.MultipleSignatures.bindTo(contextKeyService);
        this._register(this.model.onChangedHints((newParameterHints)=>{
            if (newParameterHints) {
                this.show();
                this.render(newParameterHints);
            } else this.hide();
        }));
    }
};
$c6a79047db33f1f5$export$fd583862071b2279.ID = 'editor.widget.parameterHintsWidget';
$c6a79047db33f1f5$export$fd583862071b2279 = $c6a79047db33f1f5$var$__decorate([
    $c6a79047db33f1f5$var$__param(1, $h4kGX.IContextKeyService),
    $c6a79047db33f1f5$var$__param(2, $3jCpu.IOpenerService),
    $c6a79047db33f1f5$var$__param(3, $jwAxq.IModeService)
], $c6a79047db33f1f5$export$fd583862071b2279);
const $c6a79047db33f1f5$export$8d35a56443b6b66f = $kL4Ig.registerColor('editorHoverWidget.highlightForeground', {
    dark: $kL4Ig.listHighlightForeground,
    light: $kL4Ig.listHighlightForeground,
    hc: $kL4Ig.listHighlightForeground
}, $1WuVQ.localize('editorHoverWidgetHighlightForeground', 'Foreground color of the active item in the parameter hint.'));
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const border = theme.getColor($kL4Ig.editorHoverBorder);
    if (border) {
        const borderWidth = theme.type === $3B1SL.ColorScheme.HIGH_CONTRAST ? 2 : 1;
        collector.addRule(`.monaco-editor .parameter-hints-widget { border: ${borderWidth}px solid ${border}; }`);
        collector.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${border.transparent(0.5)}; }`);
        collector.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${border.transparent(0.5)}; }`);
    }
    const background = theme.getColor($kL4Ig.editorHoverBackground);
    if (background) collector.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${background}; }`);
    const link = theme.getColor($kL4Ig.textLinkForeground);
    if (link) collector.addRule(`.monaco-editor .parameter-hints-widget a { color: ${link}; }`);
    const linkHover = theme.getColor($kL4Ig.textLinkActiveForeground);
    if (linkHover) collector.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${linkHover}; }`);
    const foreground = theme.getColor($kL4Ig.editorHoverForeground);
    if (foreground) collector.addRule(`.monaco-editor .parameter-hints-widget { color: ${foreground}; }`);
    const codeBackground = theme.getColor($kL4Ig.textCodeBlockBackground);
    if (codeBackground) collector.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${codeBackground}; }`);
    const parameterHighlightColor = theme.getColor($c6a79047db33f1f5$export$8d35a56443b6b66f);
    if (parameterHighlightColor) collector.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${parameterHighlightColor}}`);
});


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $cda2b88d36b553d1$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $cda2b88d36b553d1$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $cda2b88d36b553d1$var$ParameterHintsController = class ParameterHintsController extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution(ParameterHintsController.ID);
    }
    cancel() {
        this.widget.cancel();
    }
    previous() {
        this.widget.previous();
    }
    next() {
        this.widget.next();
    }
    trigger(context) {
        this.widget.trigger(context);
    }
    constructor(editor, instantiationService){
        super();
        this.editor = editor;
        this.widget = this._register(instantiationService.createInstance($c6a79047db33f1f5$exports.ParameterHintsWidget, this.editor));
    }
};
$cda2b88d36b553d1$var$ParameterHintsController.ID = 'editor.controller.parameterHints';
$cda2b88d36b553d1$var$ParameterHintsController = $cda2b88d36b553d1$var$__decorate([
    $cda2b88d36b553d1$var$__param(1, $6Xx7t.IInstantiationService)
], $cda2b88d36b553d1$var$ParameterHintsController);
class $cda2b88d36b553d1$export$289200f1e6286db4 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const controller = $cda2b88d36b553d1$var$ParameterHintsController.get(editor);
        if (controller) controller.trigger({
            triggerKind: $goPht.SignatureHelpTriggerKind.Invoke
        });
    }
    constructor(){
        super({
            id: 'editor.action.triggerParameterHints',
            label: $1WuVQ.localize('parameterHints.trigger.label', "Trigger Parameter Hints"),
            alias: 'Trigger Parameter Hints',
            precondition: $7oeKV.EditorContextKeys.hasSignatureHelpProvider,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 3082 /* Space */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorContribution($cda2b88d36b553d1$var$ParameterHintsController.ID, $cda2b88d36b553d1$var$ParameterHintsController);
$g9Zlr.registerEditorAction($cda2b88d36b553d1$export$289200f1e6286db4);
const $cda2b88d36b553d1$var$weight = 175;
const $cda2b88d36b553d1$var$ParameterHintsCommand = $g9Zlr.EditorCommand.bindToContribution($cda2b88d36b553d1$var$ParameterHintsController.get);
$g9Zlr.registerEditorCommand(new $cda2b88d36b553d1$var$ParameterHintsCommand({
    id: 'closeParameterHints',
    precondition: $fc1442ee4bdbfc3f$exports.Context.Visible,
    handler: (x)=>x.cancel()
    ,
    kbOpts: {
        weight: $cda2b88d36b553d1$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 9 /* Escape */ ,
        secondary: [
            1033 /* Escape */ 
        ]
    }
}));
$g9Zlr.registerEditorCommand(new $cda2b88d36b553d1$var$ParameterHintsCommand({
    id: 'showPrevParameterHint',
    precondition: $h4kGX.ContextKeyExpr.and($fc1442ee4bdbfc3f$exports.Context.Visible, $fc1442ee4bdbfc3f$exports.Context.MultipleSignatures),
    handler: (x)=>x.previous()
    ,
    kbOpts: {
        weight: $cda2b88d36b553d1$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 16 /* UpArrow */ ,
        secondary: [
            528 /* UpArrow */ 
        ],
        mac: {
            primary: 16 /* UpArrow */ ,
            secondary: [
                528 /* UpArrow */ ,
                302 /* KeyP */ 
            ]
        }
    }
}));
$g9Zlr.registerEditorCommand(new $cda2b88d36b553d1$var$ParameterHintsCommand({
    id: 'showNextParameterHint',
    precondition: $h4kGX.ContextKeyExpr.and($fc1442ee4bdbfc3f$exports.Context.Visible, $fc1442ee4bdbfc3f$exports.Context.MultipleSignatures),
    handler: (x)=>x.next()
    ,
    kbOpts: {
        weight: $cda2b88d36b553d1$var$weight,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 18 /* DownArrow */ ,
        secondary: [
            530 /* DownArrow */ 
        ],
        mac: {
            primary: 18 /* DownArrow */ ,
            secondary: [
                530 /* DownArrow */ ,
                300 /* KeyN */ 
            ]
        }
    }
}));


var $a95d9baa4bced5bb$exports = {};

var $6eCoB = parcelRequire("6eCoB");

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $erLC3 = parcelRequire("erLC3");

var $bUZVY = parcelRequire("bUZVY");

var $78AWm = parcelRequire("78AWm");

var $g9Zlr = parcelRequire("g9Zlr");

var $e4ShP = parcelRequire("e4ShP");

var $7lWR1 = parcelRequire("7lWR1");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");

var $goPht = parcelRequire("goPht");

var $19Ko4 = parcelRequire("19Ko4");


var $1WuVQ = parcelRequire("1WuVQ");

var $dQfst = parcelRequire("dQfst");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $eMXt9 = parcelRequire("eMXt9");

var $7MTz8 = parcelRequire("7MTz8");

var $5IX4y = parcelRequire("5IX4y");

var $3fwCj = parcelRequire("3fwCj");
var $5717a67250ac44f9$exports = {};

$parcel$export($5717a67250ac44f9$exports, "CONTEXT_RENAME_INPUT_VISIBLE", function () { return $5717a67250ac44f9$export$af782c46022b2288; }, function (v) { return $5717a67250ac44f9$export$af782c46022b2288 = v; });
$parcel$export($5717a67250ac44f9$exports, "RenameInputField", function () { return $5717a67250ac44f9$export$815a698d2e600605; }, function (v) { return $5717a67250ac44f9$export$815a698d2e600605 = v; });

var $6W1JA = parcelRequire("6W1JA");


var $fqrfT = parcelRequire("fqrfT");

var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $i2aE6 = parcelRequire("i2aE6");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $5717a67250ac44f9$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $5717a67250ac44f9$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $5717a67250ac44f9$export$af782c46022b2288 = new $h4kGX.RawContextKey('renameInputVisible', false, $1WuVQ.localize('renameInputVisible', "Whether the rename input widget is visible"));
let $5717a67250ac44f9$export$815a698d2e600605 = class $5717a67250ac44f9$export$815a698d2e600605 {
    dispose() {
        this._disposables.dispose();
        this._editor.removeContentWidget(this);
    }
    getId() {
        return '__renameInputWidget';
    }
    getDomNode() {
        if (!this._domNode) {
            this._domNode = document.createElement('div');
            this._domNode.className = 'monaco-editor rename-box';
            this._input = document.createElement('input');
            this._input.className = 'rename-input';
            this._input.type = 'text';
            this._input.setAttribute('aria-label', $1WuVQ.localize('renameAriaLabel', "Rename input. Type new name and press Enter to commit."));
            this._domNode.appendChild(this._input);
            this._label = document.createElement('div');
            this._label.className = 'rename-label';
            this._domNode.appendChild(this._label);
            const updateLabel = ()=>{
                var _a, _b;
                const [accept, preview] = this._acceptKeybindings;
                this._keybindingService.lookupKeybinding(accept);
                this._label.innerText = $1WuVQ.localize({
                    key: 'label',
                    comment: [
                        'placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"'
                    ]
                }, "{0} to Rename, {1} to Preview", (_a = this._keybindingService.lookupKeybinding(accept)) === null || _a === void 0 ? void 0 : _a.getLabel(), (_b = this._keybindingService.lookupKeybinding(preview)) === null || _b === void 0 ? void 0 : _b.getLabel());
            };
            updateLabel();
            this._disposables.add(this._keybindingService.onDidUpdateKeybindings(updateLabel));
            this._updateFont();
            this._updateStyles(this._themeService.getColorTheme());
        }
        return this._domNode;
    }
    _updateStyles(theme) {
        var _a, _b, _c, _d;
        if (!this._input || !this._domNode) return;
        const widgetShadowColor = theme.getColor($kL4Ig.widgetShadow);
        this._domNode.style.backgroundColor = String((_a = theme.getColor($kL4Ig.editorWidgetBackground)) !== null && _a !== void 0 ? _a : '');
        this._domNode.style.boxShadow = widgetShadowColor ? ` 0 0 8px 2px ${widgetShadowColor}` : '';
        this._domNode.style.color = String((_b = theme.getColor($kL4Ig.inputForeground)) !== null && _b !== void 0 ? _b : '');
        this._input.style.backgroundColor = String((_c = theme.getColor($kL4Ig.inputBackground)) !== null && _c !== void 0 ? _c : '');
        // this._input.style.color = String(theme.getColor(inputForeground) ?? '');
        const border = theme.getColor($kL4Ig.inputBorder);
        this._input.style.borderWidth = border ? '1px' : '0px';
        this._input.style.borderStyle = border ? 'solid' : 'none';
        this._input.style.borderColor = (_d = border === null || border === void 0 ? void 0 : border.toString()) !== null && _d !== void 0 ? _d : 'none';
    }
    _updateFont() {
        if (!this._input || !this._label) return;
        const fontInfo = this._editor.getOption(43 /* fontInfo */ );
        this._input.style.fontFamily = fontInfo.fontFamily;
        this._input.style.fontWeight = fontInfo.fontWeight;
        this._input.style.fontSize = `${fontInfo.fontSize}px`;
        this._label.style.fontSize = `${fontInfo.fontSize * 0.8}px`;
    }
    getPosition() {
        if (!this._visible) return null;
        return {
            position: this._position,
            preference: [
                2 /* BELOW */ ,
                1 /* ABOVE */ 
            ]
        };
    }
    afterRender(position) {
        if (!position) // cancel rename when input widget isn't rendered anymore
        this.cancelInput(true);
    }
    acceptInput(wantsPreview) {
        if (this._currentAcceptInput) this._currentAcceptInput(wantsPreview);
    }
    cancelInput(focusEditor) {
        if (this._currentCancelInput) this._currentCancelInput(focusEditor);
    }
    getInput(where, value, selectionStart, selectionEnd, supportPreview, token) {
        this._domNode.classList.toggle('preview', supportPreview);
        this._position = new $fqrfT.Position(where.startLineNumber, where.startColumn);
        this._input.value = value;
        this._input.setAttribute('selectionStart', selectionStart.toString());
        this._input.setAttribute('selectionEnd', selectionEnd.toString());
        this._input.size = Math.max((where.endColumn - where.startColumn) * 1.1, 20);
        const disposeOnDone = new $6W1JA.DisposableStore();
        return new Promise((resolve)=>{
            this._currentCancelInput = (focusEditor)=>{
                this._currentAcceptInput = undefined;
                this._currentCancelInput = undefined;
                resolve(focusEditor);
                return true;
            };
            this._currentAcceptInput = (wantsPreview)=>{
                if (this._input.value.trim().length === 0 || this._input.value === value) {
                    // empty or whitespace only or not changed
                    this.cancelInput(true);
                    return;
                }
                this._currentAcceptInput = undefined;
                this._currentCancelInput = undefined;
                resolve({
                    newName: this._input.value,
                    wantsPreview: supportPreview && wantsPreview
                });
            };
            token.onCancellationRequested(()=>this.cancelInput(true)
            );
            disposeOnDone.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(false)
            ));
            this._show();
        }).finally(()=>{
            disposeOnDone.dispose();
            this._hide();
        });
    }
    _show() {
        this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber, 0 /* Smooth */ );
        this._visible = true;
        this._visibleContextKey.set(true);
        this._editor.layoutContentWidget(this);
        setTimeout(()=>{
            this._input.focus();
            this._input.setSelectionRange(parseInt(this._input.getAttribute('selectionStart')), parseInt(this._input.getAttribute('selectionEnd')));
        }, 100);
    }
    _hide() {
        this._visible = false;
        this._visibleContextKey.reset();
        this._editor.layoutContentWidget(this);
    }
    constructor(_editor, _acceptKeybindings, _themeService, _keybindingService, contextKeyService){
        this._editor = _editor;
        this._acceptKeybindings = _acceptKeybindings;
        this._themeService = _themeService;
        this._keybindingService = _keybindingService;
        this._disposables = new $6W1JA.DisposableStore();
        this.allowEditorOverflow = true;
        this._visibleContextKey = $5717a67250ac44f9$export$af782c46022b2288.bindTo(contextKeyService);
        this._editor.addContentWidget(this);
        this._disposables.add(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(43 /* fontInfo */ )) this._updateFont();
        }));
        this._disposables.add(_themeService.onDidColorThemeChange(this._updateStyles, this));
    }
};
$5717a67250ac44f9$export$815a698d2e600605 = $5717a67250ac44f9$var$__decorate([
    $5717a67250ac44f9$var$__param(2, $5Wwop.IThemeService),
    $5717a67250ac44f9$var$__param(3, $i2aE6.IKeybindingService),
    $5717a67250ac44f9$var$__param(4, $h4kGX.IContextKeyService)
], $5717a67250ac44f9$export$815a698d2e600605);


/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $a95d9baa4bced5bb$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $a95d9baa4bced5bb$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $a95d9baa4bced5bb$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $a95d9baa4bced5bb$var$RenameSkeleton {
    hasProvider() {
        return this._providers.length > 0;
    }
    resolveRenameLocation(token) {
        return $a95d9baa4bced5bb$var$__awaiter(this, void 0, void 0, function*() {
            const rejects = [];
            for(this._providerRenameIdx = 0; this._providerRenameIdx < this._providers.length; this._providerRenameIdx++){
                const provider = this._providers[this._providerRenameIdx];
                if (!provider.resolveRenameLocation) break;
                let res = yield provider.resolveRenameLocation(this.model, this.position, token);
                if (!res) continue;
                if (res.rejectReason) {
                    rejects.push(res.rejectReason);
                    continue;
                }
                return res;
            }
            const word = this.model.getWordAtPosition(this.position);
            if (!word) return {
                range: $1YFxJ.Range.fromPositions(this.position),
                text: '',
                rejectReason: rejects.length > 0 ? rejects.join('\n') : undefined
            };
            return {
                range: new $1YFxJ.Range(this.position.lineNumber, word.startColumn, this.position.lineNumber, word.endColumn),
                text: word.word,
                rejectReason: rejects.length > 0 ? rejects.join('\n') : undefined
            };
        });
    }
    provideRenameEdits(newName, token) {
        return $a95d9baa4bced5bb$var$__awaiter(this, void 0, void 0, function*() {
            return this._provideRenameEdits(newName, this._providerRenameIdx, [], token);
        });
    }
    _provideRenameEdits(newName, i, rejects, token) {
        return $a95d9baa4bced5bb$var$__awaiter(this, void 0, void 0, function*() {
            const provider = this._providers[i];
            if (!provider) return {
                edits: [],
                rejectReason: rejects.join('\n')
            };
            const result = yield provider.provideRenameEdits(this.model, this.position, newName, token);
            if (!result) return this._provideRenameEdits(newName, i + 1, rejects.concat($1WuVQ.localize('no result', "No result.")), token);
            else if (result.rejectReason) return this._provideRenameEdits(newName, i + 1, rejects.concat(result.rejectReason), token);
            return result;
        });
    }
    constructor(model, position){
        this.model = model;
        this.position = position;
        this._providerRenameIdx = 0;
        this._providers = $goPht.RenameProviderRegistry.ordered(model);
    }
}
function $a95d9baa4bced5bb$export$7ac989ec0c9c279(model, position, newName) {
    return $a95d9baa4bced5bb$var$__awaiter(this, void 0, void 0, function*() {
        const skeleton = new $a95d9baa4bced5bb$var$RenameSkeleton(model, position);
        const loc = yield skeleton.resolveRenameLocation($1vhHo.CancellationToken.None);
        if (loc === null || loc === void 0 ? void 0 : loc.rejectReason) return {
            edits: [],
            rejectReason: loc.rejectReason
        };
        return skeleton.provideRenameEdits(newName, $1vhHo.CancellationToken.None);
    });
}
// ---  register actions and commands
let $a95d9baa4bced5bb$var$RenameController = class RenameController {
    static get(editor) {
        return editor.getContribution(RenameController.ID);
    }
    dispose() {
        this._dispoableStore.dispose();
        this._cts.dispose(true);
    }
    run() {
        return $a95d9baa4bced5bb$var$__awaiter(this, void 0, void 0, function*() {
            this._cts.dispose(true);
            if (!this.editor.hasModel()) return undefined;
            const position = this.editor.getPosition();
            const skeleton = new $a95d9baa4bced5bb$var$RenameSkeleton(this.editor.getModel(), position);
            if (!skeleton.hasProvider()) return undefined;
            this._cts = new $78AWm.EditorStateCancellationTokenSource(this.editor, 5 /* Value */ );
            // resolve rename location
            let loc;
            try {
                const resolveLocationOperation = skeleton.resolveRenameLocation(this._cts.token);
                this._progressService.showWhile(resolveLocationOperation, 250);
                loc = yield resolveLocationOperation;
            } catch (e) {
                $5e005249879805b3$exports.MessageController.get(this.editor).showMessage(e || $1WuVQ.localize('resolveRenameLocationFailed', "An unknown error occurred while resolving rename location"), position);
                return undefined;
            }
            if (!loc) return undefined;
            if (loc.rejectReason) {
                $5e005249879805b3$exports.MessageController.get(this.editor).showMessage(loc.rejectReason, position);
                return undefined;
            }
            if (this._cts.token.isCancellationRequested) return undefined;
            this._cts.dispose();
            this._cts = new $78AWm.EditorStateCancellationTokenSource(this.editor, 5 /* Value */ , loc.range);
            // do rename at location
            let selection = this.editor.getSelection();
            let selectionStart = 0;
            let selectionEnd = loc.text.length;
            if (!$1YFxJ.Range.isEmpty(selection) && !$1YFxJ.Range.spansMultipleLines(selection) && $1YFxJ.Range.containsRange(loc.range, selection)) {
                selectionStart = Math.max(0, selection.startColumn - loc.range.startColumn);
                selectionEnd = Math.min(loc.range.endColumn, selection.endColumn) - loc.range.startColumn;
            }
            const supportPreview = this._bulkEditService.hasPreviewHandler() && this._configService.getValue(this.editor.getModel().uri, 'editor.rename.enablePreview');
            const inputFieldResult = yield this._renameInputField.value.getInput(loc.range, loc.text, selectionStart, selectionEnd, supportPreview, this._cts.token);
            // no result, only hint to focus the editor or not
            if (typeof inputFieldResult === 'boolean') {
                if (inputFieldResult) this.editor.focus();
                return undefined;
            }
            this.editor.focus();
            const renameOperation = $5piST.raceCancellation(skeleton.provideRenameEdits(inputFieldResult.newName, this._cts.token), this._cts.token).then((renameResult)=>$a95d9baa4bced5bb$var$__awaiter(this, void 0, void 0, function*() {
                    if (!renameResult || !this.editor.hasModel()) return;
                    if (renameResult.rejectReason) {
                        this._notificationService.info(renameResult.rejectReason);
                        return;
                    }
                    // collapse selection to active end
                    this.editor.setSelection($1YFxJ.Range.fromPositions(this.editor.getSelection().getPosition()));
                    this._bulkEditService.apply($e4ShP.ResourceEdit.convert(renameResult), {
                        editor: this.editor,
                        showPreview: inputFieldResult.wantsPreview,
                        label: $1WuVQ.localize('label', "Renaming '{0}'", loc === null || loc === void 0 ? void 0 : loc.text),
                        quotableLabel: $1WuVQ.localize('quotableLabel', "Renaming {0}", loc === null || loc === void 0 ? void 0 : loc.text)
                    }).then((result)=>{
                        if (result.ariaSummary) $6eCoB.alert($1WuVQ.localize('aria', "Successfully renamed '{0}' to '{1}'. Summary: {2}", loc.text, inputFieldResult.newName, result.ariaSummary));
                    }).catch((err)=>{
                        this._notificationService.error($1WuVQ.localize('rename.failedApply', "Rename failed to apply edits"));
                        this._logService.error(err);
                    });
                })
            , (err)=>{
                this._notificationService.error($1WuVQ.localize('rename.failed', "Rename failed to compute edits"));
                this._logService.error(err);
            });
            this._progressService.showWhile(renameOperation, 250);
            return renameOperation;
        });
    }
    acceptRenameInput(wantsPreview) {
        this._renameInputField.value.acceptInput(wantsPreview);
    }
    cancelRenameInput() {
        this._renameInputField.value.cancelInput(true);
    }
    constructor(editor, _instaService, _notificationService, _bulkEditService, _progressService, _logService, _configService){
        this.editor = editor;
        this._instaService = _instaService;
        this._notificationService = _notificationService;
        this._bulkEditService = _bulkEditService;
        this._progressService = _progressService;
        this._logService = _logService;
        this._configService = _configService;
        this._dispoableStore = new $6W1JA.DisposableStore();
        this._cts = new $1vhHo.CancellationTokenSource();
        this._renameInputField = this._dispoableStore.add(new $5piST.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance($5717a67250ac44f9$exports.RenameInputField, this.editor, [
                'acceptRenameInput',
                'acceptRenameInputWithPreview'
            ]))
        ));
    }
};
$a95d9baa4bced5bb$var$RenameController.ID = 'editor.contrib.renameController';
$a95d9baa4bced5bb$var$RenameController = $a95d9baa4bced5bb$var$__decorate([
    $a95d9baa4bced5bb$var$__param(1, $6Xx7t.IInstantiationService),
    $a95d9baa4bced5bb$var$__param(2, $7MTz8.INotificationService),
    $a95d9baa4bced5bb$var$__param(3, $e4ShP.IBulkEditService),
    $a95d9baa4bced5bb$var$__param(4, $5IX4y.IEditorProgressService),
    $a95d9baa4bced5bb$var$__param(5, $eMXt9.ILogService),
    $a95d9baa4bced5bb$var$__param(6, $19Ko4.ITextResourceConfigurationService)
], $a95d9baa4bced5bb$var$RenameController);
class $a95d9baa4bced5bb$export$9c8fe0f1407330da extends $g9Zlr.EditorAction {
    runCommand(accessor1, args) {
        const editorService = accessor1.get($7lWR1.ICodeEditorService);
        const [uri, pos] = Array.isArray(args) && args || [
            undefined,
            undefined
        ];
        if ($bUZVY.URI.isUri(uri) && $fqrfT.Position.isIPosition(pos)) return editorService.openCodeEditor({
            resource: uri
        }, editorService.getActiveCodeEditor()).then((editor)=>{
            if (!editor) return;
            editor.setPosition(pos);
            editor.invokeWithinContext((accessor)=>{
                this.reportTelemetry(accessor, editor);
                return this.run(accessor, editor);
            });
        }, $3FsT3.onUnexpectedError);
        return super.runCommand(accessor1, args);
    }
    run(accessor, editor) {
        const controller = $a95d9baa4bced5bb$var$RenameController.get(editor);
        if (controller) return controller.run();
        return Promise.resolve();
    }
    constructor(){
        super({
            id: 'editor.action.rename',
            label: $1WuVQ.localize('rename.label', "Rename Symbol"),
            alias: 'Rename Symbol',
            precondition: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.writable, $7oeKV.EditorContextKeys.hasRenameProvider),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 60 /* F2 */ ,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: '1_modification',
                order: 1.1
            }
        });
    }
}
$g9Zlr.registerEditorContribution($a95d9baa4bced5bb$var$RenameController.ID, $a95d9baa4bced5bb$var$RenameController);
$g9Zlr.registerEditorAction($a95d9baa4bced5bb$export$9c8fe0f1407330da);
const $a95d9baa4bced5bb$var$RenameCommand = $g9Zlr.EditorCommand.bindToContribution($a95d9baa4bced5bb$var$RenameController.get);
$g9Zlr.registerEditorCommand(new $a95d9baa4bced5bb$var$RenameCommand({
    id: 'acceptRenameInput',
    precondition: $5717a67250ac44f9$exports.CONTEXT_RENAME_INPUT_VISIBLE,
    handler: (x)=>x.acceptRenameInput(false)
    ,
    kbOpts: {
        weight: 199,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 3 /* Enter */ 
    }
}));
$g9Zlr.registerEditorCommand(new $a95d9baa4bced5bb$var$RenameCommand({
    id: 'acceptRenameInputWithPreview',
    precondition: $h4kGX.ContextKeyExpr.and($5717a67250ac44f9$exports.CONTEXT_RENAME_INPUT_VISIBLE, $h4kGX.ContextKeyExpr.has('config.editor.rename.enablePreview')),
    handler: (x)=>x.acceptRenameInput(true)
    ,
    kbOpts: {
        weight: 199,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 1027 /* Enter */ 
    }
}));
$g9Zlr.registerEditorCommand(new $a95d9baa4bced5bb$var$RenameCommand({
    id: 'cancelRenameInput',
    precondition: $5717a67250ac44f9$exports.CONTEXT_RENAME_INPUT_VISIBLE,
    handler: (x)=>x.cancelRenameInput()
    ,
    kbOpts: {
        weight: 199,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 9 /* Escape */ ,
        secondary: [
            1033 /* Escape */ 
        ]
    }
}));
// ---- api bridge command
$g9Zlr.registerModelAndPositionCommand('_executeDocumentRenameProvider', function(model, position, ...args) {
    const [newName] = args;
    $erLC3.assertType(typeof newName === 'string');
    return $a95d9baa4bced5bb$export$7ac989ec0c9c279(model, position, newName);
});
$g9Zlr.registerModelAndPositionCommand('_executePrepareRename', function(model, position) {
    return $a95d9baa4bced5bb$var$__awaiter(this, void 0, void 0, function*() {
        const skeleton = new $a95d9baa4bced5bb$var$RenameSkeleton(model, position);
        const loc = yield skeleton.resolveRenameLocation($1vhHo.CancellationToken.None);
        if (loc === null || loc === void 0 ? void 0 : loc.rejectReason) throw new Error(loc.rejectReason);
        return loc;
    });
});
//todo@jrieken use editor options world
$3fwCj.Registry.as($dQfst.Extensions.Configuration).registerConfiguration({
    id: 'editor',
    properties: {
        'editor.rename.enablePreview': {
            scope: 5 /* LANGUAGE_OVERRIDABLE */ ,
            description: $1WuVQ.localize('enablePreview', "Enable/disable the ability to preview changes before renaming"),
            default: true,
            type: 'boolean'
        }
    }
});


var $a6b8cf5c3b409678$exports = {};

var $duSG1 = parcelRequire("duSG1");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $g9Zlr = parcelRequire("g9Zlr");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");

var $goPht = parcelRequire("goPht");


var $i4xl7 = parcelRequire("i4xl7");

var $1YFxJ = parcelRequire("1YFxJ");
class $ed16b2ad6b2a4b6f$export$ef5b42c27450f48c {
    provideSelectionRanges(model, positions) {
        const result = [];
        for (const position of positions){
            const bucket = [];
            result.push(bucket);
            this._addInWordRanges(bucket, model, position);
            this._addWordRanges(bucket, model, position);
            this._addWhitespaceLine(bucket, model, position);
            bucket.push({
                range: model.getFullModelRange()
            });
        }
        return result;
    }
    _addInWordRanges(bucket, model, pos) {
        const obj = model.getWordAtPosition(pos);
        if (!obj) return;
        let { word: word , startColumn: startColumn  } = obj;
        let offset = pos.column - startColumn;
        let start = offset;
        let end = offset;
        let lastCh = 0;
        // LEFT anchor (start)
        for(; start >= 0; start--){
            let ch = word.charCodeAt(start);
            if (start !== offset && (ch === 95 /* Underline */  || ch === 45 /* Dash */ )) break;
            else if ($i4xl7.isLowerAsciiLetter(ch) && $i4xl7.isUpperAsciiLetter(lastCh)) break;
            lastCh = ch;
        }
        start += 1;
        // RIGHT anchor (end)
        for(; end < word.length; end++){
            let ch = word.charCodeAt(end);
            if ($i4xl7.isUpperAsciiLetter(ch) && $i4xl7.isLowerAsciiLetter(lastCh)) break;
            else if (ch === 95 /* Underline */  || ch === 45 /* Dash */ ) break;
            lastCh = ch;
        }
        if (start < end) bucket.push({
            range: new $1YFxJ.Range(pos.lineNumber, startColumn + start, pos.lineNumber, startColumn + end)
        });
    }
    _addWordRanges(bucket, model, pos) {
        const word = model.getWordAtPosition(pos);
        if (word) bucket.push({
            range: new $1YFxJ.Range(pos.lineNumber, word.startColumn, pos.lineNumber, word.endColumn)
        });
    }
    _addWhitespaceLine(bucket, model, pos) {
        if (model.getLineLength(pos.lineNumber) > 0 && model.getLineFirstNonWhitespaceColumn(pos.lineNumber) === 0 && model.getLineLastNonWhitespaceColumn(pos.lineNumber) === 0) bucket.push({
            range: new $1YFxJ.Range(pos.lineNumber, 1, pos.lineNumber, model.getLineMaxColumn(pos.lineNumber))
        });
    }
}



var $1WuVQ = parcelRequire("1WuVQ");

var $iCLhR = parcelRequire("iCLhR");

var $c0VS7 = parcelRequire("c0VS7");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $a6b8cf5c3b409678$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $a6b8cf5c3b409678$var$SelectionRanges {
    mov(fwd) {
        let index = this.index + (fwd ? 1 : -1);
        if (index < 0 || index >= this.ranges.length) return this;
        const res = new $a6b8cf5c3b409678$var$SelectionRanges(index, this.ranges);
        if (res.ranges[index].equalsRange(this.ranges[this.index])) // next range equals this range, retry with next-next
        return res.mov(fwd);
        return res;
    }
    constructor(index, ranges){
        this.index = index;
        this.ranges = ranges;
    }
}
class $a6b8cf5c3b409678$var$SmartSelectController {
    static get(editor) {
        return editor.getContribution($a6b8cf5c3b409678$var$SmartSelectController.ID);
    }
    dispose() {
        var _a;
        (_a = this._selectionListener) === null || _a === void 0 || _a.dispose();
    }
    run(forward) {
        return $a6b8cf5c3b409678$var$__awaiter(this, void 0, void 0, function*() {
            if (!this._editor.hasModel()) return;
            const selections = this._editor.getSelections();
            const model = this._editor.getModel();
            if (!$goPht.SelectionRangeRegistry.has(model)) return;
            if (!this._state) yield $a6b8cf5c3b409678$export$ade1e921564bf339(model, selections.map((s)=>s.getPosition()
            ), this._editor.getOption(101 /* smartSelect */ ), $1vhHo.CancellationToken.None).then((ranges1)=>{
                var _a1;
                if (!$duSG1.isNonEmptyArray(ranges1) || ranges1.length !== selections.length) // invalid result
                return;
                if (!this._editor.hasModel() || !$duSG1.equals(this._editor.getSelections(), selections, (a, b)=>a.equalsSelection(b)
                )) // invalid editor state
                return;
                for(let i = 0; i < ranges1.length; i++){
                    ranges1[i] = ranges1[i].filter((range)=>{
                        // filter ranges inside the selection
                        return range.containsPosition(selections[i].getStartPosition()) && range.containsPosition(selections[i].getEndPosition());
                    });
                    // prepend current selection
                    ranges1[i].unshift(selections[i]);
                }
                this._state = ranges1.map((ranges)=>new $a6b8cf5c3b409678$var$SelectionRanges(0, ranges)
                );
                // listen to caret move and forget about state
                (_a1 = this._selectionListener) === null || _a1 === void 0 || _a1.dispose();
                this._selectionListener = this._editor.onDidChangeCursorPosition(()=>{
                    var _a;
                    if (!this._ignoreSelection) {
                        (_a = this._selectionListener) === null || _a === void 0 || _a.dispose();
                        this._state = undefined;
                    }
                });
            });
            if (!this._state) // no state
            return;
            this._state = this._state.map((state)=>state.mov(forward)
            );
            const newSelections = this._state.map((state)=>$jS6at.Selection.fromPositions(state.ranges[state.index].getStartPosition(), state.ranges[state.index].getEndPosition())
            );
            this._ignoreSelection = true;
            try {
                this._editor.setSelections(newSelections);
            } finally{
                this._ignoreSelection = false;
            }
        });
    }
    constructor(_editor){
        this._editor = _editor;
        this._ignoreSelection = false;
    }
}
$a6b8cf5c3b409678$var$SmartSelectController.ID = 'editor.contrib.smartSelectController';
class $a6b8cf5c3b409678$var$AbstractSmartSelect extends $g9Zlr.EditorAction {
    run(_accessor, editor) {
        return $a6b8cf5c3b409678$var$__awaiter(this, void 0, void 0, function*() {
            let controller = $a6b8cf5c3b409678$var$SmartSelectController.get(editor);
            if (controller) yield controller.run(this._forward);
        });
    }
    constructor(forward, opts){
        super(opts);
        this._forward = forward;
    }
}
class $a6b8cf5c3b409678$var$GrowSelectionAction extends $a6b8cf5c3b409678$var$AbstractSmartSelect {
    constructor(){
        super(true, {
            id: 'editor.action.smartSelect.expand',
            label: $1WuVQ.localize('smartSelect.expand', "Expand Selection"),
            alias: 'Expand Selection',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1553 /* RightArrow */ ,
                mac: {
                    primary: 3345 /* RightArrow */ ,
                    secondary: [
                        1297 /* RightArrow */ 
                    ]
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '1_basic',
                title: $1WuVQ.localize({
                    key: 'miSmartSelectGrow',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "&&Expand Selection"),
                order: 2
            }
        });
    }
}
// renamed command id
$c0VS7.CommandsRegistry.registerCommandAlias('editor.action.smartSelect.grow', 'editor.action.smartSelect.expand');
class $a6b8cf5c3b409678$var$ShrinkSelectionAction extends $a6b8cf5c3b409678$var$AbstractSmartSelect {
    constructor(){
        super(false, {
            id: 'editor.action.smartSelect.shrink',
            label: $1WuVQ.localize('smartSelect.shrink', "Shrink Selection"),
            alias: 'Shrink Selection',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1551 /* LeftArrow */ ,
                mac: {
                    primary: 3343 /* LeftArrow */ ,
                    secondary: [
                        1295 /* LeftArrow */ 
                    ]
                },
                weight: 100 /* EditorContrib */ 
            },
            menuOpts: {
                menuId: $iCLhR.MenuId.MenubarSelectionMenu,
                group: '1_basic',
                title: $1WuVQ.localize({
                    key: 'miSmartSelectShrink',
                    comment: [
                        '&& denotes a mnemonic'
                    ]
                }, "&&Shrink Selection"),
                order: 3
            }
        });
    }
}
$g9Zlr.registerEditorContribution($a6b8cf5c3b409678$var$SmartSelectController.ID, $a6b8cf5c3b409678$var$SmartSelectController);
$g9Zlr.registerEditorAction($a6b8cf5c3b409678$var$GrowSelectionAction);
$g9Zlr.registerEditorAction($a6b8cf5c3b409678$var$ShrinkSelectionAction);
// word selection
$goPht.SelectionRangeRegistry.register('*', new $ed16b2ad6b2a4b6f$export$ef5b42c27450f48c());
function $a6b8cf5c3b409678$export$ade1e921564bf339(model, positions, options, token) {
    return $a6b8cf5c3b409678$var$__awaiter(this, void 0, void 0, function*() {
        const providers = $goPht.SelectionRangeRegistry.all(model);
        if (providers.length === 1) // add word selection and bracket selection when no provider exists
        providers.unshift(new $3a5b2b6ca91420f3$exports.BracketSelectionRangeProvider());
        let work = [];
        let allRawRanges = [];
        for (const provider of providers)work.push(Promise.resolve(provider.provideSelectionRanges(model, positions, token)).then((allProviderRanges)=>{
            if ($duSG1.isNonEmptyArray(allProviderRanges) && allProviderRanges.length === positions.length) for(let i = 0; i < positions.length; i++){
                if (!allRawRanges[i]) allRawRanges[i] = [];
                for (const oneProviderRanges of allProviderRanges[i])if ($1YFxJ.Range.isIRange(oneProviderRanges.range) && $1YFxJ.Range.containsPosition(oneProviderRanges.range, positions[i])) allRawRanges[i].push($1YFxJ.Range.lift(oneProviderRanges.range));
            }
        }, $3FsT3.onUnexpectedExternalError));
        yield Promise.all(work);
        return allRawRanges.map((oneRawRanges)=>{
            if (oneRawRanges.length === 0) return [];
            // sort all by start/end position
            oneRawRanges.sort((a, b)=>{
                if ($fqrfT.Position.isBefore(a.getStartPosition(), b.getStartPosition())) return 1;
                else if ($fqrfT.Position.isBefore(b.getStartPosition(), a.getStartPosition())) return -1;
                else if ($fqrfT.Position.isBefore(a.getEndPosition(), b.getEndPosition())) return -1;
                else if ($fqrfT.Position.isBefore(b.getEndPosition(), a.getEndPosition())) return 1;
                else return 0;
            });
            // remove ranges that don't contain the former range or that are equal to the
            // former range
            let oneRanges = [];
            let last;
            for (const range of oneRawRanges)if (!last || $1YFxJ.Range.containsRange(range, last) && !$1YFxJ.Range.equalsRange(range, last)) {
                oneRanges.push(range);
                last = range;
            }
            if (!options.selectLeadingAndTrailingWhitespace) return oneRanges;
            // add ranges that expand trivia at line starts and ends whenever a range
            // wraps onto the a new line
            let oneRangesWithTrivia = [
                oneRanges[0]
            ];
            for(let i = 1; i < oneRanges.length; i++){
                const prev = oneRanges[i - 1];
                const cur = oneRanges[i];
                if (cur.startLineNumber !== prev.startLineNumber || cur.endLineNumber !== prev.endLineNumber) {
                    // add line/block range without leading/failing whitespace
                    const rangeNoWhitespace = new $1YFxJ.Range(prev.startLineNumber, model.getLineFirstNonWhitespaceColumn(prev.startLineNumber), prev.endLineNumber, model.getLineLastNonWhitespaceColumn(prev.endLineNumber));
                    if (rangeNoWhitespace.containsRange(prev) && !rangeNoWhitespace.equalsRange(prev) && cur.containsRange(rangeNoWhitespace) && !cur.equalsRange(rangeNoWhitespace)) oneRangesWithTrivia.push(rangeNoWhitespace);
                    // add line/block range
                    const rangeFull = new $1YFxJ.Range(prev.startLineNumber, 1, prev.endLineNumber, model.getLineMaxColumn(prev.endLineNumber));
                    if (rangeFull.containsRange(prev) && !rangeFull.equalsRange(rangeNoWhitespace) && cur.containsRange(rangeFull) && !cur.equalsRange(rangeFull)) oneRangesWithTrivia.push(rangeFull);
                }
                oneRangesWithTrivia.push(cur);
            }
            return oneRangesWithTrivia;
        });
    });
}
$g9Zlr.registerModelCommand('_executeSelectionRangeProvider', function(model, ...args) {
    const [positions] = args;
    return $a6b8cf5c3b409678$export$ade1e921564bf339(model, positions, {
        selectLeadingAndTrailingWhitespace: true
    }, $1vhHo.CancellationToken.None);
});





var $dJKtA = parcelRequire("dJKtA");

var $g9Zlr = parcelRequire("g9Zlr");

var $1WuVQ = parcelRequire("1WuVQ");
class $063f3af2fac6ec14$var$ForceRetokenizeAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        if (!editor.hasModel()) return;
        const model = editor.getModel();
        model.resetTokenization();
        const sw = new $dJKtA.StopWatch(true);
        model.forceTokenization(model.getLineCount());
        sw.stop();
        console.log(`tokenization took ${sw.elapsed()}`);
    }
    constructor(){
        super({
            id: 'editor.action.forceRetokenize',
            label: $1WuVQ.localize('forceRetokenize', "Developer: Force Retokenize"),
            alias: 'Developer: Force Retokenize',
            precondition: undefined
        });
    }
}
$g9Zlr.registerEditorAction($063f3af2fac6ec14$var$ForceRetokenizeAction);



var $6eCoB = parcelRequire("6eCoB");

var $g9Zlr = parcelRequire("g9Zlr");

var $5vE58 = parcelRequire("5vE58");

var $1WuVQ = parcelRequire("1WuVQ");
class $48c1893a0a30bf5f$export$676ded3884da9932 extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const oldValue = $5vE58.TabFocus.getTabFocusMode();
        const newValue = !oldValue;
        $5vE58.TabFocus.setTabFocusMode(newValue);
        if (newValue) $6eCoB.alert($1WuVQ.localize('toggle.tabMovesFocus.on', "Pressing Tab will now move focus to the next focusable element"));
        else $6eCoB.alert($1WuVQ.localize('toggle.tabMovesFocus.off', "Pressing Tab will now insert the tab character"));
    }
    constructor(){
        super({
            id: $48c1893a0a30bf5f$export$676ded3884da9932.ID,
            label: $1WuVQ.localize({
                key: 'toggle.tabMovesFocus',
                comment: [
                    'Turn on/off use of tab key for moving focus around VS Code'
                ]
            }, "Toggle Tab Key Moves Focus"),
            alias: 'Toggle Tab Key Moves Focus',
            precondition: undefined,
            kbOpts: {
                kbExpr: null,
                primary: 2091 /* KeyM */ ,
                mac: {
                    primary: 1323 /* KeyM */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$48c1893a0a30bf5f$export$676ded3884da9932.ID = 'editor.action.toggleTabFocusMode';
$g9Zlr.registerEditorAction($48c1893a0a30bf5f$export$676ded3884da9932);



var $c8e6bc3d27cf25cb$exports = {};

var $6W1JA = parcelRequire("6W1JA");

var $lvxAj = parcelRequire("lvxAj");

var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");

var $1WuVQ = parcelRequire("1WuVQ");

var $kgSXp = parcelRequire("kgSXp");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $c8e6bc3d27cf25cb$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $c8e6bc3d27cf25cb$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $c8e6bc3d27cf25cb$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const $c8e6bc3d27cf25cb$var$ignoreUnusualLineTerminators = 'ignoreUnusualLineTerminators';
function $c8e6bc3d27cf25cb$var$writeIgnoreState(codeEditorService, model, state) {
    codeEditorService.setModelProperty(model.uri, $c8e6bc3d27cf25cb$var$ignoreUnusualLineTerminators, state);
}
function $c8e6bc3d27cf25cb$var$readIgnoreState(codeEditorService, model) {
    return codeEditorService.getModelProperty(model.uri, $c8e6bc3d27cf25cb$var$ignoreUnusualLineTerminators);
}
let $c8e6bc3d27cf25cb$export$ac2e48bc5d9c728f = class $c8e6bc3d27cf25cb$export$ac2e48bc5d9c728f extends $6W1JA.Disposable {
    _checkForUnusualLineTerminators() {
        return $c8e6bc3d27cf25cb$var$__awaiter(this, void 0, void 0, function*() {
            if (this._config === 'off') return;
            if (!this._editor.hasModel()) return;
            const model = this._editor.getModel();
            if (!model.mightContainUnusualLineTerminators()) return;
            const ignoreState = $c8e6bc3d27cf25cb$var$readIgnoreState(this._codeEditorService, model);
            if (ignoreState === true) // this model should be ignored
            return;
            if (this._editor.getOption(80 /* readOnly */ )) // read only editor => sorry!
            return;
            if (this._config === 'auto') {
                // just do it!
                model.removeUnusualLineTerminators(this._editor.getSelections());
                return;
            }
            const result = yield this._dialogService.confirm({
                title: $1WuVQ.localize('unusualLineTerminators.title', "Unusual Line Terminators"),
                message: $1WuVQ.localize('unusualLineTerminators.message', "Detected unusual line terminators"),
                detail: $1WuVQ.localize('unusualLineTerminators.detail', "The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.", $lvxAj.basename(model.uri)),
                primaryButton: $1WuVQ.localize('unusualLineTerminators.fix', "Remove Unusual Line Terminators"),
                secondaryButton: $1WuVQ.localize('unusualLineTerminators.ignore', "Ignore")
            });
            if (!result.confirmed) {
                // this model should be ignored
                $c8e6bc3d27cf25cb$var$writeIgnoreState(this._codeEditorService, model, true);
                return;
            }
            model.removeUnusualLineTerminators(this._editor.getSelections());
        });
    }
    constructor(_editor, _dialogService, _codeEditorService){
        super();
        this._editor = _editor;
        this._dialogService = _dialogService;
        this._codeEditorService = _codeEditorService;
        this._config = this._editor.getOption(113 /* unusualLineTerminators */ );
        this._register(this._editor.onDidChangeConfiguration((e)=>{
            if (e.hasChanged(113 /* unusualLineTerminators */ )) {
                this._config = this._editor.getOption(113 /* unusualLineTerminators */ );
                this._checkForUnusualLineTerminators();
            }
        }));
        this._register(this._editor.onDidChangeModel(()=>{
            this._checkForUnusualLineTerminators();
        }));
        this._register(this._editor.onDidChangeModelContent((e)=>{
            if (e.isUndoing) // skip checking in case of undoing
            return;
            this._checkForUnusualLineTerminators();
        }));
    }
};
$c8e6bc3d27cf25cb$export$ac2e48bc5d9c728f.ID = 'editor.contrib.unusualLineTerminatorsDetector';
$c8e6bc3d27cf25cb$export$ac2e48bc5d9c728f = $c8e6bc3d27cf25cb$var$__decorate([
    $c8e6bc3d27cf25cb$var$__param(1, $kgSXp.IDialogService),
    $c8e6bc3d27cf25cb$var$__param(2, $7lWR1.ICodeEditorService)
], $c8e6bc3d27cf25cb$export$ac2e48bc5d9c728f);
$g9Zlr.registerEditorContribution($c8e6bc3d27cf25cb$export$ac2e48bc5d9c728f.ID, $c8e6bc3d27cf25cb$export$ac2e48bc5d9c728f);


var $7d625c07876801ed$exports = {};

var $5piST = parcelRequire("5piST");

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $goPht = parcelRequire("goPht");

var $gjREu = parcelRequire("gjREu");

var $75At3 = parcelRequire("75At3");

var $hCb33 = parcelRequire("hCb33");

var $1L9Gt = parcelRequire("1L9Gt");

var $6goiI = parcelRequire("6goiI");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $7d625c07876801ed$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $7d625c07876801ed$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $7d625c07876801ed$var$ViewportSemanticTokensContribution = class ViewportSemanticTokensContribution extends $6W1JA.Disposable {
    _cancelAll() {
        for (const request of this._outstandingRequests)request.cancel();
        this._outstandingRequests = [];
    }
    _removeOutstandingRequest(req) {
        for(let i = 0, len = this._outstandingRequests.length; i < len; i++)if (this._outstandingRequests[i] === req) {
            this._outstandingRequests.splice(i, 1);
            return;
        }
    }
    _tokenizeViewportNow() {
        if (!this._editor.hasModel()) return;
        const model = this._editor.getModel();
        if (model.hasCompleteSemanticTokens()) return;
        if (!$hCb33.isSemanticColoringEnabled(model, this._themeService, this._configurationService)) {
            if (model.hasSomeSemanticTokens()) model.setSemanticTokens(null, false);
            return;
        }
        if (!$gjREu.hasDocumentRangeSemanticTokensProvider(model)) {
            if (model.hasSomeSemanticTokens()) model.setSemanticTokens(null, false);
            return;
        }
        const visibleRanges = this._editor.getVisibleRangesPlusViewportAboveBelow();
        this._outstandingRequests = this._outstandingRequests.concat(visibleRanges.map((range)=>this._requestRange(model, range)
        ));
    }
    _requestRange(model, range) {
        const requestVersionId = model.getVersionId();
        const request = $5piST.createCancelablePromise((token)=>Promise.resolve($gjREu.getDocumentRangeSemanticTokens(model, range, token))
        );
        request.then((r)=>{
            if (!r || !r.tokens || model.isDisposed() || model.getVersionId() !== requestVersionId) return;
            const { provider: provider , tokens: result  } = r;
            const styling = this._modelService.getSemanticTokensProviderStyling(provider);
            model.setPartialSemanticTokens(range, $1L9Gt.toMultilineTokens2(result, styling, model.getLanguageId()));
        }).then(()=>this._removeOutstandingRequest(request)
        , ()=>this._removeOutstandingRequest(request)
        );
        return request;
    }
    constructor(editor, _modelService, _themeService, _configurationService){
        super();
        this._modelService = _modelService;
        this._themeService = _themeService;
        this._configurationService = _configurationService;
        this._editor = editor;
        this._tokenizeViewport = new $5piST.RunOnceScheduler(()=>this._tokenizeViewportNow()
        , 100);
        this._outstandingRequests = [];
        this._register(this._editor.onDidScrollChange(()=>{
            this._tokenizeViewport.schedule();
        }));
        this._register(this._editor.onDidChangeModel(()=>{
            this._cancelAll();
            this._tokenizeViewport.schedule();
        }));
        this._register(this._editor.onDidChangeModelContent((e)=>{
            this._cancelAll();
            this._tokenizeViewport.schedule();
        }));
        this._register($goPht.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{
            this._cancelAll();
            this._tokenizeViewport.schedule();
        }));
        this._register(this._configurationService.onDidChangeConfiguration((e)=>{
            if (e.affectsConfiguration($hCb33.SEMANTIC_HIGHLIGHTING_SETTING_ID)) {
                this._cancelAll();
                this._tokenizeViewport.schedule();
            }
        }));
        this._register(this._themeService.onDidColorThemeChange(()=>{
            this._cancelAll();
            this._tokenizeViewport.schedule();
        }));
    }
};
$7d625c07876801ed$var$ViewportSemanticTokensContribution.ID = 'editor.contrib.viewportSemanticTokens';
$7d625c07876801ed$var$ViewportSemanticTokensContribution = $7d625c07876801ed$var$__decorate([
    $7d625c07876801ed$var$__param(1, $75At3.IModelService),
    $7d625c07876801ed$var$__param(2, $5Wwop.IThemeService),
    $7d625c07876801ed$var$__param(3, $6goiI.IConfigurationService)
], $7d625c07876801ed$var$ViewportSemanticTokensContribution);
$g9Zlr.registerEditorContribution($7d625c07876801ed$var$ViewportSemanticTokensContribution.ID, $7d625c07876801ed$var$ViewportSemanticTokensContribution);


var $e9facd078936f00a$exports = {};

var $6eCoB = parcelRequire("6eCoB");

var $duSG1 = parcelRequire("duSG1");

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $3FsT3 = parcelRequire("3FsT3");

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");

var $96X4O = parcelRequire("96X4O");

var $72tIz = parcelRequire("72tIz");

var $goPht = parcelRequire("goPht");

var $1WuVQ = parcelRequire("1WuVQ");

var $h4kGX = parcelRequire("h4kGX");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $e9facd078936f00a$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $e9facd078936f00a$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $e9facd078936f00a$var$editorWordHighlight = $kL4Ig.registerColor('editor.wordHighlightBackground', {
    dark: '#575757B8',
    light: '#57575740',
    hc: null
}, $1WuVQ.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);
const $e9facd078936f00a$var$editorWordHighlightStrong = $kL4Ig.registerColor('editor.wordHighlightStrongBackground', {
    dark: '#004972B8',
    light: '#0e639c40',
    hc: null
}, $1WuVQ.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);
const $e9facd078936f00a$var$editorWordHighlightBorder = $kL4Ig.registerColor('editor.wordHighlightBorder', {
    light: null,
    dark: null,
    hc: $kL4Ig.activeContrastBorder
}, $1WuVQ.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));
const $e9facd078936f00a$var$editorWordHighlightStrongBorder = $kL4Ig.registerColor('editor.wordHighlightStrongBorder', {
    light: null,
    dark: null,
    hc: $kL4Ig.activeContrastBorder
}, $1WuVQ.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));
const $e9facd078936f00a$var$overviewRulerWordHighlightForeground = $kL4Ig.registerColor('editorOverviewRuler.wordHighlightForeground', {
    dark: '#A0A0A0CC',
    light: '#A0A0A0CC',
    hc: '#A0A0A0CC'
}, $1WuVQ.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);
const $e9facd078936f00a$var$overviewRulerWordHighlightStrongForeground = $kL4Ig.registerColor('editorOverviewRuler.wordHighlightStrongForeground', {
    dark: '#C0A0C0CC',
    light: '#C0A0C0CC',
    hc: '#C0A0C0CC'
}, $1WuVQ.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);
const $e9facd078936f00a$var$ctxHasWordHighlights = new $h4kGX.RawContextKey('hasWordHighlights', false);
function $e9facd078936f00a$export$25c73b4d2077057f(model, position, token) {
    const orderedByScore = $goPht.DocumentHighlightProviderRegistry.ordered(model);
    // in order of score ask the occurrences provider
    // until someone response with a good result
    // (good = none empty array)
    return $5piST.first(orderedByScore.map((provider)=>()=>{
            return Promise.resolve(provider.provideDocumentHighlights(model, position, token)).then(undefined, $3FsT3.onUnexpectedExternalError);
        }
    ), $duSG1.isNonEmptyArray);
}
class $e9facd078936f00a$var$OccurenceAtPositionRequest {
    _getCurrentWordRange(model, selection) {
        const word = model.getWordAtPosition(selection.getPosition());
        if (word) return new $1YFxJ.Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);
        return null;
    }
    isValid(model, selection, decorationIds) {
        const lineNumber = selection.startLineNumber;
        const startColumn = selection.startColumn;
        const endColumn = selection.endColumn;
        const currentWordRange = this._getCurrentWordRange(model, selection);
        let requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));
        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid
        // (Same symbol)
        for(let i = 0, len = decorationIds.length; !requestIsValid && i < len; i++){
            let range = model.getDecorationRange(decorationIds[i]);
            if (range && range.startLineNumber === lineNumber) {
                if (range.startColumn <= startColumn && range.endColumn >= endColumn) requestIsValid = true;
            }
        }
        return requestIsValid;
    }
    cancel() {
        this.result.cancel();
    }
    constructor(model, selection, wordSeparators){
        this._wordRange = this._getCurrentWordRange(model, selection);
        this.result = $5piST.createCancelablePromise((token)=>this._compute(model, selection, wordSeparators, token)
        );
    }
}
class $e9facd078936f00a$var$SemanticOccurenceAtPositionRequest extends $e9facd078936f00a$var$OccurenceAtPositionRequest {
    _compute(model, selection, wordSeparators, token) {
        return $e9facd078936f00a$export$25c73b4d2077057f(model, selection.getPosition(), token).then((value)=>value || []
        );
    }
}
class $e9facd078936f00a$var$TextualOccurenceAtPositionRequest extends $e9facd078936f00a$var$OccurenceAtPositionRequest {
    _compute(model, selection, wordSeparators, token) {
        return $5piST.timeout(250, token).then(()=>{
            if (!selection.isEmpty()) return [];
            const word = model.getWordAtPosition(selection.getPosition());
            if (!word || word.word.length > 1000) return [];
            const matches = model.findMatches(word.word, true, false, true, wordSeparators, false);
            return matches.map((m)=>{
                return {
                    range: m.range,
                    kind: $goPht.DocumentHighlightKind.Text
                };
            });
        });
    }
    isValid(model, selection, decorationIds) {
        const currentSelectionIsEmpty = selection.isEmpty();
        if (this._selectionIsEmpty !== currentSelectionIsEmpty) return false;
        return super.isValid(model, selection, decorationIds);
    }
    constructor(model, selection, wordSeparators){
        super(model, selection, wordSeparators);
        this._selectionIsEmpty = selection.isEmpty();
    }
}
function $e9facd078936f00a$var$computeOccurencesAtPosition(model, selection, wordSeparators) {
    if ($goPht.DocumentHighlightProviderRegistry.has(model)) return new $e9facd078936f00a$var$SemanticOccurenceAtPositionRequest(model, selection, wordSeparators);
    return new $e9facd078936f00a$var$TextualOccurenceAtPositionRequest(model, selection, wordSeparators);
}
$g9Zlr.registerModelAndPositionCommand('_executeDocumentHighlights', (model, position)=>$e9facd078936f00a$export$25c73b4d2077057f(model, position, $1vhHo.CancellationToken.None)
);
class $e9facd078936f00a$var$WordHighlighter {
    hasDecorations() {
        return this._decorationIds.length > 0;
    }
    restore() {
        if (!this.occurrencesHighlight) return;
        this._run();
    }
    _getSortedHighlights() {
        return $duSG1.coalesce(this._decorationIds.map((id)=>this.model.getDecorationRange(id)
        ).sort($1YFxJ.Range.compareRangesUsingStarts));
    }
    moveNext() {
        let highlights = this._getSortedHighlights();
        let index = highlights.findIndex((range)=>range.containsPosition(this.editor.getPosition())
        );
        let newIndex = (index + 1) % highlights.length;
        let dest = highlights[newIndex];
        try {
            this._ignorePositionChangeEvent = true;
            this.editor.setPosition(dest.getStartPosition());
            this.editor.revealRangeInCenterIfOutsideViewport(dest);
            const word = this._getWord();
            if (word) {
                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);
                $6eCoB.alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);
            }
        } finally{
            this._ignorePositionChangeEvent = false;
        }
    }
    moveBack() {
        let highlights = this._getSortedHighlights();
        let index = highlights.findIndex((range)=>range.containsPosition(this.editor.getPosition())
        );
        let newIndex = (index - 1 + highlights.length) % highlights.length;
        let dest = highlights[newIndex];
        try {
            this._ignorePositionChangeEvent = true;
            this.editor.setPosition(dest.getStartPosition());
            this.editor.revealRangeInCenterIfOutsideViewport(dest);
            const word = this._getWord();
            if (word) {
                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);
                $6eCoB.alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);
            }
        } finally{
            this._ignorePositionChangeEvent = false;
        }
    }
    _removeDecorations() {
        if (this._decorationIds.length > 0) {
            // remove decorations
            this._decorationIds = this.editor.deltaDecorations(this._decorationIds, []);
            this._hasWordHighlights.set(false);
        }
    }
    _stopAll() {
        // Remove any existing decorations
        this._removeDecorations();
        // Cancel any renderDecorationsTimer
        if (this.renderDecorationsTimer !== -1) {
            clearTimeout(this.renderDecorationsTimer);
            this.renderDecorationsTimer = -1;
        }
        // Cancel any worker request
        if (this.workerRequest !== null) {
            this.workerRequest.cancel();
            this.workerRequest = null;
        }
        // Invalidate any worker request callback
        if (!this.workerRequestCompleted) {
            this.workerRequestTokenId++;
            this.workerRequestCompleted = true;
        }
    }
    _onPositionChanged(e) {
        // disabled
        if (!this.occurrencesHighlight) {
            this._stopAll();
            return;
        }
        // ignore typing & other
        if (e.reason !== 3 /* Explicit */ ) {
            this._stopAll();
            return;
        }
        this._run();
    }
    _getWord() {
        let editorSelection = this.editor.getSelection();
        let lineNumber = editorSelection.startLineNumber;
        let startColumn = editorSelection.startColumn;
        return this.model.getWordAtPosition({
            lineNumber: lineNumber,
            column: startColumn
        });
    }
    _run() {
        let editorSelection = this.editor.getSelection();
        // ignore multiline selection
        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {
            this._stopAll();
            return;
        }
        let startColumn = editorSelection.startColumn;
        let endColumn = editorSelection.endColumn;
        const word = this._getWord();
        // The selection must be inside a word or surround one word at most
        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {
            this._stopAll();
            return;
        }
        // All the effort below is trying to achieve this:
        // - when cursor is moved to a word, trigger immediately a findOccurrences request
        // - 250ms later after the last cursor move event, render the occurrences
        // - no flickering!
        const workerRequestIsValid = this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this._decorationIds);
        // There are 4 cases:
        // a) old workerRequest is valid & completed, renderDecorationsTimer fired
        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired
        // c) old workerRequest is valid, but not completed
        // d) old workerRequest is not valid
        // For a) no action is needed
        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed
        this.lastCursorPositionChangeTime = new Date().getTime();
        if (workerRequestIsValid) {
            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {
                // case b)
                // Delay the firing of renderDecorationsTimer by an extra 250 ms
                clearTimeout(this.renderDecorationsTimer);
                this.renderDecorationsTimer = -1;
                this._beginRenderDecorations();
            }
        } else {
            // case d)
            // Stop all previous actions and start fresh
            this._stopAll();
            let myRequestId = ++this.workerRequestTokenId;
            this.workerRequestCompleted = false;
            this.workerRequest = $e9facd078936f00a$var$computeOccurencesAtPosition(this.model, this.editor.getSelection(), this.editor.getOption(116 /* wordSeparators */ ));
            this.workerRequest.result.then((data)=>{
                if (myRequestId === this.workerRequestTokenId) {
                    this.workerRequestCompleted = true;
                    this.workerRequestValue = data || [];
                    this._beginRenderDecorations();
                }
            }, $3FsT3.onUnexpectedError);
        }
    }
    _beginRenderDecorations() {
        let currentTime = new Date().getTime();
        let minimumRenderTime = this.lastCursorPositionChangeTime + 250;
        if (currentTime >= minimumRenderTime) {
            // Synchronous
            this.renderDecorationsTimer = -1;
            this.renderDecorations();
        } else // Asynchronous
        this.renderDecorationsTimer = setTimeout(()=>{
            this.renderDecorations();
        }, minimumRenderTime - currentTime);
    }
    renderDecorations() {
        this.renderDecorationsTimer = -1;
        let decorations = [];
        for (const info of this.workerRequestValue)if (info.range) decorations.push({
            range: info.range,
            options: $e9facd078936f00a$var$WordHighlighter._getDecorationOptions(info.kind)
        });
        this._decorationIds = this.editor.deltaDecorations(this._decorationIds, decorations);
        this._hasWordHighlights.set(this.hasDecorations());
    }
    static _getDecorationOptions(kind) {
        if (kind === $goPht.DocumentHighlightKind.Write) return this._WRITE_OPTIONS;
        else if (kind === $goPht.DocumentHighlightKind.Text) return this._TEXT_OPTIONS;
        else return this._REGULAR_OPTIONS;
    }
    dispose() {
        this._stopAll();
        this.toUnhook.dispose();
    }
    constructor(editor, contextKeyService){
        this.toUnhook = new $6W1JA.DisposableStore();
        this.workerRequestTokenId = 0;
        this.workerRequestCompleted = false;
        this.workerRequestValue = [];
        this.lastCursorPositionChangeTime = 0;
        this.renderDecorationsTimer = -1;
        this.editor = editor;
        this._hasWordHighlights = $e9facd078936f00a$var$ctxHasWordHighlights.bindTo(contextKeyService);
        this._ignorePositionChangeEvent = false;
        this.occurrencesHighlight = this.editor.getOption(71 /* occurrencesHighlight */ );
        this.model = this.editor.getModel();
        this.toUnhook.add(editor.onDidChangeCursorPosition((e)=>{
            if (this._ignorePositionChangeEvent) // We are changing the position => ignore this event
            return;
            if (!this.occurrencesHighlight) // Early exit if nothing needs to be done!
            // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)
            return;
            this._onPositionChanged(e);
        }));
        this.toUnhook.add(editor.onDidChangeModelContent((e)=>{
            this._stopAll();
        }));
        this.toUnhook.add(editor.onDidChangeConfiguration((e)=>{
            let newValue = this.editor.getOption(71 /* occurrencesHighlight */ );
            if (this.occurrencesHighlight !== newValue) {
                this.occurrencesHighlight = newValue;
                this._stopAll();
            }
        }));
        this._decorationIds = [];
        this.workerRequestTokenId = 0;
        this.workerRequest = null;
        this.workerRequestCompleted = false;
        this.lastCursorPositionChangeTime = 0;
        this.renderDecorationsTimer = -1;
    }
}
$e9facd078936f00a$var$WordHighlighter._WRITE_OPTIONS = $72tIz.ModelDecorationOptions.register({
    description: 'word-highlight-strong',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'wordHighlightStrong',
    overviewRuler: {
        color: $5Wwop.themeColorFromId($e9facd078936f00a$var$overviewRulerWordHighlightStrongForeground),
        position: $96X4O.OverviewRulerLane.Center
    },
    minimap: {
        color: $5Wwop.themeColorFromId($kL4Ig.minimapSelectionOccurrenceHighlight),
        position: $96X4O.MinimapPosition.Inline
    }
});
$e9facd078936f00a$var$WordHighlighter._TEXT_OPTIONS = $72tIz.ModelDecorationOptions.register({
    description: 'selection-highlight',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'selectionHighlight',
    overviewRuler: {
        color: $5Wwop.themeColorFromId($kL4Ig.overviewRulerSelectionHighlightForeground),
        position: $96X4O.OverviewRulerLane.Center
    },
    minimap: {
        color: $5Wwop.themeColorFromId($kL4Ig.minimapSelectionOccurrenceHighlight),
        position: $96X4O.MinimapPosition.Inline
    }
});
$e9facd078936f00a$var$WordHighlighter._REGULAR_OPTIONS = $72tIz.ModelDecorationOptions.register({
    description: 'word-highlight',
    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ ,
    className: 'wordHighlight',
    overviewRuler: {
        color: $5Wwop.themeColorFromId($e9facd078936f00a$var$overviewRulerWordHighlightForeground),
        position: $96X4O.OverviewRulerLane.Center
    },
    minimap: {
        color: $5Wwop.themeColorFromId($kL4Ig.minimapSelectionOccurrenceHighlight),
        position: $96X4O.MinimapPosition.Inline
    }
});
let $e9facd078936f00a$var$WordHighlighterContribution = class WordHighlighterContribution extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution(WordHighlighterContribution.ID);
    }
    saveViewState() {
        if (this.wordHighlighter && this.wordHighlighter.hasDecorations()) return true;
        return false;
    }
    moveNext() {
        if (this.wordHighlighter) this.wordHighlighter.moveNext();
    }
    moveBack() {
        if (this.wordHighlighter) this.wordHighlighter.moveBack();
    }
    restoreViewState(state) {
        if (this.wordHighlighter && state) this.wordHighlighter.restore();
    }
    dispose() {
        if (this.wordHighlighter) {
            this.wordHighlighter.dispose();
            this.wordHighlighter = null;
        }
        super.dispose();
    }
    constructor(editor, contextKeyService){
        super();
        this.wordHighlighter = null;
        const createWordHighlighterIfPossible = ()=>{
            if (editor.hasModel()) this.wordHighlighter = new $e9facd078936f00a$var$WordHighlighter(editor, contextKeyService);
        };
        this._register(editor.onDidChangeModel((e)=>{
            if (this.wordHighlighter) {
                this.wordHighlighter.dispose();
                this.wordHighlighter = null;
            }
            createWordHighlighterIfPossible();
        }));
        createWordHighlighterIfPossible();
    }
};
$e9facd078936f00a$var$WordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';
$e9facd078936f00a$var$WordHighlighterContribution = $e9facd078936f00a$var$__decorate([
    $e9facd078936f00a$var$__param(1, $h4kGX.IContextKeyService)
], $e9facd078936f00a$var$WordHighlighterContribution);
class $e9facd078936f00a$var$WordHighlightNavigationAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const controller = $e9facd078936f00a$var$WordHighlighterContribution.get(editor);
        if (!controller) return;
        if (this._isNext) controller.moveNext();
        else controller.moveBack();
    }
    constructor(next, opts){
        super(opts);
        this._isNext = next;
    }
}
class $e9facd078936f00a$var$NextWordHighlightAction extends $e9facd078936f00a$var$WordHighlightNavigationAction {
    constructor(){
        super(true, {
            id: 'editor.action.wordHighlight.next',
            label: $1WuVQ.localize('wordHighlight.next.label', "Go to Next Symbol Highlight"),
            alias: 'Go to Next Symbol Highlight',
            precondition: $e9facd078936f00a$var$ctxHasWordHighlights,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 65 /* F7 */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9facd078936f00a$var$PrevWordHighlightAction extends $e9facd078936f00a$var$WordHighlightNavigationAction {
    constructor(){
        super(false, {
            id: 'editor.action.wordHighlight.prev',
            label: $1WuVQ.localize('wordHighlight.previous.label', "Go to Previous Symbol Highlight"),
            alias: 'Go to Previous Symbol Highlight',
            precondition: $e9facd078936f00a$var$ctxHasWordHighlights,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 1089 /* F7 */ ,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $e9facd078936f00a$var$TriggerWordHighlightAction extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        const controller = $e9facd078936f00a$var$WordHighlighterContribution.get(editor);
        if (!controller) return;
        controller.restoreViewState(true);
    }
    constructor(){
        super({
            id: 'editor.action.wordHighlight.trigger',
            label: $1WuVQ.localize('wordHighlight.trigger.label', "Trigger Symbol Highlight"),
            alias: 'Trigger Symbol Highlight',
            precondition: $e9facd078936f00a$var$ctxHasWordHighlights.toNegated(),
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.editorTextFocus,
                primary: 0,
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorContribution($e9facd078936f00a$var$WordHighlighterContribution.ID, $e9facd078936f00a$var$WordHighlighterContribution);
$g9Zlr.registerEditorAction($e9facd078936f00a$var$NextWordHighlightAction);
$g9Zlr.registerEditorAction($e9facd078936f00a$var$PrevWordHighlightAction);
$g9Zlr.registerEditorAction($e9facd078936f00a$var$TriggerWordHighlightAction);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const selectionHighlight = theme.getColor($kL4Ig.editorSelectionHighlight);
    if (selectionHighlight) {
        collector.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${selectionHighlight}; }`);
        collector.addRule(`.monaco-editor .selectionHighlight { background-color: ${selectionHighlight.transparent(0.5)}; }`);
    }
    const wordHighlight = theme.getColor($e9facd078936f00a$var$editorWordHighlight);
    if (wordHighlight) collector.addRule(`.monaco-editor .wordHighlight { background-color: ${wordHighlight}; }`);
    const wordHighlightStrong = theme.getColor($e9facd078936f00a$var$editorWordHighlightStrong);
    if (wordHighlightStrong) collector.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${wordHighlightStrong}; }`);
    const selectionHighlightBorder = theme.getColor($kL4Ig.editorSelectionHighlightBorder);
    if (selectionHighlightBorder) collector.addRule(`.monaco-editor .selectionHighlight { border: 1px ${theme.type === 'hc' ? 'dotted' : 'solid'} ${selectionHighlightBorder}; box-sizing: border-box; }`);
    const wordHighlightBorder = theme.getColor($e9facd078936f00a$var$editorWordHighlightBorder);
    if (wordHighlightBorder) collector.addRule(`.monaco-editor .wordHighlight { border: 1px ${theme.type === 'hc' ? 'dashed' : 'solid'} ${wordHighlightBorder}; box-sizing: border-box; }`);
    const wordHighlightStrongBorder = theme.getColor($e9facd078936f00a$var$editorWordHighlightStrongBorder);
    if (wordHighlightStrongBorder) collector.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${theme.type === 'hc' ? 'dashed' : 'solid'} ${wordHighlightStrongBorder}; box-sizing: border-box; }`);
});



var $g9Zlr = parcelRequire("g9Zlr");

var $eSuzf = parcelRequire("eSuzf");

var $iB8dk = parcelRequire("iB8dk");

var $9wum8 = parcelRequire("9wum8");

var $1tOI7 = parcelRequire("1tOI7");

var $19epl = parcelRequire("19epl");

var $fqrfT = parcelRequire("fqrfT");

var $1YFxJ = parcelRequire("1YFxJ");

var $jS6at = parcelRequire("jS6at");

var $7oeKV = parcelRequire("7oeKV");

var $ahykL = parcelRequire("ahykL");

var $1WuVQ = parcelRequire("1WuVQ");

var $dcUw3 = parcelRequire("dcUw3");

var $h4kGX = parcelRequire("h4kGX");

var $1xfwX = parcelRequire("1xfwX");
class $a515ef3d44e716ad$export$eaab41d675fb3c77 extends $g9Zlr.EditorCommand {
    runEditorCommand(accessor, editor, args) {
        if (!editor.hasModel()) return;
        const wordSeparators = $19epl.getMapForWordSeparators(editor.getOption(116 /* wordSeparators */ ));
        const model = editor.getModel();
        const selections = editor.getSelections();
        const result = selections.map((sel)=>{
            const inPosition = new $fqrfT.Position(sel.positionLineNumber, sel.positionColumn);
            const outPosition = this._move(wordSeparators, model, inPosition, this._wordNavigationType);
            return this._moveTo(sel, outPosition, this._inSelectionMode);
        });
        model.pushStackElement();
        editor._getViewModel().setCursorStates('moveWordCommand', 3 /* Explicit */ , result.map((r)=>$9wum8.CursorState.fromModelSelection(r)
        ));
        if (result.length === 1) {
            const pos = new $fqrfT.Position(result[0].positionLineNumber, result[0].positionColumn);
            editor.revealPosition(pos, 0 /* Smooth */ );
        }
    }
    _moveTo(from, to, inSelectionMode) {
        if (inSelectionMode) // move just position
        return new $jS6at.Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);
        else // move everything
        return new $jS6at.Selection(to.lineNumber, to.column, to.lineNumber, to.column);
    }
    constructor(opts){
        super(opts);
        this._inSelectionMode = opts.inSelectionMode;
        this._wordNavigationType = opts.wordNavigationType;
    }
}
class $a515ef3d44e716ad$export$13a65d419a1678a2 extends $a515ef3d44e716ad$export$eaab41d675fb3c77 {
    _move(wordSeparators, model, position, wordNavigationType) {
        return $1tOI7.WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);
    }
}
class $a515ef3d44e716ad$export$3bd1a89f17c94fe7 extends $a515ef3d44e716ad$export$eaab41d675fb3c77 {
    _move(wordSeparators, model, position, wordNavigationType) {
        return $1tOI7.WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);
    }
}
class $a515ef3d44e716ad$export$4770de8d045e69d9 extends $a515ef3d44e716ad$export$13a65d419a1678a2 {
    constructor(){
        super({
            inSelectionMode: false,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'cursorWordStartLeft',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$157c37c85911da0 extends $a515ef3d44e716ad$export$13a65d419a1678a2 {
    constructor(){
        super({
            inSelectionMode: false,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'cursorWordEndLeft',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$f491d0cd70e6ac9f extends $a515ef3d44e716ad$export$13a65d419a1678a2 {
    constructor(){
        var _a;
        super({
            inSelectionMode: false,
            wordNavigationType: 1 /* WordStartFast */ ,
            id: 'cursorWordLeft',
            precondition: undefined,
            kbOpts: {
                kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.textInputFocus, (_a = $h4kGX.ContextKeyExpr.and($dcUw3.CONTEXT_ACCESSIBILITY_MODE_ENABLED, $1xfwX.IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),
                primary: 2063 /* LeftArrow */ ,
                mac: {
                    primary: 527 /* LeftArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $a515ef3d44e716ad$export$befceb5f65aabb65 extends $a515ef3d44e716ad$export$13a65d419a1678a2 {
    constructor(){
        super({
            inSelectionMode: true,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'cursorWordStartLeftSelect',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$9d9a22ccd52050d6 extends $a515ef3d44e716ad$export$13a65d419a1678a2 {
    constructor(){
        super({
            inSelectionMode: true,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'cursorWordEndLeftSelect',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$72b077928c493d15 extends $a515ef3d44e716ad$export$13a65d419a1678a2 {
    constructor(){
        var _a;
        super({
            inSelectionMode: true,
            wordNavigationType: 1 /* WordStartFast */ ,
            id: 'cursorWordLeftSelect',
            precondition: undefined,
            kbOpts: {
                kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.textInputFocus, (_a = $h4kGX.ContextKeyExpr.and($dcUw3.CONTEXT_ACCESSIBILITY_MODE_ENABLED, $1xfwX.IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),
                primary: 3087 /* LeftArrow */ ,
                mac: {
                    primary: 1551 /* LeftArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $a515ef3d44e716ad$export$95e12cee8c99ec86 extends $a515ef3d44e716ad$export$13a65d419a1678a2 {
    _move(_, model, position, wordNavigationType) {
        return super._move($19epl.getMapForWordSeparators($iB8dk.EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);
    }
    constructor(){
        super({
            inSelectionMode: false,
            wordNavigationType: 3 /* WordAccessibility */ ,
            id: 'cursorWordAccessibilityLeft',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$97245746696e71d0 extends $a515ef3d44e716ad$export$13a65d419a1678a2 {
    _move(_, model, position, wordNavigationType) {
        return super._move($19epl.getMapForWordSeparators($iB8dk.EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);
    }
    constructor(){
        super({
            inSelectionMode: true,
            wordNavigationType: 3 /* WordAccessibility */ ,
            id: 'cursorWordAccessibilityLeftSelect',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$ceee282c44fc7605 extends $a515ef3d44e716ad$export$3bd1a89f17c94fe7 {
    constructor(){
        super({
            inSelectionMode: false,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'cursorWordStartRight',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$850eef07da39cf7a extends $a515ef3d44e716ad$export$3bd1a89f17c94fe7 {
    constructor(){
        var _a;
        super({
            inSelectionMode: false,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'cursorWordEndRight',
            precondition: undefined,
            kbOpts: {
                kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.textInputFocus, (_a = $h4kGX.ContextKeyExpr.and($dcUw3.CONTEXT_ACCESSIBILITY_MODE_ENABLED, $1xfwX.IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),
                primary: 2065 /* RightArrow */ ,
                mac: {
                    primary: 529 /* RightArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $a515ef3d44e716ad$export$c902fd9f7a9b8d4f extends $a515ef3d44e716ad$export$3bd1a89f17c94fe7 {
    constructor(){
        super({
            inSelectionMode: false,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'cursorWordRight',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$39a9bf509c325dc extends $a515ef3d44e716ad$export$3bd1a89f17c94fe7 {
    constructor(){
        super({
            inSelectionMode: true,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'cursorWordStartRightSelect',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$ea19ea92bc7e7da2 extends $a515ef3d44e716ad$export$3bd1a89f17c94fe7 {
    constructor(){
        var _a;
        super({
            inSelectionMode: true,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'cursorWordEndRightSelect',
            precondition: undefined,
            kbOpts: {
                kbExpr: $h4kGX.ContextKeyExpr.and($7oeKV.EditorContextKeys.textInputFocus, (_a = $h4kGX.ContextKeyExpr.and($dcUw3.CONTEXT_ACCESSIBILITY_MODE_ENABLED, $1xfwX.IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),
                primary: 3089 /* RightArrow */ ,
                mac: {
                    primary: 1553 /* RightArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $a515ef3d44e716ad$export$dfb479c77c3a735f extends $a515ef3d44e716ad$export$3bd1a89f17c94fe7 {
    constructor(){
        super({
            inSelectionMode: true,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'cursorWordRightSelect',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$81a225a710499206 extends $a515ef3d44e716ad$export$3bd1a89f17c94fe7 {
    _move(_, model, position, wordNavigationType) {
        return super._move($19epl.getMapForWordSeparators($iB8dk.EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);
    }
    constructor(){
        super({
            inSelectionMode: false,
            wordNavigationType: 3 /* WordAccessibility */ ,
            id: 'cursorWordAccessibilityRight',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$fe11f7bd19429986 extends $a515ef3d44e716ad$export$3bd1a89f17c94fe7 {
    _move(_, model, position, wordNavigationType) {
        return super._move($19epl.getMapForWordSeparators($iB8dk.EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);
    }
    constructor(){
        super({
            inSelectionMode: true,
            wordNavigationType: 3 /* WordAccessibility */ ,
            id: 'cursorWordAccessibilityRightSelect',
            precondition: undefined
        });
    }
}
class $a515ef3d44e716ad$export$19690b27ce3c0bb3 extends $g9Zlr.EditorCommand {
    runEditorCommand(accessor, editor, args) {
        if (!editor.hasModel()) return;
        const wordSeparators = $19epl.getMapForWordSeparators(editor.getOption(116 /* wordSeparators */ ));
        const model = editor.getModel();
        const selections = editor.getSelections();
        const autoClosingBrackets = editor.getOption(5 /* autoClosingBrackets */ );
        const autoClosingQuotes = editor.getOption(8 /* autoClosingQuotes */ );
        const autoClosingPairs = $ahykL.LanguageConfigurationRegistry.getAutoClosingPairs(model.getLanguageId());
        const viewModel = editor._getViewModel();
        const commands = selections.map((sel)=>{
            const deleteRange = this._delete({
                wordSeparators: wordSeparators,
                model: model,
                selection: sel,
                whitespaceHeuristics: this._whitespaceHeuristics,
                autoClosingDelete: editor.getOption(6 /* autoClosingDelete */ ),
                autoClosingBrackets: autoClosingBrackets,
                autoClosingQuotes: autoClosingQuotes,
                autoClosingPairs: autoClosingPairs,
                autoClosedCharacters: viewModel.getCursorAutoClosedCharacters()
            }, this._wordNavigationType);
            return new $eSuzf.ReplaceCommand(deleteRange, '');
        });
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(opts){
        super(opts);
        this._whitespaceHeuristics = opts.whitespaceHeuristics;
        this._wordNavigationType = opts.wordNavigationType;
    }
}
class $a515ef3d44e716ad$export$5ce54e0babbd8085 extends $a515ef3d44e716ad$export$19690b27ce3c0bb3 {
    _delete(ctx, wordNavigationType) {
        let r = $1tOI7.WordOperations.deleteWordLeft(ctx, wordNavigationType);
        if (r) return r;
        return new $1YFxJ.Range(1, 1, 1, 1);
    }
}
class $a515ef3d44e716ad$export$8ec654e5cf025a25 extends $a515ef3d44e716ad$export$19690b27ce3c0bb3 {
    _delete(ctx, wordNavigationType) {
        let r = $1tOI7.WordOperations.deleteWordRight(ctx, wordNavigationType);
        if (r) return r;
        const lineCount = ctx.model.getLineCount();
        const maxColumn = ctx.model.getLineMaxColumn(lineCount);
        return new $1YFxJ.Range(lineCount, maxColumn, lineCount, maxColumn);
    }
}
class $a515ef3d44e716ad$export$ad82f35e651a1686 extends $a515ef3d44e716ad$export$5ce54e0babbd8085 {
    constructor(){
        super({
            whitespaceHeuristics: false,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'deleteWordStartLeft',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $a515ef3d44e716ad$export$3cb06644b5a9b33e extends $a515ef3d44e716ad$export$5ce54e0babbd8085 {
    constructor(){
        super({
            whitespaceHeuristics: false,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'deleteWordEndLeft',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $a515ef3d44e716ad$export$f36e7db579f60a1 extends $a515ef3d44e716ad$export$5ce54e0babbd8085 {
    constructor(){
        super({
            whitespaceHeuristics: true,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'deleteWordLeft',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 2049 /* Backspace */ ,
                mac: {
                    primary: 513 /* Backspace */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $a515ef3d44e716ad$export$3e0062da3d0b9053 extends $a515ef3d44e716ad$export$8ec654e5cf025a25 {
    constructor(){
        super({
            whitespaceHeuristics: false,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'deleteWordStartRight',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $a515ef3d44e716ad$export$5bc7327221e6c16c extends $a515ef3d44e716ad$export$8ec654e5cf025a25 {
    constructor(){
        super({
            whitespaceHeuristics: false,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'deleteWordEndRight',
            precondition: $7oeKV.EditorContextKeys.writable
        });
    }
}
class $a515ef3d44e716ad$export$7e197173a43fafee extends $a515ef3d44e716ad$export$8ec654e5cf025a25 {
    constructor(){
        super({
            whitespaceHeuristics: true,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'deleteWordRight',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 2068 /* Delete */ ,
                mac: {
                    primary: 532 /* Delete */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $a515ef3d44e716ad$export$8f8db2361df25afb extends $g9Zlr.EditorAction {
    run(accessor, editor, args) {
        if (!editor.hasModel()) return;
        const wordSeparators = $19epl.getMapForWordSeparators(editor.getOption(116 /* wordSeparators */ ));
        const model = editor.getModel();
        const selections = editor.getSelections();
        const commands = selections.map((sel)=>{
            const deleteRange = $1tOI7.WordOperations.deleteInsideWord(wordSeparators, model, sel);
            return new $eSuzf.ReplaceCommand(deleteRange, '');
        });
        editor.pushUndoStop();
        editor.executeCommands(this.id, commands);
        editor.pushUndoStop();
    }
    constructor(){
        super({
            id: 'deleteInsideWord',
            precondition: $7oeKV.EditorContextKeys.writable,
            label: $1WuVQ.localize('deleteInsideWord', "Delete Word"),
            alias: 'Delete Word'
        });
    }
}
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$4770de8d045e69d9());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$157c37c85911da0());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$f491d0cd70e6ac9f());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$befceb5f65aabb65());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$9d9a22ccd52050d6());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$72b077928c493d15());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$ceee282c44fc7605());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$850eef07da39cf7a());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$c902fd9f7a9b8d4f());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$39a9bf509c325dc());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$ea19ea92bc7e7da2());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$dfb479c77c3a735f());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$95e12cee8c99ec86());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$97245746696e71d0());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$81a225a710499206());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$fe11f7bd19429986());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$ad82f35e651a1686());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$3cb06644b5a9b33e());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$f36e7db579f60a1());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$3e0062da3d0b9053());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$5bc7327221e6c16c());
$g9Zlr.registerEditorCommand(new $a515ef3d44e716ad$export$7e197173a43fafee());
$g9Zlr.registerEditorAction($a515ef3d44e716ad$export$8f8db2361df25afb);



var $g9Zlr = parcelRequire("g9Zlr");

var $1tOI7 = parcelRequire("1tOI7");

var $1YFxJ = parcelRequire("1YFxJ");

var $7oeKV = parcelRequire("7oeKV");


var $c0VS7 = parcelRequire("c0VS7");
class $52d9eab7304d834b$export$c4bbad0c92429e2a extends $a515ef3d44e716ad$export$19690b27ce3c0bb3 {
    _delete(ctx, wordNavigationType) {
        let r = $1tOI7.WordPartOperations.deleteWordPartLeft(ctx);
        if (r) return r;
        return new $1YFxJ.Range(1, 1, 1, 1);
    }
    constructor(){
        super({
            whitespaceHeuristics: true,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'deleteWordPartLeft',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 769 /* Backspace */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $52d9eab7304d834b$export$badada4aa779607 extends $a515ef3d44e716ad$export$19690b27ce3c0bb3 {
    _delete(ctx, wordNavigationType) {
        let r = $1tOI7.WordPartOperations.deleteWordPartRight(ctx);
        if (r) return r;
        const lineCount = ctx.model.getLineCount();
        const maxColumn = ctx.model.getLineMaxColumn(lineCount);
        return new $1YFxJ.Range(lineCount, maxColumn, lineCount, maxColumn);
    }
    constructor(){
        super({
            whitespaceHeuristics: true,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'deleteWordPartRight',
            precondition: $7oeKV.EditorContextKeys.writable,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 788 /* Delete */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $52d9eab7304d834b$export$ae81a0942e424d66 extends $a515ef3d44e716ad$export$eaab41d675fb3c77 {
    _move(wordSeparators, model, position, wordNavigationType) {
        return $1tOI7.WordPartOperations.moveWordPartLeft(wordSeparators, model, position);
    }
}
class $52d9eab7304d834b$export$d25a50b18eb112d5 extends $52d9eab7304d834b$export$ae81a0942e424d66 {
    constructor(){
        super({
            inSelectionMode: false,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'cursorWordPartLeft',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 783 /* LeftArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
// Register previous id for compatibility purposes
$c0VS7.CommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');
class $52d9eab7304d834b$export$351378b9c4d5255a extends $52d9eab7304d834b$export$ae81a0942e424d66 {
    constructor(){
        super({
            inSelectionMode: true,
            wordNavigationType: 0 /* WordStart */ ,
            id: 'cursorWordPartLeftSelect',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 1807 /* LeftArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
// Register previous id for compatibility purposes
$c0VS7.CommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');
class $52d9eab7304d834b$export$8927a2c83363ac2a extends $a515ef3d44e716ad$export$eaab41d675fb3c77 {
    _move(wordSeparators, model, position, wordNavigationType) {
        return $1tOI7.WordPartOperations.moveWordPartRight(wordSeparators, model, position);
    }
}
class $52d9eab7304d834b$export$b4cc05290eaa5d1a extends $52d9eab7304d834b$export$8927a2c83363ac2a {
    constructor(){
        super({
            inSelectionMode: false,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'cursorWordPartRight',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 785 /* RightArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
class $52d9eab7304d834b$export$a0ec6a8e7a9cded6 extends $52d9eab7304d834b$export$8927a2c83363ac2a {
    constructor(){
        super({
            inSelectionMode: true,
            wordNavigationType: 2 /* WordEnd */ ,
            id: 'cursorWordPartRightSelect',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.textInputFocus,
                primary: 0,
                mac: {
                    primary: 1809 /* RightArrow */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorCommand(new $52d9eab7304d834b$export$c4bbad0c92429e2a());
$g9Zlr.registerEditorCommand(new $52d9eab7304d834b$export$badada4aa779607());
$g9Zlr.registerEditorCommand(new $52d9eab7304d834b$export$d25a50b18eb112d5());
$g9Zlr.registerEditorCommand(new $52d9eab7304d834b$export$351378b9c4d5255a());
$g9Zlr.registerEditorCommand(new $52d9eab7304d834b$export$b4cc05290eaa5d1a());
$g9Zlr.registerEditorCommand(new $52d9eab7304d834b$export$a0ec6a8e7a9cded6());


parcelRequire("h1Z4o");
parcelRequire("eedmO");


var $7a52c2b2ea1af763$exports = {};


var $8xgjE = parcelRequire("8xgjE");

var $7GBhW = parcelRequire("7GBhW");

var $1hiWs = parcelRequire("1hiWs");

var $6eCoB = parcelRequire("6eCoB");

var $gKMUF = parcelRequire("gKMUF");

var $6W1JA = parcelRequire("6W1JA");

var $7e5Mc = parcelRequire("7e5Mc");

var $i4xl7 = parcelRequire("i4xl7");

var $bUZVY = parcelRequire("bUZVY");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");


var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $i2aE6 = parcelRequire("i2aE6");

var $3jCpu = parcelRequire("3jCpu");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");

var $h1Z4o = parcelRequire("h1Z4o");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $7a52c2b2ea1af763$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $7a52c2b2ea1af763$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
const $7a52c2b2ea1af763$var$CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE = new $h4kGX.RawContextKey('accessibilityHelpWidgetVisible', false);
let $7a52c2b2ea1af763$var$AccessibilityHelpController = class AccessibilityHelpController extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution(AccessibilityHelpController.ID);
    }
    show() {
        this._widget.show();
    }
    hide() {
        this._widget.hide();
    }
    constructor(editor, instantiationService){
        super();
        this._editor = editor;
        this._widget = this._register(instantiationService.createInstance($7a52c2b2ea1af763$var$AccessibilityHelpWidget, this._editor));
    }
};
$7a52c2b2ea1af763$var$AccessibilityHelpController.ID = 'editor.contrib.accessibilityHelpController';
$7a52c2b2ea1af763$var$AccessibilityHelpController = $7a52c2b2ea1af763$var$__decorate([
    $7a52c2b2ea1af763$var$__param(1, $6Xx7t.IInstantiationService)
], $7a52c2b2ea1af763$var$AccessibilityHelpController);
function $7a52c2b2ea1af763$var$getSelectionLabel(selections, charactersSelected) {
    if (!selections || selections.length === 0) return $h1Z4o.AccessibilityHelpNLS.noSelection;
    if (selections.length === 1) {
        if (charactersSelected) return $i4xl7.format($h1Z4o.AccessibilityHelpNLS.singleSelectionRange, selections[0].positionLineNumber, selections[0].positionColumn, charactersSelected);
        return $i4xl7.format($h1Z4o.AccessibilityHelpNLS.singleSelection, selections[0].positionLineNumber, selections[0].positionColumn);
    }
    if (charactersSelected) return $i4xl7.format($h1Z4o.AccessibilityHelpNLS.multiSelectionRange, selections.length, charactersSelected);
    if (selections.length > 0) return $i4xl7.format($h1Z4o.AccessibilityHelpNLS.multiSelection, selections.length);
    return '';
}
let $7a52c2b2ea1af763$var$AccessibilityHelpWidget = class AccessibilityHelpWidget extends $gKMUF.Widget {
    dispose() {
        this._editor.removeOverlayWidget(this);
        super.dispose();
    }
    getId() {
        return AccessibilityHelpWidget.ID;
    }
    getDomNode() {
        return this._domNode.domNode;
    }
    getPosition() {
        return {
            preference: null
        };
    }
    show() {
        if (this._isVisible) return;
        this._isVisible = true;
        this._isVisibleKey.set(true);
        this._layout();
        this._domNode.setDisplay('block');
        this._domNode.setAttribute('aria-hidden', 'false');
        this._contentDomNode.domNode.tabIndex = 0;
        this._buildContent();
        this._contentDomNode.domNode.focus();
    }
    _descriptionForCommand(commandId, msg, noKbMsg) {
        let kb = this._keybindingService.lookupKeybinding(commandId);
        if (kb) return $i4xl7.format(msg, kb.getAriaLabel());
        return $i4xl7.format(noKbMsg, commandId);
    }
    _buildContent() {
        const options = this._editor.getOptions();
        const selections = this._editor.getSelections();
        let charactersSelected = 0;
        if (selections) {
            const model = this._editor.getModel();
            if (model) selections.forEach((selection)=>{
                charactersSelected += model.getValueLengthInRange(selection);
            });
        }
        let text = $7a52c2b2ea1af763$var$getSelectionLabel(selections, charactersSelected);
        if (options.get(53 /* inDiffEditor */ )) {
            if (options.get(80 /* readOnly */ )) text += $h1Z4o.AccessibilityHelpNLS.readonlyDiffEditor;
            else text += $h1Z4o.AccessibilityHelpNLS.editableDiffEditor;
        } else if (options.get(80 /* readOnly */ )) text += $h1Z4o.AccessibilityHelpNLS.readonlyEditor;
        else text += $h1Z4o.AccessibilityHelpNLS.editableEditor;
        const turnOnMessage = $7e5Mc.isMacintosh ? $h1Z4o.AccessibilityHelpNLS.changeConfigToOnMac : $h1Z4o.AccessibilityHelpNLS.changeConfigToOnWinLinux;
        switch(options.get(2 /* accessibilitySupport */ )){
            case 0 /* Unknown */ :
                text += '\n\n - ' + turnOnMessage;
                break;
            case 2 /* Enabled */ :
                text += '\n\n - ' + $h1Z4o.AccessibilityHelpNLS.auto_on;
                break;
            case 1 /* Disabled */ :
                text += '\n\n - ' + $h1Z4o.AccessibilityHelpNLS.auto_off;
                text += ' ' + turnOnMessage;
                break;
        }
        if (options.get(129 /* tabFocusMode */ )) text += '\n\n - ' + this._descriptionForCommand($48c1893a0a30bf5f$export$676ded3884da9932.ID, $h1Z4o.AccessibilityHelpNLS.tabFocusModeOnMsg, $h1Z4o.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb);
        else text += '\n\n - ' + this._descriptionForCommand($48c1893a0a30bf5f$export$676ded3884da9932.ID, $h1Z4o.AccessibilityHelpNLS.tabFocusModeOffMsg, $h1Z4o.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);
        const openDocMessage = $7e5Mc.isMacintosh ? $h1Z4o.AccessibilityHelpNLS.openDocMac : $h1Z4o.AccessibilityHelpNLS.openDocWinLinux;
        text += '\n\n - ' + openDocMessage;
        text += '\n\n' + $h1Z4o.AccessibilityHelpNLS.outroMsg;
        this._contentDomNode.domNode.appendChild($1hiWs.renderFormattedText(text));
        // Per https://www.w3.org/TR/wai-aria/roles#document, Authors SHOULD provide a title or label for documents
        this._contentDomNode.domNode.setAttribute('aria-label', text);
    }
    hide() {
        if (!this._isVisible) return;
        this._isVisible = false;
        this._isVisibleKey.reset();
        this._domNode.setDisplay('none');
        this._domNode.setAttribute('aria-hidden', 'true');
        this._contentDomNode.domNode.tabIndex = -1;
        $8xgjE.clearNode(this._contentDomNode.domNode);
        this._editor.focus();
    }
    _layout() {
        let editorLayout = this._editor.getLayoutInfo();
        let w = Math.max(5, Math.min(AccessibilityHelpWidget.WIDTH, editorLayout.width - 40));
        let h = Math.max(5, Math.min(AccessibilityHelpWidget.HEIGHT, editorLayout.height - 40));
        this._domNode.setWidth(w);
        this._domNode.setHeight(h);
        let top = Math.round((editorLayout.height - h) / 2);
        this._domNode.setTop(top);
        let left = Math.round((editorLayout.width - w) / 2);
        this._domNode.setLeft(left);
    }
    constructor(editor, _contextKeyService, _keybindingService, _openerService){
        super();
        this._contextKeyService = _contextKeyService;
        this._keybindingService = _keybindingService;
        this._openerService = _openerService;
        this._editor = editor;
        this._isVisibleKey = $7a52c2b2ea1af763$var$CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE.bindTo(this._contextKeyService);
        this._domNode = $7GBhW.createFastDomNode(document.createElement('div'));
        this._domNode.setClassName('accessibilityHelpWidget');
        this._domNode.setDisplay('none');
        this._domNode.setAttribute('role', 'dialog');
        this._domNode.setAttribute('aria-hidden', 'true');
        this._contentDomNode = $7GBhW.createFastDomNode(document.createElement('div'));
        this._contentDomNode.setAttribute('role', 'document');
        this._domNode.appendChild(this._contentDomNode);
        this._isVisible = false;
        this._register(this._editor.onDidLayoutChange(()=>{
            if (this._isVisible) this._layout();
        }));
        // Intentionally not configurable!
        this._register($8xgjE.addStandardDisposableListener(this._contentDomNode.domNode, 'keydown', (e)=>{
            if (!this._isVisible) return;
            if (e.equals(2083 /* KeyE */ )) {
                $6eCoB.alert($h1Z4o.AccessibilityHelpNLS.emergencyConfOn);
                this._editor.updateOptions({
                    accessibilitySupport: 'on'
                });
                $8xgjE.clearNode(this._contentDomNode.domNode);
                this._buildContent();
                this._contentDomNode.domNode.focus();
                e.preventDefault();
                e.stopPropagation();
            }
            if (e.equals(2086 /* KeyH */ )) {
                $6eCoB.alert($h1Z4o.AccessibilityHelpNLS.openingDocs);
                let url = this._editor.getRawOptions().accessibilityHelpUrl;
                if (typeof url === 'undefined') url = 'https://go.microsoft.com/fwlink/?linkid=852450';
                this._openerService.open($bUZVY.URI.parse(url));
                e.preventDefault();
                e.stopPropagation();
            }
        }));
        this.onblur(this._contentDomNode.domNode, ()=>{
            this.hide();
        });
        this._editor.addOverlayWidget(this);
    }
};
$7a52c2b2ea1af763$var$AccessibilityHelpWidget.ID = 'editor.contrib.accessibilityHelpWidget';
$7a52c2b2ea1af763$var$AccessibilityHelpWidget.WIDTH = 500;
$7a52c2b2ea1af763$var$AccessibilityHelpWidget.HEIGHT = 300;
$7a52c2b2ea1af763$var$AccessibilityHelpWidget = $7a52c2b2ea1af763$var$__decorate([
    $7a52c2b2ea1af763$var$__param(1, $h4kGX.IContextKeyService),
    $7a52c2b2ea1af763$var$__param(2, $i2aE6.IKeybindingService),
    $7a52c2b2ea1af763$var$__param(3, $3jCpu.IOpenerService)
], $7a52c2b2ea1af763$var$AccessibilityHelpWidget);
class $7a52c2b2ea1af763$var$ShowAccessibilityHelpAction extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let controller = $7a52c2b2ea1af763$var$AccessibilityHelpController.get(editor);
        if (controller) controller.show();
    }
    constructor(){
        super({
            id: 'editor.action.showAccessibilityHelp',
            label: $h1Z4o.AccessibilityHelpNLS.showAccessibilityHelpAction,
            alias: 'Show Accessibility Help',
            precondition: undefined,
            kbOpts: {
                primary: 571 /* F1 */ ,
                weight: 100 /* EditorContrib */ ,
                linux: {
                    primary: 1595 /* F1 */ ,
                    secondary: [
                        571 /* F1 */ 
                    ]
                }
            }
        });
    }
}
$g9Zlr.registerEditorContribution($7a52c2b2ea1af763$var$AccessibilityHelpController.ID, $7a52c2b2ea1af763$var$AccessibilityHelpController);
$g9Zlr.registerEditorAction($7a52c2b2ea1af763$var$ShowAccessibilityHelpAction);
const $7a52c2b2ea1af763$var$AccessibilityHelpCommand = $g9Zlr.EditorCommand.bindToContribution($7a52c2b2ea1af763$var$AccessibilityHelpController.get);
$g9Zlr.registerEditorCommand(new $7a52c2b2ea1af763$var$AccessibilityHelpCommand({
    id: 'closeAccessibilityHelp',
    precondition: $7a52c2b2ea1af763$var$CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE,
    handler: (x)=>x.hide()
    ,
    kbOpts: {
        weight: 200,
        kbExpr: $7oeKV.EditorContextKeys.focus,
        primary: 9 /* Escape */ ,
        secondary: [
            1033 /* Escape */ 
        ]
    }
}));
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const widgetBackground = theme.getColor($kL4Ig.editorWidgetBackground);
    if (widgetBackground) collector.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${widgetBackground}; }`);
    const widgetForeground = theme.getColor($kL4Ig.editorWidgetForeground);
    if (widgetForeground) collector.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${widgetForeground}; }`);
    const widgetShadowColor = theme.getColor($kL4Ig.widgetShadow);
    if (widgetShadowColor) collector.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${widgetShadowColor}; }`);
    const hcBorder = theme.getColor($kL4Ig.contrastBorder);
    if (hcBorder) collector.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${hcBorder}; }`);
});




var $8xgjE = parcelRequire("8xgjE");

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $7e5Mc = parcelRequire("7e5Mc");
class $cd1c52becbe77e48$export$445a80feda1f9fce extends $6W1JA.Disposable {
    update() {
        const shouldHaveWidget = !this.editor.getOption(80 /* readOnly */ );
        if (!this.widget && shouldHaveWidget) this.widget = new $cd1c52becbe77e48$var$ShowKeyboardWidget(this.editor);
        else if (this.widget && !shouldHaveWidget) {
            this.widget.dispose();
            this.widget = null;
        }
    }
    dispose() {
        super.dispose();
        if (this.widget) {
            this.widget.dispose();
            this.widget = null;
        }
    }
    constructor(editor){
        super();
        this.editor = editor;
        this.widget = null;
        if ($7e5Mc.isIOS) {
            this._register(editor.onDidChangeConfiguration(()=>this.update()
            ));
            this.update();
        }
    }
}
$cd1c52becbe77e48$export$445a80feda1f9fce.ID = 'editor.contrib.iPadShowKeyboard';
class $cd1c52becbe77e48$var$ShowKeyboardWidget extends $6W1JA.Disposable {
    dispose() {
        this.editor.removeOverlayWidget(this);
        super.dispose();
    }
    // ----- IOverlayWidget API
    getId() {
        return $cd1c52becbe77e48$var$ShowKeyboardWidget.ID;
    }
    getDomNode() {
        return this._domNode;
    }
    getPosition() {
        return {
            preference: 1 /* BOTTOM_RIGHT_CORNER */ 
        };
    }
    constructor(editor){
        super();
        this.editor = editor;
        this._domNode = document.createElement('textarea');
        this._domNode.className = 'iPadShowKeyboard';
        this._register($8xgjE.addDisposableListener(this._domNode, 'touchstart', (e)=>{
            this.editor.focus();
        }));
        this._register($8xgjE.addDisposableListener(this._domNode, 'focus', (e)=>{
            this.editor.focus();
        }));
        this.editor.addOverlayWidget(this);
    }
}
$cd1c52becbe77e48$var$ShowKeyboardWidget.ID = 'editor.contrib.ShowKeyboardWidget';
$g9Zlr.registerEditorContribution($cd1c52becbe77e48$export$445a80feda1f9fce.ID, $cd1c52becbe77e48$export$445a80feda1f9fce);


var $711a8d92b43b9fe0$exports = {};


var $8xgjE = parcelRequire("8xgjE");

var $8OIA7 = parcelRequire("8OIA7");

var $6W1JA = parcelRequire("6W1JA");

var $g9Zlr = parcelRequire("g9Zlr");

var $goPht = parcelRequire("goPht");

var $6p4a4 = parcelRequire("6p4a4");

var $jwAxq = parcelRequire("jwAxq");

var $dl3uy = parcelRequire("dl3uy");

var $kL4Ig = parcelRequire("kL4Ig");

var $5Wwop = parcelRequire("5Wwop");

var $h1Z4o = parcelRequire("h1Z4o");

var $3B1SL = parcelRequire("3B1SL");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $711a8d92b43b9fe0$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $711a8d92b43b9fe0$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $711a8d92b43b9fe0$var$InspectTokensController = class InspectTokensController extends $6W1JA.Disposable {
    static get(editor) {
        return editor.getContribution(InspectTokensController.ID);
    }
    dispose() {
        this.stop();
        super.dispose();
    }
    launch() {
        if (this._widget) return;
        if (!this._editor.hasModel()) return;
        this._widget = new $711a8d92b43b9fe0$var$InspectTokensWidget(this._editor, this._modeService);
    }
    stop() {
        if (this._widget) {
            this._widget.dispose();
            this._widget = null;
        }
    }
    constructor(editor, standaloneColorService, modeService){
        super();
        this._editor = editor;
        this._modeService = modeService;
        this._widget = null;
        this._register(this._editor.onDidChangeModel((e)=>this.stop()
        ));
        this._register(this._editor.onDidChangeModelLanguage((e)=>this.stop()
        ));
        this._register($goPht.TokenizationRegistry.onDidChange((e)=>this.stop()
        ));
        this._register(this._editor.onKeyUp((e)=>e.keyCode === 9 /* Escape */  && this.stop()
        ));
    }
};
$711a8d92b43b9fe0$var$InspectTokensController.ID = 'editor.contrib.inspectTokens';
$711a8d92b43b9fe0$var$InspectTokensController = $711a8d92b43b9fe0$var$__decorate([
    $711a8d92b43b9fe0$var$__param(1, $dl3uy.IStandaloneThemeService),
    $711a8d92b43b9fe0$var$__param(2, $jwAxq.IModeService)
], $711a8d92b43b9fe0$var$InspectTokensController);
class $711a8d92b43b9fe0$var$InspectTokens extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        let controller = $711a8d92b43b9fe0$var$InspectTokensController.get(editor);
        if (controller) controller.launch();
    }
    constructor(){
        super({
            id: 'editor.action.inspectTokens',
            label: $h1Z4o.InspectTokensNLS.inspectTokensAction,
            alias: 'Developer: Inspect Tokens',
            precondition: undefined
        });
    }
}
function $711a8d92b43b9fe0$var$renderTokenText(tokenText) {
    let result = '';
    for(let charIndex = 0, len = tokenText.length; charIndex < len; charIndex++){
        let charCode = tokenText.charCodeAt(charIndex);
        switch(charCode){
            case 9 /* Tab */ :
                result += '\u2192'; // &rarr;
                break;
            case 32 /* Space */ :
                result += '\u00B7'; // &middot;
                break;
            default:
                result += String.fromCharCode(charCode);
        }
    }
    return result;
}
function $711a8d92b43b9fe0$var$getSafeTokenizationSupport(languageIdCodec, languageId) {
    const tokenizationSupport = $goPht.TokenizationRegistry.get(languageId);
    if (tokenizationSupport) return tokenizationSupport;
    const encodedLanguageId = languageIdCodec.encodeLanguageId(languageId);
    return {
        getInitialState: ()=>$6p4a4.NULL_STATE
        ,
        tokenize: (line, hasEOL, state, deltaOffset)=>$6p4a4.nullTokenize(languageId, line, state, deltaOffset)
        ,
        tokenize2: (line, hasEOL, state, deltaOffset)=>$6p4a4.nullTokenize2(encodedLanguageId, line, state, deltaOffset)
    };
}
class $711a8d92b43b9fe0$var$InspectTokensWidget extends $6W1JA.Disposable {
    dispose() {
        this._editor.removeContentWidget(this);
        super.dispose();
    }
    getId() {
        return $711a8d92b43b9fe0$var$InspectTokensWidget._ID;
    }
    _compute(position) {
        let data = this._getTokensAtLine(position.lineNumber);
        let token1Index = 0;
        for(let i = data.tokens1.length - 1; i >= 0; i--){
            let t = data.tokens1[i];
            if (position.column - 1 >= t.offset) {
                token1Index = i;
                break;
            }
        }
        let token2Index = 0;
        for(let i1 = data.tokens2.length >>> 1; i1 >= 0; i1--)if (position.column - 1 >= data.tokens2[i1 << 1]) {
            token2Index = i1;
            break;
        }
        let lineContent = this._model.getLineContent(position.lineNumber);
        let tokenText = '';
        if (token1Index < data.tokens1.length) {
            let tokenStartIndex = data.tokens1[token1Index].offset;
            let tokenEndIndex = token1Index + 1 < data.tokens1.length ? data.tokens1[token1Index + 1].offset : lineContent.length;
            tokenText = lineContent.substring(tokenStartIndex, tokenEndIndex);
        }
        $8xgjE.reset(this._domNode, $8xgjE.$('h2.tm-token', undefined, $711a8d92b43b9fe0$var$renderTokenText(tokenText), $8xgjE.$('span.tm-token-length', undefined, `${tokenText.length} ${tokenText.length === 1 ? 'char' : 'chars'}`)));
        $8xgjE.append(this._domNode, $8xgjE.$('hr.tokens-inspect-separator', {
            'style': 'clear:both'
        }));
        const metadata = (token2Index << 1) + 1 < data.tokens2.length ? this._decodeMetadata(data.tokens2[(token2Index << 1) + 1]) : null;
        $8xgjE.append(this._domNode, $8xgjE.$('table.tm-metadata-table', undefined, $8xgjE.$('tbody', undefined, $8xgjE.$('tr', undefined, $8xgjE.$('td.tm-metadata-key', undefined, 'language'), $8xgjE.$('td.tm-metadata-value', undefined, `${metadata ? metadata.languageId : '-?-'}`)), $8xgjE.$('tr', undefined, $8xgjE.$('td.tm-metadata-key', undefined, 'token type'), $8xgjE.$('td.tm-metadata-value', undefined, `${metadata ? this._tokenTypeToString(metadata.tokenType) : '-?-'}`)), $8xgjE.$('tr', undefined, $8xgjE.$('td.tm-metadata-key', undefined, 'font style'), $8xgjE.$('td.tm-metadata-value', undefined, `${metadata ? this._fontStyleToString(metadata.fontStyle) : '-?-'}`)), $8xgjE.$('tr', undefined, $8xgjE.$('td.tm-metadata-key', undefined, 'foreground'), $8xgjE.$('td.tm-metadata-value', undefined, `${metadata ? $8OIA7.Color.Format.CSS.formatHex(metadata.foreground) : '-?-'}`)), $8xgjE.$('tr', undefined, $8xgjE.$('td.tm-metadata-key', undefined, 'background'), $8xgjE.$('td.tm-metadata-value', undefined, `${metadata ? $8OIA7.Color.Format.CSS.formatHex(metadata.background) : '-?-'}`)))));
        $8xgjE.append(this._domNode, $8xgjE.$('hr.tokens-inspect-separator'));
        if (token1Index < data.tokens1.length) $8xgjE.append(this._domNode, $8xgjE.$('span.tm-token-type', undefined, data.tokens1[token1Index].type));
        this._editor.layoutContentWidget(this);
    }
    _decodeMetadata(metadata) {
        let colorMap = $goPht.TokenizationRegistry.getColorMap();
        let languageId = $goPht.TokenMetadata.getLanguageId(metadata);
        let tokenType = $goPht.TokenMetadata.getTokenType(metadata);
        let fontStyle = $goPht.TokenMetadata.getFontStyle(metadata);
        let foreground = $goPht.TokenMetadata.getForeground(metadata);
        let background = $goPht.TokenMetadata.getBackground(metadata);
        return {
            languageId: this._modeService.languageIdCodec.decodeLanguageId(languageId),
            tokenType: tokenType,
            fontStyle: fontStyle,
            foreground: colorMap[foreground],
            background: colorMap[background]
        };
    }
    _tokenTypeToString(tokenType) {
        switch(tokenType){
            case 0 /* Other */ :
                return 'Other';
            case 1 /* Comment */ :
                return 'Comment';
            case 2 /* String */ :
                return 'String';
            case 4 /* RegEx */ :
                return 'RegEx';
            default:
                return '??';
        }
    }
    _fontStyleToString(fontStyle) {
        let r = '';
        if (fontStyle & 1 /* Italic */ ) r += 'italic ';
        if (fontStyle & 2 /* Bold */ ) r += 'bold ';
        if (fontStyle & 4 /* Underline */ ) r += 'underline ';
        if (r.length === 0) r = '---';
        return r;
    }
    _getTokensAtLine(lineNumber) {
        let stateBeforeLine = this._getStateBeforeLine(lineNumber);
        let tokenizationResult1 = this._tokenizationSupport.tokenize(this._model.getLineContent(lineNumber), true, stateBeforeLine, 0);
        let tokenizationResult2 = this._tokenizationSupport.tokenize2(this._model.getLineContent(lineNumber), true, stateBeforeLine, 0);
        return {
            startState: stateBeforeLine,
            tokens1: tokenizationResult1.tokens,
            tokens2: tokenizationResult2.tokens,
            endState: tokenizationResult1.endState
        };
    }
    _getStateBeforeLine(lineNumber) {
        let state = this._tokenizationSupport.getInitialState();
        for(let i = 1; i < lineNumber; i++){
            let tokenizationResult = this._tokenizationSupport.tokenize(this._model.getLineContent(i), true, state, 0);
            state = tokenizationResult.endState;
        }
        return state;
    }
    getDomNode() {
        return this._domNode;
    }
    getPosition() {
        return {
            position: this._editor.getPosition(),
            preference: [
                2 /* BELOW */ ,
                1 /* ABOVE */ 
            ]
        };
    }
    constructor(editor, modeService){
        super();
        // Editor.IContentWidget.allowEditorOverflow
        this.allowEditorOverflow = true;
        this._editor = editor;
        this._modeService = modeService;
        this._model = this._editor.getModel();
        this._domNode = document.createElement('div');
        this._domNode.className = 'tokens-inspect-widget';
        this._tokenizationSupport = $711a8d92b43b9fe0$var$getSafeTokenizationSupport(this._modeService.languageIdCodec, this._model.getLanguageId());
        this._compute(this._editor.getPosition());
        this._register(this._editor.onDidChangeCursorPosition((e)=>this._compute(this._editor.getPosition())
        ));
        this._editor.addContentWidget(this);
    }
}
$711a8d92b43b9fe0$var$InspectTokensWidget._ID = 'editor.contrib.inspectTokensWidget';
$g9Zlr.registerEditorContribution($711a8d92b43b9fe0$var$InspectTokensController.ID, $711a8d92b43b9fe0$var$InspectTokensController);
$g9Zlr.registerEditorAction($711a8d92b43b9fe0$var$InspectTokens);
$5Wwop.registerThemingParticipant((theme, collector)=>{
    const border = theme.getColor($kL4Ig.editorHoverBorder);
    if (border) {
        let borderWidth = theme.type === $3B1SL.ColorScheme.HIGH_CONTRAST ? 2 : 1;
        collector.addRule(`.monaco-editor .tokens-inspect-widget { border: ${borderWidth}px solid ${border}; }`);
        collector.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${border}; }`);
    }
    const background = theme.getColor($kL4Ig.editorHoverBackground);
    if (background) collector.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${background}; }`);
    const foreground = theme.getColor($kL4Ig.editorHoverForeground);
    if (foreground) collector.addRule(`.monaco-editor .tokens-inspect-widget { color: ${foreground}; }`);
});



var $3fwCj = parcelRequire("3fwCj");

var $3knSU = parcelRequire("3knSU");

var $h1Z4o = parcelRequire("h1Z4o");
var $045e23fa6fb4bb54$exports = {};

$parcel$export($045e23fa6fb4bb54$exports, "HelpQuickAccessProvider", function () { return $045e23fa6fb4bb54$export$960f28d3c3a61657; }, function (v) { return $045e23fa6fb4bb54$export$960f28d3c3a61657 = v; });

var $6W1JA = parcelRequire("6W1JA");

var $1WuVQ = parcelRequire("1WuVQ");

var $3knSU = parcelRequire("3knSU");

var $1GAzQ = parcelRequire("1GAzQ");

var $3fwCj = parcelRequire("3fwCj");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $045e23fa6fb4bb54$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $045e23fa6fb4bb54$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $045e23fa6fb4bb54$export$960f28d3c3a61657 = class $045e23fa6fb4bb54$export$960f28d3c3a61657 {
    provide(picker) {
        const disposables = new $6W1JA.DisposableStore();
        // Open a picker with the selected value if picked
        disposables.add(picker.onDidAccept(()=>{
            const [item] = picker.selectedItems;
            if (item) this.quickInputService.quickAccess.show(item.prefix, {
                preserveValue: true
            });
        }));
        // Also open a picker when we detect the user typed the exact
        // name of a provider (e.g. `?term` for terminals)
        disposables.add(picker.onDidChangeValue((value)=>{
            const providerDescriptor = this.registry.getQuickAccessProvider(value.substr($045e23fa6fb4bb54$export$960f28d3c3a61657.PREFIX.length));
            if (providerDescriptor && providerDescriptor.prefix && providerDescriptor.prefix !== $045e23fa6fb4bb54$export$960f28d3c3a61657.PREFIX) this.quickInputService.quickAccess.show(providerDescriptor.prefix, {
                preserveValue: true
            });
        }));
        // Fill in all providers separated by editor/global scope
        const { editorProviders: editorProviders , globalProviders: globalProviders  } = this.getQuickAccessProviders();
        picker.items = editorProviders.length === 0 || globalProviders.length === 0 ? // Without groups
        [
            ...editorProviders.length === 0 ? globalProviders : editorProviders
        ] : // With groups
        [
            {
                label: $1WuVQ.localize('globalCommands', "global commands"),
                type: 'separator'
            },
            ...globalProviders,
            {
                label: $1WuVQ.localize('editorCommands', "editor commands"),
                type: 'separator'
            },
            ...editorProviders
        ];
        return disposables;
    }
    getQuickAccessProviders() {
        const globalProviders = [];
        const editorProviders = [];
        for (const provider of this.registry.getQuickAccessProviders().sort((providerA, providerB)=>providerA.prefix.localeCompare(providerB.prefix)
        )){
            if (provider.prefix === $045e23fa6fb4bb54$export$960f28d3c3a61657.PREFIX) continue; // exclude help which is already active
            for (const helpEntry of provider.helpEntries){
                const prefix = helpEntry.prefix || provider.prefix;
                const label = prefix || '\u2026' /* ... */ ;
                (helpEntry.needsEditor ? editorProviders : globalProviders).push({
                    prefix: prefix,
                    label: label,
                    ariaLabel: $1WuVQ.localize('helpPickAriaLabel', "{0}, {1}", label, helpEntry.description),
                    description: helpEntry.description
                });
            }
        }
        return {
            editorProviders: editorProviders,
            globalProviders: globalProviders
        };
    }
    constructor(quickInputService){
        this.quickInputService = quickInputService;
        this.registry = $3fwCj.Registry.as($3knSU.Extensions.Quickaccess);
    }
};
$045e23fa6fb4bb54$export$960f28d3c3a61657.PREFIX = '?';
$045e23fa6fb4bb54$export$960f28d3c3a61657 = $045e23fa6fb4bb54$var$__decorate([
    $045e23fa6fb4bb54$var$__param(0, $1GAzQ.IQuickInputService)
], $045e23fa6fb4bb54$export$960f28d3c3a61657);


$3fwCj.Registry.as($3knSU.Extensions.Quickaccess).registerQuickAccessProvider({
    ctor: $045e23fa6fb4bb54$exports.HelpQuickAccessProvider,
    prefix: '',
    helpEntries: [
        {
            description: $h1Z4o.QuickHelpNLS.helpQuickAccessActionLabel,
            needsEditor: true
        }
    ]
});


var $d6c72a8f60760b00$exports = {};

var $6W1JA = parcelRequire("6W1JA");

var $9PPqK = parcelRequire("9PPqK");

var $et8fh = parcelRequire("et8fh");

var $6W1JA = parcelRequire("6W1JA");

var $erLC3 = parcelRequire("erLC3");

var $9PPqK = parcelRequire("9PPqK");

var $96X4O = parcelRequire("96X4O");

var $kYyDx = parcelRequire("kYyDx");

var $5Wwop = parcelRequire("5Wwop");
class $09123d4f5d8b3e9e$export$6c0961619607218e {
    //#region Provider methods
    provide(picker, token) {
        var _a;
        const disposables = new $6W1JA.DisposableStore();
        // Apply options if any
        picker.canAcceptInBackground = !!((_a = this.options) === null || _a === void 0 ? void 0 : _a.canAcceptInBackground);
        // Disable filtering & sorting, we control the results
        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;
        // Provide based on current active editor
        const pickerDisposable = disposables.add(new $6W1JA.MutableDisposable());
        pickerDisposable.value = this.doProvide(picker, token);
        // Re-create whenever the active editor changes
        disposables.add(this.onDidActiveTextEditorControlChange(()=>{
            // Clear old
            pickerDisposable.value = undefined;
            // Add new
            pickerDisposable.value = this.doProvide(picker, token);
        }));
        return disposables;
    }
    doProvide(picker, token) {
        const disposables = new $6W1JA.DisposableStore();
        // With text control
        const editor = this.activeTextEditorControl;
        if (editor && this.canProvideWithTextEditor(editor)) {
            const context = {
                editor: editor
            };
            // Restore any view state if this picker was closed
            // without actually going to a line
            const codeEditor = $9PPqK.getCodeEditor(editor);
            if (codeEditor) {
                // Remember view state and update it when the cursor position
                // changes even later because it could be that the user has
                // configured quick access to remain open when focus is lost and
                // we always want to restore the current location.
                let lastKnownEditorViewState = $erLC3.withNullAsUndefined(editor.saveViewState());
                disposables.add(codeEditor.onDidChangeCursorPosition(()=>{
                    lastKnownEditorViewState = $erLC3.withNullAsUndefined(editor.saveViewState());
                }));
                context.restoreViewState = ()=>{
                    if (lastKnownEditorViewState && editor === this.activeTextEditorControl) editor.restoreViewState(lastKnownEditorViewState);
                };
                disposables.add($et8fh.once(token.onCancellationRequested)(()=>{
                    var _a;
                    return (_a = context.restoreViewState) === null || _a === void 0 ? void 0 : _a.call(context);
                }));
            }
            // Clean up decorations on dispose
            disposables.add($6W1JA.toDisposable(()=>this.clearDecorations(editor)
            ));
            // Ask subclass for entries
            disposables.add(this.provideWithTextEditor(context, picker, token));
        } else disposables.add(this.provideWithoutTextEditor(picker, token));
        return disposables;
    }
    /**
     * Subclasses to implement if they can operate on the text editor.
     */ canProvideWithTextEditor(editor) {
        return true;
    }
    gotoLocation({ editor: editor  }, options) {
        editor.setSelection(options.range);
        editor.revealRangeInCenter(options.range, 0 /* Smooth */ );
        if (!options.preserveFocus) editor.focus();
    }
    getModel(editor) {
        var _a;
        return $9PPqK.isDiffEditor(editor) ? (_a = editor.getModel()) === null || _a === void 0 ? void 0 : _a.modified : editor.getModel();
    }
    addDecorations(editor, range) {
        editor.changeDecorations((changeAccessor)=>{
            // Reset old decorations if any
            const deleteDecorations = [];
            if (this.rangeHighlightDecorationId) {
                deleteDecorations.push(this.rangeHighlightDecorationId.overviewRulerDecorationId);
                deleteDecorations.push(this.rangeHighlightDecorationId.rangeHighlightId);
                this.rangeHighlightDecorationId = undefined;
            }
            // Add new decorations for the range
            const newDecorations = [
                // highlight the entire line on the range
                {
                    range: range,
                    options: {
                        description: 'quick-access-range-highlight',
                        className: 'rangeHighlight',
                        isWholeLine: true
                    }
                },
                // also add overview ruler highlight
                {
                    range: range,
                    options: {
                        description: 'quick-access-range-highlight-overview',
                        overviewRuler: {
                            color: $5Wwop.themeColorFromId($kYyDx.overviewRulerRangeHighlight),
                            position: $96X4O.OverviewRulerLane.Full
                        }
                    }
                }
            ];
            const [rangeHighlightId, overviewRulerDecorationId] = changeAccessor.deltaDecorations(deleteDecorations, newDecorations);
            this.rangeHighlightDecorationId = {
                rangeHighlightId: rangeHighlightId,
                overviewRulerDecorationId: overviewRulerDecorationId
            };
        });
    }
    clearDecorations(editor) {
        const rangeHighlightDecorationId = this.rangeHighlightDecorationId;
        if (rangeHighlightDecorationId) {
            editor.changeDecorations((changeAccessor)=>{
                changeAccessor.deltaDecorations([
                    rangeHighlightDecorationId.overviewRulerDecorationId,
                    rangeHighlightDecorationId.rangeHighlightId
                ], []);
            });
            this.rangeHighlightDecorationId = undefined;
        }
    }
    constructor(options){
        this.options = options;
        //#endregion
        //#region Decorations Utils
        this.rangeHighlightDecorationId = undefined;
    }
}



var $1WuVQ = parcelRequire("1WuVQ");
class $54bf430e5c24c0bd$export$c7e3af26311986a extends $09123d4f5d8b3e9e$export$6c0961619607218e {
    provideWithoutTextEditor(picker) {
        const label = $1WuVQ.localize('cannotRunGotoLine', "Open a text editor first to go to a line.");
        picker.items = [
            {
                label: label
            }
        ];
        picker.ariaLabel = label;
        return $6W1JA.Disposable.None;
    }
    provideWithTextEditor(context, picker, token) {
        const editor = context.editor;
        const disposables = new $6W1JA.DisposableStore();
        // Goto line once picked
        disposables.add(picker.onDidAccept((event)=>{
            const [item] = picker.selectedItems;
            if (item) {
                if (!this.isValidLineNumber(editor, item.lineNumber)) return;
                this.gotoLocation(context, {
                    range: this.toRange(item.lineNumber, item.column),
                    keyMods: picker.keyMods,
                    preserveFocus: event.inBackground
                });
                if (!event.inBackground) picker.hide();
            }
        }));
        // React to picker changes
        const updatePickerAndEditor = ()=>{
            const position = this.parsePosition(editor, picker.value.trim().substr($54bf430e5c24c0bd$export$c7e3af26311986a.PREFIX.length));
            const label = this.getPickLabel(editor, position.lineNumber, position.column);
            // Picker
            picker.items = [
                {
                    lineNumber: position.lineNumber,
                    column: position.column,
                    label: label
                }
            ];
            // ARIA Label
            picker.ariaLabel = label;
            // Clear decorations for invalid range
            if (!this.isValidLineNumber(editor, position.lineNumber)) {
                this.clearDecorations(editor);
                return;
            }
            // Reveal
            const range = this.toRange(position.lineNumber, position.column);
            editor.revealRangeInCenter(range, 0 /* Smooth */ );
            // Decorate
            this.addDecorations(editor, range);
        };
        updatePickerAndEditor();
        disposables.add(picker.onDidChangeValue(()=>updatePickerAndEditor()
        ));
        // Adjust line number visibility as needed
        const codeEditor = $9PPqK.getCodeEditor(editor);
        if (codeEditor) {
            const options = codeEditor.getOptions();
            const lineNumbers = options.get(59 /* lineNumbers */ );
            if (lineNumbers.renderType === 2 /* Relative */ ) {
                codeEditor.updateOptions({
                    lineNumbers: 'on'
                });
                disposables.add($6W1JA.toDisposable(()=>codeEditor.updateOptions({
                        lineNumbers: 'relative'
                    })
                ));
            }
        }
        return disposables;
    }
    toRange(lineNumber = 1, column = 1) {
        return {
            startLineNumber: lineNumber,
            startColumn: column,
            endLineNumber: lineNumber,
            endColumn: column
        };
    }
    parsePosition(editor, value) {
        // Support line-col formats of `line,col`, `line:col`, `line#col`
        const numbers = value.split(/,|:|#/).map((part)=>parseInt(part, 10)
        ).filter((part)=>!isNaN(part)
        );
        const endLine = this.lineCount(editor) + 1;
        return {
            lineNumber: numbers[0] > 0 ? numbers[0] : endLine + numbers[0],
            column: numbers[1]
        };
    }
    getPickLabel(editor, lineNumber, column) {
        // Location valid: indicate this as picker label
        if (this.isValidLineNumber(editor, lineNumber)) {
            if (this.isValidColumn(editor, lineNumber, column)) return $1WuVQ.localize('gotoLineColumnLabel', "Go to line {0} and character {1}.", lineNumber, column);
            return $1WuVQ.localize('gotoLineLabel', "Go to line {0}.", lineNumber);
        }
        // Location invalid: show generic label
        const position = editor.getPosition() || {
            lineNumber: 1,
            column: 1
        };
        const lineCount = this.lineCount(editor);
        if (lineCount > 1) return $1WuVQ.localize('gotoLineLabelEmptyWithLimit', "Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.", position.lineNumber, position.column, lineCount);
        return $1WuVQ.localize('gotoLineLabelEmpty', "Current Line: {0}, Character: {1}. Type a line number to navigate to.", position.lineNumber, position.column);
    }
    isValidLineNumber(editor, lineNumber) {
        if (!lineNumber || typeof lineNumber !== 'number') return false;
        return lineNumber > 0 && lineNumber <= this.lineCount(editor);
    }
    isValidColumn(editor, lineNumber, column) {
        if (!column || typeof column !== 'number') return false;
        const model = this.getModel(editor);
        if (!model) return false;
        const positionCandidate = {
            lineNumber: lineNumber,
            column: column
        };
        return model.validatePosition(positionCandidate).equals(positionCandidate);
    }
    lineCount(editor) {
        var _a, _b;
        return (_b = (_a = this.getModel(editor)) === null || _a === void 0 ? void 0 : _a.getLineCount()) !== null && _b !== void 0 ? _b : 0;
    }
    constructor(){
        super({
            canAcceptInBackground: true
        });
    }
}
$54bf430e5c24c0bd$export$c7e3af26311986a.PREFIX = ':';



var $3fwCj = parcelRequire("3fwCj");

var $3knSU = parcelRequire("3knSU");

var $7lWR1 = parcelRequire("7lWR1");

var $erLC3 = parcelRequire("erLC3");

var $h1Z4o = parcelRequire("h1Z4o");

var $bkXdq = parcelRequire("bkXdq");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $1GAzQ = parcelRequire("1GAzQ");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $d6c72a8f60760b00$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $d6c72a8f60760b00$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $d6c72a8f60760b00$export$62f50e6a0744204 = class $d6c72a8f60760b00$export$62f50e6a0744204 extends $54bf430e5c24c0bd$export$c7e3af26311986a {
    get activeTextEditorControl() {
        return $erLC3.withNullAsUndefined(this.editorService.getFocusedCodeEditor());
    }
    constructor(editorService){
        super();
        this.editorService = editorService;
        this.onDidActiveTextEditorControlChange = $bkXdq.Event.None;
    }
};
$d6c72a8f60760b00$export$62f50e6a0744204 = $d6c72a8f60760b00$var$__decorate([
    $d6c72a8f60760b00$var$__param(0, $7lWR1.ICodeEditorService)
], $d6c72a8f60760b00$export$62f50e6a0744204);
$3fwCj.Registry.as($3knSU.Extensions.Quickaccess).registerQuickAccessProvider({
    ctor: $d6c72a8f60760b00$export$62f50e6a0744204,
    prefix: $d6c72a8f60760b00$export$62f50e6a0744204.PREFIX,
    helpEntries: [
        {
            description: $h1Z4o.GoToLineNLS.gotoLineActionLabel,
            needsEditor: true
        }
    ]
});
class $d6c72a8f60760b00$export$83454a444c35f5c1 extends $g9Zlr.EditorAction {
    run(accessor) {
        accessor.get($1GAzQ.IQuickInputService).quickAccess.show($d6c72a8f60760b00$export$62f50e6a0744204.PREFIX);
    }
    constructor(){
        super({
            id: 'editor.action.gotoLine',
            label: $h1Z4o.GoToLineNLS.gotoLineActionLabel,
            alias: 'Go to Line/Column...',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 2085 /* KeyG */ ,
                mac: {
                    primary: 293 /* KeyG */ 
                },
                weight: 100 /* EditorContrib */ 
            }
        });
    }
}
$g9Zlr.registerEditorAction($d6c72a8f60760b00$export$83454a444c35f5c1);


var $4806f40b21817d3a$exports = {};
parcelRequire("eedmO");

var $20922c8e0204c32a$exports = {};

$parcel$export($20922c8e0204c32a$exports, "AbstractGotoSymbolQuickAccessProvider", function () { return $20922c8e0204c32a$export$ceb5fc4d82017d3b; }, function (v) { return $20922c8e0204c32a$export$ceb5fc4d82017d3b = v; });

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $k4zqw = parcelRequire("k4zqw");

var $6FDEF = parcelRequire("6FDEF");

var $kyhxR = parcelRequire("kyhxR");

var $7e5Mc = parcelRequire("7e5Mc");

var $i4xl7 = parcelRequire("i4xl7");
const $126039eaf3de27f3$var$NO_SCORE2 = [
    undefined,
    []
];
function $126039eaf3de27f3$export$e22f4f530abefc49(target, query, patternStart = 0, wordStart = 0) {
    // Score: multiple inputs
    const preparedQuery = query;
    if (preparedQuery.values && preparedQuery.values.length > 1) return $126039eaf3de27f3$var$doScoreFuzzy2Multiple(target, preparedQuery.values, patternStart, wordStart);
    // Score: single input
    return $126039eaf3de27f3$var$doScoreFuzzy2Single(target, query, patternStart, wordStart);
}
function $126039eaf3de27f3$var$doScoreFuzzy2Multiple(target, query, patternStart, wordStart) {
    let totalScore = 0;
    const totalMatches = [];
    for (const queryPiece of query){
        const [score, matches] = $126039eaf3de27f3$var$doScoreFuzzy2Single(target, queryPiece, patternStart, wordStart);
        if (typeof score !== 'number') // if a single query value does not match, return with
        // no score entirely, we require all queries to match
        return $126039eaf3de27f3$var$NO_SCORE2;
        totalScore += score;
        totalMatches.push(...matches);
    }
    // if we have a score, ensure that the positions are
    // sorted in ascending order and distinct
    return [
        totalScore,
        $126039eaf3de27f3$var$normalizeMatches(totalMatches)
    ];
}
function $126039eaf3de27f3$var$doScoreFuzzy2Single(target, query, patternStart, wordStart) {
    const score = $6FDEF.fuzzyScore(query.original, query.originalLowercase, patternStart, target, target.toLowerCase(), wordStart, true);
    if (!score) return $126039eaf3de27f3$var$NO_SCORE2;
    return [
        score[0],
        $6FDEF.createMatches(score)
    ];
}
const $126039eaf3de27f3$var$NO_ITEM_SCORE = Object.freeze({
    score: 0
});
function $126039eaf3de27f3$var$normalizeMatches(matches) {
    // sort matches by start to be able to normalize
    const sortedMatches = matches.sort((matchA, matchB)=>{
        return matchA.start - matchB.start;
    });
    // merge matches that overlap
    const normalizedMatches = [];
    let currentMatch = undefined;
    for (const match of sortedMatches)// if we have no current match or the matches
    // do not overlap, we take it as is and remember
    // it for future merging
    if (!currentMatch || !$126039eaf3de27f3$var$matchOverlaps(currentMatch, match)) {
        currentMatch = match;
        normalizedMatches.push(match);
    } else {
        currentMatch.start = Math.min(currentMatch.start, match.start);
        currentMatch.end = Math.max(currentMatch.end, match.end);
    }
    return normalizedMatches;
}
function $126039eaf3de27f3$var$matchOverlaps(matchA, matchB) {
    if (matchA.end < matchB.start) return false; // A ends before B starts
    if (matchB.end < matchA.start) return false; // B ends before A starts
    return true;
}
/*
 * If a query is wrapped in quotes, the user does not want to
 * use fuzzy search for this query.
 */ function $126039eaf3de27f3$var$queryExpectsExactMatch(query) {
    return query.startsWith('"') && query.endsWith('"');
}
/**
 * Helper function to prepare a search value for scoring by removing unwanted characters
 * and allowing to score on multiple pieces separated by whitespace character.
 */ const $126039eaf3de27f3$var$MULTIPLE_QUERY_VALUES_SEPARATOR = ' ';
function $126039eaf3de27f3$export$b7b2a481b84622e6(original) {
    if (typeof original !== 'string') original = '';
    const originalLowercase = original.toLowerCase();
    const { pathNormalized: pathNormalized , normalized: normalized , normalizedLowercase: normalizedLowercase  } = $126039eaf3de27f3$var$normalizeQuery(original);
    const containsPathSeparator = pathNormalized.indexOf($kyhxR.sep) >= 0;
    const expectExactMatch = $126039eaf3de27f3$var$queryExpectsExactMatch(original);
    let values = undefined;
    const originalSplit = original.split($126039eaf3de27f3$var$MULTIPLE_QUERY_VALUES_SEPARATOR);
    if (originalSplit.length > 1) for (const originalPiece of originalSplit){
        const expectExactMatchPiece = $126039eaf3de27f3$var$queryExpectsExactMatch(originalPiece);
        const { pathNormalized: pathNormalizedPiece , normalized: normalizedPiece , normalizedLowercase: normalizedLowercasePiece  } = $126039eaf3de27f3$var$normalizeQuery(originalPiece);
        if (normalizedPiece) {
            if (!values) values = [];
            values.push({
                original: originalPiece,
                originalLowercase: originalPiece.toLowerCase(),
                pathNormalized: pathNormalizedPiece,
                normalized: normalizedPiece,
                normalizedLowercase: normalizedLowercasePiece,
                expectContiguousMatch: expectExactMatchPiece
            });
        }
    }
    return {
        original: original,
        originalLowercase: originalLowercase,
        pathNormalized: pathNormalized,
        normalized: normalized,
        normalizedLowercase: normalizedLowercase,
        values: values,
        containsPathSeparator: containsPathSeparator,
        expectContiguousMatch: expectExactMatch
    };
}
function $126039eaf3de27f3$var$normalizeQuery(original) {
    let pathNormalized;
    if ($7e5Mc.isWindows) pathNormalized = original.replace(/\//g, $kyhxR.sep); // Help Windows users to search for paths when using slash
    else pathNormalized = original.replace(/\\/g, $kyhxR.sep); // Help macOS/Linux users to search for paths when using backslash
    // we remove quotes here because quotes are used for exact match search
    const normalized = $i4xl7.stripWildcards(pathNormalized).replace(/\s|"/g, '');
    return {
        pathNormalized: pathNormalized,
        normalized: normalized,
        normalizedLowercase: normalized.toLowerCase()
    };
}
function $126039eaf3de27f3$export$20e144ebe86a7451(arg1) {
    if (Array.isArray(arg1)) return $126039eaf3de27f3$export$b7b2a481b84622e6(arg1.map((piece)=>piece.original
    ).join($126039eaf3de27f3$var$MULTIPLE_QUERY_VALUES_SEPARATOR));
    return $126039eaf3de27f3$export$b7b2a481b84622e6(arg1.original);
} //#endregion



var $6W1JA = parcelRequire("6W1JA");

var $i4xl7 = parcelRequire("i4xl7");

var $1YFxJ = parcelRequire("1YFxJ");

var $goPht = parcelRequire("goPht");



var $1WuVQ = parcelRequire("1WuVQ");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $20922c8e0204c32a$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
class $20922c8e0204c32a$export$ceb5fc4d82017d3b extends $09123d4f5d8b3e9e$export$6c0961619607218e {
    provideWithoutTextEditor(picker) {
        this.provideLabelPick(picker, $1WuVQ.localize('cannotRunGotoSymbolWithoutEditor', "To go to a symbol, first open a text editor with symbol information."));
        return $6W1JA.Disposable.None;
    }
    provideWithTextEditor(context, picker, token) {
        const editor = context.editor;
        const model = this.getModel(editor);
        if (!model) return $6W1JA.Disposable.None;
        // Provide symbols from model if available in registry
        if ($goPht.DocumentSymbolProviderRegistry.has(model)) return this.doProvideWithEditorSymbols(context, model, picker, token);
        // Otherwise show an entry for a model without registry
        // But give a chance to resolve the symbols at a later
        // point if possible
        return this.doProvideWithoutEditorSymbols(context, model, picker, token);
    }
    doProvideWithoutEditorSymbols(context, model, picker, token) {
        const disposables = new $6W1JA.DisposableStore();
        // Generic pick for not having any symbol information
        this.provideLabelPick(picker, $1WuVQ.localize('cannotRunGotoSymbolWithoutSymbolProvider', "The active text editor does not provide symbol information."));
        // Wait for changes to the registry and see if eventually
        // we do get symbols. This can happen if the picker is opened
        // very early after the model has loaded but before the
        // language registry is ready.
        // https://github.com/microsoft/vscode/issues/70607
        (()=>$20922c8e0204c32a$var$__awaiter(this, void 0, void 0, function*() {
                const result = yield this.waitForLanguageSymbolRegistry(model, disposables);
                if (!result || token.isCancellationRequested) return;
                disposables.add(this.doProvideWithEditorSymbols(context, model, picker, token));
            })
        )();
        return disposables;
    }
    provideLabelPick(picker, label) {
        picker.items = [
            {
                label: label,
                index: 0,
                kind: 14 /* String */ 
            }
        ];
        picker.ariaLabel = label;
    }
    waitForLanguageSymbolRegistry(model, disposables) {
        return $20922c8e0204c32a$var$__awaiter(this, void 0, void 0, function*() {
            if ($goPht.DocumentSymbolProviderRegistry.has(model)) return true;
            const symbolProviderRegistryPromise = new $5piST.DeferredPromise();
            // Resolve promise when registry knows model
            const symbolProviderListener = disposables.add($goPht.DocumentSymbolProviderRegistry.onDidChange(()=>{
                if ($goPht.DocumentSymbolProviderRegistry.has(model)) {
                    symbolProviderListener.dispose();
                    symbolProviderRegistryPromise.complete(true);
                }
            }));
            // Resolve promise when we get disposed too
            disposables.add($6W1JA.toDisposable(()=>symbolProviderRegistryPromise.complete(false)
            ));
            return symbolProviderRegistryPromise.p;
        });
    }
    doProvideWithEditorSymbols(context, model, picker, token) {
        const editor = context.editor;
        const disposables = new $6W1JA.DisposableStore();
        // Goto symbol once picked
        disposables.add(picker.onDidAccept((event)=>{
            const [item] = picker.selectedItems;
            if (item && item.range) {
                this.gotoLocation(context, {
                    range: item.range.selection,
                    keyMods: picker.keyMods,
                    preserveFocus: event.inBackground
                });
                if (!event.inBackground) picker.hide();
            }
        }));
        // Goto symbol side by side if enabled
        disposables.add(picker.onDidTriggerItemButton(({ item: item  })=>{
            if (item && item.range) {
                this.gotoLocation(context, {
                    range: item.range.selection,
                    keyMods: picker.keyMods,
                    forceSideBySide: true
                });
                picker.hide();
            }
        }));
        // Resolve symbols from document once and reuse this
        // request for all filtering and typing then on
        const symbolsPromise = this.getDocumentSymbols(model, token);
        // Set initial picks and update on type
        let picksCts = undefined;
        const updatePickerItems = ()=>$20922c8e0204c32a$var$__awaiter(this, void 0, void 0, function*() {
                // Cancel any previous ask for picks and busy
                picksCts === null || picksCts === void 0 || picksCts.dispose(true);
                picker.busy = false;
                // Create new cancellation source for this run
                picksCts = new $1vhHo.CancellationTokenSource(token);
                // Collect symbol picks
                picker.busy = true;
                try {
                    const query = $126039eaf3de27f3$export$b7b2a481b84622e6(picker.value.substr($20922c8e0204c32a$export$ceb5fc4d82017d3b.PREFIX.length).trim());
                    const items = yield this.doGetSymbolPicks(symbolsPromise, query, undefined, picksCts.token);
                    if (token.isCancellationRequested) return;
                    if (items.length > 0) picker.items = items;
                    else if (query.original.length > 0) this.provideLabelPick(picker, $1WuVQ.localize('noMatchingSymbolResults', "No matching editor symbols"));
                    else this.provideLabelPick(picker, $1WuVQ.localize('noSymbolResults', "No editor symbols"));
                } finally{
                    if (!token.isCancellationRequested) picker.busy = false;
                }
            })
        ;
        disposables.add(picker.onDidChangeValue(()=>updatePickerItems()
        ));
        updatePickerItems();
        // Reveal and decorate when active item changes
        // However, ignore the very first event so that
        // opening the picker is not immediately revealing
        // and decorating the first entry.
        let ignoreFirstActiveEvent = true;
        disposables.add(picker.onDidChangeActive(()=>{
            const [item] = picker.activeItems;
            if (item && item.range) {
                if (ignoreFirstActiveEvent) {
                    ignoreFirstActiveEvent = false;
                    return;
                }
                // Reveal
                editor.revealRangeInCenter(item.range.selection, 0 /* Smooth */ );
                // Decorate
                this.addDecorations(editor, item.range.decoration);
            }
        }));
        return disposables;
    }
    doGetSymbolPicks(symbolsPromise, query, options, token) {
        return $20922c8e0204c32a$var$__awaiter(this, void 0, void 0, function*() {
            const symbols = yield symbolsPromise;
            if (token.isCancellationRequested) return [];
            const filterBySymbolKind = query.original.indexOf($20922c8e0204c32a$export$ceb5fc4d82017d3b.SCOPE_PREFIX) === 0;
            const filterPos = filterBySymbolKind ? 1 : 0;
            // Split between symbol and container query
            let symbolQuery;
            let containerQuery;
            if (query.values && query.values.length > 1) {
                symbolQuery = $126039eaf3de27f3$export$20e144ebe86a7451(query.values[0]); // symbol: only match on first part
                containerQuery = $126039eaf3de27f3$export$20e144ebe86a7451(query.values.slice(1)); // container: match on all but first parts
            } else symbolQuery = query;
            // Convert to symbol picks and apply filtering
            const filteredSymbolPicks = [];
            for(let index = 0; index < symbols.length; index++){
                const symbol = symbols[index];
                const symbolLabel = $i4xl7.trim(symbol.name);
                const symbolLabelWithIcon = `$(symbol-${$goPht.SymbolKinds.toString(symbol.kind) || 'property'}) ${symbolLabel}`;
                const symbolLabelIconOffset = symbolLabelWithIcon.length - symbolLabel.length;
                let containerLabel = symbol.containerName;
                if (options === null || options === void 0 ? void 0 : options.extraContainerLabel) {
                    if (containerLabel) containerLabel = `${options.extraContainerLabel}  ${containerLabel}`;
                    else containerLabel = options.extraContainerLabel;
                }
                let symbolScore = undefined;
                let symbolMatches = undefined;
                let containerScore = undefined;
                let containerMatches = undefined;
                if (query.original.length > filterPos) {
                    // First: try to score on the entire query, it is possible that
                    // the symbol matches perfectly (e.g. searching for "change log"
                    // can be a match on a markdown symbol "change log"). In that
                    // case we want to skip the container query altogether.
                    let skipContainerQuery = false;
                    if (symbolQuery !== query) {
                        [symbolScore, symbolMatches] = $126039eaf3de27f3$export$e22f4f530abefc49(symbolLabelWithIcon, Object.assign(Object.assign({}, query), {
                            values: undefined /* disable multi-query support */ 
                        }), filterPos, symbolLabelIconOffset);
                        if (typeof symbolScore === 'number') skipContainerQuery = true; // since we consumed the query, skip any container matching
                    }
                    // Otherwise: score on the symbol query and match on the container later
                    if (typeof symbolScore !== 'number') {
                        [symbolScore, symbolMatches] = $126039eaf3de27f3$export$e22f4f530abefc49(symbolLabelWithIcon, symbolQuery, filterPos, symbolLabelIconOffset);
                        if (typeof symbolScore !== 'number') continue;
                    }
                    // Score by container if specified
                    if (!skipContainerQuery && containerQuery) {
                        if (containerLabel && containerQuery.original.length > 0) [containerScore, containerMatches] = $126039eaf3de27f3$export$e22f4f530abefc49(containerLabel, containerQuery);
                        if (typeof containerScore !== 'number') continue;
                        if (typeof symbolScore === 'number') symbolScore += containerScore; // boost symbolScore by containerScore
                    }
                }
                const deprecated = symbol.tags && symbol.tags.indexOf(1 /* Deprecated */ ) >= 0;
                filteredSymbolPicks.push({
                    index: index,
                    kind: symbol.kind,
                    score: symbolScore,
                    label: symbolLabelWithIcon,
                    ariaLabel: symbolLabel,
                    description: containerLabel,
                    highlights: deprecated ? undefined : {
                        label: symbolMatches,
                        description: containerMatches
                    },
                    range: {
                        selection: $1YFxJ.Range.collapseToStart(symbol.selectionRange),
                        decoration: symbol.range
                    },
                    strikethrough: deprecated,
                    buttons: (()=>{
                        var _a, _b;
                        const openSideBySideDirection = ((_a = this.options) === null || _a === void 0 ? void 0 : _a.openSideBySideDirection) ? (_b = this.options) === null || _b === void 0 ? void 0 : _b.openSideBySideDirection() : undefined;
                        if (!openSideBySideDirection) return undefined;
                        return [
                            {
                                iconClass: openSideBySideDirection === 'right' ? $k4zqw.Codicon.splitHorizontal.classNames : $k4zqw.Codicon.splitVertical.classNames,
                                tooltip: openSideBySideDirection === 'right' ? $1WuVQ.localize('openToSide', "Open to the Side") : $1WuVQ.localize('openToBottom', "Open to the Bottom")
                            }
                        ];
                    })()
                });
            }
            // Sort by score
            const sortedFilteredSymbolPicks = filteredSymbolPicks.sort((symbolA, symbolB)=>filterBySymbolKind ? this.compareByKindAndScore(symbolA, symbolB) : this.compareByScore(symbolA, symbolB)
            );
            // Add separator for types
            // - @  only total number of symbols
            // - @: grouped by symbol kind
            let symbolPicks = [];
            if (filterBySymbolKind) {
                let lastSymbolKind = undefined;
                let lastSeparator = undefined;
                let lastSymbolKindCounter = 0;
                function updateLastSeparatorLabel() {
                    if (lastSeparator && typeof lastSymbolKind === 'number' && lastSymbolKindCounter > 0) lastSeparator.label = $i4xl7.format($20922c8e0204c32a$var$NLS_SYMBOL_KIND_CACHE[lastSymbolKind] || $20922c8e0204c32a$var$FALLBACK_NLS_SYMBOL_KIND, lastSymbolKindCounter);
                }
                for (const symbolPick of sortedFilteredSymbolPicks){
                    // Found new kind
                    if (lastSymbolKind !== symbolPick.kind) {
                        // Update last separator with number of symbols we found for kind
                        updateLastSeparatorLabel();
                        lastSymbolKind = symbolPick.kind;
                        lastSymbolKindCounter = 1;
                        // Add new separator for new kind
                        lastSeparator = {
                            type: 'separator'
                        };
                        symbolPicks.push(lastSeparator);
                    } else lastSymbolKindCounter++;
                    // Add to final result
                    symbolPicks.push(symbolPick);
                }
                // Update last separator with number of symbols we found for kind
                updateLastSeparatorLabel();
            } else if (sortedFilteredSymbolPicks.length > 0) symbolPicks = [
                {
                    label: $1WuVQ.localize('symbols', "symbols ({0})", filteredSymbolPicks.length),
                    type: 'separator'
                },
                ...sortedFilteredSymbolPicks
            ];
            return symbolPicks;
        });
    }
    compareByScore(symbolA, symbolB) {
        if (typeof symbolA.score !== 'number' && typeof symbolB.score === 'number') return 1;
        else if (typeof symbolA.score === 'number' && typeof symbolB.score !== 'number') return -1;
        if (typeof symbolA.score === 'number' && typeof symbolB.score === 'number') {
            if (symbolA.score > symbolB.score) return -1;
            else if (symbolA.score < symbolB.score) return 1;
        }
        if (symbolA.index < symbolB.index) return -1;
        else if (symbolA.index > symbolB.index) return 1;
        return 0;
    }
    compareByKindAndScore(symbolA, symbolB) {
        const kindA = $20922c8e0204c32a$var$NLS_SYMBOL_KIND_CACHE[symbolA.kind] || $20922c8e0204c32a$var$FALLBACK_NLS_SYMBOL_KIND;
        const kindB = $20922c8e0204c32a$var$NLS_SYMBOL_KIND_CACHE[symbolB.kind] || $20922c8e0204c32a$var$FALLBACK_NLS_SYMBOL_KIND;
        // Sort by type first if scoped search
        const result = kindA.localeCompare(kindB);
        if (result === 0) return this.compareByScore(symbolA, symbolB);
        return result;
    }
    getDocumentSymbols(document, token) {
        return $20922c8e0204c32a$var$__awaiter(this, void 0, void 0, function*() {
            const model = yield $d39451afab9e98b1$export$23911836525ed42c.create(document, token);
            return token.isCancellationRequested ? [] : model.asListOfDocumentSymbols();
        });
    }
    constructor(options = Object.create(null)){
        super(options);
        this.options = options;
        this.options.canAcceptInBackground = true;
    }
}
$20922c8e0204c32a$export$ceb5fc4d82017d3b.PREFIX = '@';
$20922c8e0204c32a$export$ceb5fc4d82017d3b.SCOPE_PREFIX = ':';
$20922c8e0204c32a$export$ceb5fc4d82017d3b.PREFIX_BY_CATEGORY = `${$20922c8e0204c32a$export$ceb5fc4d82017d3b.PREFIX}${$20922c8e0204c32a$export$ceb5fc4d82017d3b.SCOPE_PREFIX}`;
// #region NLS Helpers
const $20922c8e0204c32a$var$FALLBACK_NLS_SYMBOL_KIND = $1WuVQ.localize('property', "properties ({0})");
const $20922c8e0204c32a$var$NLS_SYMBOL_KIND_CACHE = {
    [5 /* Method */ ]: $1WuVQ.localize('method', "methods ({0})"),
    [11 /* Function */ ]: $1WuVQ.localize('function', "functions ({0})"),
    [8 /* Constructor */ ]: $1WuVQ.localize('_constructor', "constructors ({0})"),
    [12 /* Variable */ ]: $1WuVQ.localize('variable', "variables ({0})"),
    [4 /* Class */ ]: $1WuVQ.localize('class', "classes ({0})"),
    [22 /* Struct */ ]: $1WuVQ.localize('struct', "structs ({0})"),
    [23 /* Event */ ]: $1WuVQ.localize('event', "events ({0})"),
    [24 /* Operator */ ]: $1WuVQ.localize('operator', "operators ({0})"),
    [10 /* Interface */ ]: $1WuVQ.localize('interface', "interfaces ({0})"),
    [2 /* Namespace */ ]: $1WuVQ.localize('namespace', "namespaces ({0})"),
    [3 /* Package */ ]: $1WuVQ.localize('package', "packages ({0})"),
    [25 /* TypeParameter */ ]: $1WuVQ.localize('typeParameter', "type parameters ({0})"),
    [1 /* Module */ ]: $1WuVQ.localize('modules', "modules ({0})"),
    [6 /* Property */ ]: $1WuVQ.localize('property', "properties ({0})"),
    [9 /* Enum */ ]: $1WuVQ.localize('enum', "enumerations ({0})"),
    [21 /* EnumMember */ ]: $1WuVQ.localize('enumMember', "enumeration members ({0})"),
    [14 /* String */ ]: $1WuVQ.localize('string', "strings ({0})"),
    [0 /* File */ ]: $1WuVQ.localize('file', "files ({0})"),
    [17 /* Array */ ]: $1WuVQ.localize('array', "arrays ({0})"),
    [15 /* Number */ ]: $1WuVQ.localize('number', "numbers ({0})"),
    [16 /* Boolean */ ]: $1WuVQ.localize('boolean', "booleans ({0})"),
    [18 /* Object */ ]: $1WuVQ.localize('object', "objects ({0})"),
    [19 /* Key */ ]: $1WuVQ.localize('key', "keys ({0})"),
    [7 /* Field */ ]: $1WuVQ.localize('field', "fields ({0})"),
    [13 /* Constant */ ]: $1WuVQ.localize('constant', "constants ({0})")
}; //#endregion



var $3fwCj = parcelRequire("3fwCj");

var $3knSU = parcelRequire("3knSU");

var $7lWR1 = parcelRequire("7lWR1");

var $erLC3 = parcelRequire("erLC3");

var $h1Z4o = parcelRequire("h1Z4o");

var $bkXdq = parcelRequire("bkXdq");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $1GAzQ = parcelRequire("1GAzQ");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $4806f40b21817d3a$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $4806f40b21817d3a$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $4806f40b21817d3a$export$1891c65a7e9a2e48 = class $4806f40b21817d3a$export$1891c65a7e9a2e48 extends $20922c8e0204c32a$exports.AbstractGotoSymbolQuickAccessProvider {
    get activeTextEditorControl() {
        return $erLC3.withNullAsUndefined(this.editorService.getFocusedCodeEditor());
    }
    constructor(editorService){
        super();
        this.editorService = editorService;
        this.onDidActiveTextEditorControlChange = $bkXdq.Event.None;
    }
};
$4806f40b21817d3a$export$1891c65a7e9a2e48 = $4806f40b21817d3a$var$__decorate([
    $4806f40b21817d3a$var$__param(0, $7lWR1.ICodeEditorService)
], $4806f40b21817d3a$export$1891c65a7e9a2e48);
$3fwCj.Registry.as($3knSU.Extensions.Quickaccess).registerQuickAccessProvider({
    ctor: $4806f40b21817d3a$export$1891c65a7e9a2e48,
    prefix: $20922c8e0204c32a$exports.AbstractGotoSymbolQuickAccessProvider.PREFIX,
    helpEntries: [
        {
            description: $h1Z4o.QuickOutlineNLS.quickOutlineActionLabel,
            prefix: $20922c8e0204c32a$exports.AbstractGotoSymbolQuickAccessProvider.PREFIX,
            needsEditor: true
        },
        {
            description: $h1Z4o.QuickOutlineNLS.quickOutlineByCategoryActionLabel,
            prefix: $20922c8e0204c32a$exports.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,
            needsEditor: true
        }
    ]
});
class $4806f40b21817d3a$export$83454a444c35f5c1 extends $g9Zlr.EditorAction {
    run(accessor) {
        accessor.get($1GAzQ.IQuickInputService).quickAccess.show($20922c8e0204c32a$exports.AbstractGotoSymbolQuickAccessProvider.PREFIX);
    }
    constructor(){
        super({
            id: 'editor.action.quickOutline',
            label: $h1Z4o.QuickOutlineNLS.quickOutlineActionLabel,
            alias: 'Go to Symbol...',
            precondition: $7oeKV.EditorContextKeys.hasDocumentSymbolProvider,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 3117 /* KeyO */ ,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: 'navigation',
                order: 3
            }
        });
    }
}
$g9Zlr.registerEditorAction($4806f40b21817d3a$export$83454a444c35f5c1);


var $3db746763ba1178a$exports = {};

var $3fwCj = parcelRequire("3fwCj");

var $3knSU = parcelRequire("3knSU");

var $h1Z4o = parcelRequire("h1Z4o");

var $7lWR1 = parcelRequire("7lWR1");

var $7b0Ts = parcelRequire("7b0Ts");
var $edcc072a56b49aee$exports = {};

$parcel$export($edcc072a56b49aee$exports, "AbstractCommandsQuickAccessProvider", function () { return $edcc072a56b49aee$export$e2727582285dc787; }, function (v) { return $edcc072a56b49aee$export$e2727582285dc787 = v; });

var $duSG1 = parcelRequire("duSG1");

var $erLC3 = parcelRequire("erLC3");

var $1WuVQ = parcelRequire("1WuVQ");
function $f735694a8ba0b6b9$var$exceptionToErrorMessage(exception, verbose) {
    if (verbose && (exception.stack || exception.stacktrace)) return $1WuVQ.localize('stackTrace.format', "{0}: {1}", $f735694a8ba0b6b9$var$detectSystemErrorMessage(exception), $f735694a8ba0b6b9$var$stackToString(exception.stack) || $f735694a8ba0b6b9$var$stackToString(exception.stacktrace));
    return $f735694a8ba0b6b9$var$detectSystemErrorMessage(exception);
}
function $f735694a8ba0b6b9$var$stackToString(stack) {
    if (Array.isArray(stack)) return stack.join('\n');
    return stack;
}
function $f735694a8ba0b6b9$var$detectSystemErrorMessage(exception) {
    // See https://nodejs.org/api/errors.html#errors_class_system_error
    if (typeof exception.code === 'string' && typeof exception.errno === 'number' && typeof exception.syscall === 'string') return $1WuVQ.localize('nodeExceptionMessage', "A system error occurred ({0})", exception.message);
    return exception.message || $1WuVQ.localize('error.defaultMessage', "An unknown error occurred. Please consult the log for more details.");
}
function $f735694a8ba0b6b9$export$95506c204c060a3(error = null, verbose = false) {
    if (!error) return $1WuVQ.localize('error.defaultMessage', "An unknown error occurred. Please consult the log for more details.");
    if (Array.isArray(error)) {
        const errors = $duSG1.coalesce(error);
        const msg = $f735694a8ba0b6b9$export$95506c204c060a3(errors[0], verbose);
        if (errors.length > 1) return $1WuVQ.localize('error.moreErrors', "{0} ({1} errors in total)", msg, errors.length);
        return msg;
    }
    if ($erLC3.isString(error)) return error;
    if (error.detail) {
        const detail = error.detail;
        if (detail.error) return $f735694a8ba0b6b9$var$exceptionToErrorMessage(detail.error, verbose);
        if (detail.exception) return $f735694a8ba0b6b9$var$exceptionToErrorMessage(detail.exception, verbose);
    }
    if (error.stack) return $f735694a8ba0b6b9$var$exceptionToErrorMessage(error, verbose);
    if (error.message) return error.message;
    return $1WuVQ.localize('error.defaultMessage', "An unknown error occurred. Please consult the log for more details.");
}



var $3FsT3 = parcelRequire("3FsT3");

var $6FDEF = parcelRequire("6FDEF");

var $6W1JA = parcelRequire("6W1JA");

var $dNpei = parcelRequire("dNpei");

var $hzy63 = parcelRequire("hzy63");

var $erLC3 = parcelRequire("erLC3");

var $1WuVQ = parcelRequire("1WuVQ");

var $c0VS7 = parcelRequire("c0VS7");

var $6goiI = parcelRequire("6goiI");

var $kgSXp = parcelRequire("kgSXp");

var $6Xx7t = parcelRequire("6Xx7t");

var $i2aE6 = parcelRequire("i2aE6");
var $6cd45b67e2ab70be$exports = {};

$parcel$export($6cd45b67e2ab70be$exports, "PickerQuickAccessProvider", function () { return $6cd45b67e2ab70be$export$76827b77f41011c2; }, function (v) { return $6cd45b67e2ab70be$export$76827b77f41011c2 = v; });

var $5piST = parcelRequire("5piST");

var $1vhHo = parcelRequire("1vhHo");

var $6W1JA = parcelRequire("6W1JA");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $6cd45b67e2ab70be$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var $6cd45b67e2ab70be$export$43c639767ba93dcc;
(function($6cd45b67e2ab70be$export$43c639767ba93dcc) {
    /**
     * Do nothing after the button was clicked.
     */ $6cd45b67e2ab70be$export$43c639767ba93dcc[$6cd45b67e2ab70be$export$43c639767ba93dcc["NO_ACTION"] = 0] = "NO_ACTION";
    /**
     * Close the picker.
     */ $6cd45b67e2ab70be$export$43c639767ba93dcc[$6cd45b67e2ab70be$export$43c639767ba93dcc["CLOSE_PICKER"] = 1] = "CLOSE_PICKER";
    /**
     * Update the results of the picker.
     */ $6cd45b67e2ab70be$export$43c639767ba93dcc[$6cd45b67e2ab70be$export$43c639767ba93dcc["REFRESH_PICKER"] = 2] = "REFRESH_PICKER";
    /**
     * Remove the item from the picker.
     */ $6cd45b67e2ab70be$export$43c639767ba93dcc[$6cd45b67e2ab70be$export$43c639767ba93dcc["REMOVE_ITEM"] = 3] = "REMOVE_ITEM";
})($6cd45b67e2ab70be$export$43c639767ba93dcc || ($6cd45b67e2ab70be$export$43c639767ba93dcc = {}));
function $6cd45b67e2ab70be$var$isPicksWithActive(obj) {
    const candidate = obj;
    return Array.isArray(candidate.items);
}
function $6cd45b67e2ab70be$var$isFastAndSlowPicks(obj) {
    const candidate = obj;
    return !!candidate.picks && candidate.additionalPicks instanceof Promise;
}
class $6cd45b67e2ab70be$export$76827b77f41011c2 extends $6W1JA.Disposable {
    provide(picker, token) {
        var _a1;
        const disposables = new $6W1JA.DisposableStore();
        // Apply options if any
        picker.canAcceptInBackground = !!((_a1 = this.options) === null || _a1 === void 0 ? void 0 : _a1.canAcceptInBackground);
        // Disable filtering & sorting, we control the results
        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;
        // Set initial picks and update on type
        let picksCts = undefined;
        const picksDisposable = disposables.add(new $6W1JA.MutableDisposable());
        const updatePickerItems = ()=>$6cd45b67e2ab70be$var$__awaiter(this, void 0, void 0, function*() {
                const picksDisposables = picksDisposable.value = new $6W1JA.DisposableStore();
                // Cancel any previous ask for picks and busy
                picksCts === null || picksCts === void 0 || picksCts.dispose(true);
                picker.busy = false;
                // Create new cancellation source for this run
                picksCts = new $1vhHo.CancellationTokenSource(token);
                // Collect picks and support both long running and short or combined
                const picksToken = picksCts.token;
                const picksFilter = picker.value.substr(this.prefix.length).trim();
                const providedPicks = this._getPicks(picksFilter, picksDisposables, picksToken);
                const applyPicks = (picks, skipEmpty)=>{
                    var _a;
                    let items;
                    let activeItem = undefined;
                    if ($6cd45b67e2ab70be$var$isPicksWithActive(picks)) {
                        items = picks.items;
                        activeItem = picks.active;
                    } else items = picks;
                    if (items.length === 0) {
                        if (skipEmpty) return false;
                        if (picksFilter.length > 0 && ((_a = this.options) === null || _a === void 0 ? void 0 : _a.noResultsPick)) items = [
                            this.options.noResultsPick
                        ];
                    }
                    picker.items = items;
                    if (activeItem) picker.activeItems = [
                        activeItem
                    ];
                    return true;
                };
                // No Picks
                if (providedPicks === null) ;
                else if ($6cd45b67e2ab70be$var$isFastAndSlowPicks(providedPicks)) {
                    let fastPicksApplied = false;
                    let slowPicksApplied = false;
                    yield Promise.all([
                        // Fast Picks: to reduce amount of flicker, we race against
                        // the slow picks over 500ms and then set the fast picks.
                        // If the slow picks are faster, we reduce the flicker by
                        // only setting the items once.
                        (()=>$6cd45b67e2ab70be$var$__awaiter(this, void 0, void 0, function*() {
                                yield $5piST.timeout($6cd45b67e2ab70be$export$76827b77f41011c2.FAST_PICKS_RACE_DELAY);
                                if (picksToken.isCancellationRequested) return;
                                if (!slowPicksApplied) fastPicksApplied = applyPicks(providedPicks.picks, true);
                            })
                        )(),
                        // Slow Picks: we await the slow picks and then set them at
                        // once together with the fast picks, but only if we actually
                        // have additional results.
                        (()=>$6cd45b67e2ab70be$var$__awaiter(this, void 0, void 0, function*() {
                                picker.busy = true;
                                try {
                                    const awaitedAdditionalPicks = yield providedPicks.additionalPicks;
                                    if (picksToken.isCancellationRequested) return;
                                    let picks;
                                    let activePick = undefined;
                                    if ($6cd45b67e2ab70be$var$isPicksWithActive(providedPicks.picks)) {
                                        picks = providedPicks.picks.items;
                                        activePick = providedPicks.picks.active;
                                    } else picks = providedPicks.picks;
                                    let additionalPicks;
                                    let additionalActivePick = undefined;
                                    if ($6cd45b67e2ab70be$var$isPicksWithActive(awaitedAdditionalPicks)) {
                                        additionalPicks = awaitedAdditionalPicks.items;
                                        additionalActivePick = awaitedAdditionalPicks.active;
                                    } else additionalPicks = awaitedAdditionalPicks;
                                    if (additionalPicks.length > 0 || !fastPicksApplied) {
                                        // If we do not have any activePick or additionalActivePick
                                        // we try to preserve the currently active pick from the
                                        // fast results. This fixes an issue where the user might
                                        // have made a pick active before the additional results
                                        // kick in.
                                        // See https://github.com/microsoft/vscode/issues/102480
                                        let fallbackActivePick = undefined;
                                        if (!activePick && !additionalActivePick) {
                                            const fallbackActivePickCandidate = picker.activeItems[0];
                                            if (fallbackActivePickCandidate && picks.indexOf(fallbackActivePickCandidate) !== -1) fallbackActivePick = fallbackActivePickCandidate;
                                        }
                                        applyPicks({
                                            items: [
                                                ...picks,
                                                ...additionalPicks
                                            ],
                                            active: activePick || additionalActivePick || fallbackActivePick
                                        });
                                    }
                                } finally{
                                    if (!picksToken.isCancellationRequested) picker.busy = false;
                                    slowPicksApplied = true;
                                }
                            })
                        )()
                    ]);
                } else if (!(providedPicks instanceof Promise)) applyPicks(providedPicks);
                else {
                    picker.busy = true;
                    try {
                        const awaitedPicks = yield providedPicks;
                        if (picksToken.isCancellationRequested) return;
                        applyPicks(awaitedPicks);
                    } finally{
                        if (!picksToken.isCancellationRequested) picker.busy = false;
                    }
                }
            })
        ;
        disposables.add(picker.onDidChangeValue(()=>updatePickerItems()
        ));
        updatePickerItems();
        // Accept the pick on accept and hide picker
        disposables.add(picker.onDidAccept((event)=>{
            const [item] = picker.selectedItems;
            if (typeof (item === null || item === void 0 ? void 0 : item.accept) === 'function') {
                if (!event.inBackground) picker.hide(); // hide picker unless we accept in background
                item.accept(picker.keyMods, event);
            }
        }));
        // Trigger the pick with button index if button triggered
        disposables.add(picker.onDidTriggerItemButton(({ button: button , item: item  })=>$6cd45b67e2ab70be$var$__awaiter(this, void 0, void 0, function*() {
                var _b, _c;
                if (typeof item.trigger === 'function') {
                    const buttonIndex = (_c = (_b = item.buttons) === null || _b === void 0 ? void 0 : _b.indexOf(button)) !== null && _c !== void 0 ? _c : -1;
                    if (buttonIndex >= 0) {
                        const result = item.trigger(buttonIndex, picker.keyMods);
                        const action = typeof result === 'number' ? result : yield result;
                        if (token.isCancellationRequested) return;
                        switch(action){
                            case $6cd45b67e2ab70be$export$43c639767ba93dcc.NO_ACTION:
                                break;
                            case $6cd45b67e2ab70be$export$43c639767ba93dcc.CLOSE_PICKER:
                                picker.hide();
                                break;
                            case $6cd45b67e2ab70be$export$43c639767ba93dcc.REFRESH_PICKER:
                                updatePickerItems();
                                break;
                            case $6cd45b67e2ab70be$export$43c639767ba93dcc.REMOVE_ITEM:
                                const index = picker.items.indexOf(item);
                                if (index !== -1) {
                                    const items = picker.items.slice();
                                    const removed = items.splice(index, 1);
                                    const activeItems = picker.activeItems.filter((activeItem)=>activeItem !== removed[0]
                                    );
                                    const keepScrollPositionBefore = picker.keepScrollPosition;
                                    picker.keepScrollPosition = true;
                                    picker.items = items;
                                    if (activeItems) picker.activeItems = activeItems;
                                    picker.keepScrollPosition = keepScrollPositionBefore;
                                }
                                break;
                        }
                    }
                }
            })
        ));
        return disposables;
    }
    constructor(prefix, options){
        super();
        this.prefix = prefix;
        this.options = options;
    }
}
$6cd45b67e2ab70be$export$76827b77f41011c2.FAST_PICKS_RACE_DELAY = 200; // timeout before we accept fast results before slow results are present



var $4toHF = parcelRequire("4toHF");

var $dDQuJ = parcelRequire("dDQuJ");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $edcc072a56b49aee$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $edcc072a56b49aee$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $edcc072a56b49aee$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
let $edcc072a56b49aee$export$e2727582285dc787 = class $edcc072a56b49aee$export$e2727582285dc787 extends $6cd45b67e2ab70be$exports.PickerQuickAccessProvider {
    _getPicks(filter, disposables, token) {
        return $edcc072a56b49aee$var$__awaiter(this, void 0, void 0, function*() {
            // Ask subclass for all command picks
            const allCommandPicks = yield this.getCommandPicks(disposables, token);
            if (token.isCancellationRequested) return [];
            // Filter
            const filteredCommandPicks = [];
            for (const commandPick of allCommandPicks){
                const labelHighlights = $erLC3.withNullAsUndefined($edcc072a56b49aee$export$e2727582285dc787.WORD_FILTER(filter, commandPick.label));
                const aliasHighlights = commandPick.commandAlias ? $erLC3.withNullAsUndefined($edcc072a56b49aee$export$e2727582285dc787.WORD_FILTER(filter, commandPick.commandAlias)) : undefined;
                // Add if matching in label or alias
                if (labelHighlights || aliasHighlights) {
                    commandPick.highlights = {
                        label: labelHighlights,
                        detail: this.options.showAlias ? aliasHighlights : undefined
                    };
                    filteredCommandPicks.push(commandPick);
                } else if (filter === commandPick.commandId) filteredCommandPicks.push(commandPick);
            }
            // Add description to commands that have duplicate labels
            const mapLabelToCommand = new Map();
            for (const commandPick1 of filteredCommandPicks){
                const existingCommandForLabel = mapLabelToCommand.get(commandPick1.label);
                if (existingCommandForLabel) {
                    commandPick1.description = commandPick1.commandId;
                    existingCommandForLabel.description = existingCommandForLabel.commandId;
                } else mapLabelToCommand.set(commandPick1.label, commandPick1);
            }
            // Sort by MRU order and fallback to name otherwise
            filteredCommandPicks.sort((commandPickA, commandPickB)=>{
                const commandACounter = this.commandsHistory.peek(commandPickA.commandId);
                const commandBCounter = this.commandsHistory.peek(commandPickB.commandId);
                if (commandACounter && commandBCounter) return commandACounter > commandBCounter ? -1 : 1; // use more recently used command before older
                if (commandACounter) return -1; // first command was used, so it wins over the non used one
                if (commandBCounter) return 1; // other command was used so it wins over the command
                // both commands were never used, so we sort by name
                return commandPickA.label.localeCompare(commandPickB.label);
            });
            const commandPicks = [];
            let addSeparator = false;
            for(let i = 0; i < filteredCommandPicks.length; i++){
                const commandPick = filteredCommandPicks[i];
                const keybinding = this.keybindingService.lookupKeybinding(commandPick.commandId);
                const ariaLabel = keybinding ? $1WuVQ.localize('commandPickAriaLabelWithKeybinding', "{0}, {1}", commandPick.label, keybinding.getAriaLabel()) : commandPick.label;
                // Separator: recently used
                if (i === 0 && this.commandsHistory.peek(commandPick.commandId)) {
                    commandPicks.push({
                        type: 'separator',
                        label: $1WuVQ.localize('recentlyUsed', "recently used")
                    });
                    addSeparator = true;
                }
                // Separator: other commands
                if (i !== 0 && addSeparator && !this.commandsHistory.peek(commandPick.commandId)) {
                    commandPicks.push({
                        type: 'separator',
                        label: $1WuVQ.localize('morecCommands', "other commands")
                    });
                    addSeparator = false; // only once
                }
                // Command
                commandPicks.push(Object.assign(Object.assign({}, commandPick), {
                    ariaLabel: ariaLabel,
                    detail: this.options.showAlias && commandPick.commandAlias !== commandPick.label ? commandPick.commandAlias : undefined,
                    keybinding: keybinding,
                    accept: ()=>$edcc072a56b49aee$var$__awaiter(this, void 0, void 0, function*() {
                            // Add to history
                            this.commandsHistory.push(commandPick.commandId);
                            // Telementry
                            this.telemetryService.publicLog2('workbenchActionExecuted', {
                                id: commandPick.commandId,
                                from: 'quick open'
                            });
                            // Run
                            try {
                                yield this.commandService.executeCommand(commandPick.commandId);
                            } catch (error) {
                                if (!$3FsT3.isPromiseCanceledError(error)) this.dialogService.show($hzy63.default.Error, $1WuVQ.localize('canNotRun', "Command '{0}' resulted in an error ({1})", commandPick.label, $f735694a8ba0b6b9$export$95506c204c060a3(error)));
                            }
                        })
                }));
            }
            return commandPicks;
        });
    }
    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService){
        super($edcc072a56b49aee$export$e2727582285dc787.PREFIX, options);
        this.instantiationService = instantiationService;
        this.keybindingService = keybindingService;
        this.commandService = commandService;
        this.telemetryService = telemetryService;
        this.dialogService = dialogService;
        this.commandsHistory = this._register(this.instantiationService.createInstance($edcc072a56b49aee$export$57d1125e86e67be7));
        this.options = options;
    }
};
$edcc072a56b49aee$export$e2727582285dc787.PREFIX = '>';
$edcc072a56b49aee$export$e2727582285dc787.WORD_FILTER = $6FDEF.or($6FDEF.matchesPrefix, $6FDEF.matchesWords, $6FDEF.matchesContiguousSubString);
$edcc072a56b49aee$export$e2727582285dc787 = $edcc072a56b49aee$var$__decorate([
    $edcc072a56b49aee$var$__param(1, $6Xx7t.IInstantiationService),
    $edcc072a56b49aee$var$__param(2, $i2aE6.IKeybindingService),
    $edcc072a56b49aee$var$__param(3, $c0VS7.ICommandService),
    $edcc072a56b49aee$var$__param(4, $dDQuJ.ITelemetryService),
    $edcc072a56b49aee$var$__param(5, $kgSXp.IDialogService)
], $edcc072a56b49aee$export$e2727582285dc787);
let $edcc072a56b49aee$export$57d1125e86e67be7 = class $edcc072a56b49aee$export$57d1125e86e67be7 extends $6W1JA.Disposable {
    registerListeners() {
        this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()
        ));
    }
    updateConfiguration() {
        this.configuredCommandsHistoryLength = $edcc072a56b49aee$export$57d1125e86e67be7.getConfiguredCommandHistoryLength(this.configurationService);
        if ($edcc072a56b49aee$export$57d1125e86e67be7.cache && $edcc072a56b49aee$export$57d1125e86e67be7.cache.limit !== this.configuredCommandsHistoryLength) {
            $edcc072a56b49aee$export$57d1125e86e67be7.cache.limit = this.configuredCommandsHistoryLength;
            $edcc072a56b49aee$export$57d1125e86e67be7.saveState(this.storageService);
        }
    }
    load() {
        const raw = this.storageService.get($edcc072a56b49aee$export$57d1125e86e67be7.PREF_KEY_CACHE, 0 /* GLOBAL */ );
        let serializedCache;
        if (raw) try {
            serializedCache = JSON.parse(raw);
        } catch (error) {
        // invalid data
        }
        const cache = $edcc072a56b49aee$export$57d1125e86e67be7.cache = new $dNpei.LRUCache(this.configuredCommandsHistoryLength, 1);
        if (serializedCache) {
            let entries;
            if (serializedCache.usesLRU) entries = serializedCache.entries;
            else entries = serializedCache.entries.sort((a, b)=>a.value - b.value
            );
            entries.forEach((entry)=>cache.set(entry.key, entry.value)
            );
        }
        $edcc072a56b49aee$export$57d1125e86e67be7.counter = this.storageService.getNumber($edcc072a56b49aee$export$57d1125e86e67be7.PREF_KEY_COUNTER, 0 /* GLOBAL */ , $edcc072a56b49aee$export$57d1125e86e67be7.counter);
    }
    push(commandId) {
        if (!$edcc072a56b49aee$export$57d1125e86e67be7.cache) return;
        $edcc072a56b49aee$export$57d1125e86e67be7.cache.set(commandId, $edcc072a56b49aee$export$57d1125e86e67be7.counter++); // set counter to command
        $edcc072a56b49aee$export$57d1125e86e67be7.saveState(this.storageService);
    }
    peek(commandId) {
        var _a;
        return (_a = $edcc072a56b49aee$export$57d1125e86e67be7.cache) === null || _a === void 0 ? void 0 : _a.peek(commandId);
    }
    static saveState(storageService) {
        if (!$edcc072a56b49aee$export$57d1125e86e67be7.cache) return;
        const serializedCache = {
            usesLRU: true,
            entries: []
        };
        $edcc072a56b49aee$export$57d1125e86e67be7.cache.forEach((value, key)=>serializedCache.entries.push({
                key: key,
                value: value
            })
        );
        storageService.store($edcc072a56b49aee$export$57d1125e86e67be7.PREF_KEY_CACHE, JSON.stringify(serializedCache), 0 /* GLOBAL */ , 0 /* USER */ );
        storageService.store($edcc072a56b49aee$export$57d1125e86e67be7.PREF_KEY_COUNTER, $edcc072a56b49aee$export$57d1125e86e67be7.counter, 0 /* GLOBAL */ , 0 /* USER */ );
    }
    static getConfiguredCommandHistoryLength(configurationService) {
        var _a, _b;
        const config = configurationService.getValue();
        const configuredCommandHistoryLength = (_b = (_a = config.workbench) === null || _a === void 0 ? void 0 : _a.commandPalette) === null || _b === void 0 ? void 0 : _b.history;
        if (typeof configuredCommandHistoryLength === 'number') return configuredCommandHistoryLength;
        return $edcc072a56b49aee$export$57d1125e86e67be7.DEFAULT_COMMANDS_HISTORY_LENGTH;
    }
    constructor(storageService, configurationService){
        super();
        this.storageService = storageService;
        this.configurationService = configurationService;
        this.configuredCommandsHistoryLength = 0;
        this.updateConfiguration();
        this.load();
        this.registerListeners();
    }
};
$edcc072a56b49aee$export$57d1125e86e67be7.DEFAULT_COMMANDS_HISTORY_LENGTH = 50;
$edcc072a56b49aee$export$57d1125e86e67be7.PREF_KEY_CACHE = 'commandPalette.mru.cache';
$edcc072a56b49aee$export$57d1125e86e67be7.PREF_KEY_COUNTER = 'commandPalette.mru.counter';
$edcc072a56b49aee$export$57d1125e86e67be7.counter = 1;
$edcc072a56b49aee$export$57d1125e86e67be7 = $edcc072a56b49aee$var$__decorate([
    $edcc072a56b49aee$var$__param(0, $4toHF.IStorageService),
    $edcc072a56b49aee$var$__param(1, $6goiI.IConfigurationService)
], $edcc072a56b49aee$export$57d1125e86e67be7);


class $3f5ccfa0d137714c$export$e085036133fffa80 extends $edcc072a56b49aee$exports.AbstractCommandsQuickAccessProvider {
    getCodeEditorCommandPicks() {
        const activeTextEditorControl = this.activeTextEditorControl;
        if (!activeTextEditorControl) return [];
        const editorCommandPicks = [];
        for (const editorAction of activeTextEditorControl.getSupportedActions())editorCommandPicks.push({
            commandId: editorAction.id,
            commandAlias: editorAction.alias,
            label: $7b0Ts.stripIcons(editorAction.label) || editorAction.id
        });
        return editorCommandPicks;
    }
    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService){
        super(options, instantiationService, keybindingService, commandService, telemetryService, dialogService);
    }
}



var $erLC3 = parcelRequire("erLC3");

var $6Xx7t = parcelRequire("6Xx7t");

var $i2aE6 = parcelRequire("i2aE6");

var $c0VS7 = parcelRequire("c0VS7");

var $dDQuJ = parcelRequire("dDQuJ");

var $kgSXp = parcelRequire("kgSXp");

var $g9Zlr = parcelRequire("g9Zlr");

var $7oeKV = parcelRequire("7oeKV");

var $1GAzQ = parcelRequire("1GAzQ");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $3db746763ba1178a$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $3db746763ba1178a$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
var $3db746763ba1178a$var$__awaiter = undefined && undefined.__awaiter || function(thisArg, _arguments, P, generator) {
    function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
            resolve(value);
        });
    }
    return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
let $3db746763ba1178a$export$b53f517d2ef5810d = class $3db746763ba1178a$export$b53f517d2ef5810d extends $3f5ccfa0d137714c$export$e085036133fffa80 {
    get activeTextEditorControl() {
        return $erLC3.withNullAsUndefined(this.codeEditorService.getFocusedCodeEditor());
    }
    getCommandPicks() {
        return $3db746763ba1178a$var$__awaiter(this, void 0, void 0, function*() {
            return this.getCodeEditorCommandPicks();
        });
    }
    constructor(instantiationService, codeEditorService, keybindingService, commandService, telemetryService, dialogService){
        super({
            showAlias: false
        }, instantiationService, keybindingService, commandService, telemetryService, dialogService);
        this.codeEditorService = codeEditorService;
    }
};
$3db746763ba1178a$export$b53f517d2ef5810d = $3db746763ba1178a$var$__decorate([
    $3db746763ba1178a$var$__param(0, $6Xx7t.IInstantiationService),
    $3db746763ba1178a$var$__param(1, $7lWR1.ICodeEditorService),
    $3db746763ba1178a$var$__param(2, $i2aE6.IKeybindingService),
    $3db746763ba1178a$var$__param(3, $c0VS7.ICommandService),
    $3db746763ba1178a$var$__param(4, $dDQuJ.ITelemetryService),
    $3db746763ba1178a$var$__param(5, $kgSXp.IDialogService)
], $3db746763ba1178a$export$b53f517d2ef5810d);
$3fwCj.Registry.as($3knSU.Extensions.Quickaccess).registerQuickAccessProvider({
    ctor: $3db746763ba1178a$export$b53f517d2ef5810d,
    prefix: $3db746763ba1178a$export$b53f517d2ef5810d.PREFIX,
    helpEntries: [
        {
            description: $h1Z4o.QuickCommandNLS.quickCommandHelp,
            needsEditor: true
        }
    ]
});
class $3db746763ba1178a$export$83454a444c35f5c1 extends $g9Zlr.EditorAction {
    run(accessor) {
        accessor.get($1GAzQ.IQuickInputService).quickAccess.show($3db746763ba1178a$export$b53f517d2ef5810d.PREFIX);
    }
    constructor(){
        super({
            id: 'editor.action.quickCommand',
            label: $h1Z4o.QuickCommandNLS.quickCommandActionLabel,
            alias: 'Command Palette',
            precondition: undefined,
            kbOpts: {
                kbExpr: $7oeKV.EditorContextKeys.focus,
                primary: 59 /* F1 */ ,
                weight: 100 /* EditorContrib */ 
            },
            contextMenuOpts: {
                group: 'z_commands',
                order: 1
            }
        });
    }
}
$g9Zlr.registerEditorAction($3db746763ba1178a$export$83454a444c35f5c1);


var $752705508c518976$exports = {};

var $g9Zlr = parcelRequire("g9Zlr");

var $7lWR1 = parcelRequire("7lWR1");


var $6goiI = parcelRequire("6goiI");

var $h4kGX = parcelRequire("h4kGX");

var $6Xx7t = parcelRequire("6Xx7t");

var $7MTz8 = parcelRequire("7MTz8");

var $4toHF = parcelRequire("4toHF");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ var $752705508c518976$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $752705508c518976$var$__param = undefined && undefined.__param || function(paramIndex, decorator) {
    return function(target, key) {
        decorator(target, key, paramIndex);
    };
};
let $752705508c518976$export$79f48fa51423fd3f = class $752705508c518976$export$79f48fa51423fd3f extends $2e72779f5ae01016$exports.ReferencesController {
    constructor(editor, contextKeyService, editorService, notificationService, instantiationService, storageService, configurationService){
        super(true, editor, contextKeyService, editorService, notificationService, instantiationService, storageService, configurationService);
    }
};
$752705508c518976$export$79f48fa51423fd3f = $752705508c518976$var$__decorate([
    $752705508c518976$var$__param(1, $h4kGX.IContextKeyService),
    $752705508c518976$var$__param(2, $7lWR1.ICodeEditorService),
    $752705508c518976$var$__param(3, $7MTz8.INotificationService),
    $752705508c518976$var$__param(4, $6Xx7t.IInstantiationService),
    $752705508c518976$var$__param(5, $4toHF.IStorageService),
    $752705508c518976$var$__param(6, $6goiI.IConfigurationService)
], $752705508c518976$export$79f48fa51423fd3f);
$g9Zlr.registerEditorContribution($2e72779f5ae01016$exports.ReferencesController.ID, $752705508c518976$export$79f48fa51423fd3f);



var $g9Zlr = parcelRequire("g9Zlr");

var $dl3uy = parcelRequire("dl3uy");

var $h1Z4o = parcelRequire("h1Z4o");
class $b47aeb0c09dd5cf1$var$ToggleHighContrast extends $g9Zlr.EditorAction {
    run(accessor, editor) {
        const standaloneThemeService = accessor.get($dl3uy.IStandaloneThemeService);
        if (this._originalThemeName) {
            // We must toggle back to the integrator's theme
            standaloneThemeService.setTheme(this._originalThemeName);
            this._originalThemeName = null;
        } else {
            this._originalThemeName = standaloneThemeService.getColorTheme().themeName;
            standaloneThemeService.setTheme('hc-black');
        }
    }
    constructor(){
        super({
            id: 'editor.action.toggleHighContrast',
            label: $h1Z4o.ToggleHighContrastNLS.toggleHighContrast,
            alias: 'Toggle High Contrast Theme',
            precondition: undefined
        });
        this._originalThemeName = null;
    }
}
$g9Zlr.registerEditorAction($b47aeb0c09dd5cf1$var$ToggleHighContrast);


parcelRequire("eJmBa");




var $eJmBa = parcelRequire("eJmBa");

var $bh6RR = parcelRequire("bh6RR");
const $6061d6e1474be326$export$3a5757a785a34769 = (input, builder)=>{
    const [result, setResult] = $bh6RR.useState(undefined);
    const [error, setError] = $bh6RR.useState(undefined);
    $bh6RR.useEffect(()=>{
        const resetState = ()=>{
            setResult(undefined);
            setError(undefined);
        };
        const reportError = (e)=>{
            setResult(undefined);
            setError(e);
        };
        if (input === undefined) {
            resetState();
            return;
        }
        let worker;
        try {
            worker = builder();
            worker.onerror = (e)=>reportError(new Error(e.message))
            ;
            worker.onmessageerror = (_)=>reportError(new Error('Unexpected worker message error.'))
            ;
            worker.onmessage = (e)=>{
                setResult(e.data);
                setError(undefined);
            };
            worker.postMessage(input);
        } catch (e) {
            reportError(e instanceof Error ? e : new Error(String(e)));
        }
        return ()=>{
            worker === null || worker === void 0 ? void 0 : worker.terminate();
            resetState();
        };
    }, [
        input,
        builder
    ]);
    return [
        result,
        error
    ];
};
const $6061d6e1474be326$export$ba7dd4b1a46684c1 = (name, initialState1)=>{
    var ref;
    return $bh6RR.useReducer((prevState, setState)=>{
        const state = typeof setState === 'function' ? setState(prevState) : setState;
        window.localStorage.setItem(name, state);
        return state;
    }, initialState1, (initialState)=>(ref = window.localStorage.getItem(name)) !== null && ref !== void 0 ? ref : initialState
    );
};
const $6061d6e1474be326$export$43711a1418203bbc = (name, language, initial)=>{
    var ref1;
    const [value1, setValue] = $bh6RR.useState((ref1 = window.localStorage.getItem(name)) !== null && ref1 !== void 0 ? ref1 : initial);
    const editorRef = $bh6RR.useRef();
    const editorDivRef = $bh6RR.useRef(null);
    $bh6RR.useEffect(()=>{
        if (editorDivRef.current === null) throw new ReferenceError('Editor DIV reference is not set.');
        var ref;
        const editor = $eJmBa.editor.create(editorDivRef.current, {
            language: language,
            automaticLayout: true,
            value: (ref = window.localStorage.getItem(name)) !== null && ref !== void 0 ? ref : initial
        });
        editorRef.current = editor;
        let timeout;
        const resetTimeout = ()=>{
            if (timeout !== undefined) {
                clearTimeout(timeout);
                timeout = undefined;
            }
        };
        editor.onDidChangeModelContent((_)=>{
            resetTimeout();
            timeout = setTimeout(()=>{
                timeout = undefined;
                const value = editor.getValue({
                    preserveBOM: false,
                    lineEnding: '\r\n'
                });
                window.localStorage.setItem(name, value);
                setValue(value);
            }, 500);
        });
        return ()=>{
            resetTimeout();
            editor.dispose();
        };
    }, [
        name,
        language,
        initial
    ]);
    return [
        value1,
        editorRef,
        editorDivRef
    ];
};


function $7bf585a5fb98c0bc$export$2e2bcd8739ae039(obj, key, value) {
    if (key in obj) Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
    });
    else obj[key] = value;
    return obj;
}




var $eJmBa = parcelRequire("eJmBa");
const $cbaf4ae7fed0aa8a$export$82a8af9b11518516 = (e)=>{
    throw e;
};
const $cbaf4ae7fed0aa8a$export$dd2e08b4a54c623f = (worker)=>{
    onmessage = (e)=>postMessage(worker(e.data))
    ;
};
const $cbaf4ae7fed0aa8a$var$asSet = (values)=>{
    return values instanceof Set ? values : new Set(values);
};
const $cbaf4ae7fed0aa8a$export$9e9949f96c411257 = (s)=>$cbaf4ae7fed0aa8a$var$asSet(s).size
;
const $cbaf4ae7fed0aa8a$export$acaf96a27438246b = (a, b)=>{
    const result = new Set(a);
    for (const value of b)result.delete(value);
    return result;
};
const $cbaf4ae7fed0aa8a$export$bc86dfbf7795668c = (a, b)=>{
    const result = new Set();
    const setA = $cbaf4ae7fed0aa8a$var$asSet(a);
    const setB = $cbaf4ae7fed0aa8a$var$asSet(b);
    for (const value of setB)if (setA.has(value)) result.add(value);
    return result;
};
const $cbaf4ae7fed0aa8a$export$45a5e7f76e0caa8d = (e, s)=>Array.isArray(s) ? s.includes(e) : $cbaf4ae7fed0aa8a$var$asSet(s).has(e)
;
const $cbaf4ae7fed0aa8a$var$internalIsSubset = (setA, setB)=>{
    if (setA.size > setB.size) return false;
    for (const key of setA){
        if (!setB.has(key)) return false;
    }
    return true;
};
const $cbaf4ae7fed0aa8a$export$248d38f6296296c5 = (a, b)=>{
    const setA = $cbaf4ae7fed0aa8a$var$asSet(a);
    const setB = $cbaf4ae7fed0aa8a$var$asSet(b);
    return setA.size === setB.size && $cbaf4ae7fed0aa8a$var$internalIsSubset(setA, setB);
};
const $cbaf4ae7fed0aa8a$export$9cd5ab22e2b3eb2a = (a, b)=>{
    const setA = $cbaf4ae7fed0aa8a$var$asSet(a);
    const setB = $cbaf4ae7fed0aa8a$var$asSet(b);
    return setA.size !== setB.size && $cbaf4ae7fed0aa8a$var$internalIsSubset(setA, setB);
};
const $cbaf4ae7fed0aa8a$export$af04532ec9ff13d2 = (a, b)=>$cbaf4ae7fed0aa8a$var$internalIsSubset($cbaf4ae7fed0aa8a$var$asSet(a), $cbaf4ae7fed0aa8a$var$asSet(b))
;
const $cbaf4ae7fed0aa8a$export$971dd5b0dfd021b6 = (a, b)=>{
    const result = new Set(a);
    for (const value of b)result.add(value);
    return result;
};
const $cbaf4ae7fed0aa8a$export$495510c2c593da91 = (expression)=>{
    switch(expression.type){
        case 'true':
        case 'false':
            return expression.type;
        case 'var':
            return expression.name;
        case 'not':
            return `(not ${$cbaf4ae7fed0aa8a$export$495510c2c593da91(expression.value)})`;
        case 'n':
            return expression.value.toString();
        case '+':
        case '-':
        case '*':
        case '/':
        case '<':
        case '>':
        case '<=':
        case '>=':
        case '==':
        case '!=':
        case 'or':
        case 'and':
            return `(${$cbaf4ae7fed0aa8a$export$495510c2c593da91(expression.left)} ${expression.type} ${$cbaf4ae7fed0aa8a$export$495510c2c593da91(expression.right)})`;
    }
};


const $31108141c22789c5$export$410503409d4f8de4 = 'while';
class $31108141c22789c5$export$8758e56e10819d64 {
    notifyListeners() {
        this.listeners.forEach((listener)=>listener()
        );
    }
    setInlayHints(id, inlayHints) {
        this.inlayHints.set(id, inlayHints);
        this.notifyListeners();
    }
    clearInlayHints(id) {
        if (this.inlayHints.delete(id)) this.notifyListeners();
    }
    onDidChangeInlayHints(listener, thisArg) {
        this.listeners.add(listener.bind(thisArg));
        return {
            dispose: ()=>{
                this.listeners.delete(listener);
            }
        };
    }
    provideInlayHints(model, _range, _token) {
        var ref;
        return (ref = this.inlayHints.get(model.id)) === null || ref === void 0 ? void 0 : ref.slice();
    }
    constructor(){
        $7bf585a5fb98c0bc$export$2e2bcd8739ae039(this, "listeners", new Set());
        $7bf585a5fb98c0bc$export$2e2bcd8739ae039(this, "inlayHints", new Map());
    // singleton
    }
}
$7bf585a5fb98c0bc$export$2e2bcd8739ae039($31108141c22789c5$export$8758e56e10819d64, "instance", new $31108141c22789c5$export$8758e56e10819d64());
var $7a8cb7f3dea72be2$exports = {};

$7a8cb7f3dea72be2$exports = new URL((parcelRequire("kyEFX")).resolve("9FDUb"), import.meta.url).toString();


var $efe481c4cb2e5e79$exports = {};

$efe481c4cb2e5e79$exports = new URL((parcelRequire("kyEFX")).resolve("feqnV"), import.meta.url).toString();


var $a1b24b17424b4a83$exports = {};

$a1b24b17424b4a83$exports = new URL((parcelRequire("kyEFX")).resolve("1XBLJ"), import.meta.url).toString();


const $31108141c22789c5$export$807eff50ea0e4637 = async ()=>{
    const fetchUrl = async (url)=>{
        const response = await fetch(url.toString());
        return await (response.ok ? response.text() : $cbaf4ae7fed0aa8a$export$82a8af9b11518516(new Error(response.statusText)));
    };
    const register = (filePath)=>{
        return (content)=>$eJmBa.languages.typescript.typescriptDefaults.addExtraLib(content, filePath)
        ;
    };
    await Promise.all([
        fetchUrl(new URL($7a8cb7f3dea72be2$exports)).then(register('program.d.ts')),
        fetchUrl(new URL($efe481c4cb2e5e79$exports)).then(register('framework.d.ts')),
        fetchUrl(new URL($a1b24b17424b4a83$exports)).then((content)=>content.replaceAll('readonly', 'const').replace('export interface Environment', 'define global')
        ).then(register('environment.d.ts'))
    ]);
};
const $31108141c22789c5$export$b5daeabefb05ee6b = ()=>{
    const keywords = [
        'skip',
        'if',
        'then',
        'else',
        'while',
        'do',
        'not',
        'and',
        'or'
    ];
    const constants = [
        'true',
        'false'
    ];
    const operators = [
        ':=',
        '==',
        '!=',
        '+',
        '-',
        '*',
        '/',
        '>',
        '<',
        '<=',
        '>='
    ];
    const completions = keywords.map((keyword)=>({
            text: keyword,
            type: $eJmBa.languages.CompletionItemKind.Keyword
        })
    ).concat(constants.map((constant)=>({
            text: constant,
            type: $eJmBa.languages.CompletionItemKind.Constant
        })
    )).concat(operators.map((operator)=>({
            text: operator,
            type: $eJmBa.languages.CompletionItemKind.Operator
        })
    ));
    $eJmBa.languages.register({
        id: $31108141c22789c5$export$410503409d4f8de4
    });
    $eJmBa.languages.setLanguageConfiguration($31108141c22789c5$export$410503409d4f8de4, {
        brackets: [
            [
                '(',
                ')'
            ]
        ],
        folding: {
            markers: {
                start: /\(/,
                end: /\)/
            }
        }
    });
    $eJmBa.languages.setMonarchTokensProvider($31108141c22789c5$export$410503409d4f8de4, {
        defaultToken: 'invalid',
        brackets: [
            {
                open: '(',
                close: ')',
                token: 'delimiter.parenthesis'
            }
        ],
        keywords: keywords,
        constants: constants,
        tokenizer: {
            root: [
                [
                    /[a-z_]+/,
                    {
                        cases: {
                            '@keywords': 'keyword',
                            '@constants': 'constant',
                            '@default': 'variable'
                        }
                    }
                ],
                [
                    /[ \t\r\n]+/,
                    'white'
                ],
                [
                    /[()]/,
                    '@brackets'
                ],
                [
                    new RegExp(operators.map((operator)=>[
                            ...operator
                        ].flatMap((c)=>[
                                '\\',
                                c
                            ]
                        ).join('')
                    ).join('|')),
                    'operator'
                ],
                [
                    /[0-9]+/,
                    'number'
                ],
                [
                    /[;]/,
                    'delimiter'
                ]
            ]
        }
    });
    $eJmBa.languages.registerCompletionItemProvider($31108141c22789c5$export$410503409d4f8de4, {
        provideCompletionItems: (model, position)=>{
            const word = model.getWordUntilPosition(position);
            const range = {
                startLineNumber: position.lineNumber,
                endLineNumber: position.lineNumber,
                startColumn: word.startColumn,
                endColumn: word.endColumn
            };
            return {
                suggestions: completions.filter((completion)=>completion.text.length > word.word.length && completion.text.startsWith(word.word)
                ).map((completion)=>({
                        label: completion.text,
                        kind: completion.type,
                        insertText: completion.text,
                        range: range
                    })
                )
            };
        }
    });
    $eJmBa.languages.registerInlayHintsProvider($31108141c22789c5$export$410503409d4f8de4, $31108141c22789c5$export$8758e56e10819d64.instance);
};


const $30b70b91857ffffc$export$203bf642b6677870 = {
    'Available Expressions Analysis': [
        'define({',
        '    type: "forward",',
        '    init: expressions,',
        '    extremal: [],',
        '    combine: (l, r) => intersection(l, r),',
        '    compare: (l, r) => isSubset(r, l),',
        '    transfer: (statement, v) => {',
        '        switch (statement.type) {',
        '            case "skip":',
        '                return v',
        '            case "assign":',
        '                return union(',
        '                    difference(',
        '                        v,',
        '                        [...expressions].filter(expression => isElement(statement.variable, freeVariables(expression)))',
        '                    ),',
        '                    [...allExpressions(statement.expression)].filter(expression => !isElement(statement.variable, freeVariables(expression)))',
        '                )',
        '            case "if":',
        '            case "while":',
        '                return union(v, allExpressions(statement.condition))',
        '        }',
        '    },',
        '    format: formatExpression',
        '})',
        ''
    ].join('\r\n'),
    'Reaching Definition Analysis': [
        'define<[string, number]>({',
        '    type: "forward",',
        '    init: [],',
        '    extremal: [...variables].map(variable => unique([variable, 0])),',
        '    combine: (l, r) => union(l, r),',
        '    compare: (l, r) => isSubset(l, r),',
        '    transfer: (statement, v) => {',
        '        if (statement.type === "assign") {',
        '            return [...v].filter(([variable, _]) => variable !== statement.variable).concat([unique([statement.variable, statement.label])])',
        '        } else {',
        '            return v',
        '        }',
        '    },',
        // eslint-disable-next-line no-template-curly-in-string
        '    format: ([variable, label]) => `(${variable},${label === 0 ? "?" : label.toString()})`',
        '})',
        ''
    ].join('\r\n'),
    'Very Busy Expressions Analysis': [
        'define({',
        '    type: "backward",',
        '    init: expressions,',
        '    extremal: [],',
        '    combine: (l, r) => intersection(l, r),',
        '    compare: (l, r) => isSubset(r, l),',
        '    transfer: (statement, v) => {',
        '        switch (statement.type) {',
        '            case "skip":',
        '                return v',
        '            case "assign":',
        '                return union(',
        '                    difference(',
        '                        v,',
        '                        [...expressions].filter(expression => isElement(statement.variable, freeVariables(expression)))',
        '                    ),',
        '                    allExpressions(statement.expression)',
        '                )',
        '            case "if":',
        '            case "while":',
        '                return union(v, allExpressions(statement.condition))',
        '        }',
        '    },',
        '    format: formatExpression',
        '})',
        ''
    ].join('\r\n'),
    'Live Variables Analysis': [
        'define<string>({',
        '    type: "backward",',
        '    init: [],',
        '    extremal: [],',
        '    combine: (l, r) => union(l, r),',
        '    compare: (l, r) => isSubset(l, r),',
        '    transfer: (statement, v) => {',
        '        switch (statement.type) {',
        '            case "skip":',
        '                return v',
        '            case "assign":',
        '                return union(difference(v, [statement.variable]), freeVariables(statement.expression))',
        '            case "if":',
        '            case "while":',
        '                return union(v, freeVariables(statement.condition))',
        '        }',
        '    },',
        '    format: s => s',
        '})',
        ''
    ].join('\r\n')
};
const $30b70b91857ffffc$export$34f6d76017de2a4f = [
    'x := a + b',
    'y := a * b',
    'while y > a + b do (',
    '    a := a + 1',
    '    x := x + b',
    ')',
    ''
].join('\r\n');
const $30b70b91857ffffc$export$c6633d18bc11480 = $30b70b91857ffffc$export$203bf642b6677870['Available Expressions Analysis'];


var $c7ab0f4aebaff40e$exports = {};
var $cfc619e94ff51e3f$exports = {};
"use strict";
$cfc619e94ff51e3f$exports = function(workerUrl, origin, isESM) {
    if (origin === self.location.origin) // If the worker bundle's url is on the same origin as the document,
    // use the worker bundle's own url.
    return workerUrl;
    else {
        // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.
        var source = isESM ? 'import ' + JSON.stringify(workerUrl) + ';' : 'importScripts(' + JSON.stringify(workerUrl) + ');';
        return URL.createObjectURL(new Blob([
            source
        ], {
            type: 'application/javascript'
        }));
    }
};



let $c7ab0f4aebaff40e$var$url = new URL((parcelRequire("kyEFX")).resolve("4wlrx"), import.meta.url);
$c7ab0f4aebaff40e$exports = $cfc619e94ff51e3f$exports($c7ab0f4aebaff40e$var$url.toString(), $c7ab0f4aebaff40e$var$url.origin, true);


const $8e5e18fbbe33c793$var$parser = ()=>new Worker($c7ab0f4aebaff40e$exports)
;
var $99a0fc3de994fd21$exports = {};


let $99a0fc3de994fd21$var$url = new URL((parcelRequire("kyEFX")).resolve("64fAL"), import.meta.url);
$99a0fc3de994fd21$exports = $cfc619e94ff51e3f$exports($99a0fc3de994fd21$var$url.toString(), $99a0fc3de994fd21$var$url.origin, true);


const $8e5e18fbbe33c793$var$solver = ()=>new Worker($99a0fc3de994fd21$exports)
;
var $932cfdb2a2b1c389$exports = {};


let $932cfdb2a2b1c389$var$url = new URL((parcelRequire("kyEFX")).resolve("a9C94"), import.meta.url);
$932cfdb2a2b1c389$exports = $cfc619e94ff51e3f$exports($932cfdb2a2b1c389$var$url.toString(), $932cfdb2a2b1c389$var$url.origin, true);


const $8e5e18fbbe33c793$var$runner = ()=>new Worker($932cfdb2a2b1c389$exports)
;
var $28e82583fdffcbc5$exports = {};


let $28e82583fdffcbc5$var$url = new URL((parcelRequire("kyEFX")).resolve("iIZFT"), import.meta.url);
$28e82583fdffcbc5$exports = $cfc619e94ff51e3f$exports($28e82583fdffcbc5$var$url.toString(), $28e82583fdffcbc5$var$url.origin, true);


const $8e5e18fbbe33c793$var$visualizer = ()=>new Worker($28e82583fdffcbc5$exports)
;
const $8e5e18fbbe33c793$var$programStoreName = 'program';
const $8e5e18fbbe33c793$var$frameworkStoreName = 'framework';
const $8e5e18fbbe33c793$var$variableStoreName = (variable)=>`variable_${variable}`
;
const $8e5e18fbbe33c793$export$86fbec116b87613f = ()=>{
    const gridDiv = $bh6RR.useRef(null);
    const visualizerDiv = $bh6RR.useRef(null);
    const [program, programEditor, programEditorDiv] = $6061d6e1474be326$export$43711a1418203bbc($8e5e18fbbe33c793$var$programStoreName, $31108141c22789c5$export$410503409d4f8de4, $30b70b91857ffffc$export$34f6d76017de2a4f);
    const [framework, frameworkEditor, frameworkEditorDiv] = $6061d6e1474be326$export$43711a1418203bbc($8e5e18fbbe33c793$var$frameworkStoreName, 'typescript', $30b70b91857ffffc$export$c6633d18bc11480);
    const [inputState, setInputState] = $bh6RR.useState({});
    const parserInput = $bh6RR.useMemo(()=>({
            program: program
        })
    , [
        program
    ]);
    const [parserOutput, parserError] = $6061d6e1474be326$export$3a5757a785a34769(parserInput, $8e5e18fbbe33c793$var$parser);
    const runnerInput = $bh6RR.useMemo(()=>{
        return (parserOutput === null || parserOutput === void 0 ? void 0 : parserOutput.succeeded) === true ? {
            program: parserOutput.program,
            state: inputState
        } : undefined;
    }, [
        parserOutput,
        inputState
    ]);
    const [runnerOutput, runnerError] = $6061d6e1474be326$export$3a5757a785a34769(runnerInput, $8e5e18fbbe33c793$var$runner);
    const solverInput = $bh6RR.useMemo(()=>{
        return (parserOutput === null || parserOutput === void 0 ? void 0 : parserOutput.succeeded) === true ? {
            program: parserOutput.program,
            variables: parserOutput.variables,
            framework: framework
        } : undefined;
    }, [
        parserOutput,
        framework
    ]);
    const [solverOutput, solverError] = $6061d6e1474be326$export$3a5757a785a34769(solverInput, $8e5e18fbbe33c793$var$solver);
    const visualizerInput = $bh6RR.useMemo(()=>{
        return (parserOutput === null || parserOutput === void 0 ? void 0 : parserOutput.succeeded) === true ? {
            program: parserOutput.program
        } : undefined;
    }, [
        parserOutput
    ]);
    const [visualizerOutput, visualizerError] = $6061d6e1474be326$export$3a5757a785a34769(visualizerInput, $8e5e18fbbe33c793$var$visualizer);
    $bh6RR.useEffect(()=>{
        if (gridDiv.current !== null) (/*@__PURE__*/$parcel$interopDefault($36d8c0be4459c6a5$exports)).update(gridDiv.current);
    }, [
        parserOutput,
        runnerOutput,
        solverOutput
    ]);
    var ref2, _variable;
    $bh6RR.useEffect(()=>{
        return setInputState((oldInputState)=>{
            return (parserOutput === null || parserOutput === void 0 ? void 0 : parserOutput.succeeded) === true ? Object.fromEntries(parserOutput.variables.map((variable)=>[
                    variable,
                    (_variable = oldInputState[variable]) !== null && _variable !== void 0 ? _variable : Number.parseInt((ref2 = window.localStorage.getItem($8e5e18fbbe33c793$var$variableStoreName(variable))) !== null && ref2 !== void 0 ? ref2 : '0')
                ]
            )) : oldInputState;
        });
    }, [
        parserOutput
    ]);
    const setInputStateVariableValue = (variable, value)=>{
        window.localStorage.setItem($8e5e18fbbe33c793$var$variableStoreName(variable), value.toString());
        setInputState((prevState)=>({
                ...prevState,
                [variable]: value
            })
        );
    };
    $bh6RR.useEffect(()=>{
        var ref, ref1;
        const modelId = (ref1 = (ref = programEditor.current) === null || ref === void 0 ? void 0 : ref.getModel()) === null || ref1 === void 0 ? void 0 : ref1.id;
        if (modelId !== undefined && parserOutput !== undefined) {
            if (parserOutput.succeeded) $31108141c22789c5$export$8758e56e10819d64.instance.setInlayHints(modelId, parserOutput.inlayHints);
            else $31108141c22789c5$export$8758e56e10819d64.instance.clearInlayHints(modelId);
        }
        return undefined;
    }, [
        parserOutput,
        programEditor
    ]);
    $bh6RR.useEffect(()=>{
        const visualizer = visualizerDiv.current;
        if (visualizer === null || visualizerOutput === undefined) return;
        const graph = new DOMParser().parseFromString(visualizerOutput.svg, 'image/svg+xml').documentElement;
        const node = visualizer.appendChild(graph);
        return ()=>{
            visualizer.removeChild(node);
        };
    }, [
        visualizerOutput
    ]);
    var _variable1;
    return /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
        className: "uk-margin-top uk-margin-left uk-margin-right",
        children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("ul", {
            ref: gridDiv,
            className: "uk-grid-small uk-child-width-expand@s",
            "data-uk-sortable": "handle: .uk-card-header",
            "data-uk-grid": "masonry: true",
            children: [
                /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("li", {
                    className: "uk-width-1-2",
                    children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("div", {
                        className: "uk-card uk-card-default",
                        children: [
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-header",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("h3", {
                                    className: "uk-card-title",
                                    children: [
                                        "Program",
                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("a", {
                                            href: "https://github.com/Meitinger/FrameworkAnalyzer/blob/main/README.md",
                                            target: "_blank",
                                            rel: "noreferrer",
                                            className: "uk-align-right uk-margin-remove",
                                            title: "Syntax",
                                            children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("span", {
                                                "data-uk-icon": "question"
                                            })
                                        })
                                    ]
                                })
                            }),
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-body",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                    ref: programEditorDiv,
                                    className: "uk-height-medium"
                                })
                            }),
                            parserError !== undefined && /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-footer uk-alert-danger",
                                children: parserError.message
                            }),
                            (parserOutput === null || parserOutput === void 0 ? void 0 : parserOutput.succeeded) === false && /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("div", {
                                className: "uk-card-footer uk-alert-warning",
                                children: [
                                    "Error at line ",
                                    parserOutput.line,
                                    ", column ",
                                    parserOutput.column,
                                    ". Expected:",
                                    /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                        children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("ul", {
                                            className: "uk-list uk-list-collapse uk-list-divider",
                                            children: parserOutput.expected.map((value, index)=>/*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("li", {
                                                    children: value
                                                }, index)
                                            )
                                        })
                                    })
                                ]
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("li", {
                    className: "uk-width-1-2",
                    children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("div", {
                        className: "uk-card uk-card-default",
                        children: [
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-header",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("h3", {
                                    className: "uk-card-title",
                                    children: [
                                        "Framework",
                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("div", {
                                            className: "uk-inline uk-align-right uk-margin-remove",
                                            children: [
                                                /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("button", {
                                                    type: "button",
                                                    className: "uk-button uk-button-primary uk-button-small",
                                                    children: "Predefined"
                                                }),
                                                /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                                    "data-uk-dropdown": "pos: top-right",
                                                    children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("ul", {
                                                        className: "uk-nav uk-dropdown-nav uk-list uk-list-divider",
                                                        children: Object.entries($30b70b91857ffffc$export$203bf642b6677870).map(([name, text])=>{
                                                            /*#__PURE__*/ return $d4dab640dcbe486c$exports.jsx("li", {
                                                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("button", {
                                                                    className: "uk-button uk-button-link uk-text-capitalize uk-text-nowrap",
                                                                    onClick: ()=>{
                                                                        var ref;
                                                                        return (ref = frameworkEditor.current) === null || ref === void 0 ? void 0 : ref.setValue(text);
                                                                    },
                                                                    children: name
                                                                })
                                                            }, name);
                                                        })
                                                    })
                                                })
                                            ]
                                        })
                                    ]
                                })
                            }),
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-body",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                    ref: frameworkEditorDiv,
                                    className: "uk-height-medium"
                                })
                            }),
                            solverError !== undefined && /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-footer uk-alert-danger",
                                children: solverError.message
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("li", {
                    className: "uk-width-1-2",
                    children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("div", {
                        className: "uk-card uk-card-default",
                        children: [
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-header",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("h3", {
                                    className: "uk-card-title",
                                    children: "Variables"
                                })
                            }),
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-body",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("table", {
                                    className: "uk-table uk-table-small uk-table-hover uk-table-divider",
                                    children: [
                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("thead", {
                                            children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("tr", {
                                                children: [
                                                    /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("th", {
                                                        children: "Name"
                                                    }),
                                                    /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("th", {
                                                        children: "Initial State"
                                                    }),
                                                    /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("th", {
                                                        children: "Final State"
                                                    })
                                                ]
                                            })
                                        }),
                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("tbody", {
                                            children: (parserOutput === null || parserOutput === void 0 ? void 0 : parserOutput.succeeded) === true && parserOutput.variables.map((variable)=>{
                                                /*#__PURE__*/ return $d4dab640dcbe486c$exports.jsxs("tr", {
                                                    children: [
                                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                            children: variable
                                                        }),
                                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                            children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("input", {
                                                                className: "uk-input uk-form-small",
                                                                type: "number",
                                                                step: 1,
                                                                value: (_variable1 = inputState[variable]) !== null && _variable1 !== void 0 ? _variable1 : '',
                                                                onChange: (e)=>setInputStateVariableValue(variable, e.target.valueAsNumber)
                                                            })
                                                        }),
                                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                            children: runnerOutput === undefined && runnerError === undefined ? /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                                                "data-uk-spinner": "ratio: 0.5"
                                                            }) : runnerOutput === null || runnerOutput === void 0 ? void 0 : runnerOutput.state[variable]
                                                        })
                                                    ]
                                                }, variable);
                                            })
                                        })
                                    ]
                                })
                            }),
                            runnerError !== undefined && /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-footer uk-alert-danger",
                                children: runnerError.message
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("li", {
                    className: "uk-width-1-2",
                    children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("div", {
                        className: "uk-card uk-card-default",
                        children: [
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-header",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("h3", {
                                    className: "uk-card-title",
                                    children: "Analysis"
                                })
                            }),
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-body",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("table", {
                                    className: "uk-table uk-table-small uk-table-hover uk-table-divider",
                                    children: [
                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("thead", {
                                            children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("tr", {
                                                children: [
                                                    /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("th", {
                                                        children: "Label"
                                                    }),
                                                    /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("th", {
                                                        children: "Entry"
                                                    }),
                                                    /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("th", {
                                                        children: "Exit"
                                                    })
                                                ]
                                            })
                                        }),
                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("tbody", {
                                            children: [
                                                solverInput !== undefined && solverOutput === undefined && solverError === undefined && /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("tr", {
                                                    children: [
                                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                            children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                                                "data-uk-spinner": "ratio: .5"
                                                            })
                                                        }),
                                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                            children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                                                "data-uk-spinner": "ratio: .5"
                                                            })
                                                        }),
                                                        /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                            children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                                                "data-uk-spinner": "ratio: .5"
                                                            })
                                                        })
                                                    ]
                                                }),
                                                solverOutput !== undefined && Object.entries(solverOutput.analysis).map(([label, analysis])=>/*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("tr", {
                                                        children: [
                                                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                                children: label
                                                            }),
                                                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                                children: analysis.entry
                                                            }),
                                                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("td", {
                                                                children: analysis.exit
                                                            })
                                                        ]
                                                    }, label)
                                                )
                                            ]
                                        })
                                    ]
                                })
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("li", {
                    className: "uk-width-1-2",
                    children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsxs("div", {
                        className: "uk-card uk-card-default",
                        children: [
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-header",
                                children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("h3", {
                                    className: "uk-card-title",
                                    children: "Flow Graph"
                                })
                            }),
                            /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                ref: visualizerDiv,
                                className: "uk-card-body uk-height-large uk-overflow-auto",
                                children: visualizerInput !== undefined && visualizerOutput === undefined && visualizerError === undefined && /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                    className: "uk-position-center",
                                    "data-uk-spinner": "ratio: 2"
                                })
                            }),
                            visualizerError !== undefined && /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx("div", {
                                className: "uk-card-footer uk-alert-danger",
                                children: visualizerError.message
                            })
                        ]
                    })
                })
            ]
        })
    });
};



(/*@__PURE__*/$parcel$interopDefault($36d8c0be4459c6a5$exports)).use((/*@__PURE__*/$parcel$interopDefault($93da2243eb9df8d8$exports)));
var $64719cde2704bbb7$exports = {};

$64719cde2704bbb7$exports = new URL((parcelRequire("kyEFX")).resolve("kV8Cl"), import.meta.url).toString();


var $bae24bcd284f546b$exports = {};

$bae24bcd284f546b$exports = new URL((parcelRequire("kyEFX")).resolve("9A8OJ"), import.meta.url).toString();


self.MonacoEnvironment = {
    getWorkerUrl: (_workerId, label)=>label === 'typescript' ? new URL($64719cde2704bbb7$exports) : new URL($bae24bcd284f546b$exports)
};
const $d0bb92445f8cf837$var$alert = (message)=>{
    (/*@__PURE__*/$parcel$interopDefault($36d8c0be4459c6a5$exports)).modal.alert(message).catch(()=>window.alert(message)
    );
};
try {
    $31108141c22789c5$export$b5daeabefb05ee6b();
} catch  {
    $d0bb92445f8cf837$var$alert('Failed to register WHILE language. Code highlighting and completion will not be available.');
}
$31108141c22789c5$export$807eff50ea0e4637().catch(()=>$d0bb92445f8cf837$var$alert('Failed to register type libraries. Framework and helper definitions will not be available.')
);
$47cfd4084854a574$exports.render(/*#__PURE__*/ $d4dab640dcbe486c$exports.jsx($bh6RR.StrictMode, {
    children: /*#__PURE__*/ $d4dab640dcbe486c$exports.jsx($8e5e18fbbe33c793$export$86fbec116b87613f, {})
}), document.getElementById('root'));


//# sourceMappingURL=index.f999d472.js.map
